{
  "version": 3,
  "sources": ["../../use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.development.js", "../../use-sync-external-store/shim/with-selector.js", "../../@base-ui/react/esm/accordion/index.parts.js", "../../@base-ui/react/esm/accordion/root/AccordionRoot.js", "../../@base-ui/utils/esm/useControlled.js", "../../@base-ui/utils/esm/useStableCallback.js", "../../@base-ui/utils/esm/useRefWithInit.js", "../../@base-ui/utils/esm/useIsoLayoutEffect.js", "../../@base-ui/utils/esm/warn.js", "../../@base-ui/react/esm/composite/list/CompositeList.js", "../../@base-ui/react/esm/composite/list/CompositeListContext.js", "../../@base-ui/react/esm/direction-provider/DirectionContext.js", "../../@base-ui/react/esm/accordion/root/AccordionRootContext.js", "../../@base-ui/react/esm/utils/useRenderElement.js", "../../@base-ui/utils/esm/useMergedRefs.js", "../../@base-ui/utils/esm/getReactElementRef.js", "../../@base-ui/utils/esm/reactVersion.js", "../../@base-ui/utils/esm/mergeObjects.js", "../../@base-ui/react/esm/utils/getStateAttributesProps.js", "../../@base-ui/react/esm/utils/resolveClassName.js", "../../@base-ui/react/esm/utils/resolveStyle.js", "../../@base-ui/react/esm/merge-props/mergeProps.js", "../../@base-ui/utils/esm/empty.js", "../../@base-ui/react/esm/utils/constants.js", "../../@base-ui/react/esm/utils/reason-parts.js", "../../@base-ui/react/esm/utils/createBaseUIEventDetails.js", "../../@base-ui/react/esm/accordion/item/AccordionItem.js", "../../@base-ui/utils/esm/useId.js", "../../@base-ui/utils/esm/safeReact.js", "../../@base-ui/react/esm/utils/useBaseUiId.js", "../../@base-ui/react/esm/collapsible/root/useCollapsibleRoot.js", "../../@base-ui/react/esm/utils/useAnimationsFinished.js", "../../@base-ui/utils/esm/useOnMount.js", "../../@base-ui/utils/esm/useAnimationFrame.js", "../../@base-ui/react/esm/utils/resolveRef.js", "../../@base-ui/react/esm/utils/stateAttributesMapping.js", "../../@base-ui/react/esm/utils/useTransitionStatus.js", "../../@base-ui/react/esm/collapsible/root/CollapsibleRootContext.js", "../../@base-ui/react/esm/composite/list/useCompositeListItem.js", "../../@base-ui/react/esm/accordion/item/AccordionItemContext.js", "../../@base-ui/react/esm/collapsible/panel/CollapsiblePanelDataAttributes.js", "../../@base-ui/react/esm/collapsible/trigger/CollapsibleTriggerDataAttributes.js", "../../@base-ui/react/esm/utils/collapsibleOpenStateMapping.js", "../../@base-ui/react/esm/accordion/item/AccordionItemDataAttributes.js", "../../@base-ui/react/esm/accordion/item/stateAttributesMapping.js", "../../@base-ui/react/esm/accordion/header/AccordionHeader.js", "../../@base-ui/react/esm/accordion/trigger/AccordionTrigger.js", "../../@base-ui/utils/esm/isElementDisabled.js", "../../@base-ui/react/esm/use-button/useButton.js", "../../@base-ui/utils/esm/error.js", "../../@base-ui/react/esm/composite/root/CompositeRootContext.js", "../../@base-ui/react/esm/utils/useFocusableWhenDisabled.js", "../../@base-ui/utils/esm/detectBrowser.js", "../../@base-ui/react/esm/floating-ui-react/utils/constants.js", "../../@base-ui/react/esm/floating-ui-react/utils/element.js", "../../@base-ui/react/esm/floating-ui-react/utils/nodes.js", "../../@base-ui/react/esm/floating-ui-react/utils/event.js", "../../@base-ui/react/esm/floating-ui-react/utils/composite.js", "../../tabbable/src/index.js", "../../@base-ui/react/esm/floating-ui-react/utils/tabbable.js", "../../@base-ui/react/esm/composite/composite.js", "../../@base-ui/react/esm/accordion/panel/AccordionPanel.js", "../../@base-ui/react/esm/collapsible/panel/useCollapsiblePanel.js", "../../@base-ui/react/esm/accordion/root/AccordionRootDataAttributes.js", "../../@base-ui/react/esm/accordion/panel/AccordionPanelCssVars.js", "../../@base-ui/react/esm/utils/useOpenChangeComplete.js", "../../@base-ui/react/esm/alert-dialog/index.parts.js", "../../@base-ui/react/esm/alert-dialog/root/AlertDialogRoot.js", "../../@base-ui/react/esm/dialog/root/useDialogRoot.js", "../../@base-ui/utils/esm/owner.js", "../../@base-ui/utils/esm/useTimeout.js", "../../@base-ui/utils/esm/useScrollLock.js", "../../@base-ui/react/esm/floating-ui-react/components/FloatingDelayGroup.js", "../../@base-ui/react/esm/floating-ui-react/hooks/useHover.js", "../../@base-ui/utils/esm/useValueAsRef.js", "../../@base-ui/react/esm/floating-ui-react/components/FloatingTree.js", "../../@base-ui/react/esm/floating-ui-react/utils/createEventEmitter.js", "../../@base-ui/react/esm/floating-ui-react/components/FloatingTreeStore.js", "../../@base-ui/react/esm/floating-ui-react/utils/createAttribute.js", "../../@base-ui/react/esm/floating-ui-react/components/FloatingFocusManager.js", "../../@base-ui/utils/esm/visuallyHidden.js", "../../@base-ui/react/esm/utils/FocusGuard.js", "../../@base-ui/react/esm/floating-ui-react/utils/enqueueFocus.js", "../../@base-ui/react/esm/floating-ui-react/utils/markOthers.js", "../../@base-ui/react/esm/floating-ui-react/components/FloatingPortal.js", "../../@base-ui/react/esm/floating-ui-react/hooks/useClick.js", "../../@base-ui/react/esm/floating-ui-react/hooks/useClientPoint.js", "../../@base-ui/react/esm/floating-ui-react/hooks/useDismiss.js", "../../@base-ui/react/esm/floating-ui-react/hooks/useFloating.js", "../../reselect/src/devModeChecks/identityFunctionCheck.ts", "../../reselect/src/devModeChecks/inputStabilityCheck.ts", "../../reselect/src/devModeChecks/setGlobalDevModeChecks.ts", "../../reselect/src/utils.ts", "../../reselect/src/autotrackMemoize/autotracking.ts", "../../reselect/src/autotrackMemoize/tracking.ts", "../../reselect/src/autotrackMemoize/proxy.ts", "../../reselect/src/lruMemoize.ts", "../../reselect/src/autotrackMemoize/autotrackMemoize.ts", "../../reselect/src/weakMapMemoize.ts", "../../reselect/src/createSelectorCreator.ts", "../../reselect/src/createStructuredSelector.ts", "../../@base-ui/utils/esm/store/createSelector.js", "../../@base-ui/utils/esm/store/useStore.js", "../../@base-ui/utils/esm/store/Store.js", "../../@base-ui/utils/esm/store/ReactStore.js", "../../@base-ui/utils/esm/store/StoreInspector.js", "../../@base-ui/utils/esm/useForcedRerendering.js", "../../@base-ui/react/esm/floating-ui-react/components/FloatingRootStore.js", "../../@base-ui/react/esm/utils/popups/popupStoreUtils.js", "../../@base-ui/react/esm/utils/popups/popupTriggerMap.js", "../../@base-ui/react/esm/floating-ui-react/utils/getEmptyRootContext.js", "../../@base-ui/react/esm/utils/popups/store.js", "../../@base-ui/react/esm/floating-ui-react/hooks/useFloatingRootContext.js", "../../@base-ui/react/esm/floating-ui-react/hooks/useSyncedFloatingRootContext.js", "../../@base-ui/react/esm/floating-ui-react/hooks/useFocus.js", "../../@base-ui/react/esm/floating-ui-react/hooks/useHoverFloatingInteraction.js", "../../@base-ui/react/esm/floating-ui-react/hooks/useHoverInteractionSharedState.js", "../../@base-ui/react/esm/floating-ui-react/hooks/useHoverReferenceInteraction.js", "../../@base-ui/react/esm/floating-ui-react/hooks/useInteractions.js", "../../@base-ui/react/esm/floating-ui-react/hooks/useListNavigation.js", "../../@base-ui/react/esm/floating-ui-react/hooks/useRole.js", "../../@base-ui/react/esm/floating-ui-react/hooks/useTypeahead.js", "../../@base-ui/react/esm/floating-ui-react/safePolygon.js", "../../@base-ui/react/esm/utils/useOpenInteractionType.js", "../../@base-ui/utils/esm/useEnhancedClickHandler.js", "../../@base-ui/react/esm/dialog/root/DialogRootContext.js", "../../@base-ui/react/esm/dialog/store/DialogStore.js", "../../@base-ui/react/esm/dialog/backdrop/DialogBackdrop.js", "../../@base-ui/react/esm/utils/popupStateMapping.js", "../../@base-ui/react/esm/dialog/close/DialogClose.js", "../../@base-ui/react/esm/dialog/description/DialogDescription.js", "../../@base-ui/react/esm/dialog/popup/DialogPopup.js", "../../@base-ui/react/esm/dialog/popup/DialogPopupCssVars.js", "../../@base-ui/react/esm/dialog/popup/DialogPopupDataAttributes.js", "../../@base-ui/react/esm/dialog/portal/DialogPortalContext.js", "../../@base-ui/react/esm/dialog/portal/DialogPortal.js", "../../@base-ui/utils/esm/inertValue.js", "../../@base-ui/react/esm/utils/InternalBackdrop.js", "../../@base-ui/react/esm/dialog/title/DialogTitle.js", "../../@base-ui/react/esm/dialog/trigger/DialogTrigger.js", "../../@base-ui/react/esm/dialog/viewport/DialogViewport.js", "../../@base-ui/react/esm/dialog/viewport/DialogViewportDataAttributes.js", "../../@base-ui/react/esm/dialog/store/DialogHandle.js", "../../@base-ui/react/esm/alert-dialog/handle.js", "../../@base-ui/react/esm/autocomplete/index.parts.js", "../../@base-ui/react/esm/autocomplete/root/AutocompleteRoot.js", "../../@base-ui/react/esm/combobox/root/AriaCombobox.js", "../../@base-ui/utils/esm/useOnFirstRender.js", "../../@base-ui/react/esm/combobox/root/ComboboxRootContext.js", "../../@base-ui/react/esm/utils/itemEquality.js", "../../@base-ui/react/esm/utils/resolveValueLabel.js", "../../@base-ui/react/esm/utils/serializeValue.js", "../../@base-ui/react/esm/combobox/store.js", "../../@base-ui/react/esm/field/root/FieldRootContext.js", "../../@base-ui/react/esm/field/control/FieldControlDataAttributes.js", "../../@base-ui/react/esm/field/utils/constants.js", "../../@base-ui/react/esm/field/useField.js", "../../@base-ui/react/esm/field/utils/getCombinedFieldValidityData.js", "../../@base-ui/react/esm/form/FormContext.js", "../../@base-ui/react/esm/labelable-provider/LabelableContext.js", "../../@base-ui/react/esm/labelable-provider/useLabelableId.js", "../../@base-ui/react/esm/combobox/root/utils/index.js", "../../@base-ui/react/esm/combobox/root/utils/useFilter.js", "../../@base-ui/react/esm/utils/useValueChanged.js", "../../@base-ui/react/esm/combobox/root/utils/constants.js", "../../@base-ui/react/esm/autocomplete/value/AutocompleteValue.js", "../../@base-ui/react/esm/combobox/trigger/ComboboxTrigger.js", "../../@base-ui/react/esm/combobox/utils/stateAttributesMapping.js", "../../@base-ui/react/esm/utils/getPseudoElementBounds.js", "../../@base-ui/react/esm/combobox/input/ComboboxInput.js", "../../@base-ui/react/esm/combobox/chips/ComboboxChipsContext.js", "../../@base-ui/react/esm/combobox/positioner/ComboboxPositionerContext.js", "../../@base-ui/react/esm/combobox/icon/ComboboxIcon.js", "../../@base-ui/react/esm/combobox/clear/ComboboxClear.js", "../../@base-ui/react/esm/combobox/list/ComboboxList.js", "../../@base-ui/react/esm/combobox/collection/ComboboxCollection.js", "../../@base-ui/react/esm/combobox/collection/GroupCollectionContext.js", "../../@base-ui/react/esm/combobox/status/ComboboxStatus.js", "../../@base-ui/react/esm/combobox/portal/ComboboxPortal.js", "../../@base-ui/react/esm/combobox/portal/ComboboxPortalContext.js", "../../@base-ui/react/esm/combobox/backdrop/ComboboxBackdrop.js", "../../@base-ui/react/esm/combobox/positioner/ComboboxPositioner.js", "../../@base-ui/react/esm/utils/useAnchorPositioning.js", "../../@base-ui/react/esm/floating-ui-react/middleware/arrow.js", "../../@base-ui/react/esm/utils/hideMiddleware.js", "../../@base-ui/react/esm/utils/adaptiveOriginMiddleware.js", "../../@base-ui/react/esm/combobox/popup/ComboboxPopup.js", "../../@base-ui/react/esm/utils/getDisabledMountTransitionStyles.js", "../../@base-ui/react/esm/combobox/arrow/ComboboxArrow.js", "../../@base-ui/react/esm/combobox/group/ComboboxGroup.js", "../../@base-ui/react/esm/combobox/group/ComboboxGroupContext.js", "../../@base-ui/react/esm/combobox/group-label/ComboboxGroupLabel.js", "../../@base-ui/react/esm/combobox/item/ComboboxItem.js", "../../@base-ui/react/esm/combobox/item/ComboboxItemContext.js", "../../@base-ui/react/esm/combobox/row/ComboboxRowContext.js", "../../@base-ui/react/esm/combobox/row/ComboboxRow.js", "../../@base-ui/react/esm/combobox/empty/ComboboxEmpty.js", "../../@base-ui/react/esm/separator/Separator.js", "../../@base-ui/react/esm/avatar/index.parts.js", "../../@base-ui/react/esm/avatar/root/AvatarRoot.js", "../../@base-ui/react/esm/avatar/root/AvatarRootContext.js", "../../@base-ui/react/esm/avatar/root/stateAttributesMapping.js", "../../@base-ui/react/esm/avatar/image/AvatarImage.js", "../../@base-ui/react/esm/avatar/image/useImageLoadingStatus.js", "../../@base-ui/react/esm/avatar/fallback/AvatarFallback.js", "../../@base-ui/react/esm/button/Button.js", "../../@base-ui/react/esm/checkbox/index.parts.js", "../../@base-ui/react/esm/checkbox/root/CheckboxRoot.js", "../../@base-ui/react/esm/checkbox/utils/useStateAttributesMapping.js", "../../@base-ui/react/esm/checkbox/root/CheckboxRootDataAttributes.js", "../../@base-ui/react/esm/field/item/FieldItemContext.js", "../../@base-ui/react/esm/checkbox-group/CheckboxGroupContext.js", "../../@base-ui/react/esm/checkbox/root/CheckboxRootContext.js", "../../@base-ui/react/esm/checkbox/indicator/CheckboxIndicator.js", "../../@base-ui/react/esm/checkbox-group/CheckboxGroup.js", "../../@base-ui/react/esm/checkbox-group/useCheckboxGroupParent.js", "../../@base-ui/react/esm/utils/areArraysEqual.js", "../../@base-ui/react/esm/collapsible/index.parts.js", "../../@base-ui/react/esm/collapsible/root/CollapsibleRoot.js", "../../@base-ui/react/esm/collapsible/root/stateAttributesMapping.js", "../../@base-ui/react/esm/collapsible/trigger/CollapsibleTrigger.js", "../../@base-ui/react/esm/collapsible/panel/CollapsiblePanel.js", "../../@base-ui/react/esm/collapsible/panel/CollapsiblePanelCssVars.js", "../../@base-ui/react/esm/combobox/index.parts.js", "../../@base-ui/react/esm/combobox/root/ComboboxRoot.js", "../../@base-ui/react/esm/combobox/value/ComboboxValue.js", "../../@base-ui/react/esm/combobox/item-indicator/ComboboxItemIndicator.js", "../../@base-ui/react/esm/combobox/chips/ComboboxChips.js", "../../@base-ui/react/esm/combobox/chip/ComboboxChip.js", "../../@base-ui/react/esm/combobox/chip/ComboboxChipContext.js", "../../@base-ui/react/esm/combobox/chip-remove/ComboboxChipRemove.js", "../../@base-ui/react/esm/context-menu/index.parts.js", "../../@base-ui/react/esm/context-menu/root/ContextMenuRoot.js", "../../@base-ui/react/esm/context-menu/root/ContextMenuRootContext.js", "../../@base-ui/react/esm/menu/index.parts.js", "../../@base-ui/react/esm/menu/arrow/MenuArrow.js", "../../@base-ui/react/esm/menu/positioner/MenuPositionerContext.js", "../../@base-ui/react/esm/menu/root/MenuRootContext.js", "../../@base-ui/react/esm/menu/backdrop/MenuBackdrop.js", "../../@base-ui/react/esm/menu/checkbox-item/MenuCheckboxItem.js", "../../@base-ui/react/esm/menu/checkbox-item/MenuCheckboxItemContext.js", "../../@base-ui/react/esm/menu/item/useMenuItem.js", "../../@base-ui/react/esm/menu/checkbox-item/MenuCheckboxItemDataAttributes.js", "../../@base-ui/react/esm/menu/utils/stateAttributesMapping.js", "../../@base-ui/react/esm/menu/checkbox-item-indicator/MenuCheckboxItemIndicator.js", "../../@base-ui/react/esm/menu/group/MenuGroup.js", "../../@base-ui/react/esm/menu/group/MenuGroupContext.js", "../../@base-ui/react/esm/menu/group-label/MenuGroupLabel.js", "../../@base-ui/react/esm/menu/item/MenuItem.js", "../../@base-ui/react/esm/menu/popup/MenuPopup.js", "../../@base-ui/react/esm/toolbar/root/ToolbarRootContext.js", "../../@base-ui/react/esm/menu/portal/MenuPortal.js", "../../@base-ui/react/esm/menu/portal/MenuPortalContext.js", "../../@base-ui/react/esm/menu/positioner/MenuPositioner.js", "../../@base-ui/react/esm/menu/radio-group/MenuRadioGroup.js", "../../@base-ui/react/esm/menu/radio-group/MenuRadioGroupContext.js", "../../@base-ui/react/esm/menu/radio-item/MenuRadioItem.js", "../../@base-ui/react/esm/menu/radio-item/MenuRadioItemContext.js", "../../@base-ui/react/esm/menu/radio-item-indicator/MenuRadioItemIndicator.js", "../../@base-ui/react/esm/menu/root/MenuRoot.js", "../../@base-ui/react/esm/menubar/MenubarContext.js", "../../@base-ui/react/esm/menu/store/MenuStore.js", "../../@base-ui/react/esm/menu/submenu-root/MenuSubmenuRootContext.js", "../../@base-ui/react/esm/menu/submenu-root/MenuSubmenuRoot.js", "../../@base-ui/react/esm/menu/trigger/MenuTrigger.js", "../../@base-ui/react/esm/composite/item/useCompositeItem.js", "../../@base-ui/react/esm/composite/item/CompositeItem.js", "../../@base-ui/react/esm/menu/utils/findRootOwnerId.js", "../../@base-ui/react/esm/utils/useMixedToggleClickHandler.js", "../../@base-ui/react/esm/menu/submenu-trigger/MenuSubmenuTrigger.js", "../../@base-ui/react/esm/menu/store/MenuHandle.js", "../../@base-ui/react/esm/context-menu/trigger/ContextMenuTrigger.js", "../../@base-ui/react/esm/csp-provider/CSPProvider.js", "../../@base-ui/react/esm/csp-provider/CSPContext.js", "../../@base-ui/react/esm/dialog/index.parts.js", "../../@base-ui/react/esm/dialog/root/DialogRoot.js", "../../@base-ui/react/esm/direction-provider/DirectionProvider.js", "../../@base-ui/react/esm/field/index.parts.js", "../../@base-ui/react/esm/field/root/FieldRoot.js", "../../@base-ui/react/esm/fieldset/root/FieldsetRootContext.js", "../../@base-ui/react/esm/labelable-provider/LabelableProvider.js", "../../@base-ui/react/esm/field/root/useFieldValidation.js", "../../@base-ui/react/esm/field/label/FieldLabel.js", "../../@base-ui/react/esm/field/error/FieldError.js", "../../@base-ui/react/esm/field/description/FieldDescription.js", "../../@base-ui/react/esm/field/control/FieldControl.js", "../../@base-ui/react/esm/field/validity/FieldValidity.js", "../../@base-ui/react/esm/field/item/FieldItem.js", "../../@base-ui/react/esm/fieldset/index.parts.js", "../../@base-ui/react/esm/fieldset/root/FieldsetRoot.js", "../../@base-ui/react/esm/fieldset/legend/FieldsetLegend.js", "../../@base-ui/react/esm/form/Form.js", "../../@base-ui/react/esm/input/Input.js", "../../@base-ui/react/esm/menubar/Menubar.js", "../../@base-ui/react/esm/composite/root/CompositeRoot.js", "../../@base-ui/react/esm/composite/root/useCompositeRoot.js", "../../@base-ui/react/esm/composite/constants.js", "../../@base-ui/react/esm/meter/index.parts.js", "../../@base-ui/react/esm/meter/root/MeterRoot.js", "../../@base-ui/react/esm/meter/root/MeterRootContext.js", "../../@base-ui/react/esm/utils/formatNumber.js", "../../@base-ui/react/esm/meter/track/MeterTrack.js", "../../@base-ui/react/esm/meter/indicator/MeterIndicator.js", "../../@base-ui/react/esm/utils/valueToPercent.js", "../../@base-ui/react/esm/meter/value/MeterValue.js", "../../@base-ui/react/esm/meter/label/MeterLabel.js", "../../@base-ui/react/esm/navigation-menu/index.parts.js", "../../@base-ui/react/esm/navigation-menu/root/NavigationMenuRoot.js", "../../@base-ui/react/esm/navigation-menu/root/NavigationMenuRootContext.js", "../../@base-ui/react/esm/utils/getCssDimensions.js", "../../@base-ui/react/esm/navigation-menu/popup/NavigationMenuPopupCssVars.js", "../../@base-ui/react/esm/navigation-menu/positioner/NavigationMenuPositionerCssVars.js", "../../@base-ui/react/esm/navigation-menu/utils/setFixedSize.js", "../../@base-ui/react/esm/navigation-menu/list/NavigationMenuList.js", "../../@base-ui/react/esm/navigation-menu/utils/constants.js", "../../@base-ui/react/esm/navigation-menu/list/NavigationMenuDismissContext.js", "../../@base-ui/react/esm/navigation-menu/item/NavigationMenuItem.js", "../../@base-ui/react/esm/navigation-menu/item/NavigationMenuItemContext.js", "../../@base-ui/react/esm/navigation-menu/content/NavigationMenuContent.js", "../../@base-ui/react/esm/navigation-menu/trigger/NavigationMenuTrigger.js", "../../@base-ui/react/esm/navigation-menu/utils/isOutsideMenuEvent.js", "../../@base-ui/react/esm/navigation-menu/portal/NavigationMenuPortal.js", "../../@base-ui/react/esm/navigation-menu/portal/NavigationMenuPortalContext.js", "../../@base-ui/react/esm/navigation-menu/positioner/NavigationMenuPositioner.js", "../../@base-ui/react/esm/navigation-menu/positioner/NavigationMenuPositionerContext.js", "../../@base-ui/react/esm/navigation-menu/viewport/NavigationMenuViewport.js", "../../@base-ui/react/esm/navigation-menu/backdrop/NavigationMenuBackdrop.js", "../../@base-ui/react/esm/navigation-menu/popup/NavigationMenuPopup.js", "../../@base-ui/react/esm/navigation-menu/arrow/NavigationMenuArrow.js", "../../@base-ui/react/esm/navigation-menu/link/NavigationMenuLink.js", "../../@base-ui/react/esm/navigation-menu/icon/NavigationMenuIcon.js", "../../@base-ui/react/esm/number-field/index.parts.js", "../../@base-ui/react/esm/number-field/root/NumberFieldRoot.js", "../../@base-ui/utils/esm/useInterval.js", "../../@base-ui/react/esm/number-field/root/NumberFieldRootContext.js", "../../@base-ui/react/esm/number-field/utils/stateAttributesMapping.js", "../../@base-ui/react/esm/number-field/utils/parse.js", "../../@base-ui/react/esm/number-field/utils/constants.js", "../../@base-ui/react/esm/utils/clamp.js", "../../@base-ui/react/esm/number-field/utils/validate.js", "../../@base-ui/react/esm/number-field/group/NumberFieldGroup.js", "../../@base-ui/react/esm/number-field/increment/NumberFieldIncrement.js", "../../@base-ui/react/esm/number-field/root/useNumberFieldButton.js", "../../@base-ui/react/esm/number-field/decrement/NumberFieldDecrement.js", "../../@base-ui/react/esm/number-field/input/NumberFieldInput.js", "../../@base-ui/react/esm/number-field/scrub-area/NumberFieldScrubArea.js", "../../@base-ui/react/esm/number-field/scrub-area/NumberFieldScrubAreaContext.js", "../../@base-ui/react/esm/number-field/utils/getViewportRect.js", "../../@base-ui/react/esm/number-field/utils/subscribeToVisualViewportResize.js", "../../@base-ui/react/esm/number-field/scrub-area-cursor/NumberFieldScrubAreaCursor.js", "../../@base-ui/react/esm/popover/index.parts.js", "../../@base-ui/react/esm/popover/root/PopoverRoot.js", "../../@base-ui/react/esm/popover/root/PopoverRootContext.js", "../../@base-ui/react/esm/popover/store/PopoverStore.js", "../../@base-ui/react/esm/popover/trigger/PopoverTrigger.js", "../../@base-ui/react/esm/popover/utils/constants.js", "../../@base-ui/react/esm/popover/portal/PopoverPortal.js", "../../@base-ui/react/esm/popover/portal/PopoverPortalContext.js", "../../@base-ui/react/esm/popover/positioner/PopoverPositioner.js", "../../@base-ui/react/esm/popover/positioner/PopoverPositionerContext.js", "../../@base-ui/react/esm/popover/popup/PopoverPopup.js", "../../@base-ui/react/esm/popover/arrow/PopoverArrow.js", "../../@base-ui/react/esm/popover/backdrop/PopoverBackdrop.js", "../../@base-ui/react/esm/popover/title/PopoverTitle.js", "../../@base-ui/react/esm/popover/description/PopoverDescription.js", "../../@base-ui/react/esm/popover/close/PopoverClose.js", "../../@base-ui/react/esm/popover/viewport/PopoverViewport.js", "../../@base-ui/utils/esm/usePreviousValue.js", "../../@base-ui/react/esm/utils/usePopupAutoResize.js", "../../@base-ui/react/esm/popover/viewport/PopoverViewportCssVars.js", "../../@base-ui/react/esm/popover/store/PopoverHandle.js", "../../@base-ui/react/esm/preview-card/index.parts.js", "../../@base-ui/react/esm/preview-card/root/PreviewCardRoot.js", "../../@base-ui/react/esm/preview-card/root/PreviewCardContext.js", "../../@base-ui/react/esm/preview-card/store/PreviewCardStore.js", "../../@base-ui/react/esm/preview-card/utils/constants.js", "../../@base-ui/react/esm/preview-card/portal/PreviewCardPortal.js", "../../@base-ui/react/esm/preview-card/portal/PreviewCardPortalContext.js", "../../@base-ui/react/esm/utils/FloatingPortalLite.js", "../../@base-ui/react/esm/preview-card/trigger/PreviewCardTrigger.js", "../../@base-ui/react/esm/preview-card/positioner/PreviewCardPositioner.js", "../../@base-ui/react/esm/preview-card/positioner/PreviewCardPositionerContext.js", "../../@base-ui/react/esm/preview-card/popup/PreviewCardPopup.js", "../../@base-ui/react/esm/preview-card/arrow/PreviewCardArrow.js", "../../@base-ui/react/esm/preview-card/backdrop/PreviewCardBackdrop.js", "../../@base-ui/react/esm/preview-card/viewport/PreviewCardViewport.js", "../../@base-ui/react/esm/preview-card/viewport/PreviewCardViewportCssVars.js", "../../@base-ui/react/esm/preview-card/store/PreviewCardHandle.js", "../../@base-ui/react/esm/progress/index.parts.js", "../../@base-ui/react/esm/progress/root/ProgressRoot.js", "../../@base-ui/react/esm/progress/root/ProgressRootContext.js", "../../@base-ui/react/esm/progress/root/ProgressRootDataAttributes.js", "../../@base-ui/react/esm/progress/root/stateAttributesMapping.js", "../../@base-ui/react/esm/progress/track/ProgressTrack.js", "../../@base-ui/react/esm/progress/indicator/ProgressIndicator.js", "../../@base-ui/react/esm/progress/value/ProgressValue.js", "../../@base-ui/react/esm/progress/label/ProgressLabel.js", "../../@base-ui/react/esm/radio/index.parts.js", "../../@base-ui/react/esm/radio/root/RadioRoot.js", "../../@base-ui/react/esm/radio/root/RadioRootDataAttributes.js", "../../@base-ui/react/esm/radio/utils/stateAttributesMapping.js", "../../@base-ui/react/esm/radio-group/RadioGroupContext.js", "../../@base-ui/react/esm/radio/root/RadioRootContext.js", "../../@base-ui/react/esm/radio/indicator/RadioIndicator.js", "../../@base-ui/react/esm/radio-group/RadioGroup.js", "../../@base-ui/react/esm/scroll-area/index.parts.js", "../../@base-ui/react/esm/scroll-area/root/ScrollAreaRoot.js", "../../@base-ui/react/esm/scroll-area/root/ScrollAreaRootContext.js", "../../@base-ui/react/esm/scroll-area/root/ScrollAreaRootCssVars.js", "../../@base-ui/react/esm/scroll-area/constants.js", "../../@base-ui/react/esm/scroll-area/utils/getOffset.js", "../../@base-ui/react/esm/scroll-area/scrollbar/ScrollAreaScrollbarDataAttributes.js", "../../@base-ui/react/esm/utils/styles.js", "../../@base-ui/react/esm/scroll-area/root/ScrollAreaRootDataAttributes.js", "../../@base-ui/react/esm/scroll-area/root/stateAttributes.js", "../../@base-ui/react/esm/scroll-area/viewport/ScrollAreaViewport.js", "../../@base-ui/react/esm/scroll-area/viewport/ScrollAreaViewportContext.js", "../../@base-ui/react/esm/scroll-area/utils/onVisible.js", "../../@base-ui/react/esm/scroll-area/viewport/ScrollAreaViewportCssVars.js", "../../@base-ui/react/esm/scroll-area/scrollbar/ScrollAreaScrollbar.js", "../../@base-ui/react/esm/scroll-area/scrollbar/ScrollAreaScrollbarContext.js", "../../@base-ui/react/esm/scroll-area/scrollbar/ScrollAreaScrollbarCssVars.js", "../../@base-ui/react/esm/scroll-area/content/ScrollAreaContent.js", "../../@base-ui/react/esm/scroll-area/thumb/ScrollAreaThumb.js", "../../@base-ui/react/esm/scroll-area/corner/ScrollAreaCorner.js", "../../@base-ui/react/esm/select/index.parts.js", "../../@base-ui/react/esm/select/root/SelectRoot.js", "../../@base-ui/react/esm/select/root/SelectRootContext.js", "../../@base-ui/react/esm/select/store.js", "../../@base-ui/react/esm/select/trigger/SelectTrigger.js", "../../@base-ui/react/esm/select/value/SelectValue.js", "../../@base-ui/react/esm/select/icon/SelectIcon.js", "../../@base-ui/react/esm/select/portal/SelectPortal.js", "../../@base-ui/react/esm/select/portal/SelectPortalContext.js", "../../@base-ui/react/esm/select/backdrop/SelectBackdrop.js", "../../@base-ui/react/esm/select/positioner/SelectPositioner.js", "../../@base-ui/react/esm/select/positioner/SelectPositionerContext.js", "../../@base-ui/react/esm/select/popup/utils.js", "../../@base-ui/react/esm/select/popup/SelectPopup.js", "../../@base-ui/utils/esm/isMouseWithinBounds.js", "../../@base-ui/react/esm/select/list/SelectList.js", "../../@base-ui/react/esm/select/item/SelectItem.js", "../../@base-ui/react/esm/select/item/SelectItemContext.js", "../../@base-ui/react/esm/select/item-indicator/SelectItemIndicator.js", "../../@base-ui/react/esm/select/item-text/SelectItemText.js", "../../@base-ui/react/esm/select/arrow/SelectArrow.js", "../../@base-ui/react/esm/select/scroll-down-arrow/SelectScrollDownArrow.js", "../../@base-ui/react/esm/select/scroll-arrow/SelectScrollArrow.js", "../../@base-ui/react/esm/select/scroll-up-arrow/SelectScrollUpArrow.js", "../../@base-ui/react/esm/select/group/SelectGroup.js", "../../@base-ui/react/esm/select/group/SelectGroupContext.js", "../../@base-ui/react/esm/select/group-label/SelectGroupLabel.js", "../../@base-ui/react/esm/slider/index.parts.js", "../../@base-ui/react/esm/slider/root/SliderRoot.js", "../../@base-ui/react/esm/slider/utils/asc.js", "../../@base-ui/react/esm/slider/utils/replaceArrayItemAtIndex.js", "../../@base-ui/react/esm/slider/utils/getSliderValue.js", "../../@base-ui/react/esm/slider/utils/validateMinimumDistance.js", "../../@base-ui/react/esm/slider/root/stateAttributesMapping.js", "../../@base-ui/react/esm/slider/root/SliderRootContext.js", "../../@base-ui/react/esm/slider/value/SliderValue.js", "../../@base-ui/react/esm/slider/control/SliderControl.js", "../../@base-ui/react/esm/slider/utils/getMidpoint.js", "../../@base-ui/react/esm/slider/utils/roundValueToStep.js", "../../@base-ui/react/esm/slider/utils/getPushedThumbValues.js", "../../@base-ui/react/esm/slider/utils/resolveThumbCollision.js", "../../@base-ui/react/esm/slider/track/SliderTrack.js", "../../@base-ui/react/esm/slider/thumb/SliderThumb.js", "../../@base-ui/react/esm/slider/thumb/SliderThumbDataAttributes.js", "../../@base-ui/react/esm/slider/thumb/prehydrationScript.min.js", "../../@base-ui/react/esm/slider/indicator/SliderIndicator.js", "../../@base-ui/react/esm/switch/index.parts.js", "../../@base-ui/react/esm/switch/root/SwitchRoot.js", "../../@base-ui/react/esm/switch/root/SwitchRootContext.js", "../../@base-ui/react/esm/switch/root/SwitchRootDataAttributes.js", "../../@base-ui/react/esm/switch/stateAttributesMapping.js", "../../@base-ui/react/esm/switch/thumb/SwitchThumb.js", "../../@base-ui/react/esm/tabs/index.parts.js", "../../@base-ui/react/esm/tabs/root/TabsRoot.js", "../../@base-ui/react/esm/tabs/root/TabsRootContext.js", "../../@base-ui/react/esm/tabs/root/TabsRootDataAttributes.js", "../../@base-ui/react/esm/tabs/root/stateAttributesMapping.js", "../../@base-ui/react/esm/tabs/tab/TabsTab.js", "../../@base-ui/react/esm/tabs/list/TabsListContext.js", "../../@base-ui/react/esm/tabs/indicator/TabsIndicator.js", "../../@base-ui/react/esm/tabs/indicator/prehydrationScript.min.js", "../../@base-ui/react/esm/tabs/indicator/TabsIndicatorCssVars.js", "../../@base-ui/react/esm/tabs/panel/TabsPanel.js", "../../@base-ui/react/esm/tabs/panel/TabsPanelDataAttributes.js", "../../@base-ui/react/esm/tabs/list/TabsList.js", "../../@base-ui/react/esm/toast/index.parts.js", "../../@base-ui/react/esm/toast/provider/ToastProvider.js", "../../@base-ui/utils/esm/generateId.js", "../../@base-ui/react/esm/toast/provider/ToastProviderContext.js", "../../@base-ui/react/esm/toast/utils/resolvePromiseOptions.js", "../../@base-ui/react/esm/toast/viewport/ToastViewport.js", "../../@base-ui/react/esm/toast/viewport/ToastViewportContext.js", "../../@base-ui/react/esm/toast/viewport/ToastViewportCssVars.js", "../../@base-ui/react/esm/toast/root/ToastRoot.js", "../../@base-ui/react/esm/toast/root/ToastRootContext.js", "../../@base-ui/react/esm/toast/root/ToastRootCssVars.js", "../../@base-ui/react/esm/toast/content/ToastContent.js", "../../@base-ui/react/esm/toast/description/ToastDescription.js", "../../@base-ui/react/esm/toast/title/ToastTitle.js", "../../@base-ui/react/esm/toast/close/ToastClose.js", "../../@base-ui/react/esm/toast/action/ToastAction.js", "../../@base-ui/react/esm/toast/portal/ToastPortal.js", "../../@base-ui/react/esm/toast/positioner/ToastPositioner.js", "../../@base-ui/react/esm/toast/positioner/ToastPositionerContext.js", "../../@base-ui/react/esm/toast/arrow/ToastArrow.js", "../../@base-ui/react/esm/toast/useToastManager.js", "../../@base-ui/react/esm/toast/createToastManager.js", "../../@base-ui/react/esm/toggle/Toggle.js", "../../@base-ui/react/esm/toggle-group/ToggleGroupContext.js", "../../@base-ui/react/esm/toggle-group/ToggleGroup.js", "../../@base-ui/react/esm/toggle-group/ToggleGroupDataAttributes.js", "../../@base-ui/react/esm/toolbar/index.parts.js", "../../@base-ui/react/esm/toolbar/separator/ToolbarSeparator.js", "../../@base-ui/react/esm/toolbar/root/ToolbarRoot.js", "../../@base-ui/react/esm/toolbar/group/ToolbarGroup.js", "../../@base-ui/react/esm/toolbar/group/ToolbarGroupContext.js", "../../@base-ui/react/esm/toolbar/button/ToolbarButton.js", "../../@base-ui/react/esm/toolbar/link/ToolbarLink.js", "../../@base-ui/react/esm/toolbar/input/ToolbarInput.js", "../../@base-ui/react/esm/tooltip/index.parts.js", "../../@base-ui/react/esm/tooltip/root/TooltipRoot.js", "../../@base-ui/react/esm/tooltip/root/TooltipRootContext.js", "../../@base-ui/react/esm/tooltip/store/TooltipStore.js", "../../@base-ui/react/esm/tooltip/trigger/TooltipTrigger.js", "../../@base-ui/react/esm/tooltip/provider/TooltipProviderContext.js", "../../@base-ui/react/esm/tooltip/utils/constants.js", "../../@base-ui/react/esm/tooltip/portal/TooltipPortal.js", "../../@base-ui/react/esm/tooltip/portal/TooltipPortalContext.js", "../../@base-ui/react/esm/tooltip/positioner/TooltipPositioner.js", "../../@base-ui/react/esm/tooltip/positioner/TooltipPositionerContext.js", "../../@base-ui/react/esm/tooltip/popup/TooltipPopup.js", "../../@base-ui/react/esm/tooltip/arrow/TooltipArrow.js", "../../@base-ui/react/esm/tooltip/provider/TooltipProvider.js", "../../@base-ui/react/esm/tooltip/viewport/TooltipViewport.js", "../../@base-ui/react/esm/tooltip/viewport/TooltipViewportCssVars.js", "../../@base-ui/react/esm/tooltip/store/TooltipHandle.js", "../../@base-ui/react/esm/use-render/useRender.js"],
  "sourcesContent": ["/**\n * @license React\n * use-sync-external-store-shim/with-selector.development.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\n\"production\" !== process.env.NODE_ENV &&\n  (function () {\n    function is(x, y) {\n      return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n    }\n    \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n      \"function\" ===\n        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart &&\n      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(Error());\n    var React = require(\"react\"),\n      shim = require(\"use-sync-external-store/shim\"),\n      objectIs = \"function\" === typeof Object.is ? Object.is : is,\n      useSyncExternalStore = shim.useSyncExternalStore,\n      useRef = React.useRef,\n      useEffect = React.useEffect,\n      useMemo = React.useMemo,\n      useDebugValue = React.useDebugValue;\n    exports.useSyncExternalStoreWithSelector = function (\n      subscribe,\n      getSnapshot,\n      getServerSnapshot,\n      selector,\n      isEqual\n    ) {\n      var instRef = useRef(null);\n      if (null === instRef.current) {\n        var inst = { hasValue: !1, value: null };\n        instRef.current = inst;\n      } else inst = instRef.current;\n      instRef = useMemo(\n        function () {\n          function memoizedSelector(nextSnapshot) {\n            if (!hasMemo) {\n              hasMemo = !0;\n              memoizedSnapshot = nextSnapshot;\n              nextSnapshot = selector(nextSnapshot);\n              if (void 0 !== isEqual && inst.hasValue) {\n                var currentSelection = inst.value;\n                if (isEqual(currentSelection, nextSnapshot))\n                  return (memoizedSelection = currentSelection);\n              }\n              return (memoizedSelection = nextSnapshot);\n            }\n            currentSelection = memoizedSelection;\n            if (objectIs(memoizedSnapshot, nextSnapshot))\n              return currentSelection;\n            var nextSelection = selector(nextSnapshot);\n            if (void 0 !== isEqual && isEqual(currentSelection, nextSelection))\n              return (memoizedSnapshot = nextSnapshot), currentSelection;\n            memoizedSnapshot = nextSnapshot;\n            return (memoizedSelection = nextSelection);\n          }\n          var hasMemo = !1,\n            memoizedSnapshot,\n            memoizedSelection,\n            maybeGetServerSnapshot =\n              void 0 === getServerSnapshot ? null : getServerSnapshot;\n          return [\n            function () {\n              return memoizedSelector(getSnapshot());\n            },\n            null === maybeGetServerSnapshot\n              ? void 0\n              : function () {\n                  return memoizedSelector(maybeGetServerSnapshot());\n                }\n          ];\n        },\n        [getSnapshot, getServerSnapshot, selector, isEqual]\n      );\n      var value = useSyncExternalStore(subscribe, instRef[0], instRef[1]);\n      useEffect(\n        function () {\n          inst.hasValue = !0;\n          inst.value = value;\n        },\n        [value]\n      );\n      useDebugValue(value);\n      return value;\n    };\n    \"undefined\" !== typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ &&\n      \"function\" ===\n        typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop &&\n      __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(Error());\n  })();\n", "'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim/with-selector.development.js');\n}\n", "export { AccordionRoot as Root } from \"./root/AccordionRoot.js\";\nexport { AccordionItem as Item } from \"./item/AccordionItem.js\";\nexport { AccordionHeader as Header } from \"./header/AccordionHeader.js\";\nexport { AccordionTrigger as Trigger } from \"./trigger/AccordionTrigger.js\";\nexport { AccordionPanel as Panel } from \"./panel/AccordionPanel.js\";", "'use client';\n\nimport * as React from 'react';\nimport { useControlled } from '@base-ui/utils/useControlled';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { warn } from '@base-ui/utils/warn';\nimport { CompositeList } from \"../../composite/list/CompositeList.js\";\nimport { useDirection } from \"../../direction-provider/DirectionContext.js\";\nimport { AccordionRootContext } from \"./AccordionRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst rootStateAttributesMapping = {\n  value: () => null\n};\n\n/**\n * Groups all parts of the accordion.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Accordion](https://base-ui.com/react/components/accordion)\n */\nexport const AccordionRoot = /*#__PURE__*/React.forwardRef(function AccordionRoot(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    disabled = false,\n    hiddenUntilFound: hiddenUntilFoundProp,\n    keepMounted: keepMountedProp,\n    loopFocus = true,\n    onValueChange: onValueChangeProp,\n    multiple = false,\n    orientation = 'vertical',\n    value: valueProp,\n    defaultValue: defaultValueProp,\n    ...elementProps\n  } = componentProps;\n  const direction = useDirection();\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useIsoLayoutEffect(() => {\n      if (hiddenUntilFoundProp && keepMountedProp === false) {\n        warn('The `keepMounted={false}` prop on a Accordion.Root will be ignored when using `hiddenUntilFound` since it requires Panels to remain mounted when closed.');\n      }\n    }, [hiddenUntilFoundProp, keepMountedProp]);\n  }\n\n  // memoized to allow omitting both defaultValue and value\n  // which would otherwise trigger a warning in useControlled\n  const defaultValue = React.useMemo(() => {\n    if (valueProp === undefined) {\n      return defaultValueProp ?? [];\n    }\n    return undefined;\n  }, [valueProp, defaultValueProp]);\n  const onValueChange = useStableCallback(onValueChangeProp);\n  const accordionItemRefs = React.useRef([]);\n  const [value, setValue] = useControlled({\n    controlled: valueProp,\n    default: defaultValue,\n    name: 'Accordion',\n    state: 'value'\n  });\n  const handleValueChange = useStableCallback((newValue, nextOpen) => {\n    const details = createChangeEventDetails(REASONS.none);\n    if (!multiple) {\n      const nextValue = value[0] === newValue ? [] : [newValue];\n      onValueChange(nextValue, details);\n      if (details.isCanceled) {\n        return;\n      }\n      setValue(nextValue);\n    } else if (nextOpen) {\n      const nextOpenValues = value.slice();\n      nextOpenValues.push(newValue);\n      onValueChange(nextOpenValues, details);\n      if (details.isCanceled) {\n        return;\n      }\n      setValue(nextOpenValues);\n    } else {\n      const nextOpenValues = value.filter(v => v !== newValue);\n      onValueChange(nextOpenValues, details);\n      if (details.isCanceled) {\n        return;\n      }\n      setValue(nextOpenValues);\n    }\n  });\n  const state = React.useMemo(() => ({\n    value,\n    disabled,\n    orientation\n  }), [value, disabled, orientation]);\n  const contextValue = React.useMemo(() => ({\n    accordionItemRefs,\n    direction,\n    disabled,\n    handleValueChange,\n    hiddenUntilFound: hiddenUntilFoundProp ?? false,\n    keepMounted: keepMountedProp ?? false,\n    loopFocus,\n    orientation,\n    state,\n    value\n  }), [direction, disabled, handleValueChange, hiddenUntilFoundProp, keepMountedProp, loopFocus, orientation, state, value]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: [{\n      dir: direction,\n      role: 'region'\n    }, elementProps],\n    stateAttributesMapping: rootStateAttributesMapping\n  });\n  return /*#__PURE__*/_jsx(AccordionRootContext.Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/_jsx(CompositeList, {\n      elementsRef: accordionItemRefs,\n      children: element\n    })\n  });\n});\nif (process.env.NODE_ENV !== \"production\") AccordionRoot.displayName = \"AccordionRoot\";", "'use client';\n\n// TODO: uncomment once we enable eslint-plugin-react-compiler // eslint-disable-next-line react-compiler/react-compiler -- process.env never changes, dependency arrays are intentionally ignored\n/* eslint-disable react-hooks/rules-of-hooks, react-hooks/exhaustive-deps */\nimport * as React from 'react';\nexport function useControlled({\n  controlled,\n  default: defaultProp,\n  name,\n  state = 'value'\n}) {\n  // isControlled is ignored in the hook dependency lists as it should never change.\n  const {\n    current: isControlled\n  } = React.useRef(controlled !== undefined);\n  const [valueState, setValue] = React.useState(defaultProp);\n  const value = isControlled ? controlled : valueState;\n  if (process.env.NODE_ENV !== 'production') {\n    React.useEffect(() => {\n      if (isControlled !== (controlled !== undefined)) {\n        console.error([`Base UI: A component is changing the ${isControlled ? '' : 'un'}controlled ${state} state of ${name} to be ${isControlled ? 'un' : ''}controlled.`, 'Elements should not switch from uncontrolled to controlled (or vice versa).', `Decide between using a controlled or uncontrolled ${name} ` + 'element for the lifetime of the component.', \"The nature of the state is determined during the first render. It's considered controlled if the value is not `undefined`.\", 'More info: https://fb.me/react-controlled-components'].join('\\n'));\n      }\n    }, [state, name, controlled]);\n    const {\n      current: defaultValue\n    } = React.useRef(defaultProp);\n    React.useEffect(() => {\n      // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is for more details.\n      if (!isControlled && JSON.stringify(defaultValue) !== JSON.stringify(defaultProp)) {\n        console.error([`Base UI: A component is changing the default ${state} state of an uncontrolled ${name} after being initialized. ` + `To suppress this warning opt to use a controlled ${name}.`].join('\\n'));\n      }\n    }, [JSON.stringify(defaultProp)]);\n  }\n  const setValueIfUncontrolled = React.useCallback(newValue => {\n    if (!isControlled) {\n      setValue(newValue);\n    }\n  }, []);\n  return [value, setValueIfUncontrolled];\n}", "'use client';\n\nimport * as React from 'react';\nimport { useRefWithInit } from \"./useRefWithInit.js\";\n\n// https://github.com/mui/material-ui/issues/41190#issuecomment-2040873379\nconst useInsertionEffect = React[`useInsertionEffect${Math.random().toFixed(1)}`.slice(0, -3)];\nconst useSafeInsertionEffect =\n// React 17 doesn't have useInsertionEffect.\nuseInsertionEffect &&\n// Preact replaces useInsertionEffect with useLayoutEffect and fires too late.\nuseInsertionEffect !== React.useLayoutEffect ? useInsertionEffect : fn => fn();\n/**\n * Stabilizes the function passed so it's always the same between renders.\n *\n * The function becomes non-reactive to any values it captures.\n * It can safely be passed as a dependency of `React.useMemo` and `React.useEffect` without re-triggering them if its captured values change.\n *\n * The function must only be called inside effects and event handlers, never during render (which throws an error).\n *\n * This hook is a more permissive version of React 19.2's `React.useEffectEvent` in that it can be passed through contexts and called in event handler props, not just effects.\n */\nexport function useStableCallback(callback) {\n  const stable = useRefWithInit(createStableCallback).current;\n  stable.next = callback;\n  useSafeInsertionEffect(stable.effect);\n  return stable.trampoline;\n}\nfunction createStableCallback() {\n  const stable = {\n    next: undefined,\n    callback: assertNotCalled,\n    trampoline: (...args) => stable.callback?.(...args),\n    effect: () => {\n      stable.callback = stable.next;\n    }\n  };\n  return stable;\n}\nfunction assertNotCalled() {\n  if (process.env.NODE_ENV !== 'production') {\n    throw new Error('Base UI: Cannot call an event handler while rendering.');\n  }\n}", "'use client';\n\nimport * as React from 'react';\nconst UNINITIALIZED = {};\n\n/**\n * A React.useRef() that is initialized with a function. Note that it accepts an optional\n * initialization argument, so the initialization function doesn't need to be an inline closure.\n *\n * @usage\n *   const ref = useRefWithInit(sortColumns, columns)\n */\n\nexport function useRefWithInit(init, initArg) {\n  const ref = React.useRef(UNINITIALIZED);\n  if (ref.current === UNINITIALIZED) {\n    ref.current = init(initArg);\n  }\n  return ref;\n}", "'use client';\n\nimport * as React from 'react';\nconst noop = () => {};\nexport const useIsoLayoutEffect = typeof document !== 'undefined' ? React.useLayoutEffect : noop;", "let set;\nif (process.env.NODE_ENV !== 'production') {\n  set = new Set();\n}\nexport function warn(...messages) {\n  if (process.env.NODE_ENV !== 'production') {\n    const messageKey = messages.join(' ');\n    if (!set.has(messageKey)) {\n      set.add(messageKey);\n      console.warn(`Base UI: ${messageKey}`);\n    }\n  }\n}", "/* eslint-disable no-bitwise */\n'use client';\n\nimport * as React from 'react';\nimport { useRefWithInit } from '@base-ui/utils/useRefWithInit';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { CompositeListContext } from \"./CompositeListContext.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n/**\n * Provides context for a list of items in a composite component.\n * @internal\n */\nexport function CompositeList(props) {\n  const {\n    children,\n    elementsRef,\n    labelsRef,\n    onMapChange: onMapChangeProp\n  } = props;\n  const onMapChange = useStableCallback(onMapChangeProp);\n  const nextIndexRef = React.useRef(0);\n  const listeners = useRefWithInit(createListeners).current;\n\n  // We use a stable `map` to avoid O(n^2) re-allocation costs for large lists.\n  // `mapTick` is our re-render trigger mechanism. We also need to update the\n  // elements and label refs, but there's a lot of async work going on and sometimes\n  // the effect that handles `onMapChange` gets called after those refs have been\n  // filled, and we don't want to lose those values by setting their lengths to `0`.\n  // We also need to have them at the proper length because floating-ui uses that\n  // information for list navigation.\n\n  const map = useRefWithInit(createMap).current;\n  // `mapTick` uses a counter rather than objects for low precision-loss risk and better memory efficiency\n  const [mapTick, setMapTick] = React.useState(0);\n  const lastTickRef = React.useRef(mapTick);\n  const register = useStableCallback((node, metadata) => {\n    map.set(node, metadata ?? null);\n    lastTickRef.current += 1;\n    setMapTick(lastTickRef.current);\n  });\n  const unregister = useStableCallback(node => {\n    map.delete(node);\n    lastTickRef.current += 1;\n    setMapTick(lastTickRef.current);\n  });\n  const sortedMap = React.useMemo(() => {\n    // `mapTick` is the `useMemo` trigger as `map` is stable.\n    disableEslintWarning(mapTick);\n    const newMap = new Map();\n    // Filter out disconnected elements before sorting to avoid inconsistent\n    // compareDocumentPosition results when elements are detached from the DOM.\n    const sortedNodes = Array.from(map.keys()).filter(node => node.isConnected).sort(sortByDocumentPosition);\n    sortedNodes.forEach((node, index) => {\n      const metadata = map.get(node) ?? {};\n      newMap.set(node, {\n        ...metadata,\n        index\n      });\n    });\n    return newMap;\n  }, [map, mapTick]);\n  useIsoLayoutEffect(() => {\n    if (typeof MutationObserver !== 'function' || sortedMap.size === 0) {\n      return undefined;\n    }\n    const mutationObserver = new MutationObserver(entries => {\n      const diff = new Set();\n      const updateDiff = node => diff.has(node) ? diff.delete(node) : diff.add(node);\n      entries.forEach(entry => {\n        entry.removedNodes.forEach(updateDiff);\n        entry.addedNodes.forEach(updateDiff);\n      });\n      if (diff.size === 0) {\n        lastTickRef.current += 1;\n        setMapTick(lastTickRef.current);\n      }\n    });\n    sortedMap.forEach((_, node) => {\n      if (node.parentElement) {\n        mutationObserver.observe(node.parentElement, {\n          childList: true\n        });\n      }\n    });\n    return () => {\n      mutationObserver.disconnect();\n    };\n  }, [sortedMap]);\n  useIsoLayoutEffect(() => {\n    const shouldUpdateLengths = lastTickRef.current === mapTick;\n    if (shouldUpdateLengths) {\n      if (elementsRef.current.length !== sortedMap.size) {\n        elementsRef.current.length = sortedMap.size;\n      }\n      if (labelsRef && labelsRef.current.length !== sortedMap.size) {\n        labelsRef.current.length = sortedMap.size;\n      }\n      nextIndexRef.current = sortedMap.size;\n    }\n    onMapChange(sortedMap);\n  }, [onMapChange, sortedMap, elementsRef, labelsRef, mapTick]);\n  useIsoLayoutEffect(() => {\n    return () => {\n      elementsRef.current = [];\n    };\n  }, [elementsRef]);\n  useIsoLayoutEffect(() => {\n    return () => {\n      if (labelsRef) {\n        labelsRef.current = [];\n      }\n    };\n  }, [labelsRef]);\n  const subscribeMapChange = useStableCallback(fn => {\n    listeners.add(fn);\n    return () => {\n      listeners.delete(fn);\n    };\n  });\n  useIsoLayoutEffect(() => {\n    listeners.forEach(l => l(sortedMap));\n  }, [listeners, sortedMap]);\n  const contextValue = React.useMemo(() => ({\n    register,\n    unregister,\n    subscribeMapChange,\n    elementsRef,\n    labelsRef,\n    nextIndexRef\n  }), [register, unregister, subscribeMapChange, elementsRef, labelsRef, nextIndexRef]);\n  return /*#__PURE__*/_jsx(CompositeListContext.Provider, {\n    value: contextValue,\n    children: children\n  });\n}\nfunction createMap() {\n  return new Map();\n}\nfunction createListeners() {\n  return new Set();\n}\nfunction sortByDocumentPosition(a, b) {\n  const position = a.compareDocumentPosition(b);\n  if (position & Node.DOCUMENT_POSITION_FOLLOWING || position & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n    return -1;\n  }\n  if (position & Node.DOCUMENT_POSITION_PRECEDING || position & Node.DOCUMENT_POSITION_CONTAINS) {\n    return 1;\n  }\n  return 0;\n}\nfunction disableEslintWarning(_) {}", "'use client';\n\nimport * as React from 'react';\nexport const CompositeListContext = /*#__PURE__*/React.createContext({\n  register: () => {},\n  unregister: () => {},\n  subscribeMapChange: () => {\n    return () => {};\n  },\n  elementsRef: {\n    current: []\n  },\n  nextIndexRef: {\n    current: 0\n  }\n});\nif (process.env.NODE_ENV !== \"production\") CompositeListContext.displayName = \"CompositeListContext\";\nexport function useCompositeListContext() {\n  return React.useContext(CompositeListContext);\n}", "'use client';\n\nimport * as React from 'react';\n/**\n * @internal\n */\nexport const DirectionContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") DirectionContext.displayName = \"DirectionContext\";\nexport function useDirection() {\n  const context = React.useContext(DirectionContext);\n  return context?.direction ?? 'ltr';\n}", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const AccordionRootContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") AccordionRootContext.displayName = \"AccordionRootContext\";\nexport function useAccordionRootContext() {\n  const context = React.useContext(AccordionRootContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: AccordionRootContext is missing. Accordion parts must be placed within <Accordion.Root>.' : _formatErrorMessage(10));\n  }\n  return context;\n}", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nimport { useMergedRefs, useMergedRefsN } from '@base-ui/utils/useMergedRefs';\nimport { getReactElementRef } from '@base-ui/utils/getReactElementRef';\nimport { mergeObjects } from '@base-ui/utils/mergeObjects';\nimport { getStateAttributesProps } from \"./getStateAttributesProps.js\";\nimport { resolveClassName } from \"./resolveClassName.js\";\nimport { resolveStyle } from \"./resolveStyle.js\";\nimport { mergeProps, mergePropsN, mergeClassNames } from \"../merge-props/index.js\";\nimport { EMPTY_OBJECT } from \"./constants.js\";\nimport { createElement as _createElement } from \"react\";\n/**\n * Renders a Base UI element.\n *\n * @param element The default HTML element to render. Can be overridden by the `render` prop.\n * @param componentProps An object containing the `render` and `className` props to be used for element customization. Other props are ignored.\n * @param params Additional parameters for rendering the element.\n */\nexport function useRenderElement(element, componentProps, params = {}) {\n  const renderProp = componentProps.render;\n  const outProps = useRenderElementProps(componentProps, params);\n  if (params.enabled === false) {\n    return null;\n  }\n  const state = params.state ?? EMPTY_OBJECT;\n  return evaluateRenderProp(element, renderProp, outProps, state);\n}\n\n/**\n * Computes render element final props.\n */\nfunction useRenderElementProps(componentProps, params = {}) {\n  const {\n    className: classNameProp,\n    style: styleProp,\n    render: renderProp\n  } = componentProps;\n  const {\n    state = EMPTY_OBJECT,\n    ref,\n    props,\n    stateAttributesMapping,\n    enabled = true\n  } = params;\n  const className = enabled ? resolveClassName(classNameProp, state) : undefined;\n  const style = enabled ? resolveStyle(styleProp, state) : undefined;\n  const stateProps = enabled ? getStateAttributesProps(state, stateAttributesMapping) : EMPTY_OBJECT;\n  const outProps = enabled ? mergeObjects(stateProps, Array.isArray(props) ? mergePropsN(props) : props) ?? EMPTY_OBJECT : EMPTY_OBJECT;\n\n  // SAFETY: The `useMergedRefs` functions use a single hook to store the same value,\n  // switching between them at runtime is safe. If this assertion fails, React will\n  // throw at runtime anyway.\n  // This also skips the `useMergedRefs` call on the server, which is fine because\n  // refs are not used on the server side.\n  /* eslint-disable react-hooks/rules-of-hooks */\n  if (typeof document !== 'undefined') {\n    if (!enabled) {\n      useMergedRefs(null, null);\n    } else if (Array.isArray(ref)) {\n      outProps.ref = useMergedRefsN([outProps.ref, getReactElementRef(renderProp), ...ref]);\n    } else {\n      outProps.ref = useMergedRefs(outProps.ref, getReactElementRef(renderProp), ref);\n    }\n  }\n  if (!enabled) {\n    return EMPTY_OBJECT;\n  }\n  if (className !== undefined) {\n    outProps.className = mergeClassNames(outProps.className, className);\n  }\n  if (style !== undefined) {\n    outProps.style = mergeObjects(outProps.style, style);\n  }\n  return outProps;\n}\nfunction evaluateRenderProp(element, render, props, state) {\n  if (render) {\n    if (typeof render === 'function') {\n      return render(props, state);\n    }\n    const mergedProps = mergeProps(props, render.props);\n    mergedProps.ref = props.ref;\n    return /*#__PURE__*/React.cloneElement(render, mergedProps);\n  }\n  if (element) {\n    if (typeof element === 'string') {\n      return renderTag(element, props);\n    }\n  }\n  // Unreachable, but the typings on `useRenderElement` need to be reworked\n  // to annotate it correctly.\n  throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: Render element or function are not defined.' : _formatErrorMessage(8));\n}\nfunction renderTag(Tag, props) {\n  if (Tag === 'button') {\n    return /*#__PURE__*/_createElement(\"button\", {\n      type: \"button\",\n      ...props,\n      key: props.key\n    });\n  }\n  if (Tag === 'img') {\n    return /*#__PURE__*/_createElement(\"img\", {\n      alt: \"\",\n      ...props,\n      key: props.key\n    });\n  }\n  return /*#__PURE__*/React.createElement(Tag, props);\n}", "import { useRefWithInit } from \"./useRefWithInit.js\";\n\n/**\n * Merges refs into a single memoized callback ref or `null`.\n * This makes sure multiple refs are updated together and have the same value.\n *\n * This function accepts up to four refs. If you need to merge more, or have an unspecified number of refs to merge,\n * use `useMergedRefsN` instead.\n */\n\nexport function useMergedRefs(a, b, c, d) {\n  const forkRef = useRefWithInit(createForkRef).current;\n  if (didChange(forkRef, a, b, c, d)) {\n    update(forkRef, [a, b, c, d]);\n  }\n  return forkRef.callback;\n}\n\n/**\n * Merges an array of refs into a single memoized callback ref or `null`.\n *\n * If you need to merge a fixed number (up to four) of refs, use `useMergedRefs` instead for better performance.\n */\nexport function useMergedRefsN(refs) {\n  const forkRef = useRefWithInit(createForkRef).current;\n  if (didChangeN(forkRef, refs)) {\n    update(forkRef, refs);\n  }\n  return forkRef.callback;\n}\nfunction createForkRef() {\n  return {\n    callback: null,\n    cleanup: null,\n    refs: []\n  };\n}\nfunction didChange(forkRef, a, b, c, d) {\n  // prettier-ignore\n  return forkRef.refs[0] !== a || forkRef.refs[1] !== b || forkRef.refs[2] !== c || forkRef.refs[3] !== d;\n}\nfunction didChangeN(forkRef, newRefs) {\n  return forkRef.refs.length !== newRefs.length || forkRef.refs.some((ref, index) => ref !== newRefs[index]);\n}\nfunction update(forkRef, refs) {\n  forkRef.refs = refs;\n  if (refs.every(ref => ref == null)) {\n    forkRef.callback = null;\n    return;\n  }\n  forkRef.callback = instance => {\n    if (forkRef.cleanup) {\n      forkRef.cleanup();\n      forkRef.cleanup = null;\n    }\n    if (instance != null) {\n      const cleanupCallbacks = Array(refs.length).fill(null);\n      for (let i = 0; i < refs.length; i += 1) {\n        const ref = refs[i];\n        if (ref == null) {\n          continue;\n        }\n        switch (typeof ref) {\n          case 'function':\n            {\n              const refCleanup = ref(instance);\n              if (typeof refCleanup === 'function') {\n                cleanupCallbacks[i] = refCleanup;\n              }\n              break;\n            }\n          case 'object':\n            {\n              ref.current = instance;\n              break;\n            }\n          default:\n        }\n      }\n      forkRef.cleanup = () => {\n        for (let i = 0; i < refs.length; i += 1) {\n          const ref = refs[i];\n          if (ref == null) {\n            continue;\n          }\n          switch (typeof ref) {\n            case 'function':\n              {\n                const cleanupCallback = cleanupCallbacks[i];\n                if (typeof cleanupCallback === 'function') {\n                  cleanupCallback();\n                } else {\n                  ref(null);\n                }\n                break;\n              }\n            case 'object':\n              {\n                ref.current = null;\n                break;\n              }\n            default:\n          }\n        }\n      };\n    }\n  };\n}", "import * as React from 'react';\nimport { isReactVersionAtLeast } from \"./reactVersion.js\";\n\n/**\n * Extracts the `ref` from a React element, handling different React versions.\n */\nexport function getReactElementRef(element) {\n  if (! /*#__PURE__*/React.isValidElement(element)) {\n    return null;\n  }\n  const reactElement = element;\n  const propsWithRef = reactElement.props;\n  return (isReactVersionAtLeast(19) ? propsWithRef?.ref : reactElement.ref) ?? null;\n}", "import * as React from 'react';\nconst majorVersion = parseInt(React.version, 10);\nexport function isReactVersionAtLeast(reactVersionToCheck) {\n  return majorVersion >= reactVersionToCheck;\n}", "export function mergeObjects(a, b) {\n  if (a && !b) {\n    return a;\n  }\n  if (!a && b) {\n    return b;\n  }\n  if (a || b) {\n    return {\n      ...a,\n      ...b\n    };\n  }\n  return undefined;\n}", "export function getStateAttributesProps(state, customMapping) {\n  const props = {};\n\n  /* eslint-disable-next-line guard-for-in */\n  for (const key in state) {\n    const value = state[key];\n    if (customMapping?.hasOwnProperty(key)) {\n      const customProps = customMapping[key](value);\n      if (customProps != null) {\n        Object.assign(props, customProps);\n      }\n      continue;\n    }\n    if (value === true) {\n      props[`data-${key.toLowerCase()}`] = '';\n    } else if (value) {\n      props[`data-${key.toLowerCase()}`] = value.toString();\n    }\n  }\n  return props;\n}", "/**\n * If the provided className is a string, it will be returned as is.\n * Otherwise, the function will call the className function with the state as the first argument.\n *\n * @param className\n * @param state\n */\nexport function resolveClassName(className, state) {\n  return typeof className === 'function' ? className(state) : className;\n}", "/**\n * If the provided style is an object, it will be returned as is.\n * Otherwise, the function will call the style function with the state as the first argument.\n *\n * @param style\n * @param state\n */\nexport function resolveStyle(style, state) {\n  return typeof style === 'function' ? style(state) : style;\n}", "import { mergeObjects } from '@base-ui/utils/mergeObjects';\nconst EMPTY_PROPS = {};\n\n/* eslint-disable id-denylist */\n/**\n * Merges multiple sets of React props. It follows the Object.assign pattern where the rightmost object's fields overwrite\n * the conflicting ones from others. This doesn't apply to event handlers, `className` and `style` props.\n *\n * Event handlers are merged and called in right-to-left order (rightmost handler executes first, leftmost last).\n * For React synthetic events, the rightmost handler can prevent prior (left-positioned) handlers from executing\n * by calling `event.preventBaseUIHandler()`. For non-synthetic events (custom events with primitive/object values),\n * all handlers always execute without prevention capability.\n *\n * The `className` prop is merged by concatenating classes in right-to-left order (rightmost class appears first in the string).\n * The `style` prop is merged with rightmost styles overwriting the prior ones.\n *\n * Props can either be provided as objects or as functions that take the previous props as an argument.\n * The function will receive the merged props up to that point (going from left to right):\n * so in the case of `(obj1, obj2, fn, obj3)`, `fn` will receive the merged props of `obj1` and `obj2`.\n * The function is responsible for chaining event handlers if needed (i.e. we don't run the merge logic).\n *\n * Event handlers returned by the functions are not automatically prevented when `preventBaseUIHandler` is called.\n * They must check `event.baseUIHandlerPrevented` themselves and bail out if it's true.\n *\n * @important **`ref` is not merged.**\n * @param a Props object to merge.\n * @param b Props object to merge. The function will overwrite conflicting props from `a`.\n * @param c Props object to merge. The function will overwrite conflicting props from previous parameters.\n * @param d Props object to merge. The function will overwrite conflicting props from previous parameters.\n * @param e Props object to merge. The function will overwrite conflicting props from previous parameters.\n * @returns The merged props.\n * @public\n */\n\nexport function mergeProps(a, b, c, d, e) {\n  // We need to mutably own `merged`\n  let merged = {\n    ...resolvePropsGetter(a, EMPTY_PROPS)\n  };\n  if (b) {\n    merged = mergeOne(merged, b);\n  }\n  if (c) {\n    merged = mergeOne(merged, c);\n  }\n  if (d) {\n    merged = mergeOne(merged, d);\n  }\n  if (e) {\n    merged = mergeOne(merged, e);\n  }\n  return merged;\n}\n/* eslint-enable id-denylist */\n\n/**\n * Merges an arbitrary number of React props using the same logic as {@link mergeProps}.\n * This function accepts an array of props instead of individual arguments.\n *\n * This has slightly lower performance than {@link mergeProps} due to accepting an array\n * instead of a fixed number of arguments. Prefer {@link mergeProps} when merging 5 or\n * fewer prop sets for better performance.\n *\n * @param props Array of props to merge.\n * @returns The merged props.\n * @see mergeProps\n * @public\n */\nexport function mergePropsN(props) {\n  if (props.length === 0) {\n    return EMPTY_PROPS;\n  }\n  if (props.length === 1) {\n    return resolvePropsGetter(props[0], EMPTY_PROPS);\n  }\n\n  // We need to mutably own `merged`\n  let merged = {\n    ...resolvePropsGetter(props[0], EMPTY_PROPS)\n  };\n  for (let i = 1; i < props.length; i += 1) {\n    merged = mergeOne(merged, props[i]);\n  }\n  return merged;\n}\nfunction mergeOne(merged, inputProps) {\n  if (isPropsGetter(inputProps)) {\n    return inputProps(merged);\n  }\n  return mutablyMergeInto(merged, inputProps);\n}\n\n/**\n * Merges two sets of props. In case of conflicts, the external props take precedence.\n */\nfunction mutablyMergeInto(mergedProps, externalProps) {\n  if (!externalProps) {\n    return mergedProps;\n  }\n\n  // eslint-disable-next-line guard-for-in\n  for (const propName in externalProps) {\n    const externalPropValue = externalProps[propName];\n    switch (propName) {\n      case 'style':\n        {\n          mergedProps[propName] = mergeObjects(mergedProps.style, externalPropValue);\n          break;\n        }\n      case 'className':\n        {\n          mergedProps[propName] = mergeClassNames(mergedProps.className, externalPropValue);\n          break;\n        }\n      default:\n        {\n          if (isEventHandler(propName, externalPropValue)) {\n            mergedProps[propName] = mergeEventHandlers(mergedProps[propName], externalPropValue);\n          } else {\n            mergedProps[propName] = externalPropValue;\n          }\n        }\n    }\n  }\n  return mergedProps;\n}\nfunction isEventHandler(key, value) {\n  // This approach is more efficient than using a regex.\n  const code0 = key.charCodeAt(0);\n  const code1 = key.charCodeAt(1);\n  const code2 = key.charCodeAt(2);\n  return code0 === 111 /* o */ && code1 === 110 /* n */ && code2 >= 65 /* A */ && code2 <= 90 /* Z */ && (typeof value === 'function' || typeof value === 'undefined');\n}\nfunction isPropsGetter(inputProps) {\n  return typeof inputProps === 'function';\n}\nfunction resolvePropsGetter(inputProps, previousProps) {\n  if (isPropsGetter(inputProps)) {\n    return inputProps(previousProps);\n  }\n  return inputProps ?? EMPTY_PROPS;\n}\nfunction mergeEventHandlers(ourHandler, theirHandler) {\n  if (!theirHandler) {\n    return ourHandler;\n  }\n  if (!ourHandler) {\n    return theirHandler;\n  }\n  return event => {\n    if (isSyntheticEvent(event)) {\n      const baseUIEvent = event;\n      makeEventPreventable(baseUIEvent);\n      const result = theirHandler(baseUIEvent);\n      if (!baseUIEvent.baseUIHandlerPrevented) {\n        ourHandler?.(baseUIEvent);\n      }\n      return result;\n    }\n    const result = theirHandler(event);\n    ourHandler?.(event);\n    return result;\n  };\n}\nexport function makeEventPreventable(event) {\n  event.preventBaseUIHandler = () => {\n    event.baseUIHandlerPrevented = true;\n  };\n  return event;\n}\nexport function mergeClassNames(ourClassName, theirClassName) {\n  if (theirClassName) {\n    if (ourClassName) {\n      // eslint-disable-next-line prefer-template\n      return theirClassName + ' ' + ourClassName;\n    }\n    return theirClassName;\n  }\n  return ourClassName;\n}\nfunction isSyntheticEvent(event) {\n  return event != null && typeof event === 'object' && 'nativeEvent' in event;\n}", "export function NOOP() {}\nexport const EMPTY_ARRAY = Object.freeze([]);\nexport const EMPTY_OBJECT = Object.freeze({});", "export const TYPEAHEAD_RESET_MS = 500;\nexport const PATIENT_CLICK_THRESHOLD = 500;\nexport const DISABLED_TRANSITIONS_STYLE = {\n  style: {\n    transition: 'none'\n  }\n};\nexport { EMPTY_OBJECT, EMPTY_ARRAY } from '@base-ui/utils/empty';\nexport const CLICK_TRIGGER_IDENTIFIER = 'data-base-ui-click-trigger';\n\n/**\n * Used for dropdowns that usually strictly prefer top/bottom placements and\n * use `var(--available-height)` to limit their height.\n */\nexport const DROPDOWN_COLLISION_AVOIDANCE = {\n  fallbackAxisSide: 'none'\n};\n\n/**\n * Used by regular popups that usually aren't scrollable and are allowed to\n * freely flip to any axis of placement.\n */\nexport const POPUP_COLLISION_AVOIDANCE = {\n  fallbackAxisSide: 'end'\n};\n\n/**\n * Special visually hidden styles for the aria-owns owner element to ensure owned element\n * accessibility in iOS/Safari/VoiceControl.\n * The owner element is an empty span, so most of the common visually hidden styles are not needed.\n * @see https://github.com/floating-ui/floating-ui/issues/3403\n */\nexport const ownerVisuallyHidden = {\n  clipPath: 'inset(50%)',\n  position: 'fixed',\n  top: 0,\n  left: 0\n};", "export const none = 'none';\nexport const triggerPress = 'trigger-press';\nexport const triggerHover = 'trigger-hover';\nexport const triggerFocus = 'trigger-focus';\nexport const outsidePress = 'outside-press';\nexport const itemPress = 'item-press';\nexport const closePress = 'close-press';\nexport const linkPress = 'link-press';\nexport const clearPress = 'clear-press';\nexport const chipRemovePress = 'chip-remove-press';\nexport const trackPress = 'track-press';\nexport const incrementPress = 'increment-press';\nexport const decrementPress = 'decrement-press';\nexport const inputChange = 'input-change';\nexport const inputClear = 'input-clear';\nexport const inputBlur = 'input-blur';\nexport const inputPaste = 'input-paste';\nexport const focusOut = 'focus-out';\nexport const escapeKey = 'escape-key';\nexport const listNavigation = 'list-navigation';\nexport const keyboard = 'keyboard';\nexport const pointer = 'pointer';\nexport const drag = 'drag';\nexport const wheel = 'wheel';\nexport const scrub = 'scrub';\nexport const cancelOpen = 'cancel-open';\nexport const siblingOpen = 'sibling-open';\nexport const disabled = 'disabled';\nexport const imperativeAction = 'imperative-action';\nexport const windowResize = 'window-resize';", "import { EMPTY_OBJECT } from \"./constants.js\";\nimport { REASONS } from \"./reasons.js\";\n\n/**\n * Maps a change `reason` string to the corresponding native event type.\n */\n\n/**\n * Details of custom change events emitted by Base UI components.\n */\n\n/**\n * Details of custom generic events emitted by Base UI components.\n */\n\n/**\n * Creates a Base UI event details object with the given reason and utilities\n * for preventing Base UI's internal event handling.\n */\nexport function createChangeEventDetails(reason, event, trigger, customProperties) {\n  let canceled = false;\n  let allowPropagation = false;\n  const custom = customProperties ?? EMPTY_OBJECT;\n  const details = {\n    reason,\n    event: event ?? new Event('base-ui'),\n    cancel() {\n      canceled = true;\n    },\n    allowPropagation() {\n      allowPropagation = true;\n    },\n    get isCanceled() {\n      return canceled;\n    },\n    get isPropagationAllowed() {\n      return allowPropagation;\n    },\n    trigger,\n    ...custom\n  };\n  return details;\n}\nexport function createGenericEventDetails(reason, event, customProperties) {\n  const custom = customProperties ?? EMPTY_OBJECT;\n  const details = {\n    reason,\n    event: event ?? new Event('base-ui'),\n    ...custom\n  };\n  return details;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useMergedRefs } from '@base-ui/utils/useMergedRefs';\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { useCollapsibleRoot } from \"../../collapsible/root/useCollapsibleRoot.js\";\nimport { CollapsibleRootContext } from \"../../collapsible/root/CollapsibleRootContext.js\";\nimport { useCompositeListItem } from \"../../composite/list/useCompositeListItem.js\";\nimport { useAccordionRootContext } from \"../root/AccordionRootContext.js\";\nimport { AccordionItemContext } from \"./AccordionItemContext.js\";\nimport { accordionStateAttributesMapping } from \"./stateAttributesMapping.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n/**\n * Groups an accordion header with the corresponding panel.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Accordion](https://base-ui.com/react/components/accordion)\n */\nexport const AccordionItem = /*#__PURE__*/React.forwardRef(function AccordionItem(componentProps, forwardedRef) {\n  const {\n    className,\n    disabled: disabledProp = false,\n    onOpenChange: onOpenChangeProp,\n    render,\n    value: valueProp,\n    ...elementProps\n  } = componentProps;\n  const {\n    ref: listItemRef,\n    index\n  } = useCompositeListItem();\n  const mergedRef = useMergedRefs(forwardedRef, listItemRef);\n  const {\n    disabled: contextDisabled,\n    handleValueChange,\n    state: rootState,\n    value: openValues\n  } = useAccordionRootContext();\n  const fallbackValue = useBaseUiId();\n  const value = valueProp ?? fallbackValue;\n  const disabled = disabledProp || contextDisabled;\n  const isOpen = React.useMemo(() => {\n    if (!openValues) {\n      return false;\n    }\n    for (let i = 0; i < openValues.length; i += 1) {\n      if (openValues[i] === value) {\n        return true;\n      }\n    }\n    return false;\n  }, [openValues, value]);\n  const onOpenChange = useStableCallback((nextOpen, eventDetails) => {\n    onOpenChangeProp?.(nextOpen, eventDetails);\n    if (eventDetails.isCanceled) {\n      return;\n    }\n    handleValueChange(value, nextOpen);\n  });\n  const collapsible = useCollapsibleRoot({\n    open: isOpen,\n    onOpenChange,\n    disabled\n  });\n  const collapsibleState = React.useMemo(() => ({\n    open: collapsible.open,\n    disabled: collapsible.disabled,\n    hidden: !collapsible.mounted,\n    transitionStatus: collapsible.transitionStatus\n  }), [collapsible.open, collapsible.disabled, collapsible.mounted, collapsible.transitionStatus]);\n  const collapsibleContext = React.useMemo(() => ({\n    ...collapsible,\n    onOpenChange,\n    state: collapsibleState\n  }), [collapsible, collapsibleState, onOpenChange]);\n  const state = React.useMemo(() => ({\n    ...rootState,\n    index,\n    disabled,\n    open: isOpen\n  }), [disabled, index, isOpen, rootState]);\n  const [triggerId, setTriggerId] = React.useState(useBaseUiId());\n  const accordionItemContext = React.useMemo(() => ({\n    open: isOpen,\n    state,\n    setTriggerId,\n    triggerId\n  }), [isOpen, state, setTriggerId, triggerId]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: mergedRef,\n    props: elementProps,\n    stateAttributesMapping: accordionStateAttributesMapping\n  });\n  return /*#__PURE__*/_jsx(CollapsibleRootContext.Provider, {\n    value: collapsibleContext,\n    children: /*#__PURE__*/_jsx(AccordionItemContext.Provider, {\n      value: accordionItemContext,\n      children: element\n    })\n  });\n});\nif (process.env.NODE_ENV !== \"production\") AccordionItem.displayName = \"AccordionItem\";", "'use client';\n\nimport * as React from 'react';\nimport { SafeReact } from \"./safeReact.js\";\nlet globalId = 0;\n\n// TODO React 17: Remove `useGlobalId` once React 17 support is removed\nfunction useGlobalId(idOverride, prefix = 'mui') {\n  const [defaultId, setDefaultId] = React.useState(idOverride);\n  const id = idOverride || defaultId;\n  React.useEffect(() => {\n    if (defaultId == null) {\n      // Fallback to this default id when possible.\n      // Use the incrementing value for client-side rendering only.\n      // We can't use it server-side.\n      // If you want to use random values please consider the Birthday Problem: https://en.wikipedia.org/wiki/Birthday_problem\n      globalId += 1;\n      setDefaultId(`${prefix}-${globalId}`);\n    }\n  }, [defaultId, prefix]);\n  return id;\n}\nconst maybeReactUseId = SafeReact.useId;\n\n/**\n *\n * @example <div id={useId()} />\n * @param idOverride\n * @returns {string}\n */\nexport function useId(idOverride, prefix) {\n  // React.useId() is only available from React 17.0.0.\n  if (maybeReactUseId !== undefined) {\n    const reactId = maybeReactUseId();\n    return idOverride ?? (prefix ? `${prefix}-${reactId}` : reactId);\n  }\n\n  // TODO: uncomment once we enable eslint-plugin-react-compiler // eslint-disable-next-line react-compiler/react-compiler\n  // eslint-disable-next-line react-hooks/rules-of-hooks -- `React.useId` is invariant at runtime.\n  return useGlobalId(idOverride, prefix);\n}", "import * as React from 'react';\n\n// https://github.com/mui/material-ui/issues/41190#issuecomment-2040873379\nexport const SafeReact = {\n  ...React\n};", "'use client';\n\nimport { useId } from '@base-ui/utils/useId';\n\n/**\n * Wraps `useId` and prefixes generated `id`s with `base-ui-`\n * @param {string | undefined} idOverride overrides the generated id when provided\n * @returns {string | undefined}\n */\nexport function useBaseUiId(idOverride) {\n  return useId(idOverride, 'base-ui');\n}", "'use client';\n\nimport * as React from 'react';\nimport { useControlled } from '@base-ui/utils/useControlled';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { useAnimationsFinished } from \"../../utils/useAnimationsFinished.js\";\nimport { useTransitionStatus } from \"../../utils/useTransitionStatus.js\";\nexport function useCollapsibleRoot(parameters) {\n  const {\n    open: openParam,\n    defaultOpen,\n    onOpenChange,\n    disabled\n  } = parameters;\n  const isControlled = openParam !== undefined;\n  const [open, setOpen] = useControlled({\n    controlled: openParam,\n    default: defaultOpen,\n    name: 'Collapsible',\n    state: 'open'\n  });\n  const {\n    mounted,\n    setMounted,\n    transitionStatus\n  } = useTransitionStatus(open, true, true);\n  const [visible, setVisible] = React.useState(open);\n  const [{\n    height,\n    width\n  }, setDimensions] = React.useState({\n    height: undefined,\n    width: undefined\n  });\n  const defaultPanelId = useBaseUiId();\n  const [panelIdState, setPanelIdState] = React.useState();\n  const panelId = panelIdState ?? defaultPanelId;\n  const [hiddenUntilFound, setHiddenUntilFound] = React.useState(false);\n  const [keepMounted, setKeepMounted] = React.useState(false);\n  const abortControllerRef = React.useRef(null);\n  const animationTypeRef = React.useRef(null);\n  const transitionDimensionRef = React.useRef(null);\n  const panelRef = React.useRef(null);\n  const runOnceAnimationsFinish = useAnimationsFinished(panelRef, false);\n  const handleTrigger = useStableCallback(event => {\n    const nextOpen = !open;\n    const eventDetails = createChangeEventDetails(REASONS.triggerPress, event.nativeEvent);\n    onOpenChange(nextOpen, eventDetails);\n    if (eventDetails.isCanceled) {\n      return;\n    }\n    const panel = panelRef.current;\n    if (animationTypeRef.current === 'css-animation' && panel != null) {\n      panel.style.removeProperty('animation-name');\n    }\n    if (!hiddenUntilFound && !keepMounted) {\n      if (animationTypeRef.current != null && animationTypeRef.current !== 'css-animation') {\n        if (!mounted && nextOpen) {\n          setMounted(true);\n        }\n      }\n      if (animationTypeRef.current === 'css-animation') {\n        if (!visible && nextOpen) {\n          setVisible(true);\n        }\n        if (!mounted && nextOpen) {\n          setMounted(true);\n        }\n      }\n    }\n    setOpen(nextOpen);\n    if (animationTypeRef.current === 'none' && mounted && !nextOpen) {\n      setMounted(false);\n    }\n  });\n  useIsoLayoutEffect(() => {\n    /**\n     * Unmount immediately when closing in controlled mode and keepMounted={false}\n     * and no CSS animations or transitions are applied\n     */\n    if (isControlled && animationTypeRef.current === 'none' && !keepMounted && !open) {\n      setMounted(false);\n    }\n  }, [isControlled, keepMounted, open, openParam, setMounted]);\n  return React.useMemo(() => ({\n    abortControllerRef,\n    animationTypeRef,\n    disabled,\n    handleTrigger,\n    height,\n    mounted,\n    open,\n    panelId,\n    panelRef,\n    runOnceAnimationsFinish,\n    setDimensions,\n    setHiddenUntilFound,\n    setKeepMounted,\n    setMounted,\n    setOpen,\n    setPanelIdState,\n    setVisible,\n    transitionDimensionRef,\n    transitionStatus,\n    visible,\n    width\n  }), [abortControllerRef, animationTypeRef, disabled, handleTrigger, height, mounted, open, panelId, panelRef, runOnceAnimationsFinish, setDimensions, setHiddenUntilFound, setKeepMounted, setMounted, setOpen, setVisible, transitionDimensionRef, transitionStatus, visible, width]);\n}", "'use client';\n\nimport * as ReactDOM from 'react-dom';\nimport { useAnimationFrame } from '@base-ui/utils/useAnimationFrame';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { resolveRef } from \"./resolveRef.js\";\nimport { TransitionStatusDataAttributes } from \"./stateAttributesMapping.js\";\n\n/**\n * Executes a function once all animations have finished on the provided element.\n * @param elementOrRef - The element to watch for animations.\n * @param waitForStartingStyleRemoved - Whether to wait for [data-starting-style] to be removed before checking for animations.\n * @param treatAbortedAsFinished - Whether to treat aborted animations as finished. If `false`, and there are aborted animations,\n *   the function will check again if any new animations have started and wait for them to finish.\n * @returns A function that takes a callback to execute once all animations have finished, and an optional AbortSignal to abort the callback\n */\nexport function useAnimationsFinished(elementOrRef, waitForStartingStyleRemoved = false, treatAbortedAsFinished = true) {\n  const frame = useAnimationFrame();\n  return useStableCallback((fnToExecute,\n  /**\n   * An optional [AbortSignal](https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal) that\n   * can be used to abort `fnToExecute` before all the animations have finished.\n   * @default null\n   */\n  signal = null) => {\n    frame.cancel();\n    function done() {\n      // Synchronously flush the unmounting of the component so that the browser doesn't\n      // paint: https://github.com/mui/base-ui/issues/979\n      ReactDOM.flushSync(fnToExecute);\n    }\n    const element = resolveRef(elementOrRef);\n    if (element == null) {\n      return;\n    }\n    const resolvedElement = element;\n    if (typeof resolvedElement.getAnimations !== 'function' || globalThis.BASE_UI_ANIMATIONS_DISABLED) {\n      fnToExecute();\n    } else {\n      function execWaitForStartingStyleRemoved() {\n        const startingStyleAttribute = TransitionStatusDataAttributes.startingStyle;\n\n        // If `[data-starting-style]` isn't present, fall back to waiting one more frame\n        // to give \"open\" animations a chance to be registered.\n        if (!resolvedElement.hasAttribute(startingStyleAttribute)) {\n          frame.request(exec);\n          return;\n        }\n\n        // Wait for `[data-starting-style]` to have been removed.\n        const attributeObserver = new MutationObserver(() => {\n          if (!resolvedElement.hasAttribute(startingStyleAttribute)) {\n            attributeObserver.disconnect();\n            exec();\n          }\n        });\n        attributeObserver.observe(resolvedElement, {\n          attributes: true,\n          attributeFilter: [startingStyleAttribute]\n        });\n        signal?.addEventListener('abort', () => attributeObserver.disconnect(), {\n          once: true\n        });\n      }\n      function exec() {\n        Promise.all(resolvedElement.getAnimations().map(anim => anim.finished)).then(() => {\n          if (signal?.aborted) {\n            return;\n          }\n          done();\n        }).catch(() => {\n          const currentAnimations = resolvedElement.getAnimations();\n          if (treatAbortedAsFinished) {\n            if (signal?.aborted) {\n              return;\n            }\n            done();\n          } else if (currentAnimations.length > 0 && currentAnimations.some(anim => anim.pending || anim.playState !== 'finished')) {\n            // Sometimes animations can be aborted because a property they depend on changes while the animation plays.\n            // In such cases, we need to re-check if any new animations have started.\n            exec();\n          }\n        });\n      }\n      if (waitForStartingStyleRemoved) {\n        execWaitForStartingStyleRemoved();\n        return;\n      }\n      frame.request(exec);\n    }\n  });\n}", "'use client';\n\nimport * as React from 'react';\nconst EMPTY = [];\n\n/**\n * A React.useEffect equivalent that runs once, when the component is mounted.\n */\nexport function useOnMount(fn) {\n  // TODO: uncomment once we enable eslint-plugin-react-compiler // eslint-disable-next-line react-compiler/react-compiler -- no need to put `fn` in the dependency array\n  /* eslint-disable react-hooks/exhaustive-deps */\n  React.useEffect(fn, EMPTY);\n  /* eslint-enable react-hooks/exhaustive-deps */\n}", "'use client';\n\nimport { useRefWithInit } from \"./useRefWithInit.js\";\nimport { useOnMount } from \"./useOnMount.js\";\n/** Unlike `setTimeout`, rAF doesn't guarantee a positive integer return value, so we can't have\n * a monomorphic `uint` type with `0` meaning empty.\n * See warning note at:\n * https://developer.mozilla.org/en-US/docs/Web/API/Window/requestAnimationFrame#return_value */\nconst EMPTY = null;\nlet LAST_RAF = globalThis.requestAnimationFrame;\nclass Scheduler {\n  /* This implementation uses an array as a backing data-structure for frame callbacks.\n   * It allows `O(1)` callback cancelling by inserting a `null` in the array, though it\n   * never calls the native `cancelAnimationFrame` if there are no frames left. This can\n   * be much more efficient if there is a call pattern that alterns as\n   * \"request-cancel-request-cancel-\".\n   * But in the case of \"request-request--cancel-cancel-\", it leaves the final animation\n   * frame to run anyway. We turn that frame into a `O(1)` no-op via `callbacksCount`. */\n\n  callbacks = [];\n  callbacksCount = 0;\n  nextId = 1;\n  startId = 1;\n  isScheduled = false;\n  tick = timestamp => {\n    this.isScheduled = false;\n    const currentCallbacks = this.callbacks;\n    const currentCallbacksCount = this.callbacksCount;\n\n    // Update these before iterating, callbacks could call `requestAnimationFrame` again.\n    this.callbacks = [];\n    this.callbacksCount = 0;\n    this.startId = this.nextId;\n    if (currentCallbacksCount > 0) {\n      for (let i = 0; i < currentCallbacks.length; i += 1) {\n        currentCallbacks[i]?.(timestamp);\n      }\n    }\n  };\n  request(fn) {\n    const id = this.nextId;\n    this.nextId += 1;\n    this.callbacks.push(fn);\n    this.callbacksCount += 1;\n\n    /* In a test environment with fake timers, a fake `requestAnimationFrame` can be called\n     * but there's no guarantee that the animation frame will actually run before the fake\n     * timers are teared, which leaves `isScheduled` set, but won't run our `tick()`. */\n    const didRAFChange = process.env.NODE_ENV === 'test' && LAST_RAF !== requestAnimationFrame && (LAST_RAF = requestAnimationFrame, true);\n    if (!this.isScheduled || didRAFChange) {\n      requestAnimationFrame(this.tick);\n      this.isScheduled = true;\n    }\n    return id;\n  }\n  cancel(id) {\n    const index = id - this.startId;\n    if (index < 0 || index >= this.callbacks.length) {\n      return;\n    }\n    this.callbacks[index] = null;\n    this.callbacksCount -= 1;\n  }\n}\nconst scheduler = new Scheduler();\nexport class AnimationFrame {\n  static create() {\n    return new AnimationFrame();\n  }\n  static request(fn) {\n    return scheduler.request(fn);\n  }\n  static cancel(id) {\n    return scheduler.cancel(id);\n  }\n  currentId = EMPTY;\n\n  /**\n   * Executes `fn` after `delay`, clearing any previously scheduled call.\n   */\n  request(fn) {\n    this.cancel();\n    this.currentId = scheduler.request(() => {\n      this.currentId = EMPTY;\n      fn();\n    });\n  }\n  cancel = () => {\n    if (this.currentId !== EMPTY) {\n      scheduler.cancel(this.currentId);\n      this.currentId = EMPTY;\n    }\n  };\n  disposeEffect = () => {\n    return this.cancel;\n  };\n}\n\n/**\n * A `requestAnimationFrame` with automatic cleanup and guard.\n */\nexport function useAnimationFrame() {\n  const timeout = useRefWithInit(AnimationFrame.create).current;\n  useOnMount(timeout.disposeEffect);\n  return timeout;\n}", "/**\n * If the provided argument is a ref object, returns its `current` value.\n * Otherwise, returns the argument itself.\n */\nexport function resolveRef(maybeRef) {\n  if (maybeRef == null) {\n    return maybeRef;\n  }\n  return 'current' in maybeRef ? maybeRef.current : maybeRef;\n}", "export let TransitionStatusDataAttributes = /*#__PURE__*/function (TransitionStatusDataAttributes) {\n  /**\n   * Present when the component is animating in.\n   */\n  TransitionStatusDataAttributes[\"startingStyle\"] = \"data-starting-style\";\n  /**\n   * Present when the component is animating out.\n   */\n  TransitionStatusDataAttributes[\"endingStyle\"] = \"data-ending-style\";\n  return TransitionStatusDataAttributes;\n}({});\nconst STARTING_HOOK = {\n  [TransitionStatusDataAttributes.startingStyle]: ''\n};\nconst ENDING_HOOK = {\n  [TransitionStatusDataAttributes.endingStyle]: ''\n};\nexport const transitionStatusMapping = {\n  transitionStatus(value) {\n    if (value === 'starting') {\n      return STARTING_HOOK;\n    }\n    if (value === 'ending') {\n      return ENDING_HOOK;\n    }\n    return null;\n  }\n};", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { AnimationFrame } from '@base-ui/utils/useAnimationFrame';\n/**\n * Provides a status string for CSS animations.\n * @param open - a boolean that determines if the element is open.\n * @param enableIdleState - a boolean that enables the `'idle'` state between `'starting'` and `'ending'`\n */\nexport function useTransitionStatus(open, enableIdleState = false, deferEndingState = false) {\n  const [transitionStatus, setTransitionStatus] = React.useState(open && enableIdleState ? 'idle' : undefined);\n  const [mounted, setMounted] = React.useState(open);\n  if (open && !mounted) {\n    setMounted(true);\n    setTransitionStatus('starting');\n  }\n  if (!open && mounted && transitionStatus !== 'ending' && !deferEndingState) {\n    setTransitionStatus('ending');\n  }\n  if (!open && !mounted && transitionStatus === 'ending') {\n    setTransitionStatus(undefined);\n  }\n  useIsoLayoutEffect(() => {\n    if (!open && mounted && transitionStatus !== 'ending' && deferEndingState) {\n      const frame = AnimationFrame.request(() => {\n        setTransitionStatus('ending');\n      });\n      return () => {\n        AnimationFrame.cancel(frame);\n      };\n    }\n    return undefined;\n  }, [open, mounted, transitionStatus, deferEndingState]);\n  useIsoLayoutEffect(() => {\n    if (!open || enableIdleState) {\n      return undefined;\n    }\n    const frame = AnimationFrame.request(() => {\n      // Avoid `flushSync` here due to Firefox.\n      // See https://github.com/mui/base-ui/pull/3424\n      setTransitionStatus(undefined);\n    });\n    return () => {\n      AnimationFrame.cancel(frame);\n    };\n  }, [enableIdleState, open]);\n  useIsoLayoutEffect(() => {\n    if (!open || !enableIdleState) {\n      return undefined;\n    }\n    if (open && mounted && transitionStatus !== 'idle') {\n      setTransitionStatus('starting');\n    }\n    const frame = AnimationFrame.request(() => {\n      setTransitionStatus('idle');\n    });\n    return () => {\n      AnimationFrame.cancel(frame);\n    };\n  }, [enableIdleState, open, mounted, setTransitionStatus, transitionStatus]);\n  return React.useMemo(() => ({\n    mounted,\n    setMounted,\n    transitionStatus\n  }), [mounted, transitionStatus]);\n}", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const CollapsibleRootContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") CollapsibleRootContext.displayName = \"CollapsibleRootContext\";\nexport function useCollapsibleRootContext() {\n  const context = React.useContext(CollapsibleRootContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: CollapsibleRootContext is missing. Collapsible parts must be placed within <Collapsible.Root>.' : _formatErrorMessage(15));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useCompositeListContext } from \"./CompositeListContext.js\";\nexport let IndexGuessBehavior = /*#__PURE__*/function (IndexGuessBehavior) {\n  IndexGuessBehavior[IndexGuessBehavior[\"None\"] = 0] = \"None\";\n  IndexGuessBehavior[IndexGuessBehavior[\"GuessFromOrder\"] = 1] = \"GuessFromOrder\";\n  return IndexGuessBehavior;\n}({});\n\n/**\n * Used to register a list item and its index (DOM position) in the `CompositeList`.\n */\nexport function useCompositeListItem(params = {}) {\n  const {\n    label,\n    metadata,\n    textRef,\n    indexGuessBehavior,\n    index: externalIndex\n  } = params;\n  const {\n    register,\n    unregister,\n    subscribeMapChange,\n    elementsRef,\n    labelsRef,\n    nextIndexRef\n  } = useCompositeListContext();\n  const indexRef = React.useRef(-1);\n  const [index, setIndex] = React.useState(externalIndex ?? (indexGuessBehavior === IndexGuessBehavior.GuessFromOrder ? () => {\n    if (indexRef.current === -1) {\n      const newIndex = nextIndexRef.current;\n      nextIndexRef.current += 1;\n      indexRef.current = newIndex;\n    }\n    return indexRef.current;\n  } : -1));\n  const componentRef = React.useRef(null);\n  const ref = React.useCallback(node => {\n    componentRef.current = node;\n    if (index !== -1 && node !== null) {\n      elementsRef.current[index] = node;\n      if (labelsRef) {\n        const isLabelDefined = label !== undefined;\n        labelsRef.current[index] = isLabelDefined ? label : textRef?.current?.textContent ?? node.textContent;\n      }\n    }\n  }, [index, elementsRef, labelsRef, label, textRef]);\n  useIsoLayoutEffect(() => {\n    if (externalIndex != null) {\n      return undefined;\n    }\n    const node = componentRef.current;\n    if (node) {\n      register(node, metadata);\n      return () => {\n        unregister(node);\n      };\n    }\n    return undefined;\n  }, [externalIndex, register, unregister, metadata]);\n  useIsoLayoutEffect(() => {\n    if (externalIndex != null) {\n      return undefined;\n    }\n    return subscribeMapChange(map => {\n      const i = componentRef.current ? map.get(componentRef.current)?.index : null;\n      if (i != null) {\n        setIndex(i);\n      }\n    });\n  }, [externalIndex, subscribeMapChange, setIndex]);\n  return React.useMemo(() => ({\n    ref,\n    index\n  }), [index, ref]);\n}", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const AccordionItemContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") AccordionItemContext.displayName = \"AccordionItemContext\";\nexport function useAccordionItemContext() {\n  const context = React.useContext(AccordionItemContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: AccordionItemContext is missing. Accordion parts must be placed within <Accordion.Item>.' : _formatErrorMessage(9));\n  }\n  return context;\n}", "import { TransitionStatusDataAttributes } from \"../../utils/stateAttributesMapping.js\";\nexport let CollapsiblePanelDataAttributes = function (CollapsiblePanelDataAttributes) {\n  /**\n   * Present when the collapsible panel is open.\n   */\n  CollapsiblePanelDataAttributes[\"open\"] = \"data-open\";\n  /**\n   * Present when the collapsible panel is closed.\n   */\n  CollapsiblePanelDataAttributes[\"closed\"] = \"data-closed\";\n  /**\n   * Present when the panel is animating in.\n   */\n  CollapsiblePanelDataAttributes[CollapsiblePanelDataAttributes[\"startingStyle\"] = TransitionStatusDataAttributes.startingStyle] = \"startingStyle\";\n  /**\n   * Present when the panel is animating out.\n   */\n  CollapsiblePanelDataAttributes[CollapsiblePanelDataAttributes[\"endingStyle\"] = TransitionStatusDataAttributes.endingStyle] = \"endingStyle\";\n  return CollapsiblePanelDataAttributes;\n}({});", "export let CollapsibleTriggerDataAttributes = /*#__PURE__*/function (CollapsibleTriggerDataAttributes) {\n  /**\n   * Present when the collapsible panel is open.\n   */\n  CollapsibleTriggerDataAttributes[\"panelOpen\"] = \"data-panel-open\";\n  return CollapsibleTriggerDataAttributes;\n}({});", "import { CollapsiblePanelDataAttributes } from \"../collapsible/panel/CollapsiblePanelDataAttributes.js\";\nimport { CollapsibleTriggerDataAttributes } from \"../collapsible/trigger/CollapsibleTriggerDataAttributes.js\";\nconst PANEL_OPEN_HOOK = {\n  [CollapsiblePanelDataAttributes.open]: ''\n};\nconst PANEL_CLOSED_HOOK = {\n  [CollapsiblePanelDataAttributes.closed]: ''\n};\nexport const triggerOpenStateMapping = {\n  open(value) {\n    if (value) {\n      return {\n        [CollapsibleTriggerDataAttributes.panelOpen]: ''\n      };\n    }\n    return null;\n  }\n};\nexport const collapsibleOpenStateMapping = {\n  open(value) {\n    if (value) {\n      return PANEL_OPEN_HOOK;\n    }\n    return PANEL_CLOSED_HOOK;\n  }\n};", "export let AccordionItemDataAttributes = /*#__PURE__*/function (AccordionItemDataAttributes) {\n  /**\n   * Indicates the index of the accordion item.\n   * @type {number}\n   */\n  AccordionItemDataAttributes[\"index\"] = \"data-index\";\n  /**\n   * Present when the accordion item is disabled.\n   */\n  AccordionItemDataAttributes[\"disabled\"] = \"data-disabled\";\n  /**\n   * Present when the accordion item is open.\n   */\n  AccordionItemDataAttributes[\"open\"] = \"data-open\";\n  return AccordionItemDataAttributes;\n}({});", "import { collapsibleOpenStateMapping as baseMapping } from \"../../utils/collapsibleOpenStateMapping.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { AccordionItemDataAttributes } from \"./AccordionItemDataAttributes.js\";\nexport const accordionStateAttributesMapping = {\n  ...baseMapping,\n  index: value => {\n    return Number.isInteger(value) ? {\n      [AccordionItemDataAttributes.index]: String(value)\n    } : null;\n  },\n  ...transitionStatusMapping,\n  value: () => null\n};", "'use client';\n\nimport * as React from 'react';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useAccordionItemContext } from \"../item/AccordionItemContext.js\";\nimport { accordionStateAttributesMapping } from \"../item/stateAttributesMapping.js\";\n\n/**\n * A heading that labels the corresponding panel.\n * Renders an `<h3>` element.\n *\n * Documentation: [Base UI Accordion](https://base-ui.com/react/components/accordion)\n */\nexport const AccordionHeader = /*#__PURE__*/React.forwardRef(function AccordionHeader(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const {\n    state\n  } = useAccordionItemContext();\n  const element = useRenderElement('h3', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: elementProps,\n    stateAttributesMapping: accordionStateAttributesMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") AccordionHeader.displayName = \"AccordionHeader\";", "'use client';\n\nimport * as React from 'react';\nimport { isElementDisabled } from '@base-ui/utils/isElementDisabled';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { triggerOpenStateMapping } from \"../../utils/collapsibleOpenStateMapping.js\";\nimport { useButton } from \"../../use-button/index.js\";\nimport { useCollapsibleRootContext } from \"../../collapsible/root/CollapsibleRootContext.js\";\nimport { ARROW_DOWN, ARROW_UP, ARROW_RIGHT, ARROW_LEFT, HOME, END, stopEvent } from \"../../composite/composite.js\";\nimport { useAccordionRootContext } from \"../root/AccordionRootContext.js\";\nimport { useAccordionItemContext } from \"../item/AccordionItemContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nconst SUPPORTED_KEYS = new Set([ARROW_DOWN, ARROW_UP, ARROW_RIGHT, ARROW_LEFT, HOME, END]);\nfunction getActiveTriggers(accordionItemRefs) {\n  const {\n    current: accordionItemElements\n  } = accordionItemRefs;\n  const output = [];\n  for (let i = 0; i < accordionItemElements.length; i += 1) {\n    const section = accordionItemElements[i];\n    if (!isElementDisabled(section)) {\n      const trigger = section?.querySelector('[type=\"button\"], [role=\"button\"]');\n      if (trigger && !isElementDisabled(trigger)) {\n        output.push(trigger);\n      }\n    }\n  }\n  return output;\n}\n\n/**\n * A button that opens and closes the corresponding panel.\n * Renders a `<button>` element.\n *\n * Documentation: [Base UI Accordion](https://base-ui.com/react/components/accordion)\n */\n\nexport const AccordionTrigger = /*#__PURE__*/React.forwardRef(function AccordionTrigger(componentProps, forwardedRef) {\n  const {\n    disabled: disabledProp,\n    className,\n    id: idProp,\n    render,\n    nativeButton = true,\n    ...elementProps\n  } = componentProps;\n  const {\n    panelId,\n    open,\n    handleTrigger,\n    disabled: contextDisabled\n  } = useCollapsibleRootContext();\n  const disabled = disabledProp ?? contextDisabled;\n  const {\n    getButtonProps,\n    buttonRef\n  } = useButton({\n    disabled,\n    focusableWhenDisabled: true,\n    native: nativeButton\n  });\n  const {\n    accordionItemRefs,\n    direction,\n    loopFocus,\n    orientation\n  } = useAccordionRootContext();\n  const isRtl = direction === 'rtl';\n  const isHorizontal = orientation === 'horizontal';\n  const {\n    state,\n    setTriggerId,\n    triggerId: id\n  } = useAccordionItemContext();\n  useIsoLayoutEffect(() => {\n    if (idProp) {\n      setTriggerId(idProp);\n    }\n    return () => {\n      setTriggerId(undefined);\n    };\n  }, [idProp, setTriggerId]);\n  const props = React.useMemo(() => ({\n    'aria-controls': open ? panelId : undefined,\n    'aria-expanded': open,\n    id,\n    onClick: handleTrigger,\n    onKeyDown(event) {\n      if (!SUPPORTED_KEYS.has(event.key)) {\n        return;\n      }\n      stopEvent(event);\n      const triggers = getActiveTriggers(accordionItemRefs);\n      const numOfEnabledTriggers = triggers.length;\n      const lastIndex = numOfEnabledTriggers - 1;\n      let nextIndex = -1;\n      const thisIndex = triggers.indexOf(event.target);\n      function toNext() {\n        if (loopFocus) {\n          nextIndex = thisIndex + 1 > lastIndex ? 0 : thisIndex + 1;\n        } else {\n          nextIndex = Math.min(thisIndex + 1, lastIndex);\n        }\n      }\n      function toPrev() {\n        if (loopFocus) {\n          nextIndex = thisIndex === 0 ? lastIndex : thisIndex - 1;\n        } else {\n          nextIndex = thisIndex - 1;\n        }\n      }\n      switch (event.key) {\n        case ARROW_DOWN:\n          if (!isHorizontal) {\n            toNext();\n          }\n          break;\n        case ARROW_UP:\n          if (!isHorizontal) {\n            toPrev();\n          }\n          break;\n        case ARROW_RIGHT:\n          if (isHorizontal) {\n            if (isRtl) {\n              toPrev();\n            } else {\n              toNext();\n            }\n          }\n          break;\n        case ARROW_LEFT:\n          if (isHorizontal) {\n            if (isRtl) {\n              toNext();\n            } else {\n              toPrev();\n            }\n          }\n          break;\n        case 'Home':\n          nextIndex = 0;\n          break;\n        case 'End':\n          nextIndex = lastIndex;\n          break;\n        default:\n          break;\n      }\n      if (nextIndex > -1) {\n        triggers[nextIndex].focus();\n      }\n    }\n  }), [accordionItemRefs, handleTrigger, id, isHorizontal, isRtl, loopFocus, open, panelId]);\n  const element = useRenderElement('button', componentProps, {\n    state,\n    ref: [forwardedRef, buttonRef],\n    props: [props, elementProps, getButtonProps],\n    stateAttributesMapping: triggerOpenStateMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") AccordionTrigger.displayName = \"AccordionTrigger\";", "export function isElementDisabled(element) {\n  return element == null || element.hasAttribute('disabled') || element.getAttribute('aria-disabled') === 'true';\n}", "'use client';\n\nimport * as React from 'react';\nimport { isHTMLElement } from '@floating-ui/utils/dom';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { error } from '@base-ui/utils/error';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { makeEventPreventable, mergeProps } from \"../merge-props/index.js\";\nimport { useCompositeRootContext } from \"../composite/root/CompositeRootContext.js\";\nimport { useFocusableWhenDisabled } from \"../utils/useFocusableWhenDisabled.js\";\nexport function useButton(parameters = {}) {\n  const {\n    disabled = false,\n    focusableWhenDisabled,\n    tabIndex = 0,\n    native: isNativeButton = true\n  } = parameters;\n  const elementRef = React.useRef(null);\n  const isCompositeItem = useCompositeRootContext(true) !== undefined;\n  const isValidLink = useStableCallback(() => {\n    const element = elementRef.current;\n    return Boolean(element?.tagName === 'A' && element?.href);\n  });\n  const {\n    props: focusableWhenDisabledProps\n  } = useFocusableWhenDisabled({\n    focusableWhenDisabled,\n    disabled,\n    composite: isCompositeItem,\n    tabIndex,\n    isNativeButton\n  });\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useEffect(() => {\n      if (!elementRef.current) {\n        return;\n      }\n      const isButtonTag = elementRef.current.tagName === 'BUTTON';\n      if (isNativeButton) {\n        if (!isButtonTag) {\n          error('A component that acts as a button was not rendered as a native <button>, which does not match the default. Ensure that the element passed to the `render` prop of the component is a real <button>, or set the `nativeButton` prop on the component to `false`.');\n        }\n      } else if (isButtonTag) {\n        error('A component that acts as a button was rendered as a native <button>, which does not match the default. Ensure that the element passed to the `render` prop of the component is not a real <button>, or set the `nativeButton` prop on the component to `true`.');\n      }\n    }, [isNativeButton]);\n  }\n\n  // handles a disabled composite button rendering another button, e.g.\n  // <Toolbar.Button disabled render={<Menu.Trigger />} />\n  // the `disabled` prop needs to pass through 2 `useButton`s then finally\n  // delete the `disabled` attribute from DOM\n  const updateDisabled = React.useCallback(() => {\n    const element = elementRef.current;\n    if (!isButtonElement(element)) {\n      return;\n    }\n    if (isCompositeItem && disabled && focusableWhenDisabledProps.disabled === undefined && element.disabled) {\n      element.disabled = false;\n    }\n  }, [disabled, focusableWhenDisabledProps.disabled, isCompositeItem]);\n  useIsoLayoutEffect(updateDisabled, [updateDisabled]);\n  const getButtonProps = React.useCallback((externalProps = {}) => {\n    const {\n      onClick: externalOnClick,\n      onMouseDown: externalOnMouseDown,\n      onKeyUp: externalOnKeyUp,\n      onKeyDown: externalOnKeyDown,\n      onPointerDown: externalOnPointerDown,\n      ...otherExternalProps\n    } = externalProps;\n    const type = isNativeButton ? 'button' : undefined;\n    return mergeProps({\n      type,\n      onClick(event) {\n        if (disabled) {\n          event.preventDefault();\n          return;\n        }\n        externalOnClick?.(event);\n      },\n      onMouseDown(event) {\n        if (!disabled) {\n          externalOnMouseDown?.(event);\n        }\n      },\n      onKeyDown(event) {\n        if (!disabled) {\n          makeEventPreventable(event);\n          externalOnKeyDown?.(event);\n        }\n        if (event.baseUIHandlerPrevented) {\n          return;\n        }\n        const shouldClick = event.target === event.currentTarget && !isNativeButton && !isValidLink() && !disabled;\n        const isEnterKey = event.key === 'Enter';\n        const isSpaceKey = event.key === ' ';\n\n        // Keyboard accessibility for non interactive elements\n        if (shouldClick) {\n          if (isSpaceKey || isEnterKey) {\n            event.preventDefault();\n          }\n          if (isEnterKey) {\n            externalOnClick?.(event);\n          }\n        }\n      },\n      onKeyUp(event) {\n        // calling preventDefault in keyUp on a <button> will not dispatch a click event if Space is pressed\n        // https://codesandbox.io/p/sandbox/button-keyup-preventdefault-dn7f0\n        // Keyboard accessibility for non interactive elements\n        if (!disabled) {\n          makeEventPreventable(event);\n          externalOnKeyUp?.(event);\n        }\n        if (event.baseUIHandlerPrevented) {\n          return;\n        }\n        if (event.target === event.currentTarget && !isNativeButton && !disabled && event.key === ' ') {\n          externalOnClick?.(event);\n        }\n      },\n      onPointerDown(event) {\n        if (disabled) {\n          event.preventDefault();\n          return;\n        }\n        externalOnPointerDown?.(event);\n      }\n    }, !isNativeButton ? {\n      role: 'button'\n    } : undefined, focusableWhenDisabledProps, otherExternalProps);\n  }, [disabled, focusableWhenDisabledProps, isNativeButton, isValidLink]);\n  const buttonRef = useStableCallback(element => {\n    elementRef.current = element;\n    updateDisabled();\n  });\n  return {\n    getButtonProps,\n    buttonRef\n  };\n}\nfunction isButtonElement(elem) {\n  return isHTMLElement(elem) && elem.tagName === 'BUTTON';\n}", "let set;\nif (process.env.NODE_ENV !== 'production') {\n  set = new Set();\n}\nexport function error(...messages) {\n  if (process.env.NODE_ENV !== 'production') {\n    const messageKey = messages.join(' ');\n    if (!set.has(messageKey)) {\n      set.add(messageKey);\n      console.error(`Base UI: ${messageKey}`);\n    }\n  }\n}\nexport function reset() {\n  set?.clear();\n}", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const CompositeRootContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") CompositeRootContext.displayName = \"CompositeRootContext\";\nexport function useCompositeRootContext(optional = false) {\n  const context = React.useContext(CompositeRootContext);\n  if (context === undefined && !optional) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: CompositeRootContext is missing. Composite parts must be placed within <Composite.Root>.' : _formatErrorMessage(16));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nexport function useFocusableWhenDisabled(parameters) {\n  const {\n    focusableWhenDisabled,\n    disabled,\n    composite = false,\n    tabIndex: tabIndexProp = 0,\n    isNativeButton\n  } = parameters;\n  const isFocusableComposite = composite && focusableWhenDisabled !== false;\n  const isNonFocusableComposite = composite && focusableWhenDisabled === false;\n\n  // we can't explicitly assign `undefined` to any of these props because it\n  // would otherwise prevent subsequently merged props from setting them\n  const props = React.useMemo(() => {\n    const additionalProps = {\n      // allow Tabbing away from focusableWhenDisabled elements\n      onKeyDown(event) {\n        if (disabled && focusableWhenDisabled && event.key !== 'Tab') {\n          event.preventDefault();\n        }\n      }\n    };\n    if (!composite) {\n      additionalProps.tabIndex = tabIndexProp;\n      if (!isNativeButton && disabled) {\n        additionalProps.tabIndex = focusableWhenDisabled ? tabIndexProp : -1;\n      }\n    }\n    if (isNativeButton && (focusableWhenDisabled || isFocusableComposite) || !isNativeButton && disabled) {\n      additionalProps['aria-disabled'] = disabled;\n    }\n    if (isNativeButton && (!focusableWhenDisabled || isNonFocusableComposite)) {\n      additionalProps.disabled = disabled;\n    }\n    return additionalProps;\n  }, [composite, disabled, focusableWhenDisabled, isFocusableComposite, isNonFocusableComposite, isNativeButton, tabIndexProp]);\n  return {\n    props\n  };\n}", "const hasNavigator = typeof navigator !== 'undefined';\nconst nav = getNavigatorData();\nconst platform = getPlatform();\nconst userAgent = getUserAgent();\nexport const isWebKit = typeof CSS === 'undefined' || !CSS.supports ? false : CSS.supports('-webkit-backdrop-filter:none');\nexport const isIOS =\n// iPads can claim to be MacIntel\nnav.platform === 'MacIntel' && nav.maxTouchPoints > 1 ? true : /iP(hone|ad|od)|iOS/.test(nav.platform);\nexport const isFirefox = hasNavigator && /firefox/i.test(userAgent);\nexport const isSafari = hasNavigator && /apple/i.test(navigator.vendor);\nexport const isEdge = hasNavigator && /Edg/i.test(userAgent);\nexport const isAndroid = hasNavigator && /android/i.test(platform) || /android/i.test(userAgent);\nexport const isMac = hasNavigator && platform.toLowerCase().startsWith('mac') && !navigator.maxTouchPoints;\nexport const isJSDOM = userAgent.includes('jsdom/');\n\n// Avoid Chrome DevTools blue warning.\nfunction getNavigatorData() {\n  if (!hasNavigator) {\n    return {\n      platform: '',\n      maxTouchPoints: -1\n    };\n  }\n  const uaData = navigator.userAgentData;\n  if (uaData?.platform) {\n    return {\n      platform: uaData.platform,\n      maxTouchPoints: navigator.maxTouchPoints\n    };\n  }\n  return {\n    platform: navigator.platform ?? '',\n    maxTouchPoints: navigator.maxTouchPoints ?? -1\n  };\n}\nfunction getUserAgent() {\n  if (!hasNavigator) {\n    return '';\n  }\n  const uaData = navigator.userAgentData;\n  if (uaData && Array.isArray(uaData.brands)) {\n    return uaData.brands.map(({\n      brand,\n      version\n    }) => `${brand}/${version}`).join(' ');\n  }\n  return navigator.userAgent;\n}\nfunction getPlatform() {\n  if (!hasNavigator) {\n    return '';\n  }\n  const uaData = navigator.userAgentData;\n  if (uaData?.platform) {\n    return uaData.platform;\n  }\n  return navigator.platform ?? '';\n}", "export const FOCUSABLE_ATTRIBUTE = 'data-base-ui-focusable';\nexport const ACTIVE_KEY = 'active';\nexport const SELECTED_KEY = 'selected';\nexport const TYPEABLE_SELECTOR = \"input:not([type='hidden']):not([disabled]),\" + \"[contenteditable]:not([contenteditable='false']),textarea:not([disabled])\";\nexport const ARROW_LEFT = 'ArrowLeft';\nexport const ARROW_RIGHT = 'ArrowRight';\nexport const ARROW_UP = 'ArrowUp';\nexport const ARROW_DOWN = 'ArrowDown';", "import { isHTMLElement, isShadowRoot } from '@floating-ui/utils/dom';\nimport { isJSDOM } from '@base-ui/utils/detectBrowser';\nimport { FOCUSABLE_ATTRIBUTE, TYPEABLE_SELECTOR } from \"./constants.js\";\nexport function activeElement(doc) {\n  let element = doc.activeElement;\n  while (element?.shadowRoot?.activeElement != null) {\n    element = element.shadowRoot.activeElement;\n  }\n  return element;\n}\nexport function contains(parent, child) {\n  if (!parent || !child) {\n    return false;\n  }\n  const rootNode = child.getRootNode?.();\n\n  // First, attempt with faster native method\n  if (parent.contains(child)) {\n    return true;\n  }\n\n  // then fallback to custom implementation with Shadow DOM support\n  if (rootNode && isShadowRoot(rootNode)) {\n    let next = child;\n    while (next) {\n      if (parent === next) {\n        return true;\n      }\n      next = next.parentNode || next.host;\n    }\n  }\n\n  // Give up, the result is false\n  return false;\n}\nexport function getTarget(event) {\n  if ('composedPath' in event) {\n    return event.composedPath()[0];\n  }\n\n  // TS thinks `event` is of type never as it assumes all browsers support\n  // `composedPath()`, but browsers without shadow DOM don't.\n  return event.target;\n}\nexport function isEventTargetWithin(event, node) {\n  if (node == null) {\n    return false;\n  }\n  if ('composedPath' in event) {\n    return event.composedPath().includes(node);\n  }\n\n  // TS thinks `event` is of type never as it assumes all browsers support composedPath, but browsers without shadow dom don't\n  const eventAgain = event;\n  return eventAgain.target != null && node.contains(eventAgain.target);\n}\nexport function isRootElement(element) {\n  return element.matches('html,body');\n}\nexport function getDocument(node) {\n  return node?.ownerDocument || document;\n}\nexport function isTypeableElement(element) {\n  return isHTMLElement(element) && element.matches(TYPEABLE_SELECTOR);\n}\nexport function isTypeableCombobox(element) {\n  if (!element) {\n    return false;\n  }\n  return element.getAttribute('role') === 'combobox' && isTypeableElement(element);\n}\nexport function matchesFocusVisible(element) {\n  // We don't want to block focus from working with `visibleOnly`\n  // (JSDOM doesn't match `:focus-visible` when the element has `:focus`)\n  if (!element || isJSDOM) {\n    return true;\n  }\n  try {\n    return element.matches(':focus-visible');\n  } catch (_e) {\n    return true;\n  }\n}\nexport function getFloatingFocusElement(floatingElement) {\n  if (!floatingElement) {\n    return null;\n  }\n  // Try to find the element that has `{...getFloatingProps()}` spread on it.\n  // This indicates the floating element is acting as a positioning wrapper, and\n  // so focus should be managed on the child element with the event handlers and\n  // aria props.\n  return floatingElement.hasAttribute(FOCUSABLE_ATTRIBUTE) ? floatingElement : floatingElement.querySelector(`[${FOCUSABLE_ATTRIBUTE}]`) || floatingElement;\n}", "/* eslint-disable @typescript-eslint/no-loop-func */\n\nexport function getNodeChildren(nodes, id, onlyOpenChildren = true) {\n  const directChildren = nodes.filter(node => node.parentId === id && (!onlyOpenChildren || node.context?.open));\n  return directChildren.flatMap(child => [child, ...getNodeChildren(nodes, child.id, onlyOpenChildren)]);\n}\nexport function getDeepestNode(nodes, id) {\n  let deepestNodeId;\n  let maxDepth = -1;\n  function findDeepest(nodeId, depth) {\n    if (depth > maxDepth) {\n      deepestNodeId = nodeId;\n      maxDepth = depth;\n    }\n    const children = getNodeChildren(nodes, nodeId);\n    children.forEach(child => {\n      findDeepest(child.id, depth + 1);\n    });\n  }\n  findDeepest(id, 0);\n  return nodes.find(node => node.id === deepestNodeId);\n}\nexport function getNodeAncestors(nodes, id) {\n  let allAncestors = [];\n  let currentParentId = nodes.find(node => node.id === id)?.parentId;\n  while (currentParentId) {\n    const currentNode = nodes.find(node => node.id === currentParentId);\n    currentParentId = currentNode?.parentId;\n    if (currentNode) {\n      allAncestors = allAncestors.concat(currentNode);\n    }\n  }\n  return allAncestors;\n}", "import { isAndroid, isJSDOM } from '@base-ui/utils/detectBrowser';\nexport function stopEvent(event) {\n  event.preventDefault();\n  event.stopPropagation();\n}\nexport function isReactEvent(event) {\n  return 'nativeEvent' in event;\n}\n\n// License: https://github.com/adobe/react-spectrum/blob/b35d5c02fe900badccd0cf1a8f23bb593419f238/packages/@react-aria/utils/src/isVirtualEvent.ts\nexport function isVirtualClick(event) {\n  // FIXME: Firefox is now emitting a deprecation warning for `mozInputSource`.\n  // Try to find a workaround for this. `react-aria` source still has the check.\n  if (event.mozInputSource === 0 && event.isTrusted) {\n    return true;\n  }\n  if (isAndroid && event.pointerType) {\n    return event.type === 'click' && event.buttons === 1;\n  }\n  return event.detail === 0 && !event.pointerType;\n}\nexport function isVirtualPointerEvent(event) {\n  if (isJSDOM) {\n    return false;\n  }\n  return !isAndroid && event.width === 0 && event.height === 0 || isAndroid && event.width === 1 && event.height === 1 && event.pressure === 0 && event.detail === 0 && event.pointerType === 'mouse' ||\n  // iOS VoiceOver returns 0.333 for width/height.\n  event.width < 1 && event.height < 1 && event.pressure === 0 && event.detail === 0 && event.pointerType === 'touch';\n}\nexport function isMouseLikePointerType(pointerType, strict) {\n  // On some Linux machines with Chromium, mouse inputs return a `pointerType`\n  // of \"pen\": https://github.com/floating-ui/floating-ui/issues/2015\n  const values = ['mouse', 'pen'];\n  if (!strict) {\n    values.push('', undefined);\n  }\n  return values.includes(pointerType);\n}\nexport function isClickLikeEvent(event) {\n  const type = event.type;\n  return type === 'click' || type === 'mousedown' || type === 'keydown' || type === 'keyup';\n}", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport { floor } from '@floating-ui/utils';\nimport { stopEvent } from \"./event.js\";\nimport { ARROW_DOWN, ARROW_LEFT, ARROW_RIGHT, ARROW_UP } from \"./constants.js\";\nexport function isDifferentGridRow(index, cols, prevRow) {\n  return Math.floor(index / cols) !== prevRow;\n}\nexport function isIndexOutOfListBounds(listRef, index) {\n  return index < 0 || index >= listRef.current.length;\n}\nexport function getMinListIndex(listRef, disabledIndices) {\n  return findNonDisabledListIndex(listRef, {\n    disabledIndices\n  });\n}\nexport function getMaxListIndex(listRef, disabledIndices) {\n  return findNonDisabledListIndex(listRef, {\n    decrement: true,\n    startingIndex: listRef.current.length,\n    disabledIndices\n  });\n}\nexport function findNonDisabledListIndex(listRef, {\n  startingIndex = -1,\n  decrement = false,\n  disabledIndices,\n  amount = 1\n} = {}) {\n  let index = startingIndex;\n  do {\n    index += decrement ? -amount : amount;\n  } while (index >= 0 && index <= listRef.current.length - 1 && isListIndexDisabled(listRef, index, disabledIndices));\n  return index;\n}\nexport function getGridNavigatedIndex(listRef, {\n  event,\n  orientation,\n  loopFocus,\n  rtl,\n  cols,\n  disabledIndices,\n  minIndex,\n  maxIndex,\n  prevIndex,\n  stopEvent: stop = false\n}) {\n  let nextIndex = prevIndex;\n\n  // ---------------------------------------------------------------------------\n  // Detect row structure based on DOM. This works when items are grouped inside\n  // elements that declare `role=\"row\"` (e.g., Combobox.Row). We build a matrix\n  // where each entry is the array of item indices for that visual row. The\n  // algorithm gracefully falls back to regular `cols`-based handling when no\n  // row structure can be detected.\n  // ---------------------------------------------------------------------------\n  const rows = [];\n  const rowIndexMap = {};\n  let hasRoleRow = false;\n  {\n    let currentRowEl = null;\n    let currentRowIndex = -1;\n    listRef.current.forEach((el, idx) => {\n      if (el == null) {\n        return;\n      }\n      const rowEl = el.closest('[role=\"row\"]');\n      if (rowEl) {\n        hasRoleRow = true;\n      }\n      if (rowEl !== currentRowEl || currentRowIndex === -1) {\n        currentRowEl = rowEl;\n        currentRowIndex += 1;\n        rows[currentRowIndex] = [];\n      }\n      rows[currentRowIndex].push(idx);\n      rowIndexMap[idx] = currentRowIndex;\n    });\n  }\n  const hasDomRows = hasRoleRow && rows.length > 0 && rows.some(row => row.length !== cols);\n  function navigateVertically(direction) {\n    if (!hasDomRows || prevIndex === -1) {\n      return undefined;\n    }\n    const currentRow = rowIndexMap[prevIndex];\n    if (currentRow == null) {\n      return undefined;\n    }\n    const colInRow = rows[currentRow].indexOf(prevIndex);\n    let nextRow = direction === 'up' ? currentRow - 1 : currentRow + 1;\n    if (loopFocus) {\n      if (nextRow < 0) {\n        nextRow = rows.length - 1;\n      } else if (nextRow >= rows.length) {\n        nextRow = 0;\n      }\n    }\n    const visited = new Set();\n    while (nextRow >= 0 && nextRow < rows.length && !visited.has(nextRow)) {\n      visited.add(nextRow);\n      const targetRow = rows[nextRow];\n      if (targetRow.length === 0) {\n        nextRow = direction === 'up' ? nextRow - 1 : nextRow + 1;\n        continue;\n      }\n      const clampedCol = Math.min(colInRow, targetRow.length - 1);\n      // Start from the preferred column, fallback leftwards until first\n      // enabled item is found.\n      for (let col = clampedCol; col >= 0; col -= 1) {\n        const candidate = targetRow[col];\n        if (!isListIndexDisabled(listRef, candidate, disabledIndices)) {\n          return candidate;\n        }\n      }\n      // Row had no enabled items, move to next row in the same direction.\n      nextRow = direction === 'up' ? nextRow - 1 : nextRow + 1;\n      if (loopFocus) {\n        if (nextRow < 0) {\n          nextRow = rows.length - 1;\n        } else if (nextRow >= rows.length) {\n          nextRow = 0;\n        }\n      }\n    }\n    return undefined;\n  }\n  if (event.key === ARROW_UP) {\n    const domBasedCandidate = navigateVertically('up');\n    if (domBasedCandidate !== undefined) {\n      if (stop) {\n        stopEvent(event);\n      }\n      nextIndex = domBasedCandidate;\n    } else {\n      // fallback to original logic\n      if (stop) {\n        stopEvent(event);\n      }\n      if (prevIndex === -1) {\n        nextIndex = maxIndex;\n      } else {\n        nextIndex = findNonDisabledListIndex(listRef, {\n          startingIndex: nextIndex,\n          amount: cols,\n          decrement: true,\n          disabledIndices\n        });\n        if (loopFocus && (prevIndex - cols < minIndex || nextIndex < 0)) {\n          const col = prevIndex % cols;\n          const maxCol = maxIndex % cols;\n          const offset = maxIndex - (maxCol - col);\n          if (maxCol === col) {\n            nextIndex = maxIndex;\n          } else {\n            nextIndex = maxCol > col ? offset : offset - cols;\n          }\n        }\n      }\n      if (isIndexOutOfListBounds(listRef, nextIndex)) {\n        nextIndex = prevIndex;\n      }\n    }\n  }\n  if (event.key === ARROW_DOWN) {\n    const domBasedCandidate = navigateVertically('down');\n    if (domBasedCandidate !== undefined) {\n      if (stop) {\n        stopEvent(event);\n      }\n      nextIndex = domBasedCandidate;\n    } else {\n      if (stop) {\n        stopEvent(event);\n      }\n      if (prevIndex === -1) {\n        nextIndex = minIndex;\n      } else {\n        nextIndex = findNonDisabledListIndex(listRef, {\n          startingIndex: prevIndex,\n          amount: cols,\n          disabledIndices\n        });\n        if (loopFocus && prevIndex + cols > maxIndex) {\n          nextIndex = findNonDisabledListIndex(listRef, {\n            startingIndex: prevIndex % cols - cols,\n            amount: cols,\n            disabledIndices\n          });\n        }\n      }\n      if (isIndexOutOfListBounds(listRef, nextIndex)) {\n        nextIndex = prevIndex;\n      }\n    }\n  }\n\n  // Remains on the same row/column.\n  if (orientation === 'both') {\n    const prevRow = floor(prevIndex / cols);\n    if (event.key === (rtl ? ARROW_LEFT : ARROW_RIGHT)) {\n      if (stop) {\n        stopEvent(event);\n      }\n      if (prevIndex % cols !== cols - 1) {\n        nextIndex = findNonDisabledListIndex(listRef, {\n          startingIndex: prevIndex,\n          disabledIndices\n        });\n        if (loopFocus && isDifferentGridRow(nextIndex, cols, prevRow)) {\n          nextIndex = findNonDisabledListIndex(listRef, {\n            startingIndex: prevIndex - prevIndex % cols - 1,\n            disabledIndices\n          });\n        }\n      } else if (loopFocus) {\n        nextIndex = findNonDisabledListIndex(listRef, {\n          startingIndex: prevIndex - prevIndex % cols - 1,\n          disabledIndices\n        });\n      }\n      if (isDifferentGridRow(nextIndex, cols, prevRow)) {\n        nextIndex = prevIndex;\n      }\n    }\n    if (event.key === (rtl ? ARROW_RIGHT : ARROW_LEFT)) {\n      if (stop) {\n        stopEvent(event);\n      }\n      if (prevIndex % cols !== 0) {\n        nextIndex = findNonDisabledListIndex(listRef, {\n          startingIndex: prevIndex,\n          decrement: true,\n          disabledIndices\n        });\n        if (loopFocus && isDifferentGridRow(nextIndex, cols, prevRow)) {\n          nextIndex = findNonDisabledListIndex(listRef, {\n            startingIndex: prevIndex + (cols - prevIndex % cols),\n            decrement: true,\n            disabledIndices\n          });\n        }\n      } else if (loopFocus) {\n        nextIndex = findNonDisabledListIndex(listRef, {\n          startingIndex: prevIndex + (cols - prevIndex % cols),\n          decrement: true,\n          disabledIndices\n        });\n      }\n      if (isDifferentGridRow(nextIndex, cols, prevRow)) {\n        nextIndex = prevIndex;\n      }\n    }\n    const lastRow = floor(maxIndex / cols) === prevRow;\n    if (isIndexOutOfListBounds(listRef, nextIndex)) {\n      if (loopFocus && lastRow) {\n        nextIndex = event.key === (rtl ? ARROW_RIGHT : ARROW_LEFT) ? maxIndex : findNonDisabledListIndex(listRef, {\n          startingIndex: prevIndex - prevIndex % cols - 1,\n          disabledIndices\n        });\n      } else {\n        nextIndex = prevIndex;\n      }\n    }\n  }\n  return nextIndex;\n}\n\n/** For each cell index, gets the item index that occupies that cell */\nexport function createGridCellMap(sizes, cols, dense) {\n  const cellMap = [];\n  let startIndex = 0;\n  sizes.forEach(({\n    width,\n    height\n  }, index) => {\n    if (width > cols) {\n      if (process.env.NODE_ENV !== 'production') {\n        throw new Error(process.env.NODE_ENV !== \"production\" ? `[Floating UI]: Invalid grid - item width at index ${index} is greater than grid columns` : _formatErrorMessage(29, index));\n      }\n    }\n    let itemPlaced = false;\n    if (dense) {\n      startIndex = 0;\n    }\n    while (!itemPlaced) {\n      const targetCells = [];\n      for (let i = 0; i < width; i += 1) {\n        for (let j = 0; j < height; j += 1) {\n          targetCells.push(startIndex + i + j * cols);\n        }\n      }\n      if (startIndex % cols + width <= cols && targetCells.every(cell => cellMap[cell] == null)) {\n        targetCells.forEach(cell => {\n          cellMap[cell] = index;\n        });\n        itemPlaced = true;\n      } else {\n        startIndex += 1;\n      }\n    }\n  });\n\n  // convert into a non-sparse array\n  return [...cellMap];\n}\n\n/** Gets cell index of an item's corner or -1 when index is -1. */\nexport function getGridCellIndexOfCorner(index, sizes, cellMap, cols, corner) {\n  if (index === -1) {\n    return -1;\n  }\n  const firstCellIndex = cellMap.indexOf(index);\n  const sizeItem = sizes[index];\n  switch (corner) {\n    case 'tl':\n      return firstCellIndex;\n    case 'tr':\n      if (!sizeItem) {\n        return firstCellIndex;\n      }\n      return firstCellIndex + sizeItem.width - 1;\n    case 'bl':\n      if (!sizeItem) {\n        return firstCellIndex;\n      }\n      return firstCellIndex + (sizeItem.height - 1) * cols;\n    case 'br':\n      return cellMap.lastIndexOf(index);\n    default:\n      return -1;\n  }\n}\n\n/** Gets all cell indices that correspond to the specified indices */\nexport function getGridCellIndices(indices, cellMap) {\n  return cellMap.flatMap((index, cellIndex) => indices.includes(index) ? [cellIndex] : []);\n}\nexport function isListIndexDisabled(listRef, index, disabledIndices) {\n  if (typeof disabledIndices === 'function') {\n    return disabledIndices(index);\n  }\n  if (disabledIndices) {\n    return disabledIndices.includes(index);\n  }\n  const element = listRef.current[index];\n  if (!element) {\n    return false;\n  }\n  return element.hasAttribute('disabled') || element.getAttribute('aria-disabled') === 'true';\n}", "// NOTE: separate `:not()` selectors has broader browser support than the newer\n//  `:not([inert], [inert] *)` (Feb 2023)\nconst candidateSelectors = [\n  'input:not([inert]):not([inert] *)',\n  'select:not([inert]):not([inert] *)',\n  'textarea:not([inert]):not([inert] *)',\n  'a[href]:not([inert]):not([inert] *)',\n  'button:not([inert]):not([inert] *)',\n  '[tabindex]:not(slot):not([inert]):not([inert] *)',\n  'audio[controls]:not([inert]):not([inert] *)',\n  'video[controls]:not([inert]):not([inert] *)',\n  '[contenteditable]:not([contenteditable=\"false\"]):not([inert]):not([inert] *)',\n  'details>summary:first-of-type:not([inert]):not([inert] *)',\n  'details:not([inert]):not([inert] *)',\n];\nconst candidateSelector = /* #__PURE__ */ candidateSelectors.join(',');\n\nconst NoElement = typeof Element === 'undefined';\n\nconst matches = NoElement\n  ? function () {}\n  : Element.prototype.matches ||\n    Element.prototype.msMatchesSelector ||\n    Element.prototype.webkitMatchesSelector;\n\nconst getRootNode =\n  !NoElement && Element.prototype.getRootNode\n    ? (element) => element?.getRootNode?.()\n    : (element) => element?.ownerDocument;\n\n/**\n * Determines if a node is inert or in an inert ancestor.\n * @param {Node} [node]\n * @param {boolean} [lookUp] If true and `node` is not inert, looks up at ancestors to\n *  see if any of them are inert. If false, only `node` itself is considered.\n * @returns {boolean} True if inert itself or by way of being in an inert ancestor.\n *  False if `node` is falsy.\n */\nconst isInert = function (node, lookUp = true) {\n  // CAREFUL: JSDom does not support inert at all, so we can't use the `HTMLElement.inert`\n  //  JS API property; we have to check the attribute, which can either be empty or 'true';\n  //  if it's `null` (not specified) or 'false', it's an active element\n  const inertAtt = node?.getAttribute?.('inert');\n  const inert = inertAtt === '' || inertAtt === 'true';\n\n  // NOTE: this could also be handled with `node.matches('[inert], :is([inert] *)')`\n  //  if it weren't for `matches()` not being a function on shadow roots; the following\n  //  code works for any kind of node\n  const result =\n    inert ||\n    (lookUp &&\n      node &&\n      // closest does not exist on shadow roots, so we fall back to a manual\n      // lookup upward, in case it is not defined.\n      (typeof node.closest === 'function'\n        ? node.closest('[inert]')\n        : isInert(node.parentNode)));\n\n  return result;\n};\n\n/**\n * Determines if a node's content is editable.\n * @param {Element} [node]\n * @returns True if it's content-editable; false if it's not or `node` is falsy.\n */\nconst isContentEditable = function (node) {\n  // CAREFUL: JSDom does not support the `HTMLElement.isContentEditable` API so we have\n  //  to use the attribute directly to check for this, which can either be empty or 'true';\n  //  if it's `null` (not specified) or 'false', it's a non-editable element\n  const attValue = node?.getAttribute?.('contenteditable');\n  return attValue === '' || attValue === 'true';\n};\n\n/**\n * @param {Element} el container to check in\n * @param {boolean} includeContainer add container to check\n * @param {(node: Element) => boolean} filter filter candidates\n * @returns {Element[]}\n */\nconst getCandidates = function (el, includeContainer, filter) {\n  // even if `includeContainer=false`, we still have to check it for inertness because\n  //  if it's inert (either by itself or via its parent), then all its children are inert\n  if (isInert(el)) {\n    return [];\n  }\n\n  let candidates = Array.prototype.slice.apply(\n    el.querySelectorAll(candidateSelector)\n  );\n  if (includeContainer && matches.call(el, candidateSelector)) {\n    candidates.unshift(el);\n  }\n  candidates = candidates.filter(filter);\n  return candidates;\n};\n\n/**\n * @callback GetShadowRoot\n * @param {Element} element to check for shadow root\n * @returns {ShadowRoot|boolean} ShadowRoot if available or boolean indicating if a shadowRoot is attached but not available.\n */\n\n/**\n * @callback ShadowRootFilter\n * @param {Element} shadowHostNode the element which contains shadow content\n * @returns {boolean} true if a shadow root could potentially contain valid candidates.\n */\n\n/**\n * @typedef {Object} CandidateScope\n * @property {Element} scopeParent contains inner candidates\n * @property {Element[]} candidates list of candidates found in the scope parent\n */\n\n/**\n * @typedef {Object} IterativeOptions\n * @property {GetShadowRoot|boolean} getShadowRoot true if shadow support is enabled; falsy if not;\n *  if a function, implies shadow support is enabled and either returns the shadow root of an element\n *  or a boolean stating if it has an undisclosed shadow root\n * @property {(node: Element) => boolean} filter filter candidates\n * @property {boolean} flatten if true then result will flatten any CandidateScope into the returned list\n * @property {ShadowRootFilter} shadowRootFilter filter shadow roots;\n */\n\n/**\n * @param {Element[]} elements list of element containers to match candidates from\n * @param {boolean} includeContainer add container list to check\n * @param {IterativeOptions} options\n * @returns {Array.<Element|CandidateScope>}\n */\nconst getCandidatesIteratively = function (\n  elements,\n  includeContainer,\n  options\n) {\n  const candidates = [];\n  const elementsToCheck = Array.from(elements);\n  while (elementsToCheck.length) {\n    const element = elementsToCheck.shift();\n    if (isInert(element, false)) {\n      // no need to look up since we're drilling down\n      // anything inside this container will also be inert\n      continue;\n    }\n\n    if (element.tagName === 'SLOT') {\n      // add shadow dom slot scope (slot itself cannot be focusable)\n      const assigned = element.assignedElements();\n      const content = assigned.length ? assigned : element.children;\n      const nestedCandidates = getCandidatesIteratively(content, true, options);\n      if (options.flatten) {\n        candidates.push(...nestedCandidates);\n      } else {\n        candidates.push({\n          scopeParent: element,\n          candidates: nestedCandidates,\n        });\n      }\n    } else {\n      // check candidate element\n      const validCandidate = matches.call(element, candidateSelector);\n      if (\n        validCandidate &&\n        options.filter(element) &&\n        (includeContainer || !elements.includes(element))\n      ) {\n        candidates.push(element);\n      }\n\n      // iterate over shadow content if possible\n      const shadowRoot =\n        element.shadowRoot ||\n        // check for an undisclosed shadow\n        (typeof options.getShadowRoot === 'function' &&\n          options.getShadowRoot(element));\n\n      // no inert look up because we're already drilling down and checking for inertness\n      //  on the way down, so all containers to this root node should have already been\n      //  vetted as non-inert\n      const validShadowRoot =\n        !isInert(shadowRoot, false) &&\n        (!options.shadowRootFilter || options.shadowRootFilter(element));\n\n      if (shadowRoot && validShadowRoot) {\n        // add shadow dom scope IIF a shadow root node was given; otherwise, an undisclosed\n        //  shadow exists, so look at light dom children as fallback BUT create a scope for any\n        //  child candidates found because they're likely slotted elements (elements that are\n        //  children of the web component element (which has the shadow), in the light dom, but\n        //  slotted somewhere _inside_ the undisclosed shadow) -- the scope is created below,\n        //  _after_ we return from this recursive call\n        const nestedCandidates = getCandidatesIteratively(\n          shadowRoot === true ? element.children : shadowRoot.children,\n          true,\n          options\n        );\n\n        if (options.flatten) {\n          candidates.push(...nestedCandidates);\n        } else {\n          candidates.push({\n            scopeParent: element,\n            candidates: nestedCandidates,\n          });\n        }\n      } else {\n        // there's not shadow so just dig into the element's (light dom) children\n        //  __without__ giving the element special scope treatment\n        elementsToCheck.unshift(...element.children);\n      }\n    }\n  }\n  return candidates;\n};\n\n/**\n * @private\n * Determines if the node has an explicitly specified `tabindex` attribute.\n * @param {HTMLElement} node\n * @returns {boolean} True if so; false if not.\n */\nconst hasTabIndex = function (node) {\n  return !isNaN(parseInt(node.getAttribute('tabindex'), 10));\n};\n\n/**\n * Determine the tab index of a given node.\n * @param {HTMLElement} node\n * @returns {number} Tab order (negative, 0, or positive number).\n * @throws {Error} If `node` is falsy.\n */\nconst getTabIndex = function (node) {\n  if (!node) {\n    throw new Error('No node provided');\n  }\n\n  if (node.tabIndex < 0) {\n    // in Chrome, <details/>, <audio controls/> and <video controls/> elements get a default\n    // `tabIndex` of -1 when the 'tabindex' attribute isn't specified in the DOM,\n    // yet they are still part of the regular tab order; in FF, they get a default\n    // `tabIndex` of 0; since Chrome still puts those elements in the regular tab\n    // order, consider their tab index to be 0.\n    // Also browsers do not return `tabIndex` correctly for contentEditable nodes;\n    // so if they don't have a tabindex attribute specifically set, assume it's 0.\n    if (\n      (/^(AUDIO|VIDEO|DETAILS)$/.test(node.tagName) ||\n        isContentEditable(node)) &&\n      !hasTabIndex(node)\n    ) {\n      return 0;\n    }\n  }\n\n  return node.tabIndex;\n};\n\n/**\n * Determine the tab index of a given node __for sort order purposes__.\n * @param {HTMLElement} node\n * @param {boolean} [isScope] True for a custom element with shadow root or slot that, by default,\n *  has tabIndex -1, but needs to be sorted by document order in order for its content to be\n *  inserted into the correct sort position.\n * @returns {number} Tab order (negative, 0, or positive number).\n */\nconst getSortOrderTabIndex = function (node, isScope) {\n  const tabIndex = getTabIndex(node);\n\n  if (tabIndex < 0 && isScope && !hasTabIndex(node)) {\n    return 0;\n  }\n\n  return tabIndex;\n};\n\nconst sortOrderedTabbables = function (a, b) {\n  return a.tabIndex === b.tabIndex\n    ? a.documentOrder - b.documentOrder\n    : a.tabIndex - b.tabIndex;\n};\n\nconst isInput = function (node) {\n  return node.tagName === 'INPUT';\n};\n\nconst isHiddenInput = function (node) {\n  return isInput(node) && node.type === 'hidden';\n};\n\nconst isDetailsWithSummary = function (node) {\n  const r =\n    node.tagName === 'DETAILS' &&\n    Array.prototype.slice\n      .apply(node.children)\n      .some((child) => child.tagName === 'SUMMARY');\n  return r;\n};\n\nconst getCheckedRadio = function (nodes, form) {\n  for (let i = 0; i < nodes.length; i++) {\n    if (nodes[i].checked && nodes[i].form === form) {\n      return nodes[i];\n    }\n  }\n};\n\nconst isTabbableRadio = function (node) {\n  if (!node.name) {\n    return true;\n  }\n  const radioScope = node.form || getRootNode(node);\n  const queryRadios = function (name) {\n    return radioScope.querySelectorAll(\n      'input[type=\"radio\"][name=\"' + name + '\"]'\n    );\n  };\n\n  let radioSet;\n  if (\n    typeof window !== 'undefined' &&\n    typeof window.CSS !== 'undefined' &&\n    typeof window.CSS.escape === 'function'\n  ) {\n    radioSet = queryRadios(window.CSS.escape(node.name));\n  } else {\n    try {\n      radioSet = queryRadios(node.name);\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error(\n        'Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s',\n        err.message\n      );\n      return false;\n    }\n  }\n\n  const checked = getCheckedRadio(radioSet, node.form);\n  return !checked || checked === node;\n};\n\nconst isRadio = function (node) {\n  return isInput(node) && node.type === 'radio';\n};\n\nconst isNonTabbableRadio = function (node) {\n  return isRadio(node) && !isTabbableRadio(node);\n};\n\n// determines if a node is ultimately attached to the window's document\nconst isNodeAttached = function (node) {\n  // The root node is the shadow root if the node is in a shadow DOM; some document otherwise\n  //  (but NOT _the_ document; see second 'If' comment below for more).\n  // If rootNode is shadow root, it'll have a host, which is the element to which the shadow\n  //  is attached, and the one we need to check if it's in the document or not (because the\n  //  shadow, and all nodes it contains, is never considered in the document since shadows\n  //  behave like self-contained DOMs; but if the shadow's HOST, which is part of the document,\n  //  is hidden, or is not in the document itself but is detached, it will affect the shadow's\n  //  visibility, including all the nodes it contains). The host could be any normal node,\n  //  or a custom element (i.e. web component). Either way, that's the one that is considered\n  //  part of the document, not the shadow root, nor any of its children (i.e. the node being\n  //  tested).\n  // To further complicate things, we have to look all the way up until we find a shadow HOST\n  //  that is attached (or find none) because the node might be in nested shadows...\n  // If rootNode is not a shadow root, it won't have a host, and so rootNode should be the\n  //  document (per the docs) and while it's a Document-type object, that document does not\n  //  appear to be the same as the node's `ownerDocument` for some reason, so it's safer\n  //  to ignore the rootNode at this point, and use `node.ownerDocument`. Otherwise,\n  //  using `rootNode.contains(node)` will _always_ be true we'll get false-positives when\n  //  node is actually detached.\n  // NOTE: If `nodeRootHost` or `node` happens to be the `document` itself (which is possible\n  //  if a tabbable/focusable node was quickly added to the DOM, focused, and then removed\n  //  from the DOM as in https://github.com/focus-trap/focus-trap-react/issues/905), then\n  //  `ownerDocument` will be `null`, hence the optional chaining on it.\n  let nodeRoot = node && getRootNode(node);\n  let nodeRootHost = nodeRoot?.host;\n\n  // in some cases, a detached node will return itself as the root instead of a document or\n  //  shadow root object, in which case, we shouldn't try to look further up the host chain\n  let attached = false;\n  if (nodeRoot && nodeRoot !== node) {\n    attached = !!(\n      nodeRootHost?.ownerDocument?.contains(nodeRootHost) ||\n      node?.ownerDocument?.contains(node)\n    );\n\n    while (!attached && nodeRootHost) {\n      // since it's not attached and we have a root host, the node MUST be in a nested shadow DOM,\n      //  which means we need to get the host's host and check if that parent host is contained\n      //  in (i.e. attached to) the document\n      nodeRoot = getRootNode(nodeRootHost);\n      nodeRootHost = nodeRoot?.host;\n      attached = !!nodeRootHost?.ownerDocument?.contains(nodeRootHost);\n    }\n  }\n\n  return attached;\n};\n\nconst isZeroArea = function (node) {\n  const { width, height } = node.getBoundingClientRect();\n  return width === 0 && height === 0;\n};\nconst isHidden = function (node, { displayCheck, getShadowRoot }) {\n  if (displayCheck === 'full-native') {\n    if ('checkVisibility' in node) {\n      // Chrome >= 105, Edge >= 105, Firefox >= 106, Safari >= 17.4\n      // @see https://developer.mozilla.org/en-US/docs/Web/API/Element/checkVisibility#browser_compatibility\n      const visible = node.checkVisibility({\n        // Checking opacity might be desirable for some use cases, but natively,\n        // opacity zero elements _are_ focusable and tabbable.\n        checkOpacity: false,\n        opacityProperty: false,\n\n        contentVisibilityAuto: true,\n        visibilityProperty: true,\n        // This is an alias for `visibilityProperty`. Contemporary browsers\n        // support both. However, this alias has wider browser support (Chrome\n        // >= 105 and Firefox >= 106, vs. Chrome >= 121 and Firefox >= 122), so\n        // we include it anyway.\n        checkVisibilityCSS: true,\n      });\n      return !visible;\n    }\n    // Fall through to manual visibility checks\n  }\n\n  // NOTE: visibility will be `undefined` if node is detached from the document\n  //  (see notes about this further down), which means we will consider it visible\n  //  (this is legacy behavior from a very long way back)\n  // NOTE: we check this regardless of `displayCheck=\"none\"` because this is a\n  //  _visibility_ check, not a _display_ check\n  if (getComputedStyle(node).visibility === 'hidden') {\n    return true;\n  }\n\n  const isDirectSummary = matches.call(node, 'details>summary:first-of-type');\n  const nodeUnderDetails = isDirectSummary ? node.parentElement : node;\n  if (matches.call(nodeUnderDetails, 'details:not([open]) *')) {\n    return true;\n  }\n\n  if (\n    !displayCheck ||\n    displayCheck === 'full' ||\n    // full-native can run this branch when it falls through in case\n    // Element#checkVisibility is unsupported\n    displayCheck === 'full-native' ||\n    displayCheck === 'legacy-full'\n  ) {\n    if (typeof getShadowRoot === 'function') {\n      // figure out if we should consider the node to be in an undisclosed shadow and use the\n      //  'non-zero-area' fallback\n      const originalNode = node;\n      while (node) {\n        const parentElement = node.parentElement;\n        const rootNode = getRootNode(node);\n        if (\n          parentElement &&\n          !parentElement.shadowRoot &&\n          getShadowRoot(parentElement) === true // check if there's an undisclosed shadow\n        ) {\n          // node has an undisclosed shadow which means we can only treat it as a black box, so we\n          //  fall back to a non-zero-area test\n          return isZeroArea(node);\n        } else if (node.assignedSlot) {\n          // iterate up slot\n          node = node.assignedSlot;\n        } else if (!parentElement && rootNode !== node.ownerDocument) {\n          // cross shadow boundary\n          node = rootNode.host;\n        } else {\n          // iterate up normal dom\n          node = parentElement;\n        }\n      }\n\n      node = originalNode;\n    }\n    // else, `getShadowRoot` might be true, but all that does is enable shadow DOM support\n    //  (i.e. it does not also presume that all nodes might have undisclosed shadows); or\n    //  it might be a falsy value, which means shadow DOM support is disabled\n\n    // Since we didn't find it sitting in an undisclosed shadow (or shadows are disabled)\n    //  now we can just test to see if it would normally be visible or not, provided it's\n    //  attached to the main document.\n    // NOTE: We must consider case where node is inside a shadow DOM and given directly to\n    //  `isTabbable()` or `isFocusable()` -- regardless of `getShadowRoot` option setting.\n\n    if (isNodeAttached(node)) {\n      // this works wherever the node is: if there's at least one client rect, it's\n      //  somehow displayed; it also covers the CSS 'display: contents' case where the\n      //  node itself is hidden in place of its contents; and there's no need to search\n      //  up the hierarchy either\n      return !node.getClientRects().length;\n    }\n\n    // Else, the node isn't attached to the document, which means the `getClientRects()`\n    //  API will __always__ return zero rects (this can happen, for example, if React\n    //  is used to render nodes onto a detached tree, as confirmed in this thread:\n    //  https://github.com/facebook/react/issues/9117#issuecomment-284228870)\n    //\n    // It also means that even window.getComputedStyle(node).display will return `undefined`\n    //  because styles are only computed for nodes that are in the document.\n    //\n    // NOTE: THIS HAS BEEN THE CASE FOR YEARS. It is not new, nor is it caused by tabbable\n    //  somehow. Though it was never stated officially, anyone who has ever used tabbable\n    //  APIs on nodes in detached containers has actually implicitly used tabbable in what\n    //  was later (as of v5.2.0 on Apr 9, 2021) called `displayCheck=\"none\"` mode -- essentially\n    //  considering __everything__ to be visible because of the innability to determine styles.\n    //\n    // v6.0.0: As of this major release, the default 'full' option __no longer treats detached\n    //  nodes as visible with the 'none' fallback.__\n    if (displayCheck !== 'legacy-full') {\n      return true; // hidden\n    }\n    // else, fallback to 'none' mode and consider the node visible\n  } else if (displayCheck === 'non-zero-area') {\n    // NOTE: Even though this tests that the node's client rect is non-zero to determine\n    //  whether it's displayed, and that a detached node will __always__ have a zero-area\n    //  client rect, we don't special-case for whether the node is attached or not. In\n    //  this mode, we do want to consider nodes that have a zero area to be hidden at all\n    //  times, and that includes attached or not.\n    return isZeroArea(node);\n  }\n\n  // visible, as far as we can tell, or per current `displayCheck=none` mode, we assume\n  //  it's visible\n  return false;\n};\n\n// form fields (nested) inside a disabled fieldset are not focusable/tabbable\n//  unless they are in the _first_ <legend> element of the top-most disabled\n//  fieldset\nconst isDisabledFromFieldset = function (node) {\n  if (/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(node.tagName)) {\n    let parentNode = node.parentElement;\n    // check if `node` is contained in a disabled <fieldset>\n    while (parentNode) {\n      if (parentNode.tagName === 'FIELDSET' && parentNode.disabled) {\n        // look for the first <legend> among the children of the disabled <fieldset>\n        for (let i = 0; i < parentNode.children.length; i++) {\n          const child = parentNode.children.item(i);\n          // when the first <legend> (in document order) is found\n          if (child.tagName === 'LEGEND') {\n            // if its parent <fieldset> is not nested in another disabled <fieldset>,\n            // return whether `node` is a descendant of its first <legend>\n            return matches.call(parentNode, 'fieldset[disabled] *')\n              ? true\n              : !child.contains(node);\n          }\n        }\n        // the disabled <fieldset> containing `node` has no <legend>\n        return true;\n      }\n      parentNode = parentNode.parentElement;\n    }\n  }\n\n  // else, node's tabbable/focusable state should not be affected by a fieldset's\n  //  enabled/disabled state\n  return false;\n};\n\nconst isNodeMatchingSelectorFocusable = function (options, node) {\n  if (\n    node.disabled ||\n    isHiddenInput(node) ||\n    isHidden(node, options) ||\n    // For a details element with a summary, the summary element gets the focus\n    isDetailsWithSummary(node) ||\n    isDisabledFromFieldset(node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isNodeMatchingSelectorTabbable = function (options, node) {\n  if (\n    isNonTabbableRadio(node) ||\n    getTabIndex(node) < 0 ||\n    !isNodeMatchingSelectorFocusable(options, node)\n  ) {\n    return false;\n  }\n  return true;\n};\n\nconst isShadowRootTabbable = function (shadowHostNode) {\n  const tabIndex = parseInt(shadowHostNode.getAttribute('tabindex'), 10);\n  if (isNaN(tabIndex) || tabIndex >= 0) {\n    return true;\n  }\n  // If a custom element has an explicit negative tabindex,\n  // browsers will not allow tab targeting said element's children.\n  return false;\n};\n\n/**\n * @param {Array.<Element|CandidateScope>} candidates\n * @returns Element[]\n */\nconst sortByOrder = function (candidates) {\n  const regularTabbables = [];\n  const orderedTabbables = [];\n  candidates.forEach(function (item, i) {\n    const isScope = !!item.scopeParent;\n    const element = isScope ? item.scopeParent : item;\n    const candidateTabindex = getSortOrderTabIndex(element, isScope);\n    const elements = isScope ? sortByOrder(item.candidates) : element;\n    if (candidateTabindex === 0) {\n      isScope\n        ? regularTabbables.push(...elements)\n        : regularTabbables.push(element);\n    } else {\n      orderedTabbables.push({\n        documentOrder: i,\n        tabIndex: candidateTabindex,\n        item: item,\n        isScope: isScope,\n        content: elements,\n      });\n    }\n  });\n\n  return orderedTabbables\n    .sort(sortOrderedTabbables)\n    .reduce((acc, sortable) => {\n      sortable.isScope\n        ? acc.push(...sortable.content)\n        : acc.push(sortable.content);\n      return acc;\n    }, [])\n    .concat(regularTabbables);\n};\n\nconst tabbable = function (container, options) {\n  options = options || {};\n\n  let candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively(\n      [container],\n      options.includeContainer,\n      {\n        filter: isNodeMatchingSelectorTabbable.bind(null, options),\n        flatten: false,\n        getShadowRoot: options.getShadowRoot,\n        shadowRootFilter: isShadowRootTabbable,\n      }\n    );\n  } else {\n    candidates = getCandidates(\n      container,\n      options.includeContainer,\n      isNodeMatchingSelectorTabbable.bind(null, options)\n    );\n  }\n  return sortByOrder(candidates);\n};\n\nconst focusable = function (container, options) {\n  options = options || {};\n\n  let candidates;\n  if (options.getShadowRoot) {\n    candidates = getCandidatesIteratively(\n      [container],\n      options.includeContainer,\n      {\n        filter: isNodeMatchingSelectorFocusable.bind(null, options),\n        flatten: true,\n        getShadowRoot: options.getShadowRoot,\n      }\n    );\n  } else {\n    candidates = getCandidates(\n      container,\n      options.includeContainer,\n      isNodeMatchingSelectorFocusable.bind(null, options)\n    );\n  }\n\n  return candidates;\n};\n\nconst isTabbable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, candidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorTabbable(options, node);\n};\n\nconst focusableCandidateSelector = /* #__PURE__ */ candidateSelectors\n  .concat('iframe:not([inert]):not([inert] *)')\n  .join(',');\n\nconst isFocusable = function (node, options) {\n  options = options || {};\n  if (!node) {\n    throw new Error('No node provided');\n  }\n  if (matches.call(node, focusableCandidateSelector) === false) {\n    return false;\n  }\n  return isNodeMatchingSelectorFocusable(options, node);\n};\n\nexport { tabbable, focusable, isTabbable, isFocusable, getTabIndex };\n", "import { tabbable } from 'tabbable';\nimport { activeElement, contains, getDocument } from \"./element.js\";\nexport const getTabbableOptions = () => ({\n  getShadowRoot: true,\n  displayCheck:\n  // JSDOM does not support the `tabbable` library. To solve this we can\n  // check if `ResizeObserver` is a real function (not polyfilled), which\n  // determines if the current environment is JSDOM-like.\n  typeof ResizeObserver === 'function' && ResizeObserver.toString().includes('[native code]') ? 'full' : 'none'\n});\nfunction getTabbableIn(container, dir) {\n  const list = tabbable(container, getTabbableOptions());\n  const len = list.length;\n  if (len === 0) {\n    return undefined;\n  }\n  const active = activeElement(getDocument(container));\n  const index = list.indexOf(active);\n  // eslint-disable-next-line no-nested-ternary\n  const nextIndex = index === -1 ? dir === 1 ? 0 : len - 1 : index + dir;\n  return list[nextIndex];\n}\nexport function getNextTabbable(referenceElement) {\n  return getTabbableIn(getDocument(referenceElement).body, 1) || referenceElement;\n}\nexport function getPreviousTabbable(referenceElement) {\n  return getTabbableIn(getDocument(referenceElement).body, -1) || referenceElement;\n}\nfunction getTabbableNearElement(referenceElement, dir) {\n  if (!referenceElement) {\n    return null;\n  }\n  const list = tabbable(getDocument(referenceElement).body, getTabbableOptions());\n  const elementCount = list.length;\n  if (elementCount === 0) {\n    return null;\n  }\n  const index = list.indexOf(referenceElement);\n  if (index === -1) {\n    return null;\n  }\n  const nextIndex = (index + dir + elementCount) % elementCount;\n  return list[nextIndex];\n}\nexport function getTabbableAfterElement(referenceElement) {\n  return getTabbableNearElement(referenceElement, 1);\n}\nexport function getTabbableBeforeElement(referenceElement) {\n  return getTabbableNearElement(referenceElement, -1);\n}\nexport function isOutsideEvent(event, container) {\n  const containerElement = container || event.currentTarget;\n  const relatedTarget = event.relatedTarget;\n  return !relatedTarget || !contains(containerElement, relatedTarget);\n}\nexport function disableFocusInside(container) {\n  const tabbableElements = tabbable(container, getTabbableOptions());\n  tabbableElements.forEach(element => {\n    element.dataset.tabindex = element.getAttribute('tabindex') || '';\n    element.setAttribute('tabindex', '-1');\n  });\n}\nexport function enableFocusInside(container) {\n  const elements = container.querySelectorAll('[data-tabindex]');\n  elements.forEach(element => {\n    const tabindex = element.dataset.tabindex;\n    delete element.dataset.tabindex;\n    if (tabindex) {\n      element.setAttribute('tabindex', tabindex);\n    } else {\n      element.removeAttribute('tabindex');\n    }\n  });\n}", "import { isHTMLElement } from '@floating-ui/utils/dom';\nexport { stopEvent, isIndexOutOfListBounds, isListIndexDisabled, createGridCellMap, findNonDisabledListIndex, getGridCellIndexOfCorner, getGridCellIndices, getGridNavigatedIndex, getMaxListIndex, getMinListIndex } from \"../floating-ui-react/utils.js\";\nexport const ARROW_UP = 'ArrowUp';\nexport const ARROW_DOWN = 'ArrowDown';\nexport const ARROW_LEFT = 'ArrowLeft';\nexport const ARROW_RIGHT = 'ArrowRight';\nexport const HOME = 'Home';\nexport const END = 'End';\nexport const HORIZONTAL_KEYS = new Set([ARROW_LEFT, ARROW_RIGHT]);\nexport const HORIZONTAL_KEYS_WITH_EXTRA_KEYS = new Set([ARROW_LEFT, ARROW_RIGHT, HOME, END]);\nexport const VERTICAL_KEYS = new Set([ARROW_UP, ARROW_DOWN]);\nexport const VERTICAL_KEYS_WITH_EXTRA_KEYS = new Set([ARROW_UP, ARROW_DOWN, HOME, END]);\nexport const ARROW_KEYS = new Set([...HORIZONTAL_KEYS, ...VERTICAL_KEYS]);\nexport const ALL_KEYS = new Set([...ARROW_KEYS, HOME, END]);\nexport const COMPOSITE_KEYS = new Set([ARROW_UP, ARROW_DOWN, ARROW_LEFT, ARROW_RIGHT, HOME, END]);\nexport const SHIFT = 'Shift';\nexport const CONTROL = 'Control';\nexport const ALT = 'Alt';\nexport const META = 'Meta';\nexport const MODIFIER_KEYS = new Set([SHIFT, CONTROL, ALT, META]);\nfunction isInputElement(element) {\n  return isHTMLElement(element) && element.tagName === 'INPUT';\n}\nexport function isNativeInput(element) {\n  if (isInputElement(element) && element.selectionStart != null) {\n    return true;\n  }\n  if (isHTMLElement(element) && element.tagName === 'TEXTAREA') {\n    return true;\n  }\n  return false;\n}\nexport function scrollIntoViewIfNeeded(scrollContainer, element, direction, orientation) {\n  if (!scrollContainer || !element || !element.scrollTo) {\n    return;\n  }\n  let targetX = scrollContainer.scrollLeft;\n  let targetY = scrollContainer.scrollTop;\n  const isOverflowingX = scrollContainer.clientWidth < scrollContainer.scrollWidth;\n  const isOverflowingY = scrollContainer.clientHeight < scrollContainer.scrollHeight;\n  if (isOverflowingX && orientation !== 'vertical') {\n    const elementOffsetLeft = getOffset(scrollContainer, element, 'left');\n    const containerStyles = getStyles(scrollContainer);\n    const elementStyles = getStyles(element);\n    if (direction === 'ltr') {\n      if (elementOffsetLeft + element.offsetWidth + elementStyles.scrollMarginRight > scrollContainer.scrollLeft + scrollContainer.clientWidth - containerStyles.scrollPaddingRight) {\n        // overflow to the right, scroll to align right edges\n        targetX = elementOffsetLeft + element.offsetWidth + elementStyles.scrollMarginRight - scrollContainer.clientWidth + containerStyles.scrollPaddingRight;\n      } else if (elementOffsetLeft - elementStyles.scrollMarginLeft < scrollContainer.scrollLeft + containerStyles.scrollPaddingLeft) {\n        // overflow to the left, scroll to align left edges\n        targetX = elementOffsetLeft - elementStyles.scrollMarginLeft - containerStyles.scrollPaddingLeft;\n      }\n    }\n    if (direction === 'rtl') {\n      if (elementOffsetLeft - elementStyles.scrollMarginRight < scrollContainer.scrollLeft + containerStyles.scrollPaddingLeft) {\n        // overflow to the left, scroll to align left edges\n        targetX = elementOffsetLeft - elementStyles.scrollMarginLeft - containerStyles.scrollPaddingLeft;\n      } else if (elementOffsetLeft + element.offsetWidth + elementStyles.scrollMarginRight > scrollContainer.scrollLeft + scrollContainer.clientWidth - containerStyles.scrollPaddingRight) {\n        // overflow to the right, scroll to align right edges\n        targetX = elementOffsetLeft + element.offsetWidth + elementStyles.scrollMarginRight - scrollContainer.clientWidth + containerStyles.scrollPaddingRight;\n      }\n    }\n  }\n  if (isOverflowingY && orientation !== 'horizontal') {\n    const elementOffsetTop = getOffset(scrollContainer, element, 'top');\n    const containerStyles = getStyles(scrollContainer);\n    const elementStyles = getStyles(element);\n    if (elementOffsetTop - elementStyles.scrollMarginTop < scrollContainer.scrollTop + containerStyles.scrollPaddingTop) {\n      // overflow upwards, align top edges\n      targetY = elementOffsetTop - elementStyles.scrollMarginTop - containerStyles.scrollPaddingTop;\n    } else if (elementOffsetTop + element.offsetHeight + elementStyles.scrollMarginBottom > scrollContainer.scrollTop + scrollContainer.clientHeight - containerStyles.scrollPaddingBottom) {\n      // overflow downwards, align bottom edges\n      targetY = elementOffsetTop + element.offsetHeight + elementStyles.scrollMarginBottom - scrollContainer.clientHeight + containerStyles.scrollPaddingBottom;\n    }\n  }\n  scrollContainer.scrollTo({\n    left: targetX,\n    top: targetY,\n    behavior: 'auto'\n  });\n}\nfunction getOffset(ancestor, element, side) {\n  const propName = side === 'left' ? 'offsetLeft' : 'offsetTop';\n  let result = 0;\n  while (element.offsetParent) {\n    result += element[propName];\n    if (element.offsetParent === ancestor) {\n      break;\n    }\n    element = element.offsetParent;\n  }\n  return result;\n}\nfunction getStyles(element) {\n  const styles = getComputedStyle(element);\n  return {\n    scrollMarginTop: parseFloat(styles.scrollMarginTop) || 0,\n    scrollMarginRight: parseFloat(styles.scrollMarginRight) || 0,\n    scrollMarginBottom: parseFloat(styles.scrollMarginBottom) || 0,\n    scrollMarginLeft: parseFloat(styles.scrollMarginLeft) || 0,\n    scrollPaddingTop: parseFloat(styles.scrollPaddingTop) || 0,\n    scrollPaddingRight: parseFloat(styles.scrollPaddingRight) || 0,\n    scrollPaddingBottom: parseFloat(styles.scrollPaddingBottom) || 0,\n    scrollPaddingLeft: parseFloat(styles.scrollPaddingLeft) || 0\n  };\n}", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { warn } from '@base-ui/utils/warn';\nimport { useCollapsibleRootContext } from \"../../collapsible/root/CollapsibleRootContext.js\";\nimport { useCollapsiblePanel } from \"../../collapsible/panel/useCollapsiblePanel.js\";\nimport { useAccordionRootContext } from \"../root/AccordionRootContext.js\";\nimport { useAccordionItemContext } from \"../item/AccordionItemContext.js\";\nimport { accordionStateAttributesMapping } from \"../item/stateAttributesMapping.js\";\nimport { AccordionPanelCssVars } from \"./AccordionPanelCssVars.js\";\nimport { useOpenChangeComplete } from \"../../utils/useOpenChangeComplete.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n/**\n * A collapsible panel with the accordion item contents.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Accordion](https://base-ui.com/react/components/accordion)\n */\nexport const AccordionPanel = /*#__PURE__*/React.forwardRef(function AccordionPanel(componentProps, forwardedRef) {\n  const {\n    className,\n    hiddenUntilFound: hiddenUntilFoundProp,\n    keepMounted: keepMountedProp,\n    id: idProp,\n    render,\n    ...elementProps\n  } = componentProps;\n  const {\n    hiddenUntilFound: contextHiddenUntilFound,\n    keepMounted: contextKeepMounted\n  } = useAccordionRootContext();\n  const {\n    abortControllerRef,\n    animationTypeRef,\n    height,\n    mounted,\n    onOpenChange,\n    open,\n    panelId,\n    panelRef,\n    runOnceAnimationsFinish,\n    setDimensions,\n    setHiddenUntilFound,\n    setKeepMounted,\n    setMounted,\n    setOpen,\n    setVisible,\n    transitionDimensionRef,\n    visible,\n    width,\n    setPanelIdState,\n    transitionStatus\n  } = useCollapsibleRootContext();\n  const hiddenUntilFound = hiddenUntilFoundProp ?? contextHiddenUntilFound;\n  const keepMounted = keepMountedProp ?? contextKeepMounted;\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useIsoLayoutEffect(() => {\n      if (keepMountedProp === false && hiddenUntilFound) {\n        warn('The `keepMounted={false}` prop on a Accordion.Panel will be ignored when using `contextHiddenUntilFound` on the Panel or the Root since it requires the panel to remain mounted when closed.');\n      }\n    }, [hiddenUntilFound, keepMountedProp]);\n  }\n  useIsoLayoutEffect(() => {\n    if (idProp) {\n      setPanelIdState(idProp);\n      return () => {\n        setPanelIdState(undefined);\n      };\n    }\n    return undefined;\n  }, [idProp, setPanelIdState]);\n  useIsoLayoutEffect(() => {\n    setHiddenUntilFound(hiddenUntilFound);\n  }, [setHiddenUntilFound, hiddenUntilFound]);\n  useIsoLayoutEffect(() => {\n    setKeepMounted(keepMounted);\n  }, [setKeepMounted, keepMounted]);\n  useOpenChangeComplete({\n    open: open && transitionStatus === 'idle',\n    ref: panelRef,\n    onComplete() {\n      if (!open) {\n        return;\n      }\n      setDimensions({\n        width: undefined,\n        height: undefined\n      });\n    }\n  });\n  const {\n    props\n  } = useCollapsiblePanel({\n    abortControllerRef,\n    animationTypeRef,\n    externalRef: forwardedRef,\n    height,\n    hiddenUntilFound,\n    id: idProp ?? panelId,\n    keepMounted,\n    mounted,\n    onOpenChange,\n    open,\n    panelRef,\n    runOnceAnimationsFinish,\n    setDimensions,\n    setMounted,\n    setOpen,\n    setVisible,\n    transitionDimensionRef,\n    visible,\n    width\n  });\n  const {\n    state,\n    triggerId\n  } = useAccordionItemContext();\n  const panelState = React.useMemo(() => ({\n    ...state,\n    transitionStatus\n  }), [state, transitionStatus]);\n  const element = useRenderElement('div', componentProps, {\n    state: panelState,\n    ref: [forwardedRef, panelRef],\n    props: [props, {\n      'aria-labelledby': triggerId,\n      role: 'region',\n      style: {\n        [AccordionPanelCssVars.accordionPanelHeight]: height === undefined ? 'auto' : `${height}px`,\n        [AccordionPanelCssVars.accordionPanelWidth]: width === undefined ? 'auto' : `${width}px`\n      }\n    }, elementProps],\n    stateAttributesMapping: accordionStateAttributesMapping\n  });\n  const shouldRender = keepMounted || hiddenUntilFound || !keepMounted && mounted;\n  if (!shouldRender) {\n    return null;\n  }\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") AccordionPanel.displayName = \"AccordionPanel\";", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useMergedRefs } from '@base-ui/utils/useMergedRefs';\nimport { useOnMount } from '@base-ui/utils/useOnMount';\nimport { AnimationFrame, useAnimationFrame } from '@base-ui/utils/useAnimationFrame';\nimport { warn } from '@base-ui/utils/warn';\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { CollapsiblePanelDataAttributes } from \"./CollapsiblePanelDataAttributes.js\";\nimport { AccordionRootDataAttributes } from \"../../accordion/root/AccordionRootDataAttributes.js\";\nexport function useCollapsiblePanel(parameters) {\n  const {\n    abortControllerRef,\n    animationTypeRef,\n    externalRef,\n    height,\n    hiddenUntilFound,\n    keepMounted,\n    id: idParam,\n    mounted,\n    onOpenChange,\n    open,\n    panelRef,\n    runOnceAnimationsFinish,\n    setDimensions,\n    setMounted,\n    setOpen,\n    setVisible,\n    transitionDimensionRef,\n    visible,\n    width\n  } = parameters;\n  const isBeforeMatchRef = React.useRef(false);\n  const latestAnimationNameRef = React.useRef(null);\n  const shouldCancelInitialOpenAnimationRef = React.useRef(open);\n  const shouldCancelInitialOpenTransitionRef = React.useRef(open);\n  const endingStyleFrame = useAnimationFrame();\n\n  /**\n   * When opening, the `hidden` attribute is removed immediately.\n   * When closing, the `hidden` attribute is set after any exit animations runs.\n   */\n  const hidden = React.useMemo(() => {\n    if (animationTypeRef.current === 'css-animation') {\n      return !visible;\n    }\n    return !open && !mounted;\n  }, [open, mounted, visible, animationTypeRef]);\n\n  /**\n   * When `keepMounted` is `true` this runs once as soon as it exists in the DOM\n   * regardless of initial open state.\n   *\n   * When `keepMounted` is `false` this runs on every mount, typically every\n   * time it opens. If the panel is in the middle of a close transition that is\n   * interrupted and re-opens, this won't run as the panel was not unmounted.\n   */\n  const handlePanelRef = useStableCallback(element => {\n    if (!element) {\n      return undefined;\n    }\n    if (animationTypeRef.current == null || transitionDimensionRef.current == null) {\n      const panelStyles = getComputedStyle(element);\n      const hasAnimation = panelStyles.animationName !== 'none' && panelStyles.animationName !== '';\n      const hasTransition = panelStyles.transitionDuration !== '0s' && panelStyles.transitionDuration !== '';\n\n      /**\n       * animationTypeRef is safe to read in render because it's only ever set\n       * once here during the first render and never again.\n       * https://react.dev/learn/referencing-values-with-refs#best-practices-for-refs\n       */\n      if (hasAnimation && hasTransition) {\n        if (process.env.NODE_ENV !== 'production') {\n          warn('CSS transitions and CSS animations both detected on Collapsible or Accordion panel.', 'Only one of either animation type should be used.');\n        }\n      } else if (panelStyles.animationName === 'none' && panelStyles.transitionDuration !== '0s') {\n        animationTypeRef.current = 'css-transition';\n      } else if (panelStyles.animationName !== 'none' && panelStyles.transitionDuration === '0s') {\n        animationTypeRef.current = 'css-animation';\n      } else {\n        animationTypeRef.current = 'none';\n      }\n\n      /**\n       * We need to know in advance which side is being collapsed when using CSS\n       * transitions in order to set the value of width/height to `0px` momentarily.\n       * Setting both to `0px` will break layout.\n       */\n      if (element.getAttribute(AccordionRootDataAttributes.orientation) === 'horizontal' || panelStyles.transitionProperty.indexOf('width') > -1) {\n        transitionDimensionRef.current = 'width';\n      } else {\n        transitionDimensionRef.current = 'height';\n      }\n    }\n    if (animationTypeRef.current !== 'css-transition') {\n      return undefined;\n    }\n    if (height === undefined || width === undefined) {\n      setDimensions({\n        height: element.scrollHeight,\n        width: element.scrollWidth\n      });\n      if (shouldCancelInitialOpenTransitionRef.current) {\n        element.style.setProperty('transition-duration', '0s');\n      }\n    }\n    let frame = -1;\n    let nextFrame = -1;\n    frame = AnimationFrame.request(() => {\n      shouldCancelInitialOpenTransitionRef.current = false;\n      nextFrame = AnimationFrame.request(() => {\n        /**\n         * This is slightly faster than another RAF and is the earliest\n         * opportunity to remove the temporary `transition-duration: 0s` that\n         * was applied to cancel opening transitions of initially open panels.\n         * https://nolanlawson.com/2018/09/25/accurately-measuring-layout-on-the-web/\n         */\n        setTimeout(() => {\n          element.style.removeProperty('transition-duration');\n        });\n      });\n    });\n    return () => {\n      AnimationFrame.cancel(frame);\n      AnimationFrame.cancel(nextFrame);\n    };\n  });\n  const mergedPanelRef = useMergedRefs(externalRef, panelRef, handlePanelRef);\n  useIsoLayoutEffect(() => {\n    if (animationTypeRef.current !== 'css-transition') {\n      return undefined;\n    }\n    const panel = panelRef.current;\n    if (!panel) {\n      return undefined;\n    }\n    let resizeFrame = -1;\n    if (abortControllerRef.current != null) {\n      abortControllerRef.current.abort();\n      abortControllerRef.current = null;\n    }\n    if (open) {\n      const originalLayoutStyles = {\n        'justify-content': panel.style.justifyContent,\n        'align-items': panel.style.alignItems,\n        'align-content': panel.style.alignContent,\n        'justify-items': panel.style.justifyItems\n      };\n\n      /* opening */\n      Object.keys(originalLayoutStyles).forEach(key => {\n        panel.style.setProperty(key, 'initial', 'important');\n      });\n\n      /**\n       * When `keepMounted={false}` and the panel is initially closed, the very\n       * first time it opens (not any subsequent opens) `data-starting-style` is\n       * off or missing by a frame so we need to set it manually. Otherwise any\n       * CSS properties expected to transition using [data-starting-style] may\n       * be mis-timed and appear to be complete skipped.\n       */\n      if (!shouldCancelInitialOpenTransitionRef.current && !keepMounted) {\n        panel.setAttribute(CollapsiblePanelDataAttributes.startingStyle, '');\n      }\n      setDimensions({\n        height: panel.scrollHeight,\n        width: panel.scrollWidth\n      });\n      resizeFrame = AnimationFrame.request(() => {\n        Object.entries(originalLayoutStyles).forEach(([key, value]) => {\n          if (value === '') {\n            panel.style.removeProperty(key);\n          } else {\n            panel.style.setProperty(key, value);\n          }\n        });\n      });\n    } else {\n      if (panel.scrollHeight === 0 && panel.scrollWidth === 0) {\n        return undefined;\n      }\n\n      /* closing */\n      setDimensions({\n        height: panel.scrollHeight,\n        width: panel.scrollWidth\n      });\n      const abortController = new AbortController();\n      abortControllerRef.current = abortController;\n      const signal = abortController.signal;\n      let attributeObserver = null;\n      const endingStyleAttribute = CollapsiblePanelDataAttributes.endingStyle;\n\n      // Wait for `[data-ending-style]` to be applied.\n      attributeObserver = new MutationObserver(mutationList => {\n        const hasEndingStyle = mutationList.some(mutation => mutation.type === 'attributes' && mutation.attributeName === endingStyleAttribute);\n        if (hasEndingStyle) {\n          attributeObserver?.disconnect();\n          attributeObserver = null;\n          runOnceAnimationsFinish(() => {\n            setDimensions({\n              height: 0,\n              width: 0\n            });\n            panel.style.removeProperty('content-visibility');\n            setMounted(false);\n            if (abortControllerRef.current === abortController) {\n              abortControllerRef.current = null;\n            }\n          }, signal);\n        }\n      });\n      attributeObserver.observe(panel, {\n        attributes: true,\n        attributeFilter: [endingStyleAttribute]\n      });\n      return () => {\n        attributeObserver?.disconnect();\n        endingStyleFrame.cancel();\n        if (abortControllerRef.current === abortController) {\n          abortController.abort();\n          abortControllerRef.current = null;\n        }\n      };\n    }\n    return () => {\n      AnimationFrame.cancel(resizeFrame);\n    };\n  }, [abortControllerRef, animationTypeRef, endingStyleFrame, hiddenUntilFound, keepMounted, mounted, open, panelRef, runOnceAnimationsFinish, setDimensions, setMounted]);\n  useIsoLayoutEffect(() => {\n    if (animationTypeRef.current !== 'css-animation') {\n      return;\n    }\n    const panel = panelRef.current;\n    if (!panel) {\n      return;\n    }\n    latestAnimationNameRef.current = panel.style.animationName || latestAnimationNameRef.current;\n    panel.style.setProperty('animation-name', 'none');\n    setDimensions({\n      height: panel.scrollHeight,\n      width: panel.scrollWidth\n    });\n    if (!shouldCancelInitialOpenAnimationRef.current && !isBeforeMatchRef.current) {\n      panel.style.removeProperty('animation-name');\n    }\n    if (open) {\n      if (abortControllerRef.current != null) {\n        abortControllerRef.current.abort();\n        abortControllerRef.current = null;\n      }\n      setMounted(true);\n      setVisible(true);\n    } else {\n      abortControllerRef.current = new AbortController();\n      runOnceAnimationsFinish(() => {\n        setMounted(false);\n        setVisible(false);\n        abortControllerRef.current = null;\n      }, abortControllerRef.current.signal);\n    }\n  }, [abortControllerRef, animationTypeRef, open, panelRef, runOnceAnimationsFinish, setDimensions, setMounted, setVisible, visible]);\n  useOnMount(() => {\n    const frame = AnimationFrame.request(() => {\n      shouldCancelInitialOpenAnimationRef.current = false;\n    });\n    return () => AnimationFrame.cancel(frame);\n  });\n  useIsoLayoutEffect(() => {\n    if (!hiddenUntilFound) {\n      return undefined;\n    }\n    const panel = panelRef.current;\n    if (!panel) {\n      return undefined;\n    }\n    let frame = -1;\n    let nextFrame = -1;\n    if (open && isBeforeMatchRef.current) {\n      panel.style.transitionDuration = '0s';\n      setDimensions({\n        height: panel.scrollHeight,\n        width: panel.scrollWidth\n      });\n      frame = AnimationFrame.request(() => {\n        isBeforeMatchRef.current = false;\n        nextFrame = AnimationFrame.request(() => {\n          setTimeout(() => {\n            panel.style.removeProperty('transition-duration');\n          });\n        });\n      });\n    }\n    return () => {\n      AnimationFrame.cancel(frame);\n      AnimationFrame.cancel(nextFrame);\n    };\n  }, [hiddenUntilFound, open, panelRef, setDimensions]);\n  useIsoLayoutEffect(() => {\n    const panel = panelRef.current;\n    if (panel && hiddenUntilFound && hidden) {\n      /**\n       * React only supports a boolean for the `hidden` attribute and forces\n       * legit string values to booleans so we have to force it back in the DOM\n       * when necessary: https://github.com/facebook/react/issues/24740\n       */\n      panel.setAttribute('hidden', 'until-found');\n      /**\n       * Set data-starting-style here to persist the closed styles, this is to\n       * prevent transitions from starting when the `hidden` attribute changes\n       * to `'until-found'` as they could have different `display` properties:\n       * https://github.com/tailwindlabs/tailwindcss/pull/14625\n       */\n      if (animationTypeRef.current === 'css-transition') {\n        panel.setAttribute(CollapsiblePanelDataAttributes.startingStyle, '');\n      }\n    }\n  }, [hiddenUntilFound, hidden, animationTypeRef, panelRef]);\n  React.useEffect(function registerBeforeMatchListener() {\n    const panel = panelRef.current;\n    if (!panel) {\n      return undefined;\n    }\n    function handleBeforeMatch(event) {\n      isBeforeMatchRef.current = true;\n      setOpen(true);\n      onOpenChange(true, createChangeEventDetails(REASONS.none, event));\n    }\n    panel.addEventListener('beforematch', handleBeforeMatch);\n    return () => {\n      panel.removeEventListener('beforematch', handleBeforeMatch);\n    };\n  }, [onOpenChange, panelRef, setOpen]);\n  return React.useMemo(() => ({\n    props: {\n      hidden,\n      id: idParam,\n      ref: mergedPanelRef\n    }\n  }), [hidden, idParam, mergedPanelRef]);\n}", "export let AccordionRootDataAttributes = /*#__PURE__*/function (AccordionRootDataAttributes) {\n  /**\n   * Present when the accordion is disabled.\n   */\n  AccordionRootDataAttributes[\"disabled\"] = \"data-disabled\";\n  /**\n   * Indicates the orientation of the accordion.\n   */\n  AccordionRootDataAttributes[\"orientation\"] = \"data-orientation\";\n  return AccordionRootDataAttributes;\n}({});", "export let AccordionPanelCssVars = /*#__PURE__*/function (AccordionPanelCssVars) {\n  /**\n   * The accordion panel's height.\n   * @type {number}\n   */\n  AccordionPanelCssVars[\"accordionPanelHeight\"] = \"--accordion-panel-height\";\n  /**\n   * The accordion panel's width.\n   * @type {number}\n   */\n  AccordionPanelCssVars[\"accordionPanelWidth\"] = \"--accordion-panel-width\";\n  return AccordionPanelCssVars;\n}({});", "'use client';\n\nimport * as React from 'react';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useAnimationsFinished } from \"./useAnimationsFinished.js\";\n\n/**\n * Calls the provided function when the CSS open/close animation or transition completes.\n */\nexport function useOpenChangeComplete(parameters) {\n  const {\n    enabled = true,\n    open,\n    ref,\n    onComplete: onCompleteParam\n  } = parameters;\n  const onComplete = useStableCallback(onCompleteParam);\n  const runOnceAnimationsFinish = useAnimationsFinished(ref, open, false);\n  React.useEffect(() => {\n    if (!enabled) {\n      return undefined;\n    }\n    const abortController = new AbortController();\n    runOnceAnimationsFinish(onComplete, abortController.signal);\n    return () => {\n      abortController.abort();\n    };\n  }, [enabled, open, onComplete, runOnceAnimationsFinish]);\n}", "export { AlertDialogRoot as Root } from \"./root/AlertDialogRoot.js\";\nexport { DialogBackdrop as Backdrop } from \"../dialog/backdrop/DialogBackdrop.js\";\nexport { DialogClose as Close } from \"../dialog/close/DialogClose.js\";\nexport { DialogDescription as Description } from \"../dialog/description/DialogDescription.js\";\nexport { DialogPopup as Popup } from \"../dialog/popup/DialogPopup.js\";\nexport { DialogPortal as Portal } from \"../dialog/portal/DialogPortal.js\";\nexport { DialogTitle as Title } from \"../dialog/title/DialogTitle.js\";\nexport { DialogTrigger as Trigger } from \"../dialog/trigger/DialogTrigger.js\";\nexport { DialogViewport as Viewport } from \"../dialog/viewport/DialogViewport.js\";\nexport { createAlertDialogHandle as createHandle } from \"./handle.js\";\nexport { DialogHandle as Handle } from \"../dialog/store/DialogHandle.js\";", "'use client';\n\nimport * as React from 'react';\nimport { useRefWithInit } from '@base-ui/utils/useRefWithInit';\nimport { useDialogRoot } from \"../../dialog/root/useDialogRoot.js\";\nimport { DialogRootContext, useDialogRootContext } from \"../../dialog/root/DialogRootContext.js\";\nimport { DialogStore } from \"../../dialog/store/DialogStore.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n/**\n * Groups all parts of the alert dialog.\n * Doesnt render its own HTML element.\n *\n * Documentation: [Base UI Alert Dialog](https://base-ui.com/react/components/alert-dialog)\n */\nexport function AlertDialogRoot(props) {\n  const {\n    children,\n    open: openProp,\n    defaultOpen = false,\n    onOpenChange,\n    onOpenChangeComplete,\n    actionsRef,\n    handle,\n    triggerId: triggerIdProp,\n    defaultTriggerId: defaultTriggerIdProp = null\n  } = props;\n  const parentDialogRootContext = useDialogRootContext();\n  const nested = Boolean(parentDialogRootContext);\n  const store = useRefWithInit(() => {\n    return handle?.store ?? new DialogStore({\n      open: openProp ?? defaultOpen,\n      activeTriggerId: triggerIdProp !== undefined ? triggerIdProp : defaultTriggerIdProp,\n      modal: true,\n      disablePointerDismissal: true,\n      nested,\n      role: 'alertdialog'\n    });\n  }).current;\n  store.useControlledProp('open', openProp, defaultOpen);\n  store.useControlledProp('activeTriggerId', triggerIdProp, defaultTriggerIdProp);\n  store.useSyncedValue('nested', nested);\n  store.useContextCallback('onOpenChange', onOpenChange);\n  store.useContextCallback('onOpenChangeComplete', onOpenChangeComplete);\n  const payload = store.useState('payload');\n  useDialogRoot({\n    store,\n    actionsRef,\n    parentContext: parentDialogRootContext?.store.context,\n    onOpenChange,\n    triggerIdProp\n  });\n  const contextValue = React.useMemo(() => ({\n    store\n  }), [store]);\n  return /*#__PURE__*/_jsx(DialogRootContext.Provider, {\n    value: contextValue,\n    children: typeof children === 'function' ? children({\n      payload\n    }) : children\n  });\n}", "'use client';\n\nimport * as React from 'react';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useScrollLock } from '@base-ui/utils/useScrollLock';\nimport { useDismiss, useInteractions, useRole, useSyncedFloatingRootContext } from \"../../floating-ui-react/index.js\";\nimport { contains, getTarget } from \"../../floating-ui-react/utils.js\";\nimport { useOpenInteractionType } from \"../../utils/useOpenInteractionType.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { useImplicitActiveTrigger, useOpenStateTransitions } from \"../../utils/popups/index.js\";\nexport function useDialogRoot(params) {\n  const {\n    store,\n    parentContext,\n    actionsRef\n  } = params;\n  const open = store.useState('open');\n  const disablePointerDismissal = store.useState('disablePointerDismissal');\n  const modal = store.useState('modal');\n  const popupElement = store.useState('popupElement');\n  const {\n    openMethod,\n    triggerProps,\n    reset: resetOpenInteractionType\n  } = useOpenInteractionType(open);\n  useImplicitActiveTrigger(store);\n  const {\n    forceUnmount\n  } = useOpenStateTransitions(open, store, () => {\n    resetOpenInteractionType();\n  });\n  const createDialogEventDetails = useStableCallback(reason => {\n    const details = createChangeEventDetails(reason);\n    details.preventUnmountOnClose = () => {\n      store.set('preventUnmountingOnClose', true);\n    };\n    return details;\n  });\n  const handleImperativeClose = React.useCallback(() => {\n    store.setOpen(false, createDialogEventDetails(REASONS.imperativeAction));\n  }, [store, createDialogEventDetails]);\n  React.useImperativeHandle(actionsRef, () => ({\n    unmount: forceUnmount,\n    close: handleImperativeClose\n  }), [forceUnmount, handleImperativeClose]);\n  const floatingRootContext = useSyncedFloatingRootContext({\n    popupStore: store,\n    onOpenChange: store.setOpen,\n    treatPopupAsFloatingElement: true,\n    noEmit: true\n  });\n  const [ownNestedOpenDialogs, setOwnNestedOpenDialogs] = React.useState(0);\n  const isTopmost = ownNestedOpenDialogs === 0;\n  const role = useRole(floatingRootContext);\n  const dismiss = useDismiss(floatingRootContext, {\n    outsidePressEvent() {\n      if (store.context.internalBackdropRef.current || store.context.backdropRef.current) {\n        return 'intentional';\n      }\n      // Ensure `aria-hidden` on outside elements is removed immediately\n      // on outside press when trapping focus.\n      return {\n        mouse: modal === 'trap-focus' ? 'sloppy' : 'intentional',\n        touch: 'sloppy'\n      };\n    },\n    outsidePress(event) {\n      // For mouse events, only accept left button (button 0)\n      // For touch events, a single touch is equivalent to left button\n      if ('button' in event && event.button !== 0) {\n        return false;\n      }\n      if ('touches' in event && event.touches.length !== 1) {\n        return false;\n      }\n      const target = getTarget(event);\n      if (isTopmost && !disablePointerDismissal) {\n        const eventTarget = target;\n        // Only close if the click occurred on the dialog's owning backdrop.\n        // This supports multiple modal dialogs that aren't nested in the React tree:\n        // https://github.com/mui/base-ui/issues/1320\n        if (modal) {\n          return store.context.internalBackdropRef.current || store.context.backdropRef.current ? store.context.internalBackdropRef.current === eventTarget || store.context.backdropRef.current === eventTarget || contains(eventTarget, popupElement) && !eventTarget?.hasAttribute('data-base-ui-portal') : true;\n        }\n        return true;\n      }\n      return false;\n    },\n    escapeKey: isTopmost\n  });\n  useScrollLock(open && modal === true, popupElement);\n  const {\n    getReferenceProps,\n    getFloatingProps,\n    getTriggerProps\n  } = useInteractions([role, dismiss]);\n\n  // Listen for nested open/close events on this store to maintain the count\n  store.useContextCallback('onNestedDialogOpen', ownChildrenCount => {\n    setOwnNestedOpenDialogs(ownChildrenCount + 1);\n  });\n  store.useContextCallback('onNestedDialogClose', () => {\n    setOwnNestedOpenDialogs(0);\n  });\n\n  // Notify parent of our open/close state using parent callbacks, if any\n  React.useEffect(() => {\n    if (parentContext?.onNestedDialogOpen && open) {\n      parentContext.onNestedDialogOpen(ownNestedOpenDialogs);\n    }\n    if (parentContext?.onNestedDialogClose && !open) {\n      parentContext.onNestedDialogClose();\n    }\n    return () => {\n      if (parentContext?.onNestedDialogClose && open) {\n        parentContext.onNestedDialogClose();\n      }\n    };\n  }, [open, parentContext, ownNestedOpenDialogs]);\n  const activeTriggerProps = React.useMemo(() => getReferenceProps(triggerProps), [getReferenceProps, triggerProps]);\n  const inactiveTriggerProps = React.useMemo(() => getTriggerProps(triggerProps), [getTriggerProps, triggerProps]);\n  const popupProps = React.useMemo(() => getFloatingProps(), [getFloatingProps]);\n  store.useSyncedValues({\n    openMethod,\n    activeTriggerProps,\n    inactiveTriggerProps,\n    popupProps,\n    floatingRootContext,\n    nestedOpenDialogCount: ownNestedOpenDialogs\n  });\n}", "export { getWindow as ownerWindow } from '@floating-ui/utils/dom';\nexport function ownerDocument(node) {\n  return node?.ownerDocument || document;\n}", "'use client';\n\nimport { useRefWithInit } from \"./useRefWithInit.js\";\nimport { useOnMount } from \"./useOnMount.js\";\nconst EMPTY = 0;\nexport class Timeout {\n  static create() {\n    return new Timeout();\n  }\n  currentId = EMPTY;\n\n  /**\n   * Executes `fn` after `delay`, clearing any previously scheduled call.\n   */\n  start(delay, fn) {\n    this.clear();\n    this.currentId = setTimeout(() => {\n      this.currentId = EMPTY;\n      fn();\n    }, delay); /* Node.js types are enabled in development */\n  }\n  isStarted() {\n    return this.currentId !== EMPTY;\n  }\n  clear = () => {\n    if (this.currentId !== EMPTY) {\n      clearTimeout(this.currentId);\n      this.currentId = EMPTY;\n    }\n  };\n  disposeEffect = () => {\n    return this.clear;\n  };\n}\n\n/**\n * A `setTimeout` with automatic cleanup and guard.\n */\nexport function useTimeout() {\n  const timeout = useRefWithInit(Timeout.create).current;\n  useOnMount(timeout.disposeEffect);\n  return timeout;\n}", "'use client';\n\nimport { isOverflowElement } from '@floating-ui/utils/dom';\nimport { isIOS, isWebKit } from \"./detectBrowser.js\";\nimport { ownerDocument, ownerWindow } from \"./owner.js\";\nimport { useIsoLayoutEffect } from \"./useIsoLayoutEffect.js\";\nimport { Timeout } from \"./useTimeout.js\";\nimport { AnimationFrame } from \"./useAnimationFrame.js\";\nimport { NOOP } from \"./empty.js\";\nlet originalHtmlStyles = {};\nlet originalBodyStyles = {};\nlet originalHtmlScrollBehavior = '';\nfunction hasInsetScrollbars(referenceElement) {\n  if (typeof document === 'undefined') {\n    return false;\n  }\n  const doc = ownerDocument(referenceElement);\n  const win = ownerWindow(doc);\n  return win.innerWidth - doc.documentElement.clientWidth > 0;\n}\nfunction supportsStableScrollbarGutter(referenceElement) {\n  const supported = typeof CSS !== 'undefined' && CSS.supports && CSS.supports('scrollbar-gutter', 'stable');\n  if (!supported || typeof document === 'undefined') {\n    return false;\n  }\n  const doc = ownerDocument(referenceElement);\n  const html = doc.documentElement;\n  const originalStyles = {\n    scrollbarGutter: html.style.scrollbarGutter,\n    overflowY: html.style.overflowY\n  };\n  html.style.scrollbarGutter = 'stable';\n  html.style.overflowY = 'scroll';\n  const before = html.offsetWidth;\n  html.style.overflowY = 'hidden';\n  const after = html.offsetWidth;\n  Object.assign(html.style, originalStyles);\n  return before === after;\n}\nfunction preventScrollOverlayScrollbars(referenceElement) {\n  const doc = ownerDocument(referenceElement);\n  const html = doc.documentElement;\n  const body = doc.body;\n\n  // If an `overflow` style is present on <html>, we need to lock it, because a lock on <body>\n  // won't have any effect.\n  // But if <body> has an `overflow` style (like `overflow-x: hidden`), we need to lock it\n  // instead, as sticky elements shift otherwise.\n  const elementToLock = isOverflowElement(html) ? html : body;\n  const originalOverflow = elementToLock.style.overflow;\n  elementToLock.style.overflow = 'hidden';\n  return () => {\n    elementToLock.style.overflow = originalOverflow;\n  };\n}\nfunction preventScrollInsetScrollbars(referenceElement) {\n  const doc = ownerDocument(referenceElement);\n  const html = doc.documentElement;\n  const body = doc.body;\n  const win = ownerWindow(html);\n  let scrollTop = 0;\n  let scrollLeft = 0;\n  let updateGutterOnly = false;\n  const resizeFrame = AnimationFrame.create();\n\n  // Pinch-zoom in Safari causes a shift. Just don't lock scroll if there's any pinch-zoom.\n  if (isWebKit && (win.visualViewport?.scale ?? 1) !== 1) {\n    return () => {};\n  }\n  function lockScroll() {\n    /* DOM reads: */\n\n    const htmlStyles = win.getComputedStyle(html);\n    const bodyStyles = win.getComputedStyle(body);\n    const htmlScrollbarGutterValue = htmlStyles.scrollbarGutter || '';\n    const hasBothEdges = htmlScrollbarGutterValue.includes('both-edges');\n    const scrollbarGutterValue = hasBothEdges ? 'stable both-edges' : 'stable';\n    scrollTop = html.scrollTop;\n    scrollLeft = html.scrollLeft;\n    originalHtmlStyles = {\n      scrollbarGutter: html.style.scrollbarGutter,\n      overflowY: html.style.overflowY,\n      overflowX: html.style.overflowX\n    };\n    originalHtmlScrollBehavior = html.style.scrollBehavior;\n    originalBodyStyles = {\n      position: body.style.position,\n      height: body.style.height,\n      width: body.style.width,\n      boxSizing: body.style.boxSizing,\n      overflowY: body.style.overflowY,\n      overflowX: body.style.overflowX,\n      scrollBehavior: body.style.scrollBehavior\n    };\n    const isScrollableY = html.scrollHeight > html.clientHeight;\n    const isScrollableX = html.scrollWidth > html.clientWidth;\n    const hasConstantOverflowY = htmlStyles.overflowY === 'scroll' || bodyStyles.overflowY === 'scroll';\n    const hasConstantOverflowX = htmlStyles.overflowX === 'scroll' || bodyStyles.overflowX === 'scroll';\n\n    // Values can be negative in Firefox\n    const scrollbarWidth = Math.max(0, win.innerWidth - body.clientWidth);\n    const scrollbarHeight = Math.max(0, win.innerHeight - body.clientHeight);\n\n    // Avoid shift due to the default <body> margin. This does cause elements to be clipped\n    // with whitespace. Warn if <body> has margins?\n    const marginY = parseFloat(bodyStyles.marginTop) + parseFloat(bodyStyles.marginBottom);\n    const marginX = parseFloat(bodyStyles.marginLeft) + parseFloat(bodyStyles.marginRight);\n    const elementToLock = isOverflowElement(html) ? html : body;\n    updateGutterOnly = supportsStableScrollbarGutter(referenceElement);\n\n    /*\n     * DOM writes:\n     * Do not read the DOM past this point!\n     */\n\n    if (updateGutterOnly) {\n      html.style.scrollbarGutter = scrollbarGutterValue;\n      elementToLock.style.overflowY = 'hidden';\n      elementToLock.style.overflowX = 'hidden';\n      return;\n    }\n    Object.assign(html.style, {\n      scrollbarGutter: scrollbarGutterValue,\n      overflowY: 'hidden',\n      overflowX: 'hidden'\n    });\n    if (isScrollableY || hasConstantOverflowY) {\n      html.style.overflowY = 'scroll';\n    }\n    if (isScrollableX || hasConstantOverflowX) {\n      html.style.overflowX = 'scroll';\n    }\n    Object.assign(body.style, {\n      position: 'relative',\n      height: marginY || scrollbarHeight ? `calc(100dvh - ${marginY + scrollbarHeight}px)` : '100dvh',\n      width: marginX || scrollbarWidth ? `calc(100vw - ${marginX + scrollbarWidth}px)` : '100vw',\n      boxSizing: 'border-box',\n      overflow: 'hidden',\n      scrollBehavior: 'unset'\n    });\n    body.scrollTop = scrollTop;\n    body.scrollLeft = scrollLeft;\n    html.setAttribute('data-base-ui-scroll-locked', '');\n    html.style.scrollBehavior = 'unset';\n  }\n  function cleanup() {\n    Object.assign(html.style, originalHtmlStyles);\n    Object.assign(body.style, originalBodyStyles);\n    if (!updateGutterOnly) {\n      html.scrollTop = scrollTop;\n      html.scrollLeft = scrollLeft;\n      html.removeAttribute('data-base-ui-scroll-locked');\n      html.style.scrollBehavior = originalHtmlScrollBehavior;\n    }\n  }\n  function handleResize() {\n    cleanup();\n    resizeFrame.request(lockScroll);\n  }\n  lockScroll();\n  win.addEventListener('resize', handleResize);\n  return () => {\n    resizeFrame.cancel();\n    cleanup();\n    // Sometimes this cleanup can be run after test teardown\n    // because it is called in a `setTimeout(fn, 0)`,\n    // in which case `removeEventListener` wouldn't be available,\n    // so we check for it to avoid test failures.\n    if (typeof win.removeEventListener === 'function') {\n      win.removeEventListener('resize', handleResize);\n    }\n  };\n}\nclass ScrollLocker {\n  lockCount = 0;\n  restore = null;\n  timeoutLock = Timeout.create();\n  timeoutUnlock = Timeout.create();\n  acquire(referenceElement) {\n    this.lockCount += 1;\n    if (this.lockCount === 1 && this.restore === null) {\n      this.timeoutLock.start(0, () => this.lock(referenceElement));\n    }\n    return this.release;\n  }\n  release = () => {\n    this.lockCount -= 1;\n    if (this.lockCount === 0 && this.restore) {\n      this.timeoutUnlock.start(0, this.unlock);\n    }\n  };\n  unlock = () => {\n    if (this.lockCount === 0 && this.restore) {\n      this.restore?.();\n      this.restore = null;\n    }\n  };\n  lock(referenceElement) {\n    if (this.lockCount === 0 || this.restore !== null) {\n      return;\n    }\n    const doc = ownerDocument(referenceElement);\n    const html = doc.documentElement;\n    const htmlOverflowY = ownerWindow(html).getComputedStyle(html).overflowY;\n\n    // If the site author already hid overflow on <html>, respect it and bail out.\n    if (htmlOverflowY === 'hidden' || htmlOverflowY === 'clip') {\n      this.restore = NOOP;\n      return;\n    }\n    const hasOverlayScrollbars = isIOS || !hasInsetScrollbars(referenceElement);\n\n    // On iOS, scroll locking does not work if the navbar is collapsed. Due to numerous\n    // side effects and bugs that arise on iOS, it must be researched extensively before\n    // being enabled to ensure it doesn't cause the following issues:\n    // - Textboxes must scroll into view when focused, nor cause a glitchy scroll animation.\n    // - The navbar must not force itself into view and cause layout shift.\n    // - Scroll containers must not flicker upon closing a popup when it has an exit animation.\n    this.restore = hasOverlayScrollbars ? preventScrollOverlayScrollbars(referenceElement) : preventScrollInsetScrollbars(referenceElement);\n  }\n}\nconst SCROLL_LOCKER = new ScrollLocker();\n\n/**\n * Locks the scroll of the document when enabled.\n *\n * @param enabled - Whether to enable the scroll lock.\n * @param referenceElement - Element to use as a reference for lock calculations.\n */\nexport function useScrollLock(enabled = true, referenceElement = null) {\n  useIsoLayoutEffect(() => {\n    if (!enabled) {\n      return undefined;\n    }\n    return SCROLL_LOCKER.acquire(referenceElement);\n  }, [enabled, referenceElement]);\n}", "'use client';\n\nimport * as React from 'react';\nimport { useTimeout, Timeout } from '@base-ui/utils/useTimeout';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { getDelay } from \"../hooks/useHover.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst FloatingDelayGroupContext = /*#__PURE__*/React.createContext({\n  hasProvider: false,\n  timeoutMs: 0,\n  delayRef: {\n    current: 0\n  },\n  initialDelayRef: {\n    current: 0\n  },\n  timeout: new Timeout(),\n  currentIdRef: {\n    current: null\n  },\n  currentContextRef: {\n    current: null\n  }\n});\nif (process.env.NODE_ENV !== \"production\") FloatingDelayGroupContext.displayName = \"FloatingDelayGroupContext\";\n/**\n * Experimental next version of `FloatingDelayGroup` to become the default\n * in the future. This component is not yet stable.\n * Provides context for a group of floating elements that should share a\n * `delay`. Unlike `FloatingDelayGroup`, `useDelayGroup` with this\n * component does not cause a re-render of unrelated consumers of the\n * context when the delay changes.\n * @see https://floating-ui.com/docs/FloatingDelayGroup\n * @internal\n */\nexport function FloatingDelayGroup(props) {\n  const {\n    children,\n    delay,\n    timeoutMs = 0\n  } = props;\n  const delayRef = React.useRef(delay);\n  const initialDelayRef = React.useRef(delay);\n  const currentIdRef = React.useRef(null);\n  const currentContextRef = React.useRef(null);\n  const timeout = useTimeout();\n  return /*#__PURE__*/_jsx(FloatingDelayGroupContext.Provider, {\n    value: React.useMemo(() => ({\n      hasProvider: true,\n      delayRef,\n      initialDelayRef,\n      currentIdRef,\n      timeoutMs,\n      currentContextRef,\n      timeout\n    }), [timeoutMs, timeout]),\n    children: children\n  });\n}\n/**\n * Enables grouping when called inside a component that's a child of a\n * `FloatingDelayGroup`.\n * @see https://floating-ui.com/docs/FloatingDelayGroup\n * @internal\n */\nexport function useDelayGroup(context, options = {\n  open: false\n}) {\n  const store = 'rootStore' in context ? context.rootStore : context;\n  const floatingId = store.useState('floatingId');\n  const {\n    enabled = true,\n    open\n  } = options;\n  const groupContext = React.useContext(FloatingDelayGroupContext);\n  const {\n    currentIdRef,\n    delayRef,\n    timeoutMs,\n    initialDelayRef,\n    currentContextRef,\n    hasProvider,\n    timeout\n  } = groupContext;\n  const [isInstantPhase, setIsInstantPhase] = React.useState(false);\n  useIsoLayoutEffect(() => {\n    function unset() {\n      setIsInstantPhase(false);\n      currentContextRef.current?.setIsInstantPhase(false);\n      currentIdRef.current = null;\n      currentContextRef.current = null;\n      delayRef.current = initialDelayRef.current;\n    }\n    if (!enabled) {\n      return undefined;\n    }\n    if (!currentIdRef.current) {\n      return undefined;\n    }\n    if (!open && currentIdRef.current === floatingId) {\n      setIsInstantPhase(false);\n      if (timeoutMs) {\n        const closingId = floatingId;\n        timeout.start(timeoutMs, () => {\n          // If another tooltip has taken over the group, skip resetting.\n          if (store.select('open') || currentIdRef.current && currentIdRef.current !== closingId) {\n            return;\n          }\n          unset();\n        });\n        return () => {\n          timeout.clear();\n        };\n      }\n      unset();\n    }\n    return undefined;\n  }, [enabled, open, floatingId, currentIdRef, delayRef, timeoutMs, initialDelayRef, currentContextRef, timeout, store]);\n  useIsoLayoutEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    if (!open) {\n      return;\n    }\n    const prevContext = currentContextRef.current;\n    const prevId = currentIdRef.current;\n\n    // A new tooltip is opening, so cancel any pending timeout that would reset\n    // the group's delay back to the initial value.\n    timeout.clear();\n    currentContextRef.current = {\n      onOpenChange: store.setOpen,\n      setIsInstantPhase\n    };\n    currentIdRef.current = floatingId;\n    delayRef.current = {\n      open: 0,\n      close: getDelay(initialDelayRef.current, 'close')\n    };\n    if (prevId !== null && prevId !== floatingId) {\n      setIsInstantPhase(true);\n      prevContext?.setIsInstantPhase(true);\n      prevContext?.onOpenChange(false, createChangeEventDetails(REASONS.none));\n    } else {\n      setIsInstantPhase(false);\n      prevContext?.setIsInstantPhase(false);\n    }\n  }, [enabled, open, floatingId, store, currentIdRef, delayRef, timeoutMs, initialDelayRef, currentContextRef, timeout]);\n  useIsoLayoutEffect(() => {\n    return () => {\n      currentContextRef.current = null;\n    };\n  }, [currentContextRef]);\n  return React.useMemo(() => ({\n    hasProvider,\n    delayRef,\n    isInstantPhase\n  }), [hasProvider, delayRef, isInstantPhase]);\n}", "import * as React from 'react';\nimport { isElement } from '@floating-ui/utils/dom';\nimport { useTimeout } from '@base-ui/utils/useTimeout';\nimport { useValueAsRef } from '@base-ui/utils/useValueAsRef';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { contains, getDocument, getTarget, isMouseLikePointerType } from \"../utils.js\";\nimport { useFloatingParentNodeId, useFloatingTree } from \"../components/FloatingTree.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { createAttribute } from \"../utils/createAttribute.js\";\nimport { TYPEABLE_SELECTOR } from \"../utils/constants.js\";\nconst safePolygonIdentifier = createAttribute('safe-polygon');\nconst interactiveSelector = `button,[role=\"button\"],select,[tabindex]:not([tabindex=\"-1\"]),${TYPEABLE_SELECTOR}`;\nfunction isInteractiveElement(element) {\n  return element ? Boolean(element.closest(interactiveSelector)) : false;\n}\nexport function getDelay(value, prop, pointerType) {\n  if (pointerType && !isMouseLikePointerType(pointerType)) {\n    return 0;\n  }\n  if (typeof value === 'number') {\n    return value;\n  }\n  if (typeof value === 'function') {\n    const result = value();\n    if (typeof result === 'number') {\n      return result;\n    }\n    return result?.[prop];\n  }\n  return value?.[prop];\n}\nfunction getRestMs(value) {\n  if (typeof value === 'function') {\n    return value();\n  }\n  return value;\n}\n/**\n * Opens the floating element while hovering over the reference element, like\n * CSS `:hover`.\n * @see https://floating-ui.com/docs/useHover\n */\nexport function useHover(context, props = {}) {\n  const store = 'rootStore' in context ? context.rootStore : context;\n  const open = store.useState('open');\n  const floatingElement = store.useState('floatingElement');\n  const domReferenceElement = store.useState('domReferenceElement');\n  const {\n    dataRef,\n    events\n  } = store.context;\n  const {\n    enabled = true,\n    delay = 0,\n    handleClose = null,\n    mouseOnly = false,\n    restMs = 0,\n    move = true,\n    triggerElement = null,\n    externalTree\n  } = props;\n  const tree = useFloatingTree(externalTree);\n  const parentId = useFloatingParentNodeId();\n  const handleCloseRef = useValueAsRef(handleClose);\n  const delayRef = useValueAsRef(delay);\n  const restMsRef = useValueAsRef(restMs);\n  const pointerTypeRef = React.useRef(undefined);\n  const interactedInsideRef = React.useRef(false);\n  const timeout = useTimeout();\n  const handlerRef = React.useRef(undefined);\n  const restTimeout = useTimeout();\n  const blockMouseMoveRef = React.useRef(true);\n  const performedPointerEventsMutationRef = React.useRef(false);\n  const unbindMouseMoveRef = React.useRef(() => {});\n  const restTimeoutPendingRef = React.useRef(false);\n  const isHoverOpen = useStableCallback(() => {\n    const type = dataRef.current.openEvent?.type;\n    return type?.includes('mouse') && type !== 'mousedown';\n  });\n  const isClickLikeOpenEvent = useStableCallback(() => {\n    if (interactedInsideRef.current) {\n      return true;\n    }\n    return dataRef.current.openEvent ? ['click', 'mousedown'].includes(dataRef.current.openEvent.type) : false;\n  });\n\n  // When closing before opening, clear the delay timeouts to cancel it\n  // from showing.\n  React.useEffect(() => {\n    if (!enabled) {\n      return undefined;\n    }\n    function onOpenChangeLocal(details) {\n      if (!details.open) {\n        timeout.clear();\n        restTimeout.clear();\n        blockMouseMoveRef.current = true;\n        restTimeoutPendingRef.current = false;\n      }\n    }\n    events.on('openchange', onOpenChangeLocal);\n    return () => {\n      events.off('openchange', onOpenChangeLocal);\n    };\n  }, [enabled, events, timeout, restTimeout]);\n  React.useEffect(() => {\n    if (!enabled) {\n      return undefined;\n    }\n    if (!handleCloseRef.current) {\n      return undefined;\n    }\n    if (!open) {\n      return undefined;\n    }\n    function onLeave(event) {\n      if (isClickLikeOpenEvent()) {\n        return;\n      }\n      if (isHoverOpen()) {\n        store.setOpen(false, createChangeEventDetails(REASONS.triggerHover, event, event.currentTarget ?? undefined));\n      }\n    }\n    const html = getDocument(floatingElement).documentElement;\n    html.addEventListener('mouseleave', onLeave);\n    return () => {\n      html.removeEventListener('mouseleave', onLeave);\n    };\n  }, [floatingElement, open, store, enabled, handleCloseRef, isHoverOpen, isClickLikeOpenEvent]);\n  const closeWithDelay = React.useCallback((event, runElseBranch = true) => {\n    const closeDelay = getDelay(delayRef.current, 'close', pointerTypeRef.current);\n    if (closeDelay && !handlerRef.current) {\n      timeout.start(closeDelay, () => store.setOpen(false, createChangeEventDetails(REASONS.triggerHover, event)));\n    } else if (runElseBranch) {\n      timeout.clear();\n      store.setOpen(false, createChangeEventDetails(REASONS.triggerHover, event));\n    }\n  }, [delayRef, store, timeout]);\n  const cleanupMouseMoveHandler = useStableCallback(() => {\n    unbindMouseMoveRef.current();\n    handlerRef.current = undefined;\n  });\n  const clearPointerEvents = useStableCallback(() => {\n    if (performedPointerEventsMutationRef.current) {\n      const body = getDocument(floatingElement).body;\n      body.style.pointerEvents = '';\n      body.removeAttribute(safePolygonIdentifier);\n      performedPointerEventsMutationRef.current = false;\n    }\n  });\n  const handleInteractInside = useStableCallback(event => {\n    const target = getTarget(event);\n    if (!isInteractiveElement(target)) {\n      interactedInsideRef.current = false;\n      return;\n    }\n    interactedInsideRef.current = true;\n  });\n\n  // Registering the mouse events on the reference directly to bypass React's\n  // delegation system. If the cursor was on a disabled element and then entered\n  // the reference (no gap), `mouseenter` doesn't fire in the delegation system.\n  React.useEffect(() => {\n    if (!enabled) {\n      return undefined;\n    }\n    function onReferenceMouseEnter(event) {\n      timeout.clear();\n      blockMouseMoveRef.current = false;\n      if (mouseOnly && !isMouseLikePointerType(pointerTypeRef.current) || getRestMs(restMsRef.current) > 0 && !getDelay(delayRef.current, 'open')) {\n        return;\n      }\n      const openDelay = getDelay(delayRef.current, 'open', pointerTypeRef.current);\n      const trigger = event.currentTarget ?? undefined;\n      const domReference = store.select('domReferenceElement');\n      const isOverInactiveTrigger = domReference && trigger && !contains(domReference, trigger);\n      if (openDelay) {\n        timeout.start(openDelay, () => {\n          if (!store.select('open')) {\n            store.setOpen(true, createChangeEventDetails(REASONS.triggerHover, event, trigger));\n          }\n        });\n      } else if (!open || isOverInactiveTrigger) {\n        store.setOpen(true, createChangeEventDetails(REASONS.triggerHover, event, trigger));\n      }\n    }\n    function onReferenceMouseLeave(event) {\n      if (isClickLikeOpenEvent()) {\n        clearPointerEvents();\n        return;\n      }\n      unbindMouseMoveRef.current();\n      const doc = getDocument(floatingElement);\n      restTimeout.clear();\n      restTimeoutPendingRef.current = false;\n      const triggers = store.context.triggerElements;\n      if (event.relatedTarget && triggers.hasElement(event.relatedTarget)) {\n        // If the mouse is leaving the reference element to another trigger, don't explicitly close the popup\n        // as it will be moved.\n        return;\n      }\n      if (handleCloseRef.current && dataRef.current.floatingContext) {\n        // Prevent clearing `onScrollMouseLeave` timeout.\n        if (!open) {\n          timeout.clear();\n        }\n        handlerRef.current = handleCloseRef.current({\n          ...dataRef.current.floatingContext,\n          tree,\n          x: event.clientX,\n          y: event.clientY,\n          onClose() {\n            clearPointerEvents();\n            cleanupMouseMoveHandler();\n            if (!isClickLikeOpenEvent()) {\n              closeWithDelay(event, true);\n            }\n          }\n        });\n        const handler = handlerRef.current;\n        doc.addEventListener('mousemove', handler);\n        unbindMouseMoveRef.current = () => {\n          doc.removeEventListener('mousemove', handler);\n        };\n        return;\n      }\n\n      // Allow interactivity without `safePolygon` on touch devices. With a\n      // pointer, a short close delay is an alternative, so it should work\n      // consistently.\n      const shouldClose = pointerTypeRef.current === 'touch' ? !contains(floatingElement, event.relatedTarget) : true;\n      if (shouldClose) {\n        closeWithDelay(event);\n      }\n    }\n\n    // Ensure the floating element closes after scrolling even if the pointer\n    // did not move.\n    // https://github.com/floating-ui/floating-ui/discussions/1692\n    function onScrollMouseLeave(event) {\n      if (isClickLikeOpenEvent() || !dataRef.current.floatingContext || !store.select('open')) {\n        return;\n      }\n      const triggers = store.context.triggerElements;\n      if (event.relatedTarget && triggers.hasElement(event.relatedTarget)) {\n        // If the mouse is leaving the reference element to another trigger, don't explicitly close the popup\n        // as it will be moved.\n        return;\n      }\n      handleCloseRef.current?.({\n        ...dataRef.current.floatingContext,\n        tree,\n        x: event.clientX,\n        y: event.clientY,\n        onClose() {\n          clearPointerEvents();\n          cleanupMouseMoveHandler();\n          if (!isClickLikeOpenEvent()) {\n            closeWithDelay(event);\n          }\n        }\n      })(event);\n    }\n    function onFloatingMouseEnter() {\n      timeout.clear();\n      clearPointerEvents();\n    }\n    function onFloatingMouseLeave(event) {\n      if (!isClickLikeOpenEvent()) {\n        closeWithDelay(event, false);\n      }\n    }\n    const trigger = triggerElement ?? domReferenceElement;\n    if (isElement(trigger)) {\n      const floating = floatingElement;\n      if (open) {\n        trigger.addEventListener('mouseleave', onScrollMouseLeave);\n      }\n      if (move) {\n        trigger.addEventListener('mousemove', onReferenceMouseEnter, {\n          once: true\n        });\n      }\n      trigger.addEventListener('mouseenter', onReferenceMouseEnter);\n      trigger.addEventListener('mouseleave', onReferenceMouseLeave);\n      if (floating) {\n        floating.addEventListener('mouseleave', onScrollMouseLeave);\n        floating.addEventListener('mouseenter', onFloatingMouseEnter);\n        floating.addEventListener('mouseleave', onFloatingMouseLeave);\n        floating.addEventListener('pointerdown', handleInteractInside, true);\n      }\n      return () => {\n        if (open) {\n          trigger.removeEventListener('mouseleave', onScrollMouseLeave);\n        }\n        if (move) {\n          trigger.removeEventListener('mousemove', onReferenceMouseEnter);\n        }\n        trigger.removeEventListener('mouseenter', onReferenceMouseEnter);\n        trigger.removeEventListener('mouseleave', onReferenceMouseLeave);\n        if (floating) {\n          floating.removeEventListener('mouseleave', onScrollMouseLeave);\n          floating.removeEventListener('mouseenter', onFloatingMouseEnter);\n          floating.removeEventListener('mouseleave', onFloatingMouseLeave);\n          floating.removeEventListener('pointerdown', handleInteractInside, true);\n        }\n      };\n    }\n    return undefined;\n  }, [enabled, mouseOnly, move, domReferenceElement, floatingElement, triggerElement, store, closeWithDelay, cleanupMouseMoveHandler, clearPointerEvents, open, tree, delayRef, handleCloseRef, dataRef, isClickLikeOpenEvent, restMsRef, timeout, restTimeout, handleInteractInside]);\n\n  // Block pointer-events of every element other than the reference and floating\n  // while the floating element is open and has a `handleClose` handler. Also\n  // handles nested floating elements.\n  // https://github.com/floating-ui/floating-ui/issues/1722\n  useIsoLayoutEffect(() => {\n    if (!enabled) {\n      return undefined;\n    }\n\n    // eslint-disable-next-line no-underscore-dangle\n    if (open && handleCloseRef.current?.__options?.blockPointerEvents && isHoverOpen()) {\n      performedPointerEventsMutationRef.current = true;\n      const floatingEl = floatingElement;\n      if (isElement(domReferenceElement) && floatingEl) {\n        const body = getDocument(floatingElement).body;\n        body.setAttribute(safePolygonIdentifier, '');\n        const ref = domReferenceElement;\n        const parentFloating = tree?.nodesRef.current.find(node => node.id === parentId)?.context?.elements.floating;\n        if (parentFloating) {\n          parentFloating.style.pointerEvents = '';\n        }\n        body.style.pointerEvents = 'none';\n        ref.style.pointerEvents = 'auto';\n        floatingEl.style.pointerEvents = 'auto';\n        return () => {\n          body.style.pointerEvents = '';\n          ref.style.pointerEvents = '';\n          floatingEl.style.pointerEvents = '';\n        };\n      }\n    }\n    return undefined;\n  }, [enabled, open, parentId, tree, handleCloseRef, isHoverOpen, domReferenceElement, floatingElement]);\n  useIsoLayoutEffect(() => {\n    if (!open) {\n      pointerTypeRef.current = undefined;\n      restTimeoutPendingRef.current = false;\n      interactedInsideRef.current = false;\n      cleanupMouseMoveHandler();\n      clearPointerEvents();\n    }\n  }, [open, cleanupMouseMoveHandler, clearPointerEvents]);\n  React.useEffect(() => {\n    return () => {\n      cleanupMouseMoveHandler();\n      timeout.clear();\n      restTimeout.clear();\n      interactedInsideRef.current = false;\n    };\n  }, [enabled, domReferenceElement, cleanupMouseMoveHandler, timeout, restTimeout]);\n  React.useEffect(() => {\n    return clearPointerEvents;\n  }, [clearPointerEvents]);\n  const reference = React.useMemo(() => {\n    function setPointerRef(event) {\n      pointerTypeRef.current = event.pointerType;\n    }\n    return {\n      onPointerDown: setPointerRef,\n      onPointerEnter: setPointerRef,\n      onMouseMove(event) {\n        const {\n          nativeEvent\n        } = event;\n        const trigger = event.currentTarget;\n\n        // `true` when there are multiple triggers per floating element and user hovers over the one that\n        // wasn't used to open the floating element.\n        const isOverInactiveTrigger = store.select('domReferenceElement') && !contains(store.select('domReferenceElement'), event.target);\n        function handleMouseMove() {\n          if (!blockMouseMoveRef.current && (!store.select('open') || isOverInactiveTrigger)) {\n            store.setOpen(true, createChangeEventDetails(REASONS.triggerHover, nativeEvent, trigger));\n          }\n        }\n        if (mouseOnly && !isMouseLikePointerType(pointerTypeRef.current)) {\n          return;\n        }\n        if (store.select('open') && !isOverInactiveTrigger || getRestMs(restMsRef.current) === 0) {\n          return;\n        }\n\n        // Ignore insignificant movements to account for tremors.\n        if (!isOverInactiveTrigger && restTimeoutPendingRef.current && event.movementX ** 2 + event.movementY ** 2 < 2) {\n          return;\n        }\n        restTimeout.clear();\n        if (pointerTypeRef.current === 'touch') {\n          handleMouseMove();\n        } else if (isOverInactiveTrigger) {\n          handleMouseMove();\n        } else {\n          restTimeoutPendingRef.current = true;\n          restTimeout.start(getRestMs(restMsRef.current), handleMouseMove);\n        }\n      }\n    };\n  }, [mouseOnly, store, restMsRef, restTimeout]);\n  return React.useMemo(() => enabled ? {\n    reference\n  } : {}, [enabled, reference]);\n}", "'use client';\n\nimport { useIsoLayoutEffect } from \"./useIsoLayoutEffect.js\";\nimport { useRefWithInit } from \"./useRefWithInit.js\";\n\n/**\n * Untracks the provided value by turning it into a ref to remove its reactivity.\n *\n * Used to access the passed value inside `React.useEffect` without causing the effect to re-run when the value changes.\n */\nexport function useValueAsRef(value) {\n  const latest = useRefWithInit(createLatestRef, value).current;\n  latest.next = value;\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useIsoLayoutEffect(latest.effect);\n  return latest;\n}\nfunction createLatestRef(value) {\n  const latest = {\n    current: value,\n    next: value,\n    effect: () => {\n      latest.current = latest.next;\n    }\n  };\n  return latest;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useId } from '@base-ui/utils/useId';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useRefWithInit } from '@base-ui/utils/useRefWithInit';\nimport { FloatingTreeStore } from \"./FloatingTreeStore.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst FloatingNodeContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") FloatingNodeContext.displayName = \"FloatingNodeContext\";\nconst FloatingTreeContext = /*#__PURE__*/React.createContext(null);\n\n/**\n * Returns the parent node id for nested floating elements, if available.\n * Returns `null` for top-level floating elements.\n */\nif (process.env.NODE_ENV !== \"production\") FloatingTreeContext.displayName = \"FloatingTreeContext\";\nexport const useFloatingParentNodeId = () => React.useContext(FloatingNodeContext)?.id || null;\n\n/**\n * Returns the nearest floating tree context, if available.\n */\nexport const useFloatingTree = externalTree => {\n  const contextTree = React.useContext(FloatingTreeContext);\n  return externalTree ?? contextTree;\n};\n\n/**\n * Registers a node into the `FloatingTree`, returning its id.\n * @see https://floating-ui.com/docs/FloatingTree\n */\nexport function useFloatingNodeId(externalTree) {\n  const id = useId();\n  const tree = useFloatingTree(externalTree);\n  const parentId = useFloatingParentNodeId();\n  useIsoLayoutEffect(() => {\n    if (!id) {\n      return undefined;\n    }\n    const node = {\n      id,\n      parentId\n    };\n    tree?.addNode(node);\n    return () => {\n      tree?.removeNode(node);\n    };\n  }, [tree, id, parentId]);\n  return id;\n}\n/**\n * Provides parent node context for nested floating elements.\n * @see https://floating-ui.com/docs/FloatingTree\n * @internal\n */\nexport function FloatingNode(props) {\n  const {\n    children,\n    id\n  } = props;\n  const parentId = useFloatingParentNodeId();\n  return /*#__PURE__*/_jsx(FloatingNodeContext.Provider, {\n    value: React.useMemo(() => ({\n      id,\n      parentId\n    }), [id, parentId]),\n    children: children\n  });\n}\n/**\n * Provides context for nested floating elements when they are not children of\n * each other on the DOM.\n * This is not necessary in all cases, except when there must be explicit communication between parent and child floating elements. It is necessary for:\n * - The `bubbles` option in the `useDismiss()` Hook\n * - Nested virtual list navigation\n * - Nested floating elements that each open on hover\n * - Custom communication between parent and child floating elements\n * @see https://floating-ui.com/docs/FloatingTree\n * @internal\n */\nexport function FloatingTree(props) {\n  const {\n    children,\n    externalTree\n  } = props;\n  const tree = useRefWithInit(() => externalTree ?? new FloatingTreeStore()).current;\n  return /*#__PURE__*/_jsx(FloatingTreeContext.Provider, {\n    value: tree,\n    children: children\n  });\n}", "export function createEventEmitter() {\n  const map = new Map();\n  return {\n    emit(event, data) {\n      map.get(event)?.forEach(listener => listener(data));\n    },\n    on(event, listener) {\n      if (!map.has(event)) {\n        map.set(event, new Set());\n      }\n      map.get(event).add(listener);\n    },\n    off(event, listener) {\n      map.get(event)?.delete(listener);\n    }\n  };\n}", "import { createEventEmitter } from \"../utils/createEventEmitter.js\";\n\n/**\n * Stores and manages floating elements in a tree structure.\n * This is a backing store for the `FloatingTree` component.\n */\nexport class FloatingTreeStore {\n  nodesRef = {\n    current: []\n  };\n  events = createEventEmitter();\n  addNode(node) {\n    this.nodesRef.current.push(node);\n  }\n  removeNode(node) {\n    const index = this.nodesRef.current.findIndex(n => n === node);\n    if (index !== -1) {\n      this.nodesRef.current.splice(index, 1);\n    }\n  }\n}", "export function createAttribute(name) {\n  return `data-base-ui-${name}`;\n}", "'use client';\n\nimport * as React from 'react';\nimport { tabbable, isTabbable, focusable } from 'tabbable';\nimport { getComputedStyle, getNodeName, isHTMLElement } from '@floating-ui/utils/dom';\nimport { useMergedRefs } from '@base-ui/utils/useMergedRefs';\nimport { useValueAsRef } from '@base-ui/utils/useValueAsRef';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { visuallyHidden } from '@base-ui/utils/visuallyHidden';\nimport { useTimeout } from '@base-ui/utils/useTimeout';\nimport { useAnimationFrame } from '@base-ui/utils/useAnimationFrame';\nimport { ownerWindow } from '@base-ui/utils/owner';\nimport { FocusGuard } from \"../../utils/FocusGuard.js\";\nimport { activeElement, contains, getDocument, getTarget, isTypeableCombobox, isVirtualClick, isVirtualPointerEvent, stopEvent, getNodeAncestors, getNodeChildren, getFloatingFocusElement, getTabbableOptions, isOutsideEvent, getNextTabbable, getPreviousTabbable } from \"../utils.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { createAttribute } from \"../utils/createAttribute.js\";\nimport { enqueueFocus } from \"../utils/enqueueFocus.js\";\nimport { markOthers } from \"../utils/markOthers.js\";\nimport { usePortalContext } from \"./FloatingPortal.js\";\nimport { useFloatingTree } from \"./FloatingTree.js\";\nimport { CLICK_TRIGGER_IDENTIFIER } from \"../../utils/constants.js\";\nimport { resolveRef } from \"../../utils/resolveRef.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction getEventType(event, lastInteractionType) {\n  const win = ownerWindow(event.target);\n  if (event instanceof win.KeyboardEvent) {\n    return 'keyboard';\n  }\n  if (event instanceof win.FocusEvent) {\n    // Focus events can be caused by a preceding pointer interaction (e.g., focusout on outside press).\n    // Prefer the last known pointer type if provided, else treat as keyboard.\n    return lastInteractionType || 'keyboard';\n  }\n  if ('pointerType' in event) {\n    return event.pointerType || 'keyboard';\n  }\n  if ('touches' in event) {\n    return 'touch';\n  }\n  if (event instanceof win.MouseEvent) {\n    // onClick events may not contain pointer events, and will fall through to here\n    return lastInteractionType || (event.detail === 0 ? 'keyboard' : 'mouse');\n  }\n  return '';\n}\nconst LIST_LIMIT = 20;\nlet previouslyFocusedElements = [];\nfunction clearDisconnectedPreviouslyFocusedElements() {\n  previouslyFocusedElements = previouslyFocusedElements.filter(el => el.isConnected);\n}\nfunction addPreviouslyFocusedElement(element) {\n  clearDisconnectedPreviouslyFocusedElements();\n  if (element && getNodeName(element) !== 'body') {\n    previouslyFocusedElements.push(element);\n    if (previouslyFocusedElements.length > LIST_LIMIT) {\n      previouslyFocusedElements = previouslyFocusedElements.slice(-LIST_LIMIT);\n    }\n  }\n}\nfunction getPreviouslyFocusedElement() {\n  clearDisconnectedPreviouslyFocusedElements();\n  return previouslyFocusedElements[previouslyFocusedElements.length - 1];\n}\nfunction getFirstTabbableElement(container) {\n  if (!container) {\n    return null;\n  }\n  const tabbableOptions = getTabbableOptions();\n  if (isTabbable(container, tabbableOptions)) {\n    return container;\n  }\n  return tabbable(container, tabbableOptions)[0] || container;\n}\nfunction isFocusable(element) {\n  if (!element || !element.isConnected) {\n    return false;\n  }\n  if (typeof element.checkVisibility === 'function') {\n    return element.checkVisibility();\n  }\n  return getComputedStyle(element).display !== 'none';\n}\nfunction handleTabIndex(floatingFocusElement, orderRef) {\n  if (!orderRef.current.includes('floating') && !floatingFocusElement.getAttribute('role')?.includes('dialog')) {\n    return;\n  }\n  const options = getTabbableOptions();\n  const focusableElements = focusable(floatingFocusElement, options);\n  const tabbableContent = focusableElements.filter(element => {\n    const dataTabIndex = element.getAttribute('data-tabindex') || '';\n    return isTabbable(element, options) || element.hasAttribute('data-tabindex') && !dataTabIndex.startsWith('-');\n  });\n  const tabIndex = floatingFocusElement.getAttribute('tabindex');\n  if (orderRef.current.includes('floating') || tabbableContent.length === 0) {\n    if (tabIndex !== '0') {\n      floatingFocusElement.setAttribute('tabindex', '0');\n    }\n  } else if (tabIndex !== '-1' || floatingFocusElement.hasAttribute('data-tabindex') && floatingFocusElement.getAttribute('data-tabindex') !== '-1') {\n    floatingFocusElement.setAttribute('tabindex', '-1');\n    floatingFocusElement.setAttribute('data-tabindex', '-1');\n  }\n}\n/**\n * Provides focus management for the floating element.\n * @see https://floating-ui.com/docs/FloatingFocusManager\n * @internal\n */\nexport function FloatingFocusManager(props) {\n  const {\n    context,\n    children,\n    disabled = false,\n    order = ['content'],\n    initialFocus = true,\n    returnFocus = true,\n    restoreFocus = false,\n    modal = true,\n    closeOnFocusOut = true,\n    openInteractionType = '',\n    getInsideElements: getInsideElementsProp = () => [],\n    nextFocusableElement,\n    previousFocusableElement,\n    beforeContentFocusGuardRef,\n    externalTree\n  } = props;\n  const store = 'rootStore' in context ? context.rootStore : context;\n  const open = store.useState('open');\n  const domReference = store.useState('domReferenceElement');\n  const floating = store.useState('floatingElement');\n  const {\n    events,\n    dataRef\n  } = store.context;\n  const getNodeId = useStableCallback(() => dataRef.current.floatingContext?.nodeId);\n  const getInsideElements = useStableCallback(getInsideElementsProp);\n  const ignoreInitialFocus = initialFocus === false;\n  // If the reference is a combobox and is typeable (e.g. input/textarea),\n  // there are different focus semantics. The guards should not be rendered, but\n  // aria-hidden should be applied to all nodes still. Further, the visually\n  // hidden dismiss button should only appear at the end of the list, not the\n  // start.\n  const isUntrappedTypeableCombobox = isTypeableCombobox(domReference) && ignoreInitialFocus;\n  const orderRef = useValueAsRef(order);\n  const initialFocusRef = useValueAsRef(initialFocus);\n  const returnFocusRef = useValueAsRef(returnFocus);\n  const openInteractionTypeRef = useValueAsRef(openInteractionType);\n  const tree = useFloatingTree(externalTree);\n  const portalContext = usePortalContext();\n  const startDismissButtonRef = React.useRef(null);\n  const endDismissButtonRef = React.useRef(null);\n  const preventReturnFocusRef = React.useRef(false);\n  const isPointerDownRef = React.useRef(false);\n  const pointerDownOutsideRef = React.useRef(false);\n  const tabbableIndexRef = React.useRef(-1);\n  const closeTypeRef = React.useRef('');\n  const lastInteractionTypeRef = React.useRef('');\n  const beforeGuardRef = React.useRef(null);\n  const afterGuardRef = React.useRef(null);\n  const mergedBeforeGuardRef = useMergedRefs(beforeGuardRef, beforeContentFocusGuardRef, portalContext?.beforeInsideRef);\n  const mergedAfterGuardRef = useMergedRefs(afterGuardRef, portalContext?.afterInsideRef);\n  const blurTimeout = useTimeout();\n  const pointerDownTimeout = useTimeout();\n  const restoreFocusFrame = useAnimationFrame();\n  const isInsidePortal = portalContext != null;\n  const floatingFocusElement = getFloatingFocusElement(floating);\n  const getTabbableContent = useStableCallback((container = floatingFocusElement) => {\n    return container ? tabbable(container, getTabbableOptions()) : [];\n  });\n  const getTabbableElements = useStableCallback(container => {\n    const content = getTabbableContent(container);\n    return orderRef.current.map(() => content).filter(Boolean).flat();\n  });\n  React.useEffect(() => {\n    if (disabled) {\n      return undefined;\n    }\n    if (!modal) {\n      return undefined;\n    }\n    function onKeyDown(event) {\n      if (event.key === 'Tab') {\n        // The focus guards have nothing to focus, so we need to stop the event.\n        if (contains(floatingFocusElement, activeElement(getDocument(floatingFocusElement))) && getTabbableContent().length === 0 && !isUntrappedTypeableCombobox) {\n          stopEvent(event);\n        }\n      }\n    }\n    const doc = getDocument(floatingFocusElement);\n    doc.addEventListener('keydown', onKeyDown);\n    return () => {\n      doc.removeEventListener('keydown', onKeyDown);\n    };\n  }, [disabled, domReference, floatingFocusElement, modal, orderRef, isUntrappedTypeableCombobox, getTabbableContent, getTabbableElements]);\n  React.useEffect(() => {\n    if (disabled) {\n      return undefined;\n    }\n    if (!floating) {\n      return undefined;\n    }\n    function handleFocusIn(event) {\n      const target = getTarget(event);\n      const tabbableContent = getTabbableContent();\n      const tabbableIndex = tabbableContent.indexOf(target);\n      if (tabbableIndex !== -1) {\n        tabbableIndexRef.current = tabbableIndex;\n      }\n    }\n    floating.addEventListener('focusin', handleFocusIn);\n    return () => {\n      floating.removeEventListener('focusin', handleFocusIn);\n    };\n  }, [disabled, floating, getTabbableContent]);\n\n  // Track the last interaction type at the document level to disambiguate focus events\n  React.useEffect(() => {\n    if (disabled || !open) {\n      return undefined;\n    }\n    const doc = getDocument(floatingFocusElement);\n    function clearPointerDownOutside() {\n      pointerDownOutsideRef.current = false;\n    }\n    function onPointerDown(event) {\n      const target = getTarget(event);\n      const pointerTargetInside = contains(floating, target) || contains(domReference, target) || contains(portalContext?.portalNode, target);\n      pointerDownOutsideRef.current = !pointerTargetInside;\n      lastInteractionTypeRef.current = event.pointerType || 'keyboard';\n    }\n    function onKeyDown() {\n      lastInteractionTypeRef.current = 'keyboard';\n    }\n    doc.addEventListener('pointerdown', onPointerDown, true);\n    doc.addEventListener('pointerup', clearPointerDownOutside, true);\n    doc.addEventListener('pointercancel', clearPointerDownOutside, true);\n    doc.addEventListener('keydown', onKeyDown, true);\n    return () => {\n      doc.removeEventListener('pointerdown', onPointerDown, true);\n      doc.removeEventListener('pointerup', clearPointerDownOutside, true);\n      doc.removeEventListener('pointercancel', clearPointerDownOutside, true);\n      doc.removeEventListener('keydown', onKeyDown, true);\n    };\n  }, [disabled, floating, domReference, floatingFocusElement, open, portalContext]);\n  React.useEffect(() => {\n    if (disabled) {\n      return undefined;\n    }\n    if (!closeOnFocusOut) {\n      return undefined;\n    }\n\n    // In Safari, buttons lose focus when pressing them.\n    function handlePointerDown() {\n      isPointerDownRef.current = true;\n      pointerDownTimeout.start(0, () => {\n        isPointerDownRef.current = false;\n      });\n    }\n    function handleFocusOutside(event) {\n      const relatedTarget = event.relatedTarget;\n      const currentTarget = event.currentTarget;\n      const target = getTarget(event);\n      queueMicrotask(() => {\n        const nodeId = getNodeId();\n        const triggers = store.context.triggerElements;\n        const isRelatedFocusGuard = relatedTarget?.hasAttribute(createAttribute('focus-guard')) && [beforeGuardRef.current, afterGuardRef.current, portalContext?.beforeInsideRef.current, portalContext?.afterInsideRef.current, portalContext?.beforeOutsideRef.current, portalContext?.afterOutsideRef.current, resolveRef(previousFocusableElement), resolveRef(nextFocusableElement)].includes(relatedTarget);\n        const movedToUnrelatedNode = !(contains(domReference, relatedTarget) || contains(floating, relatedTarget) || contains(relatedTarget, floating) || contains(portalContext?.portalNode, relatedTarget) || relatedTarget != null && triggers.hasElement(relatedTarget) || triggers.hasMatchingElement(trigger => contains(trigger, relatedTarget)) || isRelatedFocusGuard || tree && (getNodeChildren(tree.nodesRef.current, nodeId).find(node => contains(node.context?.elements.floating, relatedTarget) || contains(node.context?.elements.domReference, relatedTarget)) || getNodeAncestors(tree.nodesRef.current, nodeId).find(node => [node.context?.elements.floating, getFloatingFocusElement(node.context?.elements.floating)].includes(relatedTarget) || node.context?.elements.domReference === relatedTarget)));\n        if (currentTarget === domReference && floatingFocusElement) {\n          handleTabIndex(floatingFocusElement, orderRef);\n        }\n\n        // Restore focus to the previous tabbable element index to prevent\n        // focus from being lost outside the floating tree.\n        if (restoreFocus && currentTarget !== domReference && !isFocusable(target) && activeElement(getDocument(floatingFocusElement)) === getDocument(floatingFocusElement).body) {\n          // Let `FloatingPortal` effect knows that focus is still inside the\n          // floating tree.\n          if (isHTMLElement(floatingFocusElement)) {\n            floatingFocusElement.focus();\n            // If explicitly requested to restore focus to the popup container, do not search\n            // for the next/previous tabbable element.\n            if (restoreFocus === 'popup') {\n              // If the element is removed on pointerdown, focus tries to move it,\n              // but since it's removed at the same time, focus gets lost as it\n              // happens after the .focus() call above.\n              // In this case, focus needs to be moved asynchronously.\n              restoreFocusFrame.request(() => {\n                floatingFocusElement.focus();\n              });\n              return;\n            }\n          }\n          const prevTabbableIndex = tabbableIndexRef.current;\n          const tabbableContent = getTabbableContent();\n          const nodeToFocus = tabbableContent[prevTabbableIndex] || tabbableContent[tabbableContent.length - 1] || floatingFocusElement;\n          if (isHTMLElement(nodeToFocus)) {\n            nodeToFocus.focus();\n          }\n        }\n\n        // https://github.com/floating-ui/floating-ui/issues/3060\n        if (dataRef.current.insideReactTree) {\n          dataRef.current.insideReactTree = false;\n          return;\n        }\n\n        // Focus did not move inside the floating tree, and there are no tabbable\n        // portal guards to handle closing.\n        if ((isUntrappedTypeableCombobox ? true : !modal) && relatedTarget && movedToUnrelatedNode && !isPointerDownRef.current && (\n        // Fix React 18 Strict Mode returnFocus due to double rendering.\n        // For an \"untrapped\" typeable combobox (input role=combobox with\n        // initialFocus=false), re-opening the popup and tabbing out should still close it even\n        // when the previously focused element (e.g. the next tabbable outside the popup) is\n        // focused again. Otherwise, the popup remains open on the second Tab sequence:\n        // click input -> Tab (closes) -> click input -> Tab.\n        // Allow closing when `isUntrappedTypeableCombobox` regardless of the previously focused element.\n        isUntrappedTypeableCombobox || relatedTarget !== getPreviouslyFocusedElement())) {\n          preventReturnFocusRef.current = true;\n          store.setOpen(false, createChangeEventDetails(REASONS.focusOut, event));\n        }\n      });\n    }\n    function markInsideReactTree() {\n      if (pointerDownOutsideRef.current) {\n        return;\n      }\n      dataRef.current.insideReactTree = true;\n      blurTimeout.start(0, () => {\n        dataRef.current.insideReactTree = false;\n      });\n    }\n    const domReferenceElement = isHTMLElement(domReference) ? domReference : null;\n    const cleanups = [];\n    if (!floating && !domReferenceElement) {\n      return undefined;\n    }\n    if (domReferenceElement) {\n      domReferenceElement.addEventListener('focusout', handleFocusOutside);\n      domReferenceElement.addEventListener('pointerdown', handlePointerDown);\n      cleanups.push(() => {\n        domReferenceElement.removeEventListener('focusout', handleFocusOutside);\n        domReferenceElement.removeEventListener('pointerdown', handlePointerDown);\n      });\n    }\n    if (floating) {\n      floating.addEventListener('focusout', handleFocusOutside);\n      if (portalContext) {\n        floating.addEventListener('focusout', markInsideReactTree, true);\n        cleanups.push(() => {\n          floating.removeEventListener('focusout', markInsideReactTree, true);\n        });\n      }\n      cleanups.push(() => {\n        floating.removeEventListener('focusout', handleFocusOutside);\n      });\n    }\n    return () => {\n      cleanups.forEach(cleanup => {\n        cleanup();\n      });\n    };\n  }, [disabled, domReference, floating, floatingFocusElement, modal, tree, portalContext, store, closeOnFocusOut, restoreFocus, getTabbableContent, isUntrappedTypeableCombobox, getNodeId, orderRef, dataRef, blurTimeout, pointerDownTimeout, restoreFocusFrame, nextFocusableElement, previousFocusableElement]);\n  React.useEffect(() => {\n    if (disabled || !floating || !open) {\n      return undefined;\n    }\n\n    // Don't hide portals nested within the parent portal.\n    const portalNodes = Array.from(portalContext?.portalNode?.querySelectorAll(`[${createAttribute('portal')}]`) || []);\n    const ancestors = tree ? getNodeAncestors(tree.nodesRef.current, getNodeId()) : [];\n    const rootAncestorComboboxDomReference = ancestors.find(node => isTypeableCombobox(node.context?.elements.domReference || null))?.context?.elements.domReference;\n    const insideElements = [floating, rootAncestorComboboxDomReference, ...portalNodes, ...getInsideElements(), startDismissButtonRef.current, endDismissButtonRef.current, beforeGuardRef.current, afterGuardRef.current, portalContext?.beforeOutsideRef.current, portalContext?.afterOutsideRef.current, resolveRef(previousFocusableElement), resolveRef(nextFocusableElement), isUntrappedTypeableCombobox ? domReference : null].filter(x => x != null);\n    const cleanup = markOthers(insideElements, modal || isUntrappedTypeableCombobox);\n    return () => {\n      cleanup();\n    };\n  }, [open, disabled, domReference, floating, modal, orderRef, portalContext, isUntrappedTypeableCombobox, tree, getNodeId, getInsideElements, nextFocusableElement, previousFocusableElement]);\n  useIsoLayoutEffect(() => {\n    if (!open || disabled || !isHTMLElement(floatingFocusElement)) {\n      return;\n    }\n    const doc = getDocument(floatingFocusElement);\n    const previouslyFocusedElement = activeElement(doc);\n\n    // Wait for any layout effect state setters to execute to set `tabIndex`.\n    queueMicrotask(() => {\n      const focusableElements = getTabbableElements(floatingFocusElement);\n      const initialFocusValueOrFn = initialFocusRef.current;\n      const resolvedInitialFocus = typeof initialFocusValueOrFn === 'function' ? initialFocusValueOrFn(openInteractionTypeRef.current || '') : initialFocusValueOrFn;\n\n      // `null` should fallback to default behavior in case of an empty ref.\n      if (resolvedInitialFocus === undefined || resolvedInitialFocus === false) {\n        return;\n      }\n      let elToFocus;\n      if (resolvedInitialFocus === true || resolvedInitialFocus === null) {\n        elToFocus = focusableElements[0] || floatingFocusElement;\n      } else {\n        elToFocus = resolveRef(resolvedInitialFocus);\n      }\n      elToFocus = elToFocus || focusableElements[0] || floatingFocusElement;\n      const focusAlreadyInsideFloatingEl = contains(floatingFocusElement, previouslyFocusedElement);\n      if (focusAlreadyInsideFloatingEl) {\n        return;\n      }\n      enqueueFocus(elToFocus, {\n        preventScroll: elToFocus === floatingFocusElement\n      });\n    });\n  }, [disabled, open, floatingFocusElement, ignoreInitialFocus, getTabbableElements, initialFocusRef, openInteractionTypeRef]);\n  useIsoLayoutEffect(() => {\n    if (disabled || !floatingFocusElement) {\n      return undefined;\n    }\n    const doc = getDocument(floatingFocusElement);\n    const previouslyFocusedElement = activeElement(doc);\n    addPreviouslyFocusedElement(previouslyFocusedElement);\n\n    // Dismissing via outside press should always ignore `returnFocus` to\n    // prevent unwanted scrolling.\n    function onOpenChangeLocal(details) {\n      if (!details.open) {\n        closeTypeRef.current = getEventType(details.nativeEvent, lastInteractionTypeRef.current);\n      }\n      if (details.reason === REASONS.triggerHover && details.nativeEvent.type === 'mouseleave') {\n        preventReturnFocusRef.current = true;\n      }\n      if (details.reason !== REASONS.outsidePress) {\n        return;\n      }\n      if (details.nested) {\n        preventReturnFocusRef.current = false;\n      } else if (isVirtualClick(details.nativeEvent) || isVirtualPointerEvent(details.nativeEvent)) {\n        preventReturnFocusRef.current = false;\n      } else {\n        let isPreventScrollSupported = false;\n        document.createElement('div').focus({\n          get preventScroll() {\n            isPreventScrollSupported = true;\n            return false;\n          }\n        });\n        if (isPreventScrollSupported) {\n          preventReturnFocusRef.current = false;\n        } else {\n          preventReturnFocusRef.current = true;\n        }\n      }\n    }\n    events.on('openchange', onOpenChangeLocal);\n    const fallbackEl = doc.createElement('span');\n    fallbackEl.setAttribute('tabindex', '-1');\n    fallbackEl.setAttribute('aria-hidden', 'true');\n    Object.assign(fallbackEl.style, visuallyHidden);\n    if (isInsidePortal && domReference) {\n      domReference.insertAdjacentElement('afterend', fallbackEl);\n    }\n    function getReturnElement() {\n      const returnFocusValueOrFn = returnFocusRef.current;\n      let resolvedReturnFocusValue = typeof returnFocusValueOrFn === 'function' ? returnFocusValueOrFn(closeTypeRef.current) : returnFocusValueOrFn;\n\n      // `null` should fallback to default behavior in case of an empty ref.\n      if (resolvedReturnFocusValue === undefined || resolvedReturnFocusValue === false) {\n        return null;\n      }\n      if (resolvedReturnFocusValue === null) {\n        resolvedReturnFocusValue = true;\n      }\n      if (typeof resolvedReturnFocusValue === 'boolean') {\n        const el = domReference || getPreviouslyFocusedElement();\n        return el && el.isConnected ? el : fallbackEl;\n      }\n      const fallback = domReference || getPreviouslyFocusedElement() || fallbackEl;\n      return resolveRef(resolvedReturnFocusValue) || fallback;\n    }\n    return () => {\n      events.off('openchange', onOpenChangeLocal);\n      const activeEl = activeElement(doc);\n      const isFocusInsideFloatingTree = contains(floating, activeEl) || tree && getNodeChildren(tree.nodesRef.current, getNodeId(), false).some(node => contains(node.context?.elements.floating, activeEl));\n      const returnElement = getReturnElement();\n      queueMicrotask(() => {\n        // This is `returnElement`, if it's tabbable, or its first tabbable child.\n        const tabbableReturnElement = getFirstTabbableElement(returnElement);\n        const hasExplicitReturnFocus = typeof returnFocusRef.current !== 'boolean';\n        if (\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        returnFocusRef.current && !preventReturnFocusRef.current && isHTMLElement(tabbableReturnElement) && (\n        // If the focus moved somewhere else after mount, avoid returning focus\n        // since it likely entered a different element which should be\n        // respected: https://github.com/floating-ui/floating-ui/issues/2607\n        !hasExplicitReturnFocus && tabbableReturnElement !== activeEl && activeEl !== doc.body ? isFocusInsideFloatingTree : true)) {\n          tabbableReturnElement.focus({\n            preventScroll: true\n          });\n        }\n        fallbackEl.remove();\n      });\n    };\n  }, [disabled, floating, floatingFocusElement, returnFocusRef, dataRef, events, tree, isInsidePortal, domReference, getNodeId]);\n  React.useEffect(() => {\n    // The `returnFocus` cleanup behavior is inside a microtask; ensure we\n    // wait for it to complete before resetting the flag.\n    queueMicrotask(() => {\n      preventReturnFocusRef.current = false;\n    });\n  }, [disabled]);\n  React.useEffect(() => {\n    if (disabled || !open) {\n      return undefined;\n    }\n    function handlePointerDown(event) {\n      const target = getTarget(event);\n      if (target?.closest(`[${CLICK_TRIGGER_IDENTIFIER}]`)) {\n        isPointerDownRef.current = true;\n      }\n    }\n    const doc = getDocument(floatingFocusElement);\n    doc.addEventListener('pointerdown', handlePointerDown, true);\n    return () => {\n      doc.removeEventListener('pointerdown', handlePointerDown, true);\n    };\n  }, [disabled, open, floatingFocusElement]);\n\n  // Synchronize the `context` & `modal` value to the FloatingPortal context.\n  // It will decide whether or not it needs to render its own guards.\n  useIsoLayoutEffect(() => {\n    if (disabled) {\n      return undefined;\n    }\n    if (!portalContext) {\n      return undefined;\n    }\n    portalContext.setFocusManagerState({\n      modal,\n      closeOnFocusOut,\n      open,\n      onOpenChange: store.setOpen,\n      domReference\n    });\n    return () => {\n      portalContext.setFocusManagerState(null);\n    };\n  }, [disabled, portalContext, modal, open, store, closeOnFocusOut, domReference]);\n  useIsoLayoutEffect(() => {\n    if (disabled || !floatingFocusElement) {\n      return undefined;\n    }\n    handleTabIndex(floatingFocusElement, orderRef);\n    return () => {\n      queueMicrotask(clearDisconnectedPreviouslyFocusedElements);\n    };\n  }, [disabled, floatingFocusElement, orderRef]);\n  const shouldRenderGuards = !disabled && (modal ? !isUntrappedTypeableCombobox : true) && (isInsidePortal || modal);\n  return /*#__PURE__*/_jsxs(React.Fragment, {\n    children: [shouldRenderGuards && /*#__PURE__*/_jsx(FocusGuard, {\n      \"data-type\": \"inside\",\n      ref: mergedBeforeGuardRef,\n      onFocus: event => {\n        if (modal) {\n          const els = getTabbableElements();\n          enqueueFocus(els[els.length - 1]);\n        } else if (portalContext?.portalNode) {\n          preventReturnFocusRef.current = false;\n          if (isOutsideEvent(event, portalContext.portalNode)) {\n            const nextTabbable = getNextTabbable(domReference);\n            nextTabbable?.focus();\n          } else {\n            resolveRef(previousFocusableElement ?? portalContext.beforeOutsideRef)?.focus();\n          }\n        }\n      }\n    }), children, shouldRenderGuards && /*#__PURE__*/_jsx(FocusGuard, {\n      \"data-type\": \"inside\",\n      ref: mergedAfterGuardRef,\n      onFocus: event => {\n        if (modal) {\n          enqueueFocus(getTabbableElements()[0]);\n        } else if (portalContext?.portalNode) {\n          if (closeOnFocusOut) {\n            preventReturnFocusRef.current = true;\n          }\n          if (isOutsideEvent(event, portalContext.portalNode)) {\n            const prevTabbable = getPreviousTabbable(domReference);\n            prevTabbable?.focus();\n          } else {\n            resolveRef(nextFocusableElement ?? portalContext.afterOutsideRef)?.focus();\n          }\n        }\n      }\n    })]\n  });\n}", "const visuallyHiddenBase = {\n  clipPath: 'inset(50%)',\n  overflow: 'hidden',\n  whiteSpace: 'nowrap',\n  border: 0,\n  padding: 0,\n  width: 1,\n  height: 1,\n  margin: -1\n};\nexport const visuallyHidden = {\n  ...visuallyHiddenBase,\n  position: 'fixed',\n  top: 0,\n  left: 0\n};\nexport const visuallyHiddenInput = {\n  ...visuallyHiddenBase,\n  position: 'absolute'\n};", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { isSafari } from '@base-ui/utils/detectBrowser';\nimport { visuallyHidden } from '@base-ui/utils/visuallyHidden';\n\n/**\n * @internal\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const FocusGuard = /*#__PURE__*/React.forwardRef(function FocusGuard(props, ref) {\n  const [role, setRole] = React.useState();\n  useIsoLayoutEffect(() => {\n    if (isSafari) {\n      // Unlike other screen readers such as NVDA and JAWS, the virtual cursor\n      // on VoiceOver does trigger the onFocus event, so we can use the focus\n      // trap element. On Safari, only buttons trigger the onFocus event.\n      setRole('button');\n    }\n  }, []);\n  const restProps = {\n    tabIndex: 0,\n    // Role is only for VoiceOver\n    role\n  };\n  return /*#__PURE__*/_jsx(\"span\", {\n    ...props,\n    ref: ref,\n    style: visuallyHidden,\n    \"aria-hidden\": role ? undefined : true,\n    ...restProps,\n    \"data-base-ui-focus-guard\": \"\"\n  });\n});\nif (process.env.NODE_ENV !== \"production\") FocusGuard.displayName = \"FocusGuard\";", "let rafId = 0;\nexport function enqueueFocus(el, options = {}) {\n  const {\n    preventScroll = false,\n    cancelPrevious = true,\n    sync = false\n  } = options;\n  if (cancelPrevious) {\n    cancelAnimationFrame(rafId);\n  }\n  const exec = () => el?.focus({\n    preventScroll\n  });\n  if (sync) {\n    exec();\n  } else {\n    rafId = requestAnimationFrame(exec);\n  }\n}", "// Modified to add conditional `aria-hidden` support:\n// https://github.com/theKashey/aria-hidden/blob/9220c8f4a4fd35f63bee5510a9f41a37264382d4/src/index.ts\nimport { getNodeName } from '@floating-ui/utils/dom';\nimport { getDocument } from \"./element.js\";\nconst counters = {\n  inert: new WeakMap(),\n  'aria-hidden': new WeakMap(),\n  none: new WeakMap()\n};\nfunction getCounterMap(control) {\n  if (control === 'inert') {\n    return counters.inert;\n  }\n  if (control === 'aria-hidden') {\n    return counters['aria-hidden'];\n  }\n  return counters.none;\n}\nlet uncontrolledElementsSet = new WeakSet();\nlet markerMap = {};\nlet lockCount = 0;\nexport const supportsInert = () => typeof HTMLElement !== 'undefined' && 'inert' in HTMLElement.prototype;\nconst unwrapHost = node => node && (node.host || unwrapHost(node.parentNode));\nconst correctElements = (parent, targets) => targets.map(target => {\n  if (parent.contains(target)) {\n    return target;\n  }\n  const correctedTarget = unwrapHost(target);\n  if (parent.contains(correctedTarget)) {\n    return correctedTarget;\n  }\n  return null;\n}).filter(x => x != null);\nfunction applyAttributeToOthers(uncorrectedAvoidElements, body, ariaHidden, inert) {\n  const markerName = 'data-base-ui-inert';\n  // eslint-disable-next-line no-nested-ternary\n  const controlAttribute = inert ? 'inert' : ariaHidden ? 'aria-hidden' : null;\n  const avoidElements = correctElements(body, uncorrectedAvoidElements);\n  const elementsToKeep = new Set();\n  const elementsToStop = new Set(avoidElements);\n  const hiddenElements = [];\n  if (!markerMap[markerName]) {\n    markerMap[markerName] = new WeakMap();\n  }\n  const markerCounter = markerMap[markerName];\n  avoidElements.forEach(keep);\n  deep(body);\n  elementsToKeep.clear();\n  function keep(el) {\n    if (!el || elementsToKeep.has(el)) {\n      return;\n    }\n    elementsToKeep.add(el);\n    if (el.parentNode) {\n      keep(el.parentNode);\n    }\n  }\n  function deep(parent) {\n    if (!parent || elementsToStop.has(parent)) {\n      return;\n    }\n    [].forEach.call(parent.children, node => {\n      if (getNodeName(node) === 'script') {\n        return;\n      }\n      if (elementsToKeep.has(node)) {\n        deep(node);\n      } else {\n        const attr = controlAttribute ? node.getAttribute(controlAttribute) : null;\n        const alreadyHidden = attr !== null && attr !== 'false';\n        const counterMap = getCounterMap(controlAttribute);\n        const counterValue = (counterMap.get(node) || 0) + 1;\n        const markerValue = (markerCounter.get(node) || 0) + 1;\n        counterMap.set(node, counterValue);\n        markerCounter.set(node, markerValue);\n        hiddenElements.push(node);\n        if (counterValue === 1 && alreadyHidden) {\n          uncontrolledElementsSet.add(node);\n        }\n        if (markerValue === 1) {\n          node.setAttribute(markerName, '');\n        }\n        if (!alreadyHidden && controlAttribute) {\n          node.setAttribute(controlAttribute, controlAttribute === 'inert' ? '' : 'true');\n        }\n      }\n    });\n  }\n  lockCount += 1;\n  return () => {\n    hiddenElements.forEach(element => {\n      const counterMap = getCounterMap(controlAttribute);\n      const currentCounterValue = counterMap.get(element) || 0;\n      const counterValue = currentCounterValue - 1;\n      const markerValue = (markerCounter.get(element) || 0) - 1;\n      counterMap.set(element, counterValue);\n      markerCounter.set(element, markerValue);\n      if (!counterValue) {\n        if (!uncontrolledElementsSet.has(element) && controlAttribute) {\n          element.removeAttribute(controlAttribute);\n        }\n        uncontrolledElementsSet.delete(element);\n      }\n      if (!markerValue) {\n        element.removeAttribute(markerName);\n      }\n    });\n    lockCount -= 1;\n    if (!lockCount) {\n      counters.inert = new WeakMap();\n      counters['aria-hidden'] = new WeakMap();\n      counters.none = new WeakMap();\n      uncontrolledElementsSet = new WeakSet();\n      markerMap = {};\n    }\n  };\n}\nexport function markOthers(avoidElements, ariaHidden = false, inert = false) {\n  const body = getDocument(avoidElements[0]).body;\n  return applyAttributeToOthers(avoidElements.concat(Array.from(body.querySelectorAll('[aria-live]'))), body, ariaHidden, inert);\n}", "'use client';\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { isNode } from '@floating-ui/utils/dom';\nimport { useId } from '@base-ui/utils/useId';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { FocusGuard } from \"../../utils/FocusGuard.js\";\nimport { enableFocusInside, disableFocusInside, getPreviousTabbable, getNextTabbable, isOutsideEvent } from \"../utils.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { createAttribute } from \"../utils/createAttribute.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { EMPTY_OBJECT, ownerVisuallyHidden } from \"../../utils/constants.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst PortalContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") PortalContext.displayName = \"PortalContext\";\nexport const usePortalContext = () => React.useContext(PortalContext);\nconst attr = createAttribute('portal');\nexport function useFloatingPortalNode(props = {}) {\n  const {\n    ref,\n    container: containerProp,\n    componentProps = EMPTY_OBJECT,\n    elementProps,\n    elementState\n  } = props;\n  const uniqueId = useId();\n  const portalContext = usePortalContext();\n  const parentPortalNode = portalContext?.portalNode;\n  const [containerElement, setContainerElement] = React.useState(null);\n  const [portalNode, setPortalNode] = React.useState(null);\n  const setPortalNodeRef = useStableCallback(node => {\n    if (node !== null) {\n      // the useIsoLayoutEffect below watching containerProp / parentPortalNode\n      // sets setPortalNode(null) when the container becomes null or changes.\n      // So even though the ref callback now ignores null, the portal node still gets cleared.\n      setPortalNode(node);\n    }\n  });\n  const containerRef = React.useRef(null);\n  useIsoLayoutEffect(() => {\n    // Wait for the container to be resolved if explicitly `null`.\n    if (containerProp === null) {\n      if (containerRef.current) {\n        containerRef.current = null;\n        setPortalNode(null);\n        setContainerElement(null);\n      }\n      return;\n    }\n\n    // React 17 does not use React.useId().\n    if (uniqueId == null) {\n      return;\n    }\n    const resolvedContainer = (containerProp && (isNode(containerProp) ? containerProp : containerProp.current)) ?? parentPortalNode ?? document.body;\n    if (resolvedContainer == null) {\n      if (containerRef.current) {\n        containerRef.current = null;\n        setPortalNode(null);\n        setContainerElement(null);\n      }\n      return;\n    }\n    if (containerRef.current !== resolvedContainer) {\n      containerRef.current = resolvedContainer;\n      setPortalNode(null);\n      setContainerElement(resolvedContainer);\n    }\n  }, [containerProp, parentPortalNode, uniqueId]);\n  const portalElement = useRenderElement('div', componentProps, {\n    ref: [ref, setPortalNodeRef],\n    state: elementState,\n    props: [{\n      id: uniqueId,\n      [attr]: ''\n    }, elementProps]\n  });\n\n  // This `createPortal` call injects `portalElement` into the `container`.\n  // Another call inside `FloatingPortal`/`FloatingPortalLite` then injects the children into `portalElement`.\n  const portalSubtree = containerElement && portalElement ? /*#__PURE__*/ReactDOM.createPortal(portalElement, containerElement) : null;\n  return {\n    portalNode,\n    portalSubtree\n  };\n}\n\n/**\n * Portals the floating element into a given container element  by default,\n * outside of the app root and into the body.\n * This is necessary to ensure the floating element can appear outside any\n * potential parent containers that cause clipping (such as `overflow: hidden`),\n * while retaining its location in the React tree.\n * @see https://floating-ui.com/docs/FloatingPortal\n * @internal\n */\nexport const FloatingPortal = /*#__PURE__*/React.forwardRef(function FloatingPortal(componentProps, forwardedRef) {\n  const {\n    children,\n    container,\n    className,\n    render,\n    renderGuards,\n    ...elementProps\n  } = componentProps;\n  const {\n    portalNode,\n    portalSubtree\n  } = useFloatingPortalNode({\n    container,\n    ref: forwardedRef,\n    componentProps,\n    elementProps\n  });\n  const beforeOutsideRef = React.useRef(null);\n  const afterOutsideRef = React.useRef(null);\n  const beforeInsideRef = React.useRef(null);\n  const afterInsideRef = React.useRef(null);\n  const [focusManagerState, setFocusManagerState] = React.useState(null);\n  const modal = focusManagerState?.modal;\n  const open = focusManagerState?.open;\n  const shouldRenderGuards = typeof renderGuards === 'boolean' ? renderGuards : !!focusManagerState && !focusManagerState.modal && focusManagerState.open && !!portalNode;\n\n  // https://codesandbox.io/s/tabbable-portal-f4tng?file=/src/TabbablePortal.tsx\n  React.useEffect(() => {\n    if (!portalNode || modal) {\n      return undefined;\n    }\n\n    // Make sure elements inside the portal element are tabbable only when the\n    // portal has already been focused, either by tabbing into a focus trap\n    // element outside or using the mouse.\n    function onFocus(event) {\n      if (portalNode && event.relatedTarget && isOutsideEvent(event)) {\n        const focusing = event.type === 'focusin';\n        const manageFocus = focusing ? enableFocusInside : disableFocusInside;\n        manageFocus(portalNode);\n      }\n    }\n\n    // Listen to the event on the capture phase so they run before the focus\n    // trap elements onFocus prop is called.\n    portalNode.addEventListener('focusin', onFocus, true);\n    portalNode.addEventListener('focusout', onFocus, true);\n    return () => {\n      portalNode.removeEventListener('focusin', onFocus, true);\n      portalNode.removeEventListener('focusout', onFocus, true);\n    };\n  }, [portalNode, modal]);\n  React.useEffect(() => {\n    if (!portalNode || open) {\n      return;\n    }\n    enableFocusInside(portalNode);\n  }, [open, portalNode]);\n  const portalContextValue = React.useMemo(() => ({\n    beforeOutsideRef,\n    afterOutsideRef,\n    beforeInsideRef,\n    afterInsideRef,\n    portalNode,\n    setFocusManagerState\n  }), [portalNode]);\n  return /*#__PURE__*/_jsxs(React.Fragment, {\n    children: [portalSubtree, /*#__PURE__*/_jsxs(PortalContext.Provider, {\n      value: portalContextValue,\n      children: [shouldRenderGuards && portalNode && /*#__PURE__*/_jsx(FocusGuard, {\n        \"data-type\": \"outside\",\n        ref: beforeOutsideRef,\n        onFocus: event => {\n          if (isOutsideEvent(event, portalNode)) {\n            beforeInsideRef.current?.focus();\n          } else {\n            const domReference = focusManagerState ? focusManagerState.domReference : null;\n            const prevTabbable = getPreviousTabbable(domReference);\n            prevTabbable?.focus();\n          }\n        }\n      }), shouldRenderGuards && portalNode && /*#__PURE__*/_jsx(\"span\", {\n        \"aria-owns\": portalNode.id,\n        style: ownerVisuallyHidden\n      }), portalNode && /*#__PURE__*/ReactDOM.createPortal(children, portalNode), shouldRenderGuards && portalNode && /*#__PURE__*/_jsx(FocusGuard, {\n        \"data-type\": \"outside\",\n        ref: afterOutsideRef,\n        onFocus: event => {\n          if (isOutsideEvent(event, portalNode)) {\n            afterInsideRef.current?.focus();\n          } else {\n            const domReference = focusManagerState ? focusManagerState.domReference : null;\n            const nextTabbable = getNextTabbable(domReference);\n            nextTabbable?.focus();\n            if (focusManagerState?.closeOnFocusOut) {\n              focusManagerState?.onOpenChange(false, createChangeEventDetails(REASONS.focusOut, event.nativeEvent));\n            }\n          }\n        }\n      })]\n    })]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") FloatingPortal.displayName = \"FloatingPortal\";", "'use client';\n\nimport * as React from 'react';\nimport { useAnimationFrame } from '@base-ui/utils/useAnimationFrame';\nimport { useTimeout } from '@base-ui/utils/useTimeout';\nimport { EMPTY_OBJECT } from \"../../utils/constants.js\";\nimport { isClickLikeEvent, isMouseLikePointerType, isTypeableElement } from \"../utils.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\n/**\n * Opens or closes the floating element when clicking the reference element.\n * @see https://floating-ui.com/docs/useClick\n */\nexport function useClick(context, props = {}) {\n  const store = 'rootStore' in context ? context.rootStore : context;\n  const dataRef = store.context.dataRef;\n  const {\n    enabled = true,\n    event: eventOption = 'click',\n    toggle = true,\n    ignoreMouse = false,\n    stickIfOpen = true,\n    touchOpenDelay = 0\n  } = props;\n  const pointerTypeRef = React.useRef(undefined);\n  const frame = useAnimationFrame();\n  const touchOpenTimeout = useTimeout();\n  const reference = React.useMemo(() => ({\n    onPointerDown(event) {\n      pointerTypeRef.current = event.pointerType;\n    },\n    onMouseDown(event) {\n      const pointerType = pointerTypeRef.current;\n      const nativeEvent = event.nativeEvent;\n      const open = store.select('open');\n\n      // Ignore all buttons except for the \"main\" button.\n      // https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/button\n      if (event.button !== 0 || eventOption === 'click' || isMouseLikePointerType(pointerType, true) && ignoreMouse) {\n        return;\n      }\n      const openEvent = dataRef.current.openEvent;\n      const openEventType = openEvent?.type;\n      const hasClickedOnInactiveTrigger = store.select('domReferenceElement') !== event.currentTarget;\n      const nextOpen = open && hasClickedOnInactiveTrigger || !(open && toggle && (openEvent && stickIfOpen ? openEventType === 'click' || openEventType === 'mousedown' : true));\n\n      // Animations sometimes won't run on a typeable element if using a rAF.\n      // Focus is always set on these elements. For touch, we may delay opening.\n      if (isTypeableElement(nativeEvent.target)) {\n        const details = createChangeEventDetails(REASONS.triggerPress, nativeEvent, nativeEvent.target);\n        if (nextOpen && pointerType === 'touch' && touchOpenDelay > 0) {\n          touchOpenTimeout.start(touchOpenDelay, () => {\n            store.setOpen(true, details);\n          });\n        } else {\n          store.setOpen(nextOpen, details);\n        }\n        return;\n      }\n\n      // Capture the currentTarget before the rAF.\n      // as React sets it to null after the event handler completes.\n      const eventCurrentTarget = event.currentTarget;\n\n      // Wait until focus is set on the element. This is an alternative to\n      // `event.preventDefault()` to avoid :focus-visible from appearing when using a pointer.\n      frame.request(() => {\n        const details = createChangeEventDetails(REASONS.triggerPress, nativeEvent, eventCurrentTarget);\n        if (nextOpen && pointerType === 'touch' && touchOpenDelay > 0) {\n          touchOpenTimeout.start(touchOpenDelay, () => {\n            store.setOpen(true, details);\n          });\n        } else {\n          store.setOpen(nextOpen, details);\n        }\n      });\n    },\n    onClick(event) {\n      if (eventOption === 'mousedown-only') {\n        return;\n      }\n      const pointerType = pointerTypeRef.current;\n      if (eventOption === 'mousedown' && pointerType) {\n        pointerTypeRef.current = undefined;\n        return;\n      }\n      if (isMouseLikePointerType(pointerType, true) && ignoreMouse) {\n        return;\n      }\n      const open = store.select('open');\n      const openEvent = dataRef.current.openEvent;\n      const hasClickedOnInactiveTrigger = store.select('domReferenceElement') !== event.currentTarget;\n      const nextOpen = open && hasClickedOnInactiveTrigger || !(open && toggle && (openEvent && stickIfOpen ? isClickLikeEvent(openEvent) : true));\n      const details = createChangeEventDetails(REASONS.triggerPress, event.nativeEvent, event.currentTarget);\n      if (nextOpen && pointerType === 'touch' && touchOpenDelay > 0) {\n        touchOpenTimeout.start(touchOpenDelay, () => {\n          store.setOpen(true, details);\n        });\n      } else {\n        store.setOpen(nextOpen, details);\n      }\n    },\n    onKeyDown() {\n      pointerTypeRef.current = undefined;\n    }\n  }), [dataRef, eventOption, ignoreMouse, store, stickIfOpen, toggle, frame, touchOpenTimeout, touchOpenDelay]);\n  return React.useMemo(() => enabled ? {\n    reference\n  } : EMPTY_OBJECT, [enabled, reference]);\n}", "import * as React from 'react';\nimport { getWindow } from '@floating-ui/utils/dom';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { contains, getTarget, isMouseLikePointerType } from \"../utils.js\";\nfunction createVirtualElement(domElement, data) {\n  let offsetX = null;\n  let offsetY = null;\n  let isAutoUpdateEvent = false;\n  return {\n    contextElement: domElement || undefined,\n    getBoundingClientRect() {\n      const domRect = domElement?.getBoundingClientRect() || {\n        width: 0,\n        height: 0,\n        x: 0,\n        y: 0\n      };\n      const isXAxis = data.axis === 'x' || data.axis === 'both';\n      const isYAxis = data.axis === 'y' || data.axis === 'both';\n      const canTrackCursorOnAutoUpdate = ['mouseenter', 'mousemove'].includes(data.dataRef.current.openEvent?.type || '') && data.pointerType !== 'touch';\n      let width = domRect.width;\n      let height = domRect.height;\n      let x = domRect.x;\n      let y = domRect.y;\n      if (offsetX == null && data.x && isXAxis) {\n        offsetX = domRect.x - data.x;\n      }\n      if (offsetY == null && data.y && isYAxis) {\n        offsetY = domRect.y - data.y;\n      }\n      x -= offsetX || 0;\n      y -= offsetY || 0;\n      width = 0;\n      height = 0;\n      if (!isAutoUpdateEvent || canTrackCursorOnAutoUpdate) {\n        width = data.axis === 'y' ? domRect.width : 0;\n        height = data.axis === 'x' ? domRect.height : 0;\n        x = isXAxis && data.x != null ? data.x : x;\n        y = isYAxis && data.y != null ? data.y : y;\n      } else if (isAutoUpdateEvent && !canTrackCursorOnAutoUpdate) {\n        height = data.axis === 'x' ? domRect.height : height;\n        width = data.axis === 'y' ? domRect.width : width;\n      }\n      isAutoUpdateEvent = true;\n      return {\n        width,\n        height,\n        x,\n        y,\n        top: y,\n        right: x + width,\n        bottom: y + height,\n        left: x\n      };\n    }\n  };\n}\nfunction isMouseBasedEvent(event) {\n  return event != null && event.clientX != null;\n}\n/**\n * Positions the floating element relative to a client point (in the viewport),\n * such as the mouse position. By default, it follows the mouse cursor.\n * @see https://floating-ui.com/docs/useClientPoint\n */\nexport function useClientPoint(context, props = {}) {\n  const store = 'rootStore' in context ? context.rootStore : context;\n  const open = store.useState('open');\n  const floating = store.useState('floatingElement');\n  const domReference = store.useState('domReferenceElement');\n  const dataRef = store.context.dataRef;\n  const {\n    enabled = true,\n    axis = 'both',\n    x = null,\n    y = null\n  } = props;\n  const initialRef = React.useRef(false);\n  const cleanupListenerRef = React.useRef(null);\n  const [pointerType, setPointerType] = React.useState();\n  const [reactive, setReactive] = React.useState([]);\n  const setReference = useStableCallback((newX, newY, referenceElement) => {\n    if (initialRef.current) {\n      return;\n    }\n\n    // Prevent setting if the open event was not a mouse-like one\n    // (e.g. focus to open, then hover over the reference element).\n    // Only apply if the event exists.\n    if (dataRef.current.openEvent && !isMouseBasedEvent(dataRef.current.openEvent)) {\n      return;\n    }\n    store.set('positionReference', createVirtualElement(referenceElement ?? domReference, {\n      x: newX,\n      y: newY,\n      axis,\n      dataRef,\n      pointerType\n    }));\n  });\n  const handleReferenceEnterOrMove = useStableCallback(event => {\n    if (x != null || y != null) {\n      return;\n    }\n    if (!open) {\n      setReference(event.clientX, event.clientY, event.currentTarget);\n    } else if (!cleanupListenerRef.current) {\n      // If there's no cleanup, there's no listener, but we want to ensure\n      // we add the listener if the cursor landed on the floating element and\n      // then back on the reference (i.e. it's interactive).\n      setReactive([]);\n    }\n  });\n\n  // If the pointer is a mouse-like pointer, we want to continue following the\n  // mouse even if the floating element is transitioning out. On touch\n  // devices, this is undesirable because the floating element will move to\n  // the dismissal touch point.\n  const openCheck = isMouseLikePointerType(pointerType) ? floating : open;\n  const addListener = React.useCallback(() => {\n    // Explicitly specified `x`/`y` coordinates shouldn't add a listener.\n    if (!openCheck || !enabled || x != null || y != null) {\n      return undefined;\n    }\n    const win = getWindow(floating);\n    function handleMouseMove(event) {\n      const target = getTarget(event);\n      if (!contains(floating, target)) {\n        setReference(event.clientX, event.clientY);\n      } else {\n        win.removeEventListener('mousemove', handleMouseMove);\n        cleanupListenerRef.current = null;\n      }\n    }\n    if (!dataRef.current.openEvent || isMouseBasedEvent(dataRef.current.openEvent)) {\n      win.addEventListener('mousemove', handleMouseMove);\n      const cleanup = () => {\n        win.removeEventListener('mousemove', handleMouseMove);\n        cleanupListenerRef.current = null;\n      };\n      cleanupListenerRef.current = cleanup;\n      return cleanup;\n    }\n    store.set('positionReference', domReference);\n    return undefined;\n  }, [openCheck, enabled, x, y, floating, dataRef, domReference, store, setReference]);\n  React.useEffect(() => {\n    return addListener();\n  }, [addListener, reactive]);\n  React.useEffect(() => {\n    if (enabled && !floating) {\n      initialRef.current = false;\n    }\n  }, [enabled, floating]);\n  React.useEffect(() => {\n    if (!enabled && open) {\n      initialRef.current = true;\n    }\n  }, [enabled, open]);\n  useIsoLayoutEffect(() => {\n    if (enabled && (x != null || y != null)) {\n      initialRef.current = false;\n      setReference(x, y);\n    }\n  }, [enabled, x, y, setReference]);\n  const reference = React.useMemo(() => {\n    function setPointerTypeRef(event) {\n      setPointerType(event.pointerType);\n    }\n    return {\n      onPointerDown: setPointerTypeRef,\n      onPointerEnter: setPointerTypeRef,\n      onMouseMove: handleReferenceEnterOrMove,\n      onMouseEnter: handleReferenceEnterOrMove\n    };\n  }, [handleReferenceEnterOrMove]);\n  return React.useMemo(() => enabled ? {\n    reference,\n    trigger: reference\n  } : {}, [enabled, reference]);\n}", "import * as React from 'react';\nimport { getOverflowAncestors } from '@floating-ui/react-dom';\nimport { getComputedStyle, getParentNode, isElement, isHTMLElement, isLastTraversableNode, isWebKit } from '@floating-ui/utils/dom';\nimport { Timeout, useTimeout } from '@base-ui/utils/useTimeout';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { contains, getDocument, getTarget, isEventTargetWithin, isReactEvent, isRootElement, getNodeChildren } from \"../utils.js\";\n\n/* eslint-disable no-underscore-dangle */\n\nimport { useFloatingTree } from \"../components/FloatingTree.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { createAttribute } from \"../utils/createAttribute.js\";\nconst bubbleHandlerKeys = {\n  intentional: 'onClick',\n  sloppy: 'onPointerDown'\n};\nexport function normalizeProp(normalizable) {\n  return {\n    escapeKey: typeof normalizable === 'boolean' ? normalizable : normalizable?.escapeKey ?? false,\n    outsidePress: typeof normalizable === 'boolean' ? normalizable : normalizable?.outsidePress ?? true\n  };\n}\n/**\n * Closes the floating element when a dismissal is requested  by default, when\n * the user presses the `escape` key or outside of the floating element.\n * @see https://floating-ui.com/docs/useDismiss\n */\nexport function useDismiss(context, props = {}) {\n  const store = 'rootStore' in context ? context.rootStore : context;\n  const open = store.useState('open');\n  const floatingElement = store.useState('floatingElement');\n  const referenceElement = store.useState('referenceElement');\n  const domReferenceElement = store.useState('domReferenceElement');\n  const {\n    onOpenChange,\n    dataRef\n  } = store.context;\n  const {\n    enabled = true,\n    escapeKey = true,\n    outsidePress: outsidePressProp = true,\n    outsidePressEvent = 'sloppy',\n    referencePress = false,\n    referencePressEvent = 'sloppy',\n    ancestorScroll = false,\n    bubbles,\n    externalTree\n  } = props;\n  const tree = useFloatingTree(externalTree);\n  const outsidePressFn = useStableCallback(typeof outsidePressProp === 'function' ? outsidePressProp : () => false);\n  const outsidePress = typeof outsidePressProp === 'function' ? outsidePressFn : outsidePressProp;\n  const endedOrStartedInsideRef = React.useRef(false);\n  const {\n    escapeKey: escapeKeyBubbles,\n    outsidePress: outsidePressBubbles\n  } = normalizeProp(bubbles);\n  const touchStateRef = React.useRef(null);\n  const cancelDismissOnEndTimeout = useTimeout();\n  const clearInsideReactTreeTimeout = useTimeout();\n  const clearInsideReactTree = useStableCallback(() => {\n    clearInsideReactTreeTimeout.clear();\n    dataRef.current.insideReactTree = false;\n  });\n  const isComposingRef = React.useRef(false);\n  const currentPointerTypeRef = React.useRef('');\n  const trackPointerType = useStableCallback(event => {\n    currentPointerTypeRef.current = event.pointerType;\n  });\n  const getOutsidePressEvent = useStableCallback(() => {\n    const type = currentPointerTypeRef.current;\n    const computedType = type === 'pen' || !type ? 'mouse' : type;\n    const resolved = typeof outsidePressEvent === 'function' ? outsidePressEvent() : outsidePressEvent;\n    if (typeof resolved === 'string') {\n      return resolved;\n    }\n    return resolved[computedType];\n  });\n  const closeOnEscapeKeyDown = useStableCallback(event => {\n    if (!open || !enabled || !escapeKey || event.key !== 'Escape') {\n      return;\n    }\n\n    // Wait until IME is settled. Pressing `Escape` while composing should\n    // close the compose menu, but not the floating element.\n    if (isComposingRef.current) {\n      return;\n    }\n    const nodeId = dataRef.current.floatingContext?.nodeId;\n    const children = tree ? getNodeChildren(tree.nodesRef.current, nodeId) : [];\n    if (!escapeKeyBubbles) {\n      if (children.length > 0) {\n        let shouldDismiss = true;\n        children.forEach(child => {\n          if (child.context?.open && !child.context.dataRef.current.__escapeKeyBubbles) {\n            shouldDismiss = false;\n          }\n        });\n        if (!shouldDismiss) {\n          return;\n        }\n      }\n    }\n    const native = isReactEvent(event) ? event.nativeEvent : event;\n    const eventDetails = createChangeEventDetails(REASONS.escapeKey, native);\n    store.setOpen(false, eventDetails);\n    if (!escapeKeyBubbles && !eventDetails.isPropagationAllowed) {\n      event.stopPropagation();\n    }\n  });\n  const shouldIgnoreEvent = useStableCallback(event => {\n    const computedOutsidePressEvent = getOutsidePressEvent();\n    return computedOutsidePressEvent === 'intentional' && event.type !== 'click' || computedOutsidePressEvent === 'sloppy' && event.type === 'click';\n  });\n  const markInsideReactTree = useStableCallback(() => {\n    dataRef.current.insideReactTree = true;\n    clearInsideReactTreeTimeout.start(0, clearInsideReactTree);\n  });\n  const closeOnPressOutside = useStableCallback((event, endedOrStartedInside = false) => {\n    if (shouldIgnoreEvent(event)) {\n      clearInsideReactTree();\n      return;\n    }\n    if (dataRef.current.insideReactTree) {\n      clearInsideReactTree();\n      return;\n    }\n    if (getOutsidePressEvent() === 'intentional' && endedOrStartedInside) {\n      return;\n    }\n    if (typeof outsidePress === 'function' && !outsidePress(event)) {\n      return;\n    }\n    const target = getTarget(event);\n    const inertSelector = `[${createAttribute('inert')}]`;\n    const markers = getDocument(store.select('floatingElement')).querySelectorAll(inertSelector);\n    const triggers = store.context.triggerElements;\n\n    // If another trigger is clicked, don't close the floating element.\n    if (target && (triggers.hasElement(target) || triggers.hasMatchingElement(trigger => contains(trigger, target)))) {\n      return;\n    }\n    let targetRootAncestor = isElement(target) ? target : null;\n    while (targetRootAncestor && !isLastTraversableNode(targetRootAncestor)) {\n      const nextParent = getParentNode(targetRootAncestor);\n      if (isLastTraversableNode(nextParent) || !isElement(nextParent)) {\n        break;\n      }\n      targetRootAncestor = nextParent;\n    }\n\n    // Check if the click occurred on a third-party element injected after the\n    // floating element rendered.\n    if (markers.length && isElement(target) && !isRootElement(target) &&\n    // Clicked on a direct ancestor (e.g. FloatingOverlay).\n    !contains(target, store.select('floatingElement')) &&\n    // If the target root element contains none of the markers, then the\n    // element was injected after the floating element rendered.\n    Array.from(markers).every(marker => !contains(targetRootAncestor, marker))) {\n      return;\n    }\n\n    // Check if the click occurred on the scrollbar\n    // Skip for touch events: scrollbars don't receive touch events on most platforms\n    if (isHTMLElement(target) && !('touches' in event)) {\n      const lastTraversableNode = isLastTraversableNode(target);\n      const style = getComputedStyle(target);\n      const scrollRe = /auto|scroll/;\n      const isScrollableX = lastTraversableNode || scrollRe.test(style.overflowX);\n      const isScrollableY = lastTraversableNode || scrollRe.test(style.overflowY);\n      const canScrollX = isScrollableX && target.clientWidth > 0 && target.scrollWidth > target.clientWidth;\n      const canScrollY = isScrollableY && target.clientHeight > 0 && target.scrollHeight > target.clientHeight;\n      const isRTL = style.direction === 'rtl';\n\n      // Check click position relative to scrollbar.\n      // In some browsers it is possible to change the <body> (or window)\n      // scrollbar to the left side, but is very rare and is difficult to\n      // check for. Plus, for modal dialogs with backdrops, it is more\n      // important that the backdrop is checked but not so much the window.\n      const pressedVerticalScrollbar = canScrollY && (isRTL ? event.offsetX <= target.offsetWidth - target.clientWidth : event.offsetX > target.clientWidth);\n      const pressedHorizontalScrollbar = canScrollX && event.offsetY > target.clientHeight;\n      if (pressedVerticalScrollbar || pressedHorizontalScrollbar) {\n        return;\n      }\n    }\n    const nodeId = dataRef.current.floatingContext?.nodeId;\n    const targetIsInsideChildren = tree && getNodeChildren(tree.nodesRef.current, nodeId).some(node => isEventTargetWithin(event, node.context?.elements.floating));\n    if (isEventTargetWithin(event, store.select('floatingElement')) || isEventTargetWithin(event, store.select('domReferenceElement')) || targetIsInsideChildren) {\n      return;\n    }\n    const children = tree ? getNodeChildren(tree.nodesRef.current, nodeId) : [];\n    if (children.length > 0) {\n      let shouldDismiss = true;\n      children.forEach(child => {\n        if (child.context?.open && !child.context.dataRef.current.__outsidePressBubbles) {\n          shouldDismiss = false;\n        }\n      });\n      if (!shouldDismiss) {\n        return;\n      }\n    }\n    store.setOpen(false, createChangeEventDetails(REASONS.outsidePress, event));\n    clearInsideReactTree();\n  });\n  const handlePointerDown = useStableCallback(event => {\n    if (getOutsidePressEvent() !== 'sloppy' || event.pointerType === 'touch' || !store.select('open') || !enabled || isEventTargetWithin(event, store.select('floatingElement')) || isEventTargetWithin(event, store.select('domReferenceElement'))) {\n      return;\n    }\n    closeOnPressOutside(event);\n  });\n  const handleTouchStart = useStableCallback(event => {\n    if (getOutsidePressEvent() !== 'sloppy' || !store.select('open') || !enabled || isEventTargetWithin(event, store.select('floatingElement')) || isEventTargetWithin(event, store.select('domReferenceElement'))) {\n      return;\n    }\n    const touch = event.touches[0];\n    if (touch) {\n      touchStateRef.current = {\n        startTime: Date.now(),\n        startX: touch.clientX,\n        startY: touch.clientY,\n        dismissOnTouchEnd: false,\n        dismissOnMouseDown: true\n      };\n      cancelDismissOnEndTimeout.start(1000, () => {\n        if (touchStateRef.current) {\n          touchStateRef.current.dismissOnTouchEnd = false;\n          touchStateRef.current.dismissOnMouseDown = false;\n        }\n      });\n    }\n  });\n  const handleTouchStartCapture = useStableCallback(event => {\n    const target = getTarget(event);\n    function callback() {\n      handleTouchStart(event);\n      target?.removeEventListener(event.type, callback);\n    }\n    target?.addEventListener(event.type, callback);\n  });\n  const closeOnPressOutsideCapture = useStableCallback(event => {\n    // When click outside is lazy (`up` event), handle dragging.\n    // Don't close if:\n    // - The click started inside the floating element.\n    // - The click ended inside the floating element.\n    const endedOrStartedInside = endedOrStartedInsideRef.current;\n    endedOrStartedInsideRef.current = false;\n    cancelDismissOnEndTimeout.clear();\n    if (event.type === 'mousedown' && touchStateRef.current && !touchStateRef.current.dismissOnMouseDown) {\n      return;\n    }\n    const target = getTarget(event);\n    function callback() {\n      if (event.type === 'pointerdown') {\n        handlePointerDown(event);\n      } else {\n        closeOnPressOutside(event, endedOrStartedInside);\n      }\n      target?.removeEventListener(event.type, callback);\n    }\n    target?.addEventListener(event.type, callback);\n  });\n  const handleTouchMove = useStableCallback(event => {\n    if (getOutsidePressEvent() !== 'sloppy' || !touchStateRef.current || isEventTargetWithin(event, store.select('floatingElement')) || isEventTargetWithin(event, store.select('domReferenceElement'))) {\n      return;\n    }\n    const touch = event.touches[0];\n    if (!touch) {\n      return;\n    }\n    const deltaX = Math.abs(touch.clientX - touchStateRef.current.startX);\n    const deltaY = Math.abs(touch.clientY - touchStateRef.current.startY);\n    const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n    if (distance > 5) {\n      touchStateRef.current.dismissOnTouchEnd = true;\n    }\n    if (distance > 10) {\n      closeOnPressOutside(event);\n      cancelDismissOnEndTimeout.clear();\n      touchStateRef.current = null;\n    }\n  });\n  const handleTouchMoveCapture = useStableCallback(event => {\n    const target = getTarget(event);\n    function callback() {\n      handleTouchMove(event);\n      target?.removeEventListener(event.type, callback);\n    }\n    target?.addEventListener(event.type, callback);\n  });\n  const handleTouchEnd = useStableCallback(event => {\n    if (getOutsidePressEvent() !== 'sloppy' || !touchStateRef.current || isEventTargetWithin(event, store.select('floatingElement')) || isEventTargetWithin(event, store.select('domReferenceElement'))) {\n      return;\n    }\n    if (touchStateRef.current.dismissOnTouchEnd) {\n      closeOnPressOutside(event);\n    }\n    cancelDismissOnEndTimeout.clear();\n    touchStateRef.current = null;\n  });\n  const handleTouchEndCapture = useStableCallback(event => {\n    const target = getTarget(event);\n    function callback() {\n      handleTouchEnd(event);\n      target?.removeEventListener(event.type, callback);\n    }\n    target?.addEventListener(event.type, callback);\n  });\n  React.useEffect(() => {\n    if (!open || !enabled) {\n      return undefined;\n    }\n    dataRef.current.__escapeKeyBubbles = escapeKeyBubbles;\n    dataRef.current.__outsidePressBubbles = outsidePressBubbles;\n    const compositionTimeout = new Timeout();\n    function onScroll(event) {\n      store.setOpen(false, createChangeEventDetails(REASONS.none, event));\n    }\n    function handleCompositionStart() {\n      compositionTimeout.clear();\n      isComposingRef.current = true;\n    }\n    function handleCompositionEnd() {\n      // Safari fires `compositionend` before `keydown`, so we need to wait\n      // until the next tick to set `isComposing` to `false`.\n      // https://bugs.webkit.org/show_bug.cgi?id=165004\n      compositionTimeout.start(\n      // 0ms or 1ms don't work in Safari. 5ms appears to consistently work.\n      // Only apply to WebKit for the test to remain 0ms.\n      isWebKit() ? 5 : 0, () => {\n        isComposingRef.current = false;\n      });\n    }\n    const doc = getDocument(floatingElement);\n    doc.addEventListener('pointerdown', trackPointerType, true);\n    if (escapeKey) {\n      doc.addEventListener('keydown', closeOnEscapeKeyDown);\n      doc.addEventListener('compositionstart', handleCompositionStart);\n      doc.addEventListener('compositionend', handleCompositionEnd);\n    }\n    if (outsidePress) {\n      doc.addEventListener('click', closeOnPressOutsideCapture, true);\n      doc.addEventListener('pointerdown', closeOnPressOutsideCapture, true);\n      doc.addEventListener('touchstart', handleTouchStartCapture, true);\n      doc.addEventListener('touchmove', handleTouchMoveCapture, true);\n      doc.addEventListener('touchend', handleTouchEndCapture, true);\n      doc.addEventListener('mousedown', closeOnPressOutsideCapture, true);\n    }\n    let ancestors = [];\n    if (ancestorScroll) {\n      if (isElement(domReferenceElement)) {\n        ancestors = getOverflowAncestors(domReferenceElement);\n      }\n      if (isElement(floatingElement)) {\n        ancestors = ancestors.concat(getOverflowAncestors(floatingElement));\n      }\n      if (!isElement(referenceElement) && referenceElement && referenceElement.contextElement) {\n        ancestors = ancestors.concat(getOverflowAncestors(referenceElement.contextElement));\n      }\n    }\n\n    // Ignore the visual viewport for scrolling dismissal (allow pinch-zoom)\n    ancestors = ancestors.filter(ancestor => ancestor !== doc.defaultView?.visualViewport);\n    ancestors.forEach(ancestor => {\n      ancestor.addEventListener('scroll', onScroll, {\n        passive: true\n      });\n    });\n    return () => {\n      doc.removeEventListener('pointerdown', trackPointerType, true);\n      if (escapeKey) {\n        doc.removeEventListener('keydown', closeOnEscapeKeyDown);\n        doc.removeEventListener('compositionstart', handleCompositionStart);\n        doc.removeEventListener('compositionend', handleCompositionEnd);\n      }\n      if (outsidePress) {\n        doc.removeEventListener('click', closeOnPressOutsideCapture, true);\n        doc.removeEventListener('pointerdown', closeOnPressOutsideCapture, true);\n        doc.removeEventListener('touchstart', handleTouchStartCapture, true);\n        doc.removeEventListener('touchmove', handleTouchMoveCapture, true);\n        doc.removeEventListener('touchend', handleTouchEndCapture, true);\n        doc.removeEventListener('mousedown', closeOnPressOutsideCapture, true);\n      }\n      ancestors.forEach(ancestor => {\n        ancestor.removeEventListener('scroll', onScroll);\n      });\n      compositionTimeout.clear();\n      endedOrStartedInsideRef.current = false;\n    };\n  }, [dataRef, floatingElement, referenceElement, domReferenceElement, escapeKey, outsidePress, open, onOpenChange, ancestorScroll, enabled, escapeKeyBubbles, outsidePressBubbles, closeOnEscapeKeyDown, closeOnPressOutside, closeOnPressOutsideCapture, handlePointerDown, handleTouchStartCapture, handleTouchMoveCapture, handleTouchEndCapture, trackPointerType, store]);\n  React.useEffect(clearInsideReactTree, [outsidePress, clearInsideReactTree]);\n  const reference = React.useMemo(() => ({\n    onKeyDown: closeOnEscapeKeyDown,\n    ...(referencePress && {\n      [bubbleHandlerKeys[referencePressEvent]]: event => {\n        store.setOpen(false, createChangeEventDetails(REASONS.triggerPress, event.nativeEvent));\n      },\n      ...(referencePressEvent !== 'intentional' && {\n        onClick(event) {\n          store.setOpen(false, createChangeEventDetails(REASONS.triggerPress, event.nativeEvent));\n        }\n      })\n    })\n  }), [closeOnEscapeKeyDown, store, referencePress, referencePressEvent]);\n  const handlePressedInside = useStableCallback(event => {\n    const target = getTarget(event.nativeEvent);\n    if (!contains(store.select('floatingElement'), target) || event.button !== 0) {\n      return;\n    }\n    endedOrStartedInsideRef.current = true;\n  });\n  const markPressStartedInsideReactTree = useStableCallback(event => {\n    if (!open || !enabled || event.button !== 0) {\n      return;\n    }\n    endedOrStartedInsideRef.current = true;\n  });\n  const floating = React.useMemo(() => ({\n    onKeyDown: closeOnEscapeKeyDown,\n    // `onMouseDown` may be blocked if `event.preventDefault()` is called in\n    // `onPointerDown`, such as with <NumberField.ScrubArea>.\n    // See https://github.com/mui/base-ui/pull/3379\n    onPointerDown: handlePressedInside,\n    onMouseDown: handlePressedInside,\n    onMouseUp: handlePressedInside,\n    onClickCapture: markInsideReactTree,\n    onMouseDownCapture(event) {\n      markInsideReactTree();\n      markPressStartedInsideReactTree(event);\n    },\n    onPointerDownCapture(event) {\n      markInsideReactTree();\n      markPressStartedInsideReactTree(event);\n    },\n    onMouseUpCapture: markInsideReactTree,\n    onTouchEndCapture: markInsideReactTree,\n    onTouchMoveCapture: markInsideReactTree\n  }), [closeOnEscapeKeyDown, handlePressedInside, markInsideReactTree, markPressStartedInsideReactTree]);\n  return React.useMemo(() => enabled ? {\n    reference,\n    floating,\n    trigger: reference\n  } : {}, [enabled, reference, floating]);\n}", "import * as React from 'react';\nimport { useFloating as usePosition } from '@floating-ui/react-dom';\nimport { isElement } from '@floating-ui/utils/dom';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useFloatingTree } from \"../components/FloatingTree.js\";\nimport { useFloatingRootContext } from \"./useFloatingRootContext.js\";\n/**\n * Provides data to position a floating element and context to add interactions.\n * @see https://floating-ui.com/docs/useFloating\n */\nexport function useFloating(options = {}) {\n  const {\n    nodeId,\n    externalTree\n  } = options;\n  const internalRootStore = useFloatingRootContext(options);\n  const rootContext = options.rootContext || internalRootStore;\n  const rootContextElements = {\n    reference: rootContext.useState('referenceElement'),\n    floating: rootContext.useState('floatingElement'),\n    domReference: rootContext.useState('domReferenceElement')\n  };\n  const [positionReference, setPositionReferenceRaw] = React.useState(null);\n  const domReferenceRef = React.useRef(null);\n  const tree = useFloatingTree(externalTree);\n  useIsoLayoutEffect(() => {\n    if (rootContextElements.domReference) {\n      domReferenceRef.current = rootContextElements.domReference;\n    }\n  }, [rootContextElements.domReference]);\n  const position = usePosition({\n    ...options,\n    elements: {\n      ...rootContextElements,\n      ...(positionReference && {\n        reference: positionReference\n      })\n    }\n  });\n  const setPositionReference = React.useCallback(node => {\n    const computedPositionReference = isElement(node) ? {\n      getBoundingClientRect: () => node.getBoundingClientRect(),\n      getClientRects: () => node.getClientRects(),\n      contextElement: node\n    } : node;\n    // Store the positionReference in state if the DOM reference is specified externally via the\n    // `elements.reference` option. This ensures that it won't be overridden on future renders.\n    setPositionReferenceRaw(computedPositionReference);\n    position.refs.setReference(computedPositionReference);\n  }, [position.refs]);\n  const [localDomReference, setLocalDomReference] = React.useState(null);\n  const [localFloatingElement, setLocalFloatingElement] = React.useState(null);\n  rootContext.useSyncedValue('referenceElement', localDomReference);\n  rootContext.useSyncedValue('domReferenceElement', isElement(localDomReference) ? localDomReference : null);\n  rootContext.useSyncedValue('floatingElement', localFloatingElement);\n  const setReference = React.useCallback(node => {\n    if (isElement(node) || node === null) {\n      domReferenceRef.current = node;\n      setLocalDomReference(node);\n    }\n\n    // Backwards-compatibility for passing a virtual element to `reference`\n    // after it has set the DOM reference.\n    if (isElement(position.refs.reference.current) || position.refs.reference.current === null ||\n    // Don't allow setting virtual elements using the old technique back to\n    // `null` to support `positionReference` + an unstable `reference`\n    // callback ref.\n    node !== null && !isElement(node)) {\n      position.refs.setReference(node);\n    }\n  }, [position.refs, setLocalDomReference]);\n  const setFloating = React.useCallback(node => {\n    setLocalFloatingElement(node);\n    position.refs.setFloating(node);\n  }, [position.refs]);\n  const refs = React.useMemo(() => ({\n    ...position.refs,\n    setReference,\n    setFloating,\n    setPositionReference,\n    domReference: domReferenceRef\n  }), [position.refs, setReference, setFloating, setPositionReference]);\n  const elements = React.useMemo(() => ({\n    ...position.elements,\n    domReference: rootContextElements.domReference\n  }), [position.elements, rootContextElements.domReference]);\n  const open = rootContext.useState('open');\n  const floatingId = rootContext.useState('floatingId');\n  const context = React.useMemo(() => ({\n    ...position,\n    dataRef: rootContext.context.dataRef,\n    open,\n    onOpenChange: rootContext.setOpen,\n    events: rootContext.context.events,\n    floatingId,\n    refs,\n    elements,\n    nodeId,\n    rootStore: rootContext\n  }), [position, refs, elements, nodeId, rootContext, open, floatingId]);\n  useIsoLayoutEffect(() => {\n    rootContext.context.dataRef.current.floatingContext = context;\n    const node = tree?.nodesRef.current.find(n => n.id === nodeId);\n    if (node) {\n      node.context = context;\n    }\n  });\n  return React.useMemo(() => ({\n    ...position,\n    context,\n    refs,\n    elements,\n    rootStore: rootContext\n  }), [position, refs, elements, context, rootContext]);\n}", "import type { AnyFunction } from '../types'\r\n\r\n/**\r\n * Runs a check to determine if the given result function behaves as an\r\n * identity function. An identity function is one that returns its\r\n * input unchanged, for example, `x => x`. This check helps ensure\r\n * efficient memoization and prevent unnecessary re-renders by encouraging\r\n * proper use of transformation logic in result functions and\r\n * extraction logic in input selectors.\r\n *\r\n * @param resultFunc - The result function to be checked.\r\n * @param inputSelectorsResults - The results of the input selectors.\r\n * @param outputSelectorResult - The result of the output selector.\r\n *\r\n * @see {@link https://reselect.js.org/api/development-only-stability-checks#identityfunctioncheck `identityFunctionCheck`}\r\n *\r\n * @since 5.0.0\r\n * @internal\r\n */\r\nexport const runIdentityFunctionCheck = (\r\n  resultFunc: AnyFunction,\r\n  inputSelectorsResults: unknown[],\r\n  outputSelectorResult: unknown\r\n) => {\r\n  if (\r\n    inputSelectorsResults.length === 1 &&\r\n    inputSelectorsResults[0] === outputSelectorResult\r\n  ) {\r\n    let isInputSameAsOutput = false\r\n    try {\r\n      const emptyObject = {}\r\n      if (resultFunc(emptyObject) === emptyObject) isInputSameAsOutput = true\r\n    } catch {\r\n      // Do nothing\r\n    }\r\n    if (isInputSameAsOutput) {\r\n      let stack: string | undefined = undefined\r\n      try {\r\n        throw new Error()\r\n      } catch (e) {\r\n        // eslint-disable-next-line @typescript-eslint/no-extra-semi, no-extra-semi\r\n        ;({ stack } = e as Error)\r\n      }\r\n      console.warn(\r\n        'The result function returned its own inputs without modification. e.g' +\r\n          '\\n`createSelector([state => state.todos], todos => todos)`' +\r\n          '\\nThis could lead to inefficient memoization and unnecessary re-renders.' +\r\n          '\\nEnsure transformation logic is in the result function, and extraction logic is in the input selectors.',\r\n        { stack }\r\n      )\r\n    }\r\n  }\r\n}\r\n", "import type { CreateSelectorOptions, UnknownMemoizer } from '../types'\r\n\r\n/**\r\n * Runs a stability check to ensure the input selector results remain stable\r\n * when provided with the same arguments. This function is designed to detect\r\n * changes in the output of input selectors, which can impact the performance of memoized selectors.\r\n *\r\n * @param inputSelectorResultsObject - An object containing two arrays: `inputSelectorResults` and `inputSelectorResultsCopy`, representing the results of input selectors.\r\n * @param options - Options object consisting of a `memoize` function and a `memoizeOptions` object.\r\n * @param inputSelectorArgs - List of arguments being passed to the input selectors.\r\n *\r\n * @see {@link https://reselect.js.org/api/development-only-stability-checks/#inputstabilitycheck `inputStabilityCheck`}\r\n *\r\n * @since 5.0.0\r\n * @internal\r\n */\r\nexport const runInputStabilityCheck = (\r\n  inputSelectorResultsObject: {\r\n    inputSelectorResults: unknown[]\r\n    inputSelectorResultsCopy: unknown[]\r\n  },\r\n  options: Required<\r\n    Pick<\r\n      CreateSelectorOptions<UnknownMemoizer, UnknownMemoizer>,\r\n      'memoize' | 'memoizeOptions'\r\n    >\r\n  >,\r\n  inputSelectorArgs: unknown[] | IArguments\r\n) => {\r\n  const { memoize, memoizeOptions } = options\r\n  const { inputSelectorResults, inputSelectorResultsCopy } =\r\n    inputSelectorResultsObject\r\n  const createAnEmptyObject = memoize(() => ({}), ...memoizeOptions)\r\n  // if the memoize method thinks the parameters are equal, these *should* be the same reference\r\n  const areInputSelectorResultsEqual =\r\n    createAnEmptyObject.apply(null, inputSelectorResults) ===\r\n    createAnEmptyObject.apply(null, inputSelectorResultsCopy)\r\n  if (!areInputSelectorResultsEqual) {\r\n    let stack: string | undefined = undefined\r\n    try {\r\n      throw new Error()\r\n    } catch (e) {\r\n      // eslint-disable-next-line @typescript-eslint/no-extra-semi, no-extra-semi\r\n      ;({ stack } = e as Error)\r\n    }\r\n    console.warn(\r\n      'An input selector returned a different result when passed same arguments.' +\r\n        '\\nThis means your output selector will likely run more frequently than intended.' +\r\n        '\\nAvoid returning a new reference inside your input selector, e.g.' +\r\n        '\\n`createSelector([state => state.todos.map(todo => todo.id)], todoIds => todoIds.length)`',\r\n      {\r\n        arguments: inputSelectorArgs,\r\n        firstInputs: inputSelectorResults,\r\n        secondInputs: inputSelectorResultsCopy,\r\n        stack\r\n      }\r\n    )\r\n  }\r\n}\r\n", "import type { DevModeChecks } from '../types'\r\n\r\n/**\r\n * Global configuration for development mode checks. This specifies the default\r\n * frequency at which each development mode check should be performed.\r\n *\r\n * @since 5.0.0\r\n * @internal\r\n */\r\nexport const globalDevModeChecks: DevModeChecks = {\r\n  inputStabilityCheck: 'once',\r\n  identityFunctionCheck: 'once'\r\n}\r\n\r\n/**\r\n * Overrides the development mode checks settings for all selectors.\r\n *\r\n * Reselect performs additional checks in development mode to help identify and\r\n * warn about potential issues in selector behavior. This function allows you to\r\n * customize the behavior of these checks across all selectors in your application.\r\n *\r\n * **Note**: This setting can still be overridden per selector inside `createSelector`'s `options` object.\r\n * See {@link https://github.com/reduxjs/reselect#2-per-selector-by-passing-an-identityfunctioncheck-option-directly-to-createselector per-selector-configuration}\r\n * and {@linkcode CreateSelectorOptions.identityFunctionCheck identityFunctionCheck} for more details.\r\n *\r\n * _The development mode checks do not run in production builds._\r\n *\r\n * @param devModeChecks - An object specifying the desired settings for development mode checks. You can provide partial overrides. Unspecified settings will retain their current values.\r\n *\r\n * @example\r\n * ```ts\r\n * import { setGlobalDevModeChecks } from 'reselect'\r\n * import { DevModeChecks } from '../types'\r\n *\r\n * // Run only the first time the selector is called. (default)\r\n * setGlobalDevModeChecks({ inputStabilityCheck: 'once' })\r\n *\r\n * // Run every time the selector is called.\r\n * setGlobalDevModeChecks({ inputStabilityCheck: 'always' })\r\n *\r\n * // Never run the input stability check.\r\n * setGlobalDevModeChecks({ inputStabilityCheck: 'never' })\r\n *\r\n * // Run only the first time the selector is called. (default)\r\n * setGlobalDevModeChecks({ identityFunctionCheck: 'once' })\r\n *\r\n * // Run every time the selector is called.\r\n * setGlobalDevModeChecks({ identityFunctionCheck: 'always' })\r\n *\r\n * // Never run the identity function check.\r\n * setGlobalDevModeChecks({ identityFunctionCheck: 'never' })\r\n * ```\r\n * @see {@link https://reselect.js.org/api/development-only-stability-checks Development-Only Stability Checks}\r\n * @see {@link https://reselect.js.org/api/development-only-stability-checks#1-globally-through-setglobaldevmodechecks global-configuration}\r\n *\r\n * @since 5.0.0\r\n * @public\r\n */\r\nexport const setGlobalDevModeChecks = (\r\n  devModeChecks: Partial<DevModeChecks>\r\n) => {\r\n  Object.assign(globalDevModeChecks, devModeChecks)\r\n}\r\n", "import { runIdentityFunctionCheck } from './devModeChecks/identityFunctionCheck'\r\nimport { runInputStabilityCheck } from './devModeChecks/inputStabilityCheck'\r\nimport { globalDevModeChecks } from './devModeChecks/setGlobalDevModeChecks'\r\n// eslint-disable-next-line @typescript-eslint/consistent-type-imports\r\nimport type {\r\n  DevModeChecks,\r\n  Selector,\r\n  SelectorArray,\r\n  DevModeChecksExecutionInfo\r\n} from './types'\r\n\r\nexport const NOT_FOUND = /* @__PURE__ */ Symbol('NOT_FOUND')\r\nexport type NOT_FOUND_TYPE = typeof NOT_FOUND\r\n\r\n/**\r\n * Assert that the provided value is a function. If the assertion fails,\r\n * a `TypeError` is thrown with an optional custom error message.\r\n *\r\n * @param func - The value to be checked.\r\n * @param  errorMessage - An optional custom error message to use if the assertion fails.\r\n * @throws A `TypeError` if the assertion fails.\r\n */\r\nexport function assertIsFunction<FunctionType extends Function>(\r\n  func: unknown,\r\n  errorMessage = `expected a function, instead received ${typeof func}`\r\n): asserts func is FunctionType {\r\n  if (typeof func !== 'function') {\r\n    throw new TypeError(errorMessage)\r\n  }\r\n}\r\n\r\n/**\r\n * Assert that the provided value is an object. If the assertion fails,\r\n * a `TypeError` is thrown with an optional custom error message.\r\n *\r\n * @param object - The value to be checked.\r\n * @param  errorMessage - An optional custom error message to use if the assertion fails.\r\n * @throws A `TypeError` if the assertion fails.\r\n */\r\nexport function assertIsObject<ObjectType extends Record<string, unknown>>(\r\n  object: unknown,\r\n  errorMessage = `expected an object, instead received ${typeof object}`\r\n): asserts object is ObjectType {\r\n  if (typeof object !== 'object') {\r\n    throw new TypeError(errorMessage)\r\n  }\r\n}\r\n\r\n/**\r\n * Assert that the provided array is an array of functions. If the assertion fails,\r\n * a `TypeError` is thrown with an optional custom error message.\r\n *\r\n * @param array - The array to be checked.\r\n * @param  errorMessage - An optional custom error message to use if the assertion fails.\r\n * @throws A `TypeError` if the assertion fails.\r\n */\r\nexport function assertIsArrayOfFunctions<FunctionType extends Function>(\r\n  array: unknown[],\r\n  errorMessage = `expected all items to be functions, instead received the following types: `\r\n): asserts array is FunctionType[] {\r\n  if (\r\n    !array.every((item): item is FunctionType => typeof item === 'function')\r\n  ) {\r\n    const itemTypes = array\r\n      .map(item =>\r\n        typeof item === 'function'\r\n          ? `function ${item.name || 'unnamed'}()`\r\n          : typeof item\r\n      )\r\n      .join(', ')\r\n    throw new TypeError(`${errorMessage}[${itemTypes}]`)\r\n  }\r\n}\r\n\r\n/**\r\n * Ensure that the input is an array. If it's already an array, it's returned as is.\r\n * If it's not an array, it will be wrapped in a new array.\r\n *\r\n * @param item - The item to be checked.\r\n * @returns An array containing the input item. If the input is already an array, it's returned without modification.\r\n */\r\nexport const ensureIsArray = (item: unknown) => {\r\n  return Array.isArray(item) ? item : [item]\r\n}\r\n\r\n/**\r\n * Extracts the \"dependencies\" / \"input selectors\" from the arguments of `createSelector`.\r\n *\r\n * @param createSelectorArgs - Arguments passed to `createSelector` as an array.\r\n * @returns An array of \"input selectors\" / \"dependencies\".\r\n * @throws A `TypeError` if any of the input selectors is not function.\r\n */\r\nexport function getDependencies(createSelectorArgs: unknown[]) {\r\n  const dependencies = Array.isArray(createSelectorArgs[0])\r\n    ? createSelectorArgs[0]\r\n    : createSelectorArgs\r\n\r\n  assertIsArrayOfFunctions<Selector>(\r\n    dependencies,\r\n    `createSelector expects all input-selectors to be functions, but received the following types: `\r\n  )\r\n\r\n  return dependencies as SelectorArray\r\n}\r\n\r\n/**\r\n * Runs each input selector and returns their collective results as an array.\r\n *\r\n * @param dependencies - An array of \"dependencies\" or \"input selectors\".\r\n * @param inputSelectorArgs - An array of arguments being passed to the input selectors.\r\n * @returns An array of input selector results.\r\n */\r\nexport function collectInputSelectorResults(\r\n  dependencies: SelectorArray,\r\n  inputSelectorArgs: unknown[] | IArguments\r\n) {\r\n  const inputSelectorResults = []\r\n  const { length } = dependencies\r\n  for (let i = 0; i < length; i++) {\r\n    // @ts-ignore\r\n    // apply arguments instead of spreading and mutate a local list of params for performance.\r\n    inputSelectorResults.push(dependencies[i].apply(null, inputSelectorArgs))\r\n  }\r\n  return inputSelectorResults\r\n}\r\n\r\n/**\r\n * Retrieves execution information for development mode checks.\r\n *\r\n * @param devModeChecks - Custom Settings for development mode checks. These settings will override the global defaults.\r\n * @param firstRun - Indicates whether it is the first time the selector has run.\r\n * @returns  An object containing the execution information for each development mode check.\r\n */\r\nexport const getDevModeChecksExecutionInfo = (\r\n  firstRun: boolean,\r\n  devModeChecks: Partial<DevModeChecks>\r\n) => {\r\n  const { identityFunctionCheck, inputStabilityCheck } = {\r\n    ...globalDevModeChecks,\r\n    ...devModeChecks\r\n  }\r\n  return {\r\n    identityFunctionCheck: {\r\n      shouldRun:\r\n        identityFunctionCheck === 'always' ||\r\n        (identityFunctionCheck === 'once' && firstRun),\r\n      run: runIdentityFunctionCheck\r\n    },\r\n    inputStabilityCheck: {\r\n      shouldRun:\r\n        inputStabilityCheck === 'always' ||\r\n        (inputStabilityCheck === 'once' && firstRun),\r\n      run: runInputStabilityCheck\r\n    }\r\n  } satisfies DevModeChecksExecutionInfo\r\n}\r\n", "// Original autotracking implementation source:\r\n// - https://gist.github.com/pzuraq/79bf862e0f8cd9521b79c4b6eccdc4f9\r\n// Additional references:\r\n// - https://www.pzuraq.com/blog/how-autotracking-works\r\n// - https://v5.chriskrycho.com/journal/autotracking-elegant-dx-via-cutting-edge-cs/\r\nimport type { EqualityFn } from '../types'\r\nimport { assertIsFunction } from '../utils'\r\n\r\n// The global revision clock. Every time state changes, the clock increments.\r\nexport let $REVISION = 0\r\n\r\n// The current dependency tracker. Whenever we compute a cache, we create a Set\r\n// to track any dependencies that are used while computing. If no cache is\r\n// computing, then the tracker is null.\r\nlet CURRENT_TRACKER: Set<Cell<any> | TrackingCache> | null = null\r\n\r\n// Storage represents a root value in the system - the actual state of our app.\r\nexport class Cell<T> {\r\n  revision = $REVISION\r\n\r\n  _value: T\r\n  _lastValue: T\r\n  _isEqual: EqualityFn = tripleEq\r\n\r\n  constructor(initialValue: T, isEqual: EqualityFn = tripleEq) {\r\n    this._value = this._lastValue = initialValue\r\n    this._isEqual = isEqual\r\n  }\r\n\r\n  // Whenever a storage value is read, it'll add itself to the current tracker if\r\n  // one exists, entangling its state with that cache.\r\n  get value() {\r\n    CURRENT_TRACKER?.add(this)\r\n\r\n    return this._value\r\n  }\r\n\r\n  // Whenever a storage value is updated, we bump the global revision clock,\r\n  // assign the revision for this storage to the new value, _and_ we schedule a\r\n  // rerender. This is important, and it's what makes autotracking  _pull_\r\n  // based. We don't actively tell the caches which depend on the storage that\r\n  // anything has happened. Instead, we recompute the caches when needed.\r\n  set value(newValue) {\r\n    if (this.value === newValue) return\r\n\r\n    this._value = newValue\r\n    this.revision = ++$REVISION\r\n  }\r\n}\r\n\r\nfunction tripleEq(a: unknown, b: unknown) {\r\n  return a === b\r\n}\r\n\r\n// Caches represent derived state in the system. They are ultimately functions\r\n// that are memoized based on what state they use to produce their output,\r\n// meaning they will only rerun IFF a storage value that could affect the output\r\n// has changed. Otherwise, they'll return the cached value.\r\nexport class TrackingCache {\r\n  _cachedValue: any\r\n  _cachedRevision = -1\r\n  _deps: any[] = []\r\n  hits = 0\r\n\r\n  fn: () => any\r\n\r\n  constructor(fn: () => any) {\r\n    this.fn = fn\r\n  }\r\n\r\n  clear() {\r\n    this._cachedValue = undefined\r\n    this._cachedRevision = -1\r\n    this._deps = []\r\n    this.hits = 0\r\n  }\r\n\r\n  get value() {\r\n    // When getting the value for a Cache, first we check all the dependencies of\r\n    // the cache to see what their current revision is. If the current revision is\r\n    // greater than the cached revision, then something has changed.\r\n    if (this.revision > this._cachedRevision) {\r\n      const { fn } = this\r\n\r\n      // We create a new dependency tracker for this cache. As the cache runs\r\n      // its function, any Storage or Cache instances which are used while\r\n      // computing will be added to this tracker. In the end, it will be the\r\n      // full list of dependencies that this Cache depends on.\r\n      const currentTracker = new Set<Cell<any>>()\r\n      const prevTracker = CURRENT_TRACKER\r\n\r\n      CURRENT_TRACKER = currentTracker\r\n\r\n      // try {\r\n      this._cachedValue = fn()\r\n      // } finally {\r\n      CURRENT_TRACKER = prevTracker\r\n      this.hits++\r\n      this._deps = Array.from(currentTracker)\r\n\r\n      // Set the cached revision. This is the current clock count of all the\r\n      // dependencies. If any dependency changes, this number will be less\r\n      // than the new revision.\r\n      this._cachedRevision = this.revision\r\n      // }\r\n    }\r\n\r\n    // If there is a current tracker, it means another Cache is computing and\r\n    // using this one, so we add this one to the tracker.\r\n    CURRENT_TRACKER?.add(this)\r\n\r\n    // Always return the cached value.\r\n    return this._cachedValue\r\n  }\r\n\r\n  get revision() {\r\n    // The current revision is the max of all the dependencies' revisions.\r\n    return Math.max(...this._deps.map(d => d.revision), 0)\r\n  }\r\n}\r\n\r\nexport function getValue<T>(cell: Cell<T>): T {\r\n  if (!(cell instanceof Cell)) {\r\n    console.warn('Not a valid cell! ', cell)\r\n  }\r\n\r\n  return cell.value\r\n}\r\n\r\ntype CellValue<T extends Cell<unknown>> = T extends Cell<infer U> ? U : never\r\n\r\nexport function setValue<T extends Cell<unknown>>(\r\n  storage: T,\r\n  value: CellValue<T>\r\n): void {\r\n  if (!(storage instanceof Cell)) {\r\n    throw new TypeError(\r\n      'setValue must be passed a tracked store created with `createStorage`.'\r\n    )\r\n  }\r\n\r\n  storage.value = storage._lastValue = value\r\n}\r\n\r\nexport function createCell<T = unknown>(\r\n  initialValue: T,\r\n  isEqual: EqualityFn = tripleEq\r\n): Cell<T> {\r\n  return new Cell(initialValue, isEqual)\r\n}\r\n\r\nexport function createCache<T = unknown>(fn: () => T): TrackingCache {\r\n  assertIsFunction(\r\n    fn,\r\n    'the first parameter to `createCache` must be a function'\r\n  )\r\n\r\n  return new TrackingCache(fn)\r\n}\r\n", "import type { Cell } from './autotracking'\r\nimport {\r\n  getValue as consumeTag,\r\n  createCell as createStorage,\r\n  setValue\r\n} from './autotracking'\r\n\r\nexport type Tag = Cell<unknown>\r\n\r\nconst neverEq = (a: any, b: any): boolean => false\r\n\r\nexport function createTag(): Tag {\r\n  return createStorage(null, neverEq)\r\n}\r\nexport { consumeTag }\r\nexport function dirtyTag(tag: Tag, value: any): void {\r\n  setValue(tag, value)\r\n}\r\n\r\nexport interface Node<\r\n  T extends Array<unknown> | Record<string, unknown> =\r\n    | Array<unknown>\r\n    | Record<string, unknown>\r\n> {\r\n  collectionTag: Tag | null\r\n  tag: Tag | null\r\n  tags: Record<string, Tag>\r\n  children: Record<string, Node>\r\n  proxy: T\r\n  value: T\r\n  id: number\r\n}\r\n\r\nexport const consumeCollection = (node: Node): void => {\r\n  let tag = node.collectionTag\r\n\r\n  if (tag === null) {\r\n    tag = node.collectionTag = createTag()\r\n  }\r\n\r\n  consumeTag(tag)\r\n}\r\n\r\nexport const dirtyCollection = (node: Node): void => {\r\n  const tag = node.collectionTag\r\n\r\n  if (tag !== null) {\r\n    dirtyTag(tag, null)\r\n  }\r\n}\r\n", "// Original source:\r\n// - https://github.com/simonihmig/tracked-redux/blob/master/packages/tracked-redux/src/-private/proxy.ts\r\n\r\nimport type { Node, Tag } from './tracking'\r\nimport {\r\n  consumeCollection,\r\n  consumeTag,\r\n  createTag,\r\n  dirtyCollection,\r\n  dirtyTag\r\n} from './tracking'\r\n\r\nexport const REDUX_PROXY_LABEL = Symbol()\r\n\r\nlet nextId = 0\r\n\r\nconst proto = Object.getPrototypeOf({})\r\n\r\nclass ObjectTreeNode<T extends Record<string, unknown>> implements Node<T> {\r\n  proxy: T = new Proxy(this, objectProxyHandler) as unknown as T\r\n  tag = createTag()\r\n  tags = {} as Record<string, Tag>\r\n  children = {} as Record<string, Node>\r\n  collectionTag = null\r\n  id = nextId++\r\n\r\n  constructor(public value: T) {\r\n    this.value = value\r\n    this.tag.value = value\r\n  }\r\n}\r\n\r\nconst objectProxyHandler = {\r\n  get(node: Node, key: string | symbol): unknown {\r\n    function calculateResult() {\r\n      const { value } = node\r\n\r\n      const childValue = Reflect.get(value, key)\r\n\r\n      if (typeof key === 'symbol') {\r\n        return childValue\r\n      }\r\n\r\n      if (key in proto) {\r\n        return childValue\r\n      }\r\n\r\n      if (typeof childValue === 'object' && childValue !== null) {\r\n        let childNode = node.children[key]\r\n\r\n        if (childNode === undefined) {\r\n          childNode = node.children[key] = createNode(childValue)\r\n        }\r\n\r\n        if (childNode.tag) {\r\n          consumeTag(childNode.tag)\r\n        }\r\n\r\n        return childNode.proxy\r\n      } else {\r\n        let tag = node.tags[key]\r\n\r\n        if (tag === undefined) {\r\n          tag = node.tags[key] = createTag()\r\n          tag.value = childValue\r\n        }\r\n\r\n        consumeTag(tag)\r\n\r\n        return childValue\r\n      }\r\n    }\r\n    const res = calculateResult()\r\n    return res\r\n  },\r\n\r\n  ownKeys(node: Node): ArrayLike<string | symbol> {\r\n    consumeCollection(node)\r\n    return Reflect.ownKeys(node.value)\r\n  },\r\n\r\n  getOwnPropertyDescriptor(\r\n    node: Node,\r\n    prop: string | symbol\r\n  ): PropertyDescriptor | undefined {\r\n    return Reflect.getOwnPropertyDescriptor(node.value, prop)\r\n  },\r\n\r\n  has(node: Node, prop: string | symbol): boolean {\r\n    return Reflect.has(node.value, prop)\r\n  }\r\n}\r\n\r\nclass ArrayTreeNode<T extends Array<unknown>> implements Node<T> {\r\n  proxy: T = new Proxy([this], arrayProxyHandler) as unknown as T\r\n  tag = createTag()\r\n  tags = {}\r\n  children = {}\r\n  collectionTag = null\r\n  id = nextId++\r\n\r\n  constructor(public value: T) {\r\n    this.value = value\r\n    this.tag.value = value\r\n  }\r\n}\r\n\r\nconst arrayProxyHandler = {\r\n  get([node]: [Node], key: string | symbol): unknown {\r\n    if (key === 'length') {\r\n      consumeCollection(node)\r\n    }\r\n\r\n    return objectProxyHandler.get(node, key)\r\n  },\r\n\r\n  ownKeys([node]: [Node]): ArrayLike<string | symbol> {\r\n    return objectProxyHandler.ownKeys(node)\r\n  },\r\n\r\n  getOwnPropertyDescriptor(\r\n    [node]: [Node],\r\n    prop: string | symbol\r\n  ): PropertyDescriptor | undefined {\r\n    return objectProxyHandler.getOwnPropertyDescriptor(node, prop)\r\n  },\r\n\r\n  has([node]: [Node], prop: string | symbol): boolean {\r\n    return objectProxyHandler.has(node, prop)\r\n  }\r\n}\r\n\r\nexport function createNode<T extends Array<unknown> | Record<string, unknown>>(\r\n  value: T\r\n): Node<T> {\r\n  if (Array.isArray(value)) {\r\n    return new ArrayTreeNode(value)\r\n  }\r\n\r\n  return new ObjectTreeNode(value) as Node<T>\r\n}\r\n\r\nconst keysMap = new WeakMap<\r\n  Array<unknown> | Record<string, unknown>,\r\n  Set<string>\r\n>()\r\n\r\nexport function updateNode<T extends Array<unknown> | Record<string, unknown>>(\r\n  node: Node<T>,\r\n  newValue: T\r\n): void {\r\n  const { value, tags, children } = node\r\n\r\n  node.value = newValue\r\n\r\n  if (\r\n    Array.isArray(value) &&\r\n    Array.isArray(newValue) &&\r\n    value.length !== newValue.length\r\n  ) {\r\n    dirtyCollection(node)\r\n  } else {\r\n    if (value !== newValue) {\r\n      let oldKeysSize = 0\r\n      let newKeysSize = 0\r\n      let anyKeysAdded = false\r\n\r\n      for (const _key in value) {\r\n        oldKeysSize++\r\n      }\r\n\r\n      for (const key in newValue) {\r\n        newKeysSize++\r\n        if (!(key in value)) {\r\n          anyKeysAdded = true\r\n          break\r\n        }\r\n      }\r\n\r\n      const isDifferent = anyKeysAdded || oldKeysSize !== newKeysSize\r\n\r\n      if (isDifferent) {\r\n        dirtyCollection(node)\r\n      }\r\n    }\r\n  }\r\n\r\n  for (const key in tags) {\r\n    const childValue = (value as Record<string, unknown>)[key]\r\n    const newChildValue = (newValue as Record<string, unknown>)[key]\r\n\r\n    if (childValue !== newChildValue) {\r\n      dirtyCollection(node)\r\n      dirtyTag(tags[key], newChildValue)\r\n    }\r\n\r\n    if (typeof newChildValue === 'object' && newChildValue !== null) {\r\n      delete tags[key]\r\n    }\r\n  }\r\n\r\n  for (const key in children) {\r\n    const childNode = children[key]\r\n    const newChildValue = (newValue as Record<string, unknown>)[key]\r\n\r\n    const childValue = childNode.value\r\n\r\n    if (childValue === newChildValue) {\r\n      continue\r\n    } else if (typeof newChildValue === 'object' && newChildValue !== null) {\r\n      updateNode(childNode, newChildValue as Record<string, unknown>)\r\n    } else {\r\n      deleteNode(childNode)\r\n      delete children[key]\r\n    }\r\n  }\r\n}\r\n\r\nfunction deleteNode(node: Node): void {\r\n  if (node.tag) {\r\n    dirtyTag(node.tag, null)\r\n  }\r\n  dirtyCollection(node)\r\n  for (const key in node.tags) {\r\n    dirtyTag(node.tags[key], null)\r\n  }\r\n  for (const key in node.children) {\r\n    deleteNode(node.children[key])\r\n  }\r\n}\r\n", "import type {\r\n  AnyFunction,\r\n  DefaultMemoizeFields,\r\n  EqualityFn,\r\n  Simplify\r\n} from './types'\r\n\r\nimport type { NOT_FOUND_TYPE } from './utils'\r\nimport { NOT_FOUND } from './utils'\r\n\r\n// Cache implementation based on Erik Rasmussen's `lru-memoize`:\r\n// https://github.com/erikras/lru-memoize\r\n\r\ninterface Entry {\r\n  key: unknown\r\n  value: unknown\r\n}\r\n\r\ninterface Cache {\r\n  get(key: unknown): unknown | NOT_FOUND_TYPE\r\n  put(key: unknown, value: unknown): void\r\n  getEntries(): Entry[]\r\n  clear(): void\r\n}\r\n\r\nfunction createSingletonCache(equals: EqualityFn): Cache {\r\n  let entry: Entry | undefined\r\n  return {\r\n    get(key: unknown) {\r\n      if (entry && equals(entry.key, key)) {\r\n        return entry.value\r\n      }\r\n\r\n      return NOT_FOUND\r\n    },\r\n\r\n    put(key: unknown, value: unknown) {\r\n      entry = { key, value }\r\n    },\r\n\r\n    getEntries() {\r\n      return entry ? [entry] : []\r\n    },\r\n\r\n    clear() {\r\n      entry = undefined\r\n    }\r\n  }\r\n}\r\n\r\nfunction createLruCache(maxSize: number, equals: EqualityFn): Cache {\r\n  let entries: Entry[] = []\r\n\r\n  function get(key: unknown) {\r\n    const cacheIndex = entries.findIndex(entry => equals(key, entry.key))\r\n\r\n    // We found a cached entry\r\n    if (cacheIndex > -1) {\r\n      const entry = entries[cacheIndex]\r\n\r\n      // Cached entry not at top of cache, move it to the top\r\n      if (cacheIndex > 0) {\r\n        entries.splice(cacheIndex, 1)\r\n        entries.unshift(entry)\r\n      }\r\n\r\n      return entry.value\r\n    }\r\n\r\n    // No entry found in cache, return sentinel\r\n    return NOT_FOUND\r\n  }\r\n\r\n  function put(key: unknown, value: unknown) {\r\n    if (get(key) === NOT_FOUND) {\r\n      // TODO Is unshift slow?\r\n      entries.unshift({ key, value })\r\n      if (entries.length > maxSize) {\r\n        entries.pop()\r\n      }\r\n    }\r\n  }\r\n\r\n  function getEntries() {\r\n    return entries\r\n  }\r\n\r\n  function clear() {\r\n    entries = []\r\n  }\r\n\r\n  return { get, put, getEntries, clear }\r\n}\r\n\r\n/**\r\n * Runs a simple reference equality check.\r\n * What {@linkcode lruMemoize lruMemoize} uses by default.\r\n *\r\n * **Note**: This function was previously known as `defaultEqualityCheck`.\r\n *\r\n * @public\r\n */\r\nexport const referenceEqualityCheck: EqualityFn = (a, b) => a === b\r\n\r\nexport function createCacheKeyComparator(equalityCheck: EqualityFn) {\r\n  return function areArgumentsShallowlyEqual(\r\n    prev: unknown[] | IArguments | null,\r\n    next: unknown[] | IArguments | null\r\n  ): boolean {\r\n    if (prev === null || next === null || prev.length !== next.length) {\r\n      return false\r\n    }\r\n\r\n    // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\r\n    const { length } = prev\r\n    for (let i = 0; i < length; i++) {\r\n      if (!equalityCheck(prev[i], next[i])) {\r\n        return false\r\n      }\r\n    }\r\n\r\n    return true\r\n  }\r\n}\r\n\r\n/**\r\n * Options for configuring the behavior of a function memoized with\r\n * LRU (Least Recently Used) caching.\r\n *\r\n * @template Result - The type of the return value of the memoized function.\r\n *\r\n * @public\r\n */\r\nexport interface LruMemoizeOptions<Result = any> {\r\n  /**\r\n   * Function used to compare the individual arguments of the\r\n   * provided calculation function.\r\n   *\r\n   * @default referenceEqualityCheck\r\n   */\r\n  equalityCheck?: EqualityFn\r\n\r\n  /**\r\n   * If provided, used to compare a newly generated output value against\r\n   * previous values in the cache. If a match is found,\r\n   * the old value is returned. This addresses the common\r\n   * ```ts\r\n   * todos.map(todo => todo.id)\r\n   * ```\r\n   * use case, where an update to another field in the original data causes\r\n   * a recalculation due to changed references, but the output is still\r\n   * effectively the same.\r\n   *\r\n   * @since 4.1.0\r\n   */\r\n  resultEqualityCheck?: EqualityFn<Result>\r\n\r\n  /**\r\n   * The maximum size of the cache used by the selector.\r\n   * A size greater than 1 means the selector will use an\r\n   * LRU (Least Recently Used) cache, allowing for the caching of multiple\r\n   * results based on different sets of arguments.\r\n   *\r\n   * @default 1\r\n   */\r\n  maxSize?: number\r\n}\r\n\r\n/**\r\n * Creates a memoized version of a function with an optional\r\n * LRU (Least Recently Used) cache. The memoized function uses a cache to\r\n * store computed values. Depending on the `maxSize` option, it will use\r\n * either a singleton cache (for a single entry) or an\r\n * LRU cache (for multiple entries).\r\n *\r\n * **Note**: This function was previously known as `defaultMemoize`.\r\n *\r\n * @param func - The function to be memoized.\r\n * @param equalityCheckOrOptions - Either an equality check function or an options object.\r\n * @returns A memoized function with a `.clearCache()` method attached.\r\n *\r\n * @template Func - The type of the function that is memoized.\r\n *\r\n * @see {@link https://reselect.js.org/api/lruMemoize `lruMemoize`}\r\n *\r\n * @public\r\n */\r\nexport function lruMemoize<Func extends AnyFunction>(\r\n  func: Func,\r\n  equalityCheckOrOptions?: EqualityFn | LruMemoizeOptions<ReturnType<Func>>\r\n) {\r\n  const providedOptions =\r\n    typeof equalityCheckOrOptions === 'object'\r\n      ? equalityCheckOrOptions\r\n      : { equalityCheck: equalityCheckOrOptions }\r\n\r\n  const {\r\n    equalityCheck = referenceEqualityCheck,\r\n    maxSize = 1,\r\n    resultEqualityCheck\r\n  } = providedOptions\r\n\r\n  const comparator = createCacheKeyComparator(equalityCheck)\r\n\r\n  let resultsCount = 0\r\n\r\n  const cache =\r\n    maxSize <= 1\r\n      ? createSingletonCache(comparator)\r\n      : createLruCache(maxSize, comparator)\r\n\r\n  function memoized() {\r\n    let value = cache.get(arguments) as ReturnType<Func>\r\n    if (value === NOT_FOUND) {\r\n      // apply arguments instead of spreading for performance.\r\n      // @ts-ignore\r\n      value = func.apply(null, arguments) as ReturnType<Func>\r\n      resultsCount++\r\n\r\n      if (resultEqualityCheck) {\r\n        const entries = cache.getEntries()\r\n        const matchingEntry = entries.find(entry =>\r\n          resultEqualityCheck(entry.value as ReturnType<Func>, value)\r\n        )\r\n\r\n        if (matchingEntry) {\r\n          value = matchingEntry.value as ReturnType<Func>\r\n          resultsCount !== 0 && resultsCount--\r\n        }\r\n      }\r\n\r\n      cache.put(arguments, value)\r\n    }\r\n    return value\r\n  }\r\n\r\n  memoized.clearCache = () => {\r\n    cache.clear()\r\n    memoized.resetResultsCount()\r\n  }\r\n\r\n  memoized.resultsCount = () => resultsCount\r\n\r\n  memoized.resetResultsCount = () => {\r\n    resultsCount = 0\r\n  }\r\n\r\n  return memoized as Func & Simplify<DefaultMemoizeFields>\r\n}\r\n", "import { createNode, updateNode } from './proxy'\r\nimport type { Node } from './tracking'\r\n\r\nimport { createCacheKeyComparator, referenceEqualityCheck } from '../lruMemoize'\r\nimport type { AnyFunction, DefaultMemoizeFields, Simplify } from '../types'\r\nimport { createCache } from './autotracking'\r\n\r\n/**\r\n * Uses an \"auto-tracking\" approach inspired by the work of the Ember Glimmer team.\r\n * It uses a Proxy to wrap arguments and track accesses to nested fields\r\n * in your selector on first read. Later, when the selector is called with\r\n * new arguments, it identifies which accessed fields have changed and\r\n * only recalculates the result if one or more of those accessed fields have changed.\r\n * This allows it to be more precise than the shallow equality checks in `lruMemoize`.\r\n *\r\n * __Design Tradeoffs for `autotrackMemoize`:__\r\n * - Pros:\r\n *    - It is likely to avoid excess calculations and recalculate fewer times than `lruMemoize` will,\r\n *    which may also result in fewer component re-renders.\r\n * - Cons:\r\n *    - It only has a cache size of 1.\r\n *    - It is slower than `lruMemoize`, because it has to do more work. (How much slower is dependent on the number of accessed fields in a selector, number of calls, frequency of input changes, etc)\r\n *    - It can have some unexpected behavior. Because it tracks nested field accesses,\r\n *    cases where you don't access a field will not recalculate properly.\r\n *    For example, a badly-written selector like:\r\n *      ```ts\r\n *      createSelector([state => state.todos], todos => todos)\r\n *      ```\r\n *      that just immediately returns the extracted value will never update, because it doesn't see any field accesses to check.\r\n *\r\n * __Use Cases for `autotrackMemoize`:__\r\n * - It is likely best used for cases where you need to access specific nested fields\r\n * in data, and avoid recalculating if other fields in the same data objects are immutably updated.\r\n *\r\n * @param func - The function to be memoized.\r\n * @returns A memoized function with a `.clearCache()` method attached.\r\n *\r\n * @example\r\n * <caption>Using `createSelector`</caption>\r\n * ```ts\r\n * import { unstable_autotrackMemoize as autotrackMemoize, createSelector } from 'reselect'\r\n *\r\n * const selectTodoIds = createSelector(\r\n *   [(state: RootState) => state.todos],\r\n *   (todos) => todos.map(todo => todo.id),\r\n *   { memoize: autotrackMemoize }\r\n * )\r\n * ```\r\n *\r\n * @example\r\n * <caption>Using `createSelectorCreator`</caption>\r\n * ```ts\r\n * import { unstable_autotrackMemoize as autotrackMemoize, createSelectorCreator } from 'reselect'\r\n *\r\n * const createSelectorAutotrack = createSelectorCreator({ memoize: autotrackMemoize })\r\n *\r\n * const selectTodoIds = createSelectorAutotrack(\r\n *   [(state: RootState) => state.todos],\r\n *   (todos) => todos.map(todo => todo.id)\r\n * )\r\n * ```\r\n *\r\n * @template Func - The type of the function that is memoized.\r\n *\r\n * @see {@link https://reselect.js.org/api/unstable_autotrackMemoize autotrackMemoize}\r\n *\r\n * @since 5.0.0\r\n * @public\r\n * @experimental\r\n */\r\nexport function autotrackMemoize<Func extends AnyFunction>(func: Func) {\r\n  // we reference arguments instead of spreading them for performance reasons\r\n\r\n  const node: Node<Record<string, unknown>> = createNode(\r\n    [] as unknown as Record<string, unknown>\r\n  )\r\n\r\n  let lastArgs: IArguments | null = null\r\n\r\n  const shallowEqual = createCacheKeyComparator(referenceEqualityCheck)\r\n\r\n  const cache = createCache(() => {\r\n    const res = func.apply(null, node.proxy as unknown as any[])\r\n    return res\r\n  })\r\n\r\n  function memoized() {\r\n    if (!shallowEqual(lastArgs, arguments)) {\r\n      updateNode(node, arguments as unknown as Record<string, unknown>)\r\n      lastArgs = arguments\r\n    }\r\n    return cache.value\r\n  }\r\n\r\n  memoized.clearCache = () => {\r\n    return cache.clear()\r\n  }\r\n\r\n  return memoized as Func & Simplify<DefaultMemoizeFields>\r\n}\r\n", "// Original source:\r\n// - https://github.com/facebook/react/blob/0b974418c9a56f6c560298560265dcf4b65784bc/packages/react/src/ReactCache.js\r\n\r\nimport type {\r\n  AnyFunction,\r\n  DefaultMemoizeFields,\r\n  EqualityFn,\r\n  Simplify\r\n} from './types'\r\n\r\nclass StrongRef<T> {\r\n  constructor(private value: T) {}\r\n  deref() {\r\n    return this.value\r\n  }\r\n}\r\n\r\nconst Ref =\r\n  typeof WeakRef !== 'undefined'\r\n    ? WeakRef\r\n    : (StrongRef as unknown as typeof WeakRef)\r\n\r\nconst UNTERMINATED = 0\r\nconst TERMINATED = 1\r\n\r\ninterface UnterminatedCacheNode<T> {\r\n  /**\r\n   * Status, represents whether the cached computation returned a value or threw an error.\r\n   */\r\n  s: 0\r\n  /**\r\n   * Value, either the cached result or an error, depending on status.\r\n   */\r\n  v: void\r\n  /**\r\n   * Object cache, a `WeakMap` where non-primitive arguments are stored.\r\n   */\r\n  o: null | WeakMap<Function | Object, CacheNode<T>>\r\n  /**\r\n   * Primitive cache, a regular Map where primitive arguments are stored.\r\n   */\r\n  p: null | Map<string | number | null | void | symbol | boolean, CacheNode<T>>\r\n}\r\n\r\ninterface TerminatedCacheNode<T> {\r\n  /**\r\n   * Status, represents whether the cached computation returned a value or threw an error.\r\n   */\r\n  s: 1\r\n  /**\r\n   * Value, either the cached result or an error, depending on status.\r\n   */\r\n  v: T\r\n  /**\r\n   * Object cache, a `WeakMap` where non-primitive arguments are stored.\r\n   */\r\n  o: null | WeakMap<Function | Object, CacheNode<T>>\r\n  /**\r\n   * Primitive cache, a regular `Map` where primitive arguments are stored.\r\n   */\r\n  p: null | Map<string | number | null | void | symbol | boolean, CacheNode<T>>\r\n}\r\n\r\ntype CacheNode<T> = TerminatedCacheNode<T> | UnterminatedCacheNode<T>\r\n\r\nfunction createCacheNode<T>(): CacheNode<T> {\r\n  return {\r\n    s: UNTERMINATED,\r\n    v: undefined,\r\n    o: null,\r\n    p: null\r\n  }\r\n}\r\n\r\n/**\r\n * Configuration options for a memoization function utilizing `WeakMap` for\r\n * its caching mechanism.\r\n *\r\n * @template Result - The type of the return value of the memoized function.\r\n *\r\n * @since 5.0.0\r\n * @public\r\n */\r\nexport interface WeakMapMemoizeOptions<Result = any> {\r\n  /**\r\n   * If provided, used to compare a newly generated output value against previous values in the cache.\r\n   * If a match is found, the old value is returned. This addresses the common\r\n   * ```ts\r\n   * todos.map(todo => todo.id)\r\n   * ```\r\n   * use case, where an update to another field in the original data causes a recalculation\r\n   * due to changed references, but the output is still effectively the same.\r\n   *\r\n   * @since 5.0.0\r\n   */\r\n  resultEqualityCheck?: EqualityFn<Result>\r\n}\r\n\r\n/**\r\n * Creates a tree of `WeakMap`-based cache nodes based on the identity of the\r\n * arguments it's been called with (in this case, the extracted values from your input selectors).\r\n * This allows `weakMapMemoize` to have an effectively infinite cache size.\r\n * Cache results will be kept in memory as long as references to the arguments still exist,\r\n * and then cleared out as the arguments are garbage-collected.\r\n *\r\n * __Design Tradeoffs for `weakMapMemoize`:__\r\n * - Pros:\r\n *   - It has an effectively infinite cache size, but you have no control over\r\n *   how long values are kept in cache as it's based on garbage collection and `WeakMap`s.\r\n * - Cons:\r\n *   - There's currently no way to alter the argument comparisons.\r\n *   They're based on strict reference equality.\r\n *   - It's roughly the same speed as `lruMemoize`, although likely a fraction slower.\r\n *\r\n * __Use Cases for `weakMapMemoize`:__\r\n * - This memoizer is likely best used for cases where you need to call the\r\n * same selector instance with many different arguments, such as a single\r\n * selector instance that is used in a list item component and called with\r\n * item IDs like:\r\n *   ```ts\r\n *   useSelector(state => selectSomeData(state, props.category))\r\n *   ```\r\n * @param func - The function to be memoized.\r\n * @returns A memoized function with a `.clearCache()` method attached.\r\n *\r\n * @example\r\n * <caption>Using `createSelector`</caption>\r\n * ```ts\r\n * import { createSelector, weakMapMemoize } from 'reselect'\r\n *\r\n * interface RootState {\r\n *   items: { id: number; category: string; name: string }[]\r\n * }\r\n *\r\n * const selectItemsByCategory = createSelector(\r\n *   [\r\n *     (state: RootState) => state.items,\r\n *     (state: RootState, category: string) => category\r\n *   ],\r\n *   (items, category) => items.filter(item => item.category === category),\r\n *   {\r\n *     memoize: weakMapMemoize,\r\n *     argsMemoize: weakMapMemoize\r\n *   }\r\n * )\r\n * ```\r\n *\r\n * @example\r\n * <caption>Using `createSelectorCreator`</caption>\r\n * ```ts\r\n * import { createSelectorCreator, weakMapMemoize } from 'reselect'\r\n *\r\n * const createSelectorWeakMap = createSelectorCreator({ memoize: weakMapMemoize, argsMemoize: weakMapMemoize })\r\n *\r\n * const selectItemsByCategory = createSelectorWeakMap(\r\n *   [\r\n *     (state: RootState) => state.items,\r\n *     (state: RootState, category: string) => category\r\n *   ],\r\n *   (items, category) => items.filter(item => item.category === category)\r\n * )\r\n * ```\r\n *\r\n * @template Func - The type of the function that is memoized.\r\n *\r\n * @see {@link https://reselect.js.org/api/weakMapMemoize `weakMapMemoize`}\r\n *\r\n * @since 5.0.0\r\n * @public\r\n * @experimental\r\n */\r\nexport function weakMapMemoize<Func extends AnyFunction>(\r\n  func: Func,\r\n  options: WeakMapMemoizeOptions<ReturnType<Func>> = {}\r\n) {\r\n  let fnNode = createCacheNode()\r\n  const { resultEqualityCheck } = options\r\n\r\n  let lastResult: WeakRef<object> | undefined\r\n\r\n  let resultsCount = 0\r\n\r\n  function memoized() {\r\n    let cacheNode = fnNode\r\n    const { length } = arguments\r\n    for (let i = 0, l = length; i < l; i++) {\r\n      const arg = arguments[i]\r\n      if (\r\n        typeof arg === 'function' ||\r\n        (typeof arg === 'object' && arg !== null)\r\n      ) {\r\n        // Objects go into a WeakMap\r\n        let objectCache = cacheNode.o\r\n        if (objectCache === null) {\r\n          cacheNode.o = objectCache = new WeakMap()\r\n        }\r\n        const objectNode = objectCache.get(arg)\r\n        if (objectNode === undefined) {\r\n          cacheNode = createCacheNode()\r\n          objectCache.set(arg, cacheNode)\r\n        } else {\r\n          cacheNode = objectNode\r\n        }\r\n      } else {\r\n        // Primitives go into a regular Map\r\n        let primitiveCache = cacheNode.p\r\n        if (primitiveCache === null) {\r\n          cacheNode.p = primitiveCache = new Map()\r\n        }\r\n        const primitiveNode = primitiveCache.get(arg)\r\n        if (primitiveNode === undefined) {\r\n          cacheNode = createCacheNode()\r\n          primitiveCache.set(arg, cacheNode)\r\n        } else {\r\n          cacheNode = primitiveNode\r\n        }\r\n      }\r\n    }\r\n\r\n    const terminatedNode = cacheNode as unknown as TerminatedCacheNode<any>\r\n\r\n    let result\r\n\r\n    if (cacheNode.s === TERMINATED) {\r\n      result = cacheNode.v\r\n    } else {\r\n      // Allow errors to propagate\r\n      result = func.apply(null, arguments as unknown as any[])\r\n      resultsCount++\r\n\r\n      if (resultEqualityCheck) {\r\n        const lastResultValue = lastResult?.deref?.() ?? lastResult\r\n\r\n        if (\r\n          lastResultValue != null &&\r\n          resultEqualityCheck(lastResultValue as ReturnType<Func>, result)\r\n        ) {\r\n          result = lastResultValue\r\n\r\n          resultsCount !== 0 && resultsCount--\r\n        }\r\n\r\n        const needsWeakRef =\r\n          (typeof result === 'object' && result !== null) ||\r\n          typeof result === 'function'\r\n\r\n        lastResult = needsWeakRef ? new Ref(result) : result\r\n      }\r\n    }\r\n\r\n    terminatedNode.s = TERMINATED\r\n\r\n    terminatedNode.v = result\r\n    return result\r\n  }\r\n\r\n  memoized.clearCache = () => {\r\n    fnNode = createCacheNode()\r\n    memoized.resetResultsCount()\r\n  }\r\n\r\n  memoized.resultsCount = () => resultsCount\r\n\r\n  memoized.resetResultsCount = () => {\r\n    resultsCount = 0\r\n  }\r\n\r\n  return memoized as Func & Simplify<DefaultMemoizeFields>\r\n}\r\n", "import { weakMapMemoize } from './weakMapMemoize'\r\n\r\nimport type {\r\n  Combiner,\r\n  CreateSelectorOptions,\r\n  DropFirstParameter,\r\n  ExtractMemoizerFields,\r\n  GetParamsFromSelectors,\r\n  GetStateFromSelectors,\r\n  InterruptRecursion,\r\n  OutputSelector,\r\n  Selector,\r\n  SelectorArray,\r\n  SetRequired,\r\n  Simplify,\r\n  UnknownMemoizer\r\n} from './types'\r\n\r\nimport {\r\n  assertIsFunction,\r\n  collectInputSelectorResults,\r\n  ensureIsArray,\r\n  getDependencies,\r\n  getDevModeChecksExecutionInfo\r\n} from './utils'\r\n\r\n/**\r\n * An instance of `createSelector`, customized with a given memoize implementation.\r\n *\r\n * @template MemoizeFunction - The type of the memoize function that is used to memoize the `resultFunc` inside `createSelector` (e.g., `lruMemoize` or `weakMapMemoize`).\r\n * @template ArgsMemoizeFunction - The type of the optional memoize function that is used to memoize the arguments passed into the output selector generated by `createSelector` (e.g., `lruMemoize` or `weakMapMemoize`). If none is explicitly provided, `weakMapMemoize` will be used.\r\n * @template StateType - The type of state that the selectors created with this selector creator will operate on.\r\n *\r\n * @public\r\n */\r\nexport interface CreateSelectorFunction<\r\n  MemoizeFunction extends UnknownMemoizer = typeof weakMapMemoize,\r\n  ArgsMemoizeFunction extends UnknownMemoizer = typeof weakMapMemoize,\r\n  StateType = any\r\n> {\r\n  /**\r\n   * Creates a memoized selector function.\r\n   *\r\n   * @param createSelectorArgs - An arbitrary number of input selectors as separate inline arguments and a `combiner` function.\r\n   * @returns A memoized output selector.\r\n   *\r\n   * @template InputSelectors - The type of the input selectors as an array.\r\n   * @template Result - The return type of the `combiner` as well as the output selector.\r\n   * @template OverrideMemoizeFunction - The type of the optional `memoize` function that could be passed into the options object to override the original `memoize` function that was initially passed into `createSelectorCreator`.\r\n   * @template OverrideArgsMemoizeFunction - The type of the optional `argsMemoize` function that could be passed into the options object to override the original `argsMemoize` function that was initially passed into `createSelectorCreator`.\r\n   *\r\n   * @see {@link https://reselect.js.org/api/createselector `createSelector`}\r\n   */\r\n  <InputSelectors extends SelectorArray<StateType>, Result>(\r\n    ...createSelectorArgs: [\r\n      ...inputSelectors: InputSelectors,\r\n      combiner: Combiner<InputSelectors, Result>\r\n    ]\r\n  ): OutputSelector<\r\n    InputSelectors,\r\n    Result,\r\n    MemoizeFunction,\r\n    ArgsMemoizeFunction\r\n  > &\r\n    InterruptRecursion\r\n\r\n  /**\r\n   * Creates a memoized selector function.\r\n   *\r\n   * @param createSelectorArgs - An arbitrary number of input selectors as separate inline arguments, a `combiner` function and an `options` object.\r\n   * @returns A memoized output selector.\r\n   *\r\n   * @template InputSelectors - The type of the input selectors as an array.\r\n   * @template Result - The return type of the `combiner` as well as the output selector.\r\n   * @template OverrideMemoizeFunction - The type of the optional `memoize` function that could be passed into the options object to override the original `memoize` function that was initially passed into `createSelectorCreator`.\r\n   * @template OverrideArgsMemoizeFunction - The type of the optional `argsMemoize` function that could be passed into the options object to override the original `argsMemoize` function that was initially passed into `createSelectorCreator`.\r\n   *\r\n   * @see {@link https://reselect.js.org/api/createselector `createSelector`}\r\n   */\r\n  <\r\n    InputSelectors extends SelectorArray<StateType>,\r\n    Result,\r\n    OverrideMemoizeFunction extends UnknownMemoizer = MemoizeFunction,\r\n    OverrideArgsMemoizeFunction extends UnknownMemoizer = ArgsMemoizeFunction\r\n  >(\r\n    ...createSelectorArgs: [\r\n      ...inputSelectors: InputSelectors,\r\n      combiner: Combiner<InputSelectors, Result>,\r\n      createSelectorOptions: Simplify<\r\n        CreateSelectorOptions<\r\n          MemoizeFunction,\r\n          ArgsMemoizeFunction,\r\n          OverrideMemoizeFunction,\r\n          OverrideArgsMemoizeFunction\r\n        >\r\n      >\r\n    ]\r\n  ): OutputSelector<\r\n    InputSelectors,\r\n    Result,\r\n    OverrideMemoizeFunction,\r\n    OverrideArgsMemoizeFunction\r\n  > &\r\n    InterruptRecursion\r\n\r\n  /**\r\n   * Creates a memoized selector function.\r\n   *\r\n   * @param inputSelectors - An array of input selectors.\r\n   * @param combiner - A function that Combines the input selectors and returns an output selector. Otherwise known as the result function.\r\n   * @param createSelectorOptions - An optional options object that allows for further customization per selector.\r\n   * @returns A memoized output selector.\r\n   *\r\n   * @template InputSelectors - The type of the input selectors array.\r\n   * @template Result - The return type of the `combiner` as well as the output selector.\r\n   * @template OverrideMemoizeFunction - The type of the optional `memoize` function that could be passed into the options object to override the original `memoize` function that was initially passed into `createSelectorCreator`.\r\n   * @template OverrideArgsMemoizeFunction - The type of the optional `argsMemoize` function that could be passed into the options object to override the original `argsMemoize` function that was initially passed into `createSelectorCreator`.\r\n   *\r\n   * @see {@link https://reselect.js.org/api/createselector `createSelector`}\r\n   */\r\n  <\r\n    InputSelectors extends SelectorArray<StateType>,\r\n    Result,\r\n    OverrideMemoizeFunction extends UnknownMemoizer = MemoizeFunction,\r\n    OverrideArgsMemoizeFunction extends UnknownMemoizer = ArgsMemoizeFunction\r\n  >(\r\n    inputSelectors: [...InputSelectors],\r\n    combiner: Combiner<InputSelectors, Result>,\r\n    createSelectorOptions?: Simplify<\r\n      CreateSelectorOptions<\r\n        MemoizeFunction,\r\n        ArgsMemoizeFunction,\r\n        OverrideMemoizeFunction,\r\n        OverrideArgsMemoizeFunction\r\n      >\r\n    >\r\n  ): OutputSelector<\r\n    InputSelectors,\r\n    Result,\r\n    OverrideMemoizeFunction,\r\n    OverrideArgsMemoizeFunction\r\n  > &\r\n    InterruptRecursion\r\n\r\n  /**\r\n   * Creates a \"pre-typed\" version of {@linkcode createSelector createSelector}\r\n   * where the `state` type is predefined.\r\n   *\r\n   * This allows you to set the `state` type once, eliminating the need to\r\n   * specify it with every {@linkcode createSelector createSelector} call.\r\n   *\r\n   * @returns A pre-typed `createSelector` with the state type already defined.\r\n   *\r\n   * @example\r\n   * ```ts\r\n   * import { createSelector } from 'reselect'\r\n   *\r\n   * export interface RootState {\r\n   *   todos: { id: number; completed: boolean }[]\r\n   *   alerts: { id: number; read: boolean }[]\r\n   * }\r\n   *\r\n   * export const createAppSelector = createSelector.withTypes<RootState>()\r\n   *\r\n   * const selectTodoIds = createAppSelector(\r\n   *   [\r\n   *     // Type of `state` is set to `RootState`, no need to manually set the type\r\n   *     state => state.todos\r\n   *   ],\r\n   *   todos => todos.map(({ id }) => id)\r\n   * )\r\n   * ```\r\n   * @template OverrideStateType - The specific type of state used by all selectors created with this selector creator.\r\n   *\r\n   * @see {@link https://reselect.js.org/api/createselector#defining-a-pre-typed-createselector `createSelector.withTypes`}\r\n   *\r\n   * @since 5.1.0\r\n   */\r\n  withTypes: <OverrideStateType extends StateType>() => CreateSelectorFunction<\r\n    MemoizeFunction,\r\n    ArgsMemoizeFunction,\r\n    OverrideStateType\r\n  >\r\n}\r\n\r\n/**\r\n * Creates a selector creator function with the specified memoization function\r\n * and options for customizing memoization behavior.\r\n *\r\n * @param options - An options object containing the `memoize` function responsible for memoizing the `resultFunc` inside `createSelector` (e.g., `lruMemoize` or `weakMapMemoize`). It also provides additional options for customizing memoization. While the `memoize` property is mandatory, the rest are optional.\r\n * @returns A customized `createSelector` function.\r\n *\r\n * @example\r\n * ```ts\r\n * const customCreateSelector = createSelectorCreator({\r\n *   memoize: customMemoize, // Function to be used to memoize `resultFunc`\r\n *   memoizeOptions: [memoizeOption1, memoizeOption2], // Options passed to `customMemoize` as the second argument onwards\r\n *   argsMemoize: customArgsMemoize, // Function to be used to memoize the selector's arguments\r\n *   argsMemoizeOptions: [argsMemoizeOption1, argsMemoizeOption2] // Options passed to `customArgsMemoize` as the second argument onwards\r\n * })\r\n *\r\n * const customSelector = customCreateSelector(\r\n *   [inputSelector1, inputSelector2],\r\n *   resultFunc // `resultFunc` will be passed as the first argument to `customMemoize`\r\n * )\r\n *\r\n * customSelector(\r\n *   ...selectorArgs // Will be memoized by `customArgsMemoize`\r\n * )\r\n * ```\r\n *\r\n * @template MemoizeFunction - The type of the memoize function that is used to memoize the `resultFunc` inside `createSelector` (e.g., `lruMemoize` or `weakMapMemoize`).\r\n * @template ArgsMemoizeFunction - The type of the optional memoize function that is used to memoize the arguments passed into the output selector generated by `createSelector` (e.g., `lruMemoize` or `weakMapMemoize`). If none is explicitly provided, `weakMapMemoize` will be used.\r\n *\r\n * @see {@link https://reselect.js.org/api/createSelectorCreator#using-options-since-500 `createSelectorCreator`}\r\n *\r\n * @since 5.0.0\r\n * @public\r\n */\r\nexport function createSelectorCreator<\r\n  MemoizeFunction extends UnknownMemoizer,\r\n  ArgsMemoizeFunction extends UnknownMemoizer = typeof weakMapMemoize\r\n>(\r\n  options: Simplify<\r\n    SetRequired<\r\n      CreateSelectorOptions<\r\n        typeof weakMapMemoize,\r\n        typeof weakMapMemoize,\r\n        MemoizeFunction,\r\n        ArgsMemoizeFunction\r\n      >,\r\n      'memoize'\r\n    >\r\n  >\r\n): CreateSelectorFunction<MemoizeFunction, ArgsMemoizeFunction>\r\n\r\n/**\r\n * Creates a selector creator function with the specified memoization function\r\n * and options for customizing memoization behavior.\r\n *\r\n * @param memoize - The `memoize` function responsible for memoizing the `resultFunc` inside `createSelector` (e.g., `lruMemoize` or `weakMapMemoize`).\r\n * @param memoizeOptionsFromArgs - Optional configuration options for the memoization function. These options are then passed to the memoize function as the second argument onwards.\r\n * @returns A customized `createSelector` function.\r\n *\r\n * @example\r\n * ```ts\r\n * const customCreateSelector = createSelectorCreator(customMemoize, // Function to be used to memoize `resultFunc`\r\n *   option1, // Will be passed as second argument to `customMemoize`\r\n *   option2, // Will be passed as third argument to `customMemoize`\r\n *   option3 // Will be passed as fourth argument to `customMemoize`\r\n * )\r\n *\r\n * const customSelector = customCreateSelector(\r\n *   [inputSelector1, inputSelector2],\r\n *   resultFunc // `resultFunc` will be passed as the first argument to `customMemoize`\r\n * )\r\n * ```\r\n *\r\n * @template MemoizeFunction - The type of the memoize function that is used to memoize the `resultFunc` inside `createSelector` (e.g., `lruMemoize` or `weakMapMemoize`).\r\n *\r\n * @see {@link https://reselect.js.org/api/createSelectorCreator#using-memoize-and-memoizeoptions `createSelectorCreator`}\r\n *\r\n * @public\r\n */\r\nexport function createSelectorCreator<MemoizeFunction extends UnknownMemoizer>(\r\n  memoize: MemoizeFunction,\r\n  ...memoizeOptionsFromArgs: DropFirstParameter<MemoizeFunction>\r\n): CreateSelectorFunction<MemoizeFunction>\r\n\r\n/**\r\n * Creates a selector creator function with the specified memoization\r\n * function and options for customizing memoization behavior.\r\n *\r\n * @param memoizeOrOptions - Either A `memoize` function or an `options` object containing the `memoize` function.\r\n * @param memoizeOptionsFromArgs - Optional configuration options for the memoization function. These options are then passed to the memoize function as the second argument onwards.\r\n * @returns A customized `createSelector` function.\r\n *\r\n * @template MemoizeFunction - The type of the memoize function that is used to memoize the `resultFunc` inside `createSelector` (e.g., `lruMemoize` or `weakMapMemoize`).\r\n * @template ArgsMemoizeFunction - The type of the optional memoize function that is used to memoize the arguments passed into the output selector generated by `createSelector` (e.g., `lruMemoize` or `weakMapMemoize`). If none is explicitly provided, `weakMapMemoize` will be used.\r\n * @template MemoizeOrOptions - The type of the first argument. It can either be a `memoize` function or an `options` object containing the `memoize` function.\r\n */\r\nexport function createSelectorCreator<\r\n  MemoizeFunction extends UnknownMemoizer,\r\n  ArgsMemoizeFunction extends UnknownMemoizer,\r\n  MemoizeOrOptions extends\r\n    | MemoizeFunction\r\n    | SetRequired<\r\n        CreateSelectorOptions<MemoizeFunction, ArgsMemoizeFunction>,\r\n        'memoize'\r\n      >\r\n>(\r\n  memoizeOrOptions: MemoizeOrOptions,\r\n  ...memoizeOptionsFromArgs: MemoizeOrOptions extends SetRequired<\r\n    CreateSelectorOptions<MemoizeFunction, ArgsMemoizeFunction>,\r\n    'memoize'\r\n  >\r\n    ? never\r\n    : DropFirstParameter<MemoizeFunction>\r\n) {\r\n  /** options initially passed into `createSelectorCreator`. */\r\n  const createSelectorCreatorOptions: SetRequired<\r\n    CreateSelectorOptions<MemoizeFunction, ArgsMemoizeFunction>,\r\n    'memoize'\r\n  > = typeof memoizeOrOptions === 'function'\r\n    ? {\r\n        memoize: memoizeOrOptions as MemoizeFunction,\r\n        memoizeOptions: memoizeOptionsFromArgs\r\n      }\r\n    : memoizeOrOptions\r\n\r\n  const createSelector = <\r\n    InputSelectors extends SelectorArray,\r\n    Result,\r\n    OverrideMemoizeFunction extends UnknownMemoizer = MemoizeFunction,\r\n    OverrideArgsMemoizeFunction extends UnknownMemoizer = ArgsMemoizeFunction\r\n  >(\r\n    ...createSelectorArgs: [\r\n      ...inputSelectors: [...InputSelectors],\r\n      combiner: Combiner<InputSelectors, Result>,\r\n      createSelectorOptions?: CreateSelectorOptions<\r\n        MemoizeFunction,\r\n        ArgsMemoizeFunction,\r\n        OverrideMemoizeFunction,\r\n        OverrideArgsMemoizeFunction\r\n      >\r\n    ]\r\n  ) => {\r\n    let recomputations = 0\r\n    let dependencyRecomputations = 0\r\n    let lastResult: Result\r\n\r\n    // Due to the intricacies of rest params, we can't do an optional arg after `...createSelectorArgs`.\r\n    // So, start by declaring the default value here.\r\n    // (And yes, the words 'memoize' and 'options' appear too many times in this next sequence.)\r\n    let directlyPassedOptions: CreateSelectorOptions<\r\n      MemoizeFunction,\r\n      ArgsMemoizeFunction,\r\n      OverrideMemoizeFunction,\r\n      OverrideArgsMemoizeFunction\r\n    > = {}\r\n\r\n    // Normally, the result func or \"combiner\" is the last arg\r\n    let resultFunc = createSelectorArgs.pop() as\r\n      | Combiner<InputSelectors, Result>\r\n      | CreateSelectorOptions<\r\n          MemoizeFunction,\r\n          ArgsMemoizeFunction,\r\n          OverrideMemoizeFunction,\r\n          OverrideArgsMemoizeFunction\r\n        >\r\n\r\n    // If the result func is actually an _object_, assume it's our options object\r\n    if (typeof resultFunc === 'object') {\r\n      directlyPassedOptions = resultFunc\r\n      // and pop the real result func off\r\n      resultFunc = createSelectorArgs.pop() as Combiner<InputSelectors, Result>\r\n    }\r\n\r\n    assertIsFunction(\r\n      resultFunc,\r\n      `createSelector expects an output function after the inputs, but received: [${typeof resultFunc}]`\r\n    )\r\n\r\n    // Determine which set of options we're using. Prefer options passed directly,\r\n    // but fall back to options given to `createSelectorCreator`.\r\n    const combinedOptions = {\r\n      ...createSelectorCreatorOptions,\r\n      ...directlyPassedOptions\r\n    }\r\n\r\n    const {\r\n      memoize,\r\n      memoizeOptions = [],\r\n      argsMemoize = weakMapMemoize,\r\n      argsMemoizeOptions = [],\r\n      devModeChecks = {}\r\n    } = combinedOptions\r\n\r\n    // Simplifying assumption: it's unlikely that the first options arg of the provided memoizer\r\n    // is an array. In most libs I've looked at, it's an equality function or options object.\r\n    // Based on that, if `memoizeOptions` _is_ an array, we assume it's a full\r\n    // user-provided array of options. Otherwise, it must be just the _first_ arg, and so\r\n    // we wrap it in an array so we can apply it.\r\n    const finalMemoizeOptions = ensureIsArray(memoizeOptions)\r\n    const finalArgsMemoizeOptions = ensureIsArray(argsMemoizeOptions)\r\n    const dependencies = getDependencies(createSelectorArgs) as InputSelectors\r\n\r\n    const memoizedResultFunc = memoize(function recomputationWrapper() {\r\n      recomputations++\r\n      // apply arguments instead of spreading for performance.\r\n      // @ts-ignore\r\n      return (resultFunc as Combiner<InputSelectors, Result>).apply(\r\n        null,\r\n        arguments as unknown as Parameters<Combiner<InputSelectors, Result>>\r\n      )\r\n    }, ...finalMemoizeOptions) as Combiner<InputSelectors, Result> &\r\n      ExtractMemoizerFields<OverrideMemoizeFunction>\r\n\r\n    let firstRun = true\r\n\r\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\r\n    const selector = argsMemoize(function dependenciesChecker() {\r\n      dependencyRecomputations++\r\n      /** Return values of input selectors which the `resultFunc` takes as arguments. */\r\n      const inputSelectorResults = collectInputSelectorResults(\r\n        dependencies,\r\n        arguments\r\n      )\r\n\r\n      // apply arguments instead of spreading for performance.\r\n      // @ts-ignore\r\n      lastResult = memoizedResultFunc.apply(null, inputSelectorResults)\r\n\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        const { identityFunctionCheck, inputStabilityCheck } =\r\n          getDevModeChecksExecutionInfo(firstRun, devModeChecks)\r\n        if (identityFunctionCheck.shouldRun) {\r\n          identityFunctionCheck.run(\r\n            resultFunc as Combiner<InputSelectors, Result>,\r\n            inputSelectorResults,\r\n            lastResult\r\n          )\r\n        }\r\n\r\n        if (inputStabilityCheck.shouldRun) {\r\n          // make a second copy of the params, to check if we got the same results\r\n          const inputSelectorResultsCopy = collectInputSelectorResults(\r\n            dependencies,\r\n            arguments\r\n          )\r\n\r\n          inputStabilityCheck.run(\r\n            { inputSelectorResults, inputSelectorResultsCopy },\r\n            { memoize, memoizeOptions: finalMemoizeOptions },\r\n            arguments\r\n          )\r\n        }\r\n\r\n        if (firstRun) firstRun = false\r\n      }\r\n\r\n      return lastResult\r\n    }, ...finalArgsMemoizeOptions) as unknown as Selector<\r\n      GetStateFromSelectors<InputSelectors>,\r\n      Result,\r\n      GetParamsFromSelectors<InputSelectors>\r\n    > &\r\n      ExtractMemoizerFields<OverrideArgsMemoizeFunction>\r\n\r\n    return Object.assign(selector, {\r\n      resultFunc,\r\n      memoizedResultFunc,\r\n      dependencies,\r\n      dependencyRecomputations: () => dependencyRecomputations,\r\n      resetDependencyRecomputations: () => {\r\n        dependencyRecomputations = 0\r\n      },\r\n      lastResult: () => lastResult,\r\n      recomputations: () => recomputations,\r\n      resetRecomputations: () => {\r\n        recomputations = 0\r\n      },\r\n      memoize,\r\n      argsMemoize\r\n    }) as OutputSelector<\r\n      InputSelectors,\r\n      Result,\r\n      OverrideMemoizeFunction,\r\n      OverrideArgsMemoizeFunction\r\n    >\r\n  }\r\n\r\n  Object.assign(createSelector, {\r\n    withTypes: () => createSelector\r\n  })\r\n\r\n  return createSelector as CreateSelectorFunction<\r\n    MemoizeFunction,\r\n    ArgsMemoizeFunction\r\n  >\r\n}\r\n\r\n/**\r\n * Accepts one or more \"input selectors\" (either as separate arguments or a single array),\r\n * a single \"result function\" / \"combiner\", and an optional options object, and\r\n * generates a memoized selector function.\r\n *\r\n * @see {@link https://reselect.js.org/api/createSelector `createSelector`}\r\n *\r\n * @public\r\n */\r\nexport const createSelector =\r\n  /* #__PURE__ */ createSelectorCreator(weakMapMemoize)\r\n", "import { createSelector } from './createSelectorCreator'\r\n\r\nimport type { CreateSelectorFunction } from './createSelectorCreator'\r\nimport type {\r\n  InterruptRecursion,\r\n  ObjectValuesToTuple,\r\n  OutputSelector,\r\n  Selector,\r\n  Simplify,\r\n  UnknownMemoizer\r\n} from './types'\r\nimport { assertIsObject } from './utils'\r\nimport type { weakMapMemoize } from './weakMapMemoize'\r\n\r\n/**\r\n * Represents a mapping of selectors to their return types.\r\n *\r\n * @template TObject - An object type where each property is a selector function.\r\n *\r\n * @public\r\n */\r\nexport type SelectorResultsMap<TObject extends SelectorsObject> = {\r\n  [Key in keyof TObject]: ReturnType<TObject[Key]>\r\n}\r\n\r\n/**\r\n * Represents a mapping of selectors for each key in a given root state.\r\n *\r\n * This type is a utility that takes a root state object type and\r\n * generates a corresponding set of selectors. Each selector is associated\r\n * with a key in the root state, allowing for the selection\r\n * of specific parts of the state.\r\n *\r\n * @template RootState - The type of the root state object.\r\n *\r\n * @since 5.0.0\r\n * @public\r\n */\r\nexport type RootStateSelectors<RootState = any> = {\r\n  [Key in keyof RootState]: Selector<RootState, RootState[Key], []>\r\n}\r\n\r\n/**\r\n * @deprecated Please use {@linkcode StructuredSelectorCreator.withTypes createStructuredSelector.withTypes<RootState>()} instead. This type will be removed in the future.\r\n * @template RootState - The type of the root state object.\r\n *\r\n * @since 5.0.0\r\n * @public\r\n */\r\nexport type TypedStructuredSelectorCreator<RootState = any> =\r\n  /**\r\n   * A convenience function that simplifies returning an object\r\n   * made up of selector results.\r\n   *\r\n   * @param inputSelectorsObject - A key value pair consisting of input selectors.\r\n   * @param selectorCreator - A custom selector creator function. It defaults to `createSelector`.\r\n   * @returns A memoized structured selector.\r\n   *\r\n   * @example\r\n   * <caption>Modern Use Case</caption>\r\n   * ```ts\r\n   * import { createSelector, createStructuredSelector } from 'reselect'\r\n   *\r\n   * interface RootState {\r\n   *   todos: {\r\n   *     id: number\r\n   *     completed: boolean\r\n   *     title: string\r\n   *     description: string\r\n   *   }[]\r\n   *   alerts: { id: number; read: boolean }[]\r\n   * }\r\n   *\r\n   * // This:\r\n   * const structuredSelector = createStructuredSelector(\r\n   *   {\r\n   *     todos: (state: RootState) => state.todos,\r\n   *     alerts: (state: RootState) => state.alerts,\r\n   *     todoById: (state: RootState, id: number) => state.todos[id]\r\n   *   },\r\n   *   createSelector\r\n   * )\r\n   *\r\n   * // Is essentially the same as this:\r\n   * const selector = createSelector(\r\n   *   [\r\n   *     (state: RootState) => state.todos,\r\n   *     (state: RootState) => state.alerts,\r\n   *     (state: RootState, id: number) => state.todos[id]\r\n   *   ],\r\n   *   (todos, alerts, todoById) => {\r\n   *     return {\r\n   *       todos,\r\n   *       alerts,\r\n   *       todoById\r\n   *     }\r\n   *   }\r\n   * )\r\n   * ```\r\n   *\r\n   * @example\r\n   * <caption>In your component:</caption>\r\n   * ```tsx\r\n   * import type { RootState } from 'createStructuredSelector/modernUseCase'\r\n   * import { structuredSelector } from 'createStructuredSelector/modernUseCase'\r\n   * import type { FC } from 'react'\r\n   * import { useSelector } from 'react-redux'\r\n   *\r\n   * interface Props {\r\n   *   id: number\r\n   * }\r\n   *\r\n   * const MyComponent: FC<Props> = ({ id }) => {\r\n   *   const { todos, alerts, todoById } = useSelector((state: RootState) =>\r\n   *     structuredSelector(state, id)\r\n   *   )\r\n   *\r\n   *   return (\r\n   *     <div>\r\n   *       Next to do is:\r\n   *       <h2>{todoById.title}</h2>\r\n   *       <p>Description: {todoById.description}</p>\r\n   *       <ul>\r\n   *         <h3>All other to dos:</h3>\r\n   *         {todos.map(todo => (\r\n   *           <li key={todo.id}>{todo.title}</li>\r\n   *         ))}\r\n   *       </ul>\r\n   *     </div>\r\n   *   )\r\n   * }\r\n   * ```\r\n   *\r\n   * @example\r\n   * <caption>Simple Use Case</caption>\r\n   * ```ts\r\n   * const selectA = state => state.a\r\n   * const selectB = state => state.b\r\n   *\r\n   * // The result function in the following selector\r\n   * // is simply building an object from the input selectors\r\n   * const structuredSelector = createSelector(selectA, selectB, (a, b) => ({\r\n   *   a,\r\n   *   b\r\n   * }))\r\n   *\r\n   * const result = structuredSelector({ a: 1, b: 2 }) // will produce { x: 1, y: 2 }\r\n   * ```\r\n   *\r\n   * @template InputSelectorsObject - The shape of the input selectors object.\r\n   * @template MemoizeFunction - The type of the memoize function that is used to create the structured selector. It defaults to `weakMapMemoize`.\r\n   * @template ArgsMemoizeFunction - The type of the of the memoize function that is used to memoize the arguments passed into the generated structured selector. It defaults to `weakMapMemoize`.\r\n   *\r\n   * @see {@link https://reselect.js.org/api/createStructuredSelector `createStructuredSelector`}\r\n   */\r\n  <\r\n    InputSelectorsObject extends RootStateSelectors<RootState> = RootStateSelectors<RootState>,\r\n    MemoizeFunction extends UnknownMemoizer = typeof weakMapMemoize,\r\n    ArgsMemoizeFunction extends UnknownMemoizer = typeof weakMapMemoize\r\n  >(\r\n    inputSelectorsObject: InputSelectorsObject,\r\n    selectorCreator?: CreateSelectorFunction<\r\n      MemoizeFunction,\r\n      ArgsMemoizeFunction\r\n    >\r\n  ) => OutputSelector<\r\n    ObjectValuesToTuple<InputSelectorsObject>,\r\n    Simplify<SelectorResultsMap<InputSelectorsObject>>,\r\n    MemoizeFunction,\r\n    ArgsMemoizeFunction\r\n  > &\r\n    InterruptRecursion\r\n\r\n/**\r\n * Represents an object where each property is a selector function.\r\n *\r\n * @template StateType - The type of state that all the selectors operate on.\r\n *\r\n * @public\r\n */\r\nexport type SelectorsObject<StateType = any> = Record<\r\n  string,\r\n  Selector<StateType>\r\n>\r\n\r\n/**\r\n * It provides a way to create structured selectors.\r\n * The structured selector can take multiple input selectors\r\n * and map their output to an object with specific keys.\r\n *\r\n * @template StateType - The type of state that the structured selectors created with this structured selector creator will operate on.\r\n *\r\n * @see {@link https://reselect.js.org/api/createStructuredSelector `createStructuredSelector`}\r\n *\r\n * @public\r\n */\r\nexport interface StructuredSelectorCreator<StateType = any> {\r\n  /**\r\n   * A convenience function that simplifies returning an object\r\n   * made up of selector results.\r\n   *\r\n   * @param inputSelectorsObject - A key value pair consisting of input selectors.\r\n   * @param selectorCreator - A custom selector creator function. It defaults to `createSelector`.\r\n   * @returns A memoized structured selector.\r\n   *\r\n   * @example\r\n   * <caption>Modern Use Case</caption>\r\n   * ```ts\r\n   * import { createSelector, createStructuredSelector } from 'reselect'\r\n   *\r\n   * interface RootState {\r\n   *   todos: {\r\n   *     id: number\r\n   *     completed: boolean\r\n   *     title: string\r\n   *     description: string\r\n   *   }[]\r\n   *   alerts: { id: number; read: boolean }[]\r\n   * }\r\n   *\r\n   * // This:\r\n   * const structuredSelector = createStructuredSelector(\r\n   *   {\r\n   *     todos: (state: RootState) => state.todos,\r\n   *     alerts: (state: RootState) => state.alerts,\r\n   *     todoById: (state: RootState, id: number) => state.todos[id]\r\n   *   },\r\n   *   createSelector\r\n   * )\r\n   *\r\n   * // Is essentially the same as this:\r\n   * const selector = createSelector(\r\n   *   [\r\n   *     (state: RootState) => state.todos,\r\n   *     (state: RootState) => state.alerts,\r\n   *     (state: RootState, id: number) => state.todos[id]\r\n   *   ],\r\n   *   (todos, alerts, todoById) => {\r\n   *     return {\r\n   *       todos,\r\n   *       alerts,\r\n   *       todoById\r\n   *     }\r\n   *   }\r\n   * )\r\n   * ```\r\n   *\r\n   * @example\r\n   * <caption>In your component:</caption>\r\n   * ```tsx\r\n   * import type { RootState } from 'createStructuredSelector/modernUseCase'\r\n   * import { structuredSelector } from 'createStructuredSelector/modernUseCase'\r\n   * import type { FC } from 'react'\r\n   * import { useSelector } from 'react-redux'\r\n   *\r\n   * interface Props {\r\n   *   id: number\r\n   * }\r\n   *\r\n   * const MyComponent: FC<Props> = ({ id }) => {\r\n   *   const { todos, alerts, todoById } = useSelector((state: RootState) =>\r\n   *     structuredSelector(state, id)\r\n   *   )\r\n   *\r\n   *   return (\r\n   *     <div>\r\n   *       Next to do is:\r\n   *       <h2>{todoById.title}</h2>\r\n   *       <p>Description: {todoById.description}</p>\r\n   *       <ul>\r\n   *         <h3>All other to dos:</h3>\r\n   *         {todos.map(todo => (\r\n   *           <li key={todo.id}>{todo.title}</li>\r\n   *         ))}\r\n   *       </ul>\r\n   *     </div>\r\n   *   )\r\n   * }\r\n   * ```\r\n   *\r\n   * @example\r\n   * <caption>Simple Use Case</caption>\r\n   * ```ts\r\n   * const selectA = state => state.a\r\n   * const selectB = state => state.b\r\n   *\r\n   * // The result function in the following selector\r\n   * // is simply building an object from the input selectors\r\n   * const structuredSelector = createSelector(selectA, selectB, (a, b) => ({\r\n   *   a,\r\n   *   b\r\n   * }))\r\n   *\r\n   * const result = structuredSelector({ a: 1, b: 2 }) // will produce { x: 1, y: 2 }\r\n   * ```\r\n   *\r\n   * @template InputSelectorsObject - The shape of the input selectors object.\r\n   * @template MemoizeFunction - The type of the memoize function that is used to create the structured selector. It defaults to `weakMapMemoize`.\r\n   * @template ArgsMemoizeFunction - The type of the of the memoize function that is used to memoize the arguments passed into the generated structured selector. It defaults to `weakMapMemoize`.\r\n   *\r\n   * @see {@link https://reselect.js.org/api/createStructuredSelector `createStructuredSelector`}\r\n   */\r\n  <\r\n    InputSelectorsObject extends SelectorsObject<StateType>,\r\n    MemoizeFunction extends UnknownMemoizer = typeof weakMapMemoize,\r\n    ArgsMemoizeFunction extends UnknownMemoizer = typeof weakMapMemoize\r\n  >(\r\n    inputSelectorsObject: InputSelectorsObject,\r\n    selectorCreator?: CreateSelectorFunction<\r\n      MemoizeFunction,\r\n      ArgsMemoizeFunction\r\n    >\r\n  ): OutputSelector<\r\n    ObjectValuesToTuple<InputSelectorsObject>,\r\n    Simplify<SelectorResultsMap<InputSelectorsObject>>,\r\n    MemoizeFunction,\r\n    ArgsMemoizeFunction\r\n  > &\r\n    InterruptRecursion\r\n\r\n  /**\r\n   * Creates a \"pre-typed\" version of\r\n   * {@linkcode createStructuredSelector createStructuredSelector}\r\n   * where the `state` type is predefined.\r\n   *\r\n   * This allows you to set the `state` type once, eliminating the need to\r\n   * specify it with every\r\n   * {@linkcode createStructuredSelector createStructuredSelector} call.\r\n   *\r\n   * @returns A pre-typed `createStructuredSelector` with the state type already defined.\r\n   *\r\n   * @example\r\n   * ```ts\r\n   * import { createStructuredSelector } from 'reselect'\r\n   *\r\n   * export interface RootState {\r\n   *   todos: { id: number; completed: boolean }[]\r\n   *   alerts: { id: number; read: boolean }[]\r\n   * }\r\n   *\r\n   * export const createStructuredAppSelector =\r\n   *   createStructuredSelector.withTypes<RootState>()\r\n   *\r\n   * const structuredAppSelector = createStructuredAppSelector({\r\n   *   // Type of `state` is set to `RootState`, no need to manually set the type\r\n   *   todos: state => state.todos,\r\n   *   alerts: state => state.alerts,\r\n   *   todoById: (state, id: number) => state.todos[id]\r\n   * })\r\n   *\r\n   * ```\r\n   * @template OverrideStateType - The specific type of state used by all structured selectors created with this structured selector creator.\r\n   *\r\n   * @see {@link https://reselect.js.org/api/createstructuredselector#defining-a-pre-typed-createstructuredselector `createSelector.withTypes`}\r\n   *\r\n   * @since 5.1.0\r\n   */\r\n  withTypes: <\r\n    OverrideStateType extends StateType\r\n  >() => StructuredSelectorCreator<OverrideStateType>\r\n}\r\n\r\n/**\r\n * A convenience function that simplifies returning an object\r\n * made up of selector results.\r\n *\r\n * @param inputSelectorsObject - A key value pair consisting of input selectors.\r\n * @param selectorCreator - A custom selector creator function. It defaults to `createSelector`.\r\n * @returns A memoized structured selector.\r\n *\r\n * @example\r\n * <caption>Modern Use Case</caption>\r\n * ```ts\r\n * import { createSelector, createStructuredSelector } from 'reselect'\r\n *\r\n * interface RootState {\r\n *   todos: {\r\n *     id: number\r\n *     completed: boolean\r\n *     title: string\r\n *     description: string\r\n *   }[]\r\n *   alerts: { id: number; read: boolean }[]\r\n * }\r\n *\r\n * // This:\r\n * const structuredSelector = createStructuredSelector(\r\n *   {\r\n *     todos: (state: RootState) => state.todos,\r\n *     alerts: (state: RootState) => state.alerts,\r\n *     todoById: (state: RootState, id: number) => state.todos[id]\r\n *   },\r\n *   createSelector\r\n * )\r\n *\r\n * // Is essentially the same as this:\r\n * const selector = createSelector(\r\n *   [\r\n *     (state: RootState) => state.todos,\r\n *     (state: RootState) => state.alerts,\r\n *     (state: RootState, id: number) => state.todos[id]\r\n *   ],\r\n *   (todos, alerts, todoById) => {\r\n *     return {\r\n *       todos,\r\n *       alerts,\r\n *       todoById\r\n *     }\r\n *   }\r\n * )\r\n * ```\r\n *\r\n * @see {@link https://reselect.js.org/api/createStructuredSelector `createStructuredSelector`}\r\n *\r\n * @public\r\n */\r\nexport const createStructuredSelector: StructuredSelectorCreator =\r\n  Object.assign(\r\n    <\r\n      InputSelectorsObject extends SelectorsObject,\r\n      MemoizeFunction extends UnknownMemoizer = typeof weakMapMemoize,\r\n      ArgsMemoizeFunction extends UnknownMemoizer = typeof weakMapMemoize\r\n    >(\r\n      inputSelectorsObject: InputSelectorsObject,\r\n      selectorCreator: CreateSelectorFunction<\r\n        MemoizeFunction,\r\n        ArgsMemoizeFunction\r\n      > = createSelector as CreateSelectorFunction<\r\n        MemoizeFunction,\r\n        ArgsMemoizeFunction\r\n      >\r\n    ) => {\r\n      assertIsObject(\r\n        inputSelectorsObject,\r\n        'createStructuredSelector expects first argument to be an object ' +\r\n          `where each property is a selector, instead received a ${typeof inputSelectorsObject}`\r\n      )\r\n      const inputSelectorKeys = Object.keys(inputSelectorsObject)\r\n      const dependencies = inputSelectorKeys.map(\r\n        key => inputSelectorsObject[key]\r\n      )\r\n      const structuredSelector = selectorCreator(\r\n        dependencies,\r\n        (...inputSelectorResults: any[]) => {\r\n          return inputSelectorResults.reduce((composition, value, index) => {\r\n            composition[inputSelectorKeys[index]] = value\r\n            return composition\r\n          }, {})\r\n        }\r\n      )\r\n      return structuredSelector\r\n    },\r\n    { withTypes: () => createStructuredSelector }\r\n  ) as StructuredSelectorCreator\r\n", "import _formatErrorMessage from \"../formatErrorMessage.js\";\nimport { lruMemoize, createSelectorCreator } from 'reselect';\n\n/* eslint-disable no-underscore-dangle */ // __cacheKey__\n\nconst reselectCreateSelector = createSelectorCreator({\n  memoize: lruMemoize,\n  memoizeOptions: {\n    maxSize: 1,\n    equalityCheck: Object.is\n  }\n});\n/**\n * Creates a selector function that can be used to derive values from the store's state.\n * The selector can take up to three additional arguments that can be used in the selector logic.\n * This function accepts up to six functions and combines them into a single selector function.\n * The last parameter is the combiner function that combines the results of the previous selectors.\n *\n * @example\n * const selector = createSelector(\n *  (state) => state.disabled\n * );\n *\n * @example\n * const selector = createSelector(\n *   (state) => state.disabled,\n *   (state) => state.open,\n *   (disabled, open) => ({ disabled, open })\n * );\n *\n */\n/* eslint-disable id-denylist */\nexport const createSelector = (a, b, c, d, e, f, ...other) => {\n  if (other.length > 0) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Unsupported number of selectors' : _formatErrorMessage(1));\n  }\n  let selector;\n  if (a && b && c && d && e && f) {\n    selector = (state, a1, a2, a3) => {\n      const va = a(state, a1, a2, a3);\n      const vb = b(state, a1, a2, a3);\n      const vc = c(state, a1, a2, a3);\n      const vd = d(state, a1, a2, a3);\n      const ve = e(state, a1, a2, a3);\n      return f(va, vb, vc, vd, ve, a1, a2, a3);\n    };\n  } else if (a && b && c && d && e) {\n    selector = (state, a1, a2, a3) => {\n      const va = a(state, a1, a2, a3);\n      const vb = b(state, a1, a2, a3);\n      const vc = c(state, a1, a2, a3);\n      const vd = d(state, a1, a2, a3);\n      return e(va, vb, vc, vd, a1, a2, a3);\n    };\n  } else if (a && b && c && d) {\n    selector = (state, a1, a2, a3) => {\n      const va = a(state, a1, a2, a3);\n      const vb = b(state, a1, a2, a3);\n      const vc = c(state, a1, a2, a3);\n      return d(va, vb, vc, a1, a2, a3);\n    };\n  } else if (a && b && c) {\n    selector = (state, a1, a2, a3) => {\n      const va = a(state, a1, a2, a3);\n      const vb = b(state, a1, a2, a3);\n      return c(va, vb, a1, a2, a3);\n    };\n  } else if (a && b) {\n    selector = (state, a1, a2, a3) => {\n      const va = a(state, a1, a2, a3);\n      return b(va, a1, a2, a3);\n    };\n  } else if (a) {\n    selector = a;\n  } else {\n    throw new Error('Missing arguments');\n  }\n  return selector;\n};\n/* eslint-enable id-denylist */\n\nexport const createSelectorMemoized = (...selectors) => {\n  const cache = new WeakMap();\n  let nextCacheId = 1;\n  const combiner = selectors[selectors.length - 1];\n  const nSelectors = selectors.length - 1 || 1;\n  // (s1, s2, ..., sN, a1, a2, a3) => { ... }\n  const argsLength = combiner.length - nSelectors;\n  if (argsLength > 3) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Unsupported number of arguments' : _formatErrorMessage(2));\n  }\n  const selector = (state, a1, a2, a3) => {\n    let cacheKey = state.__cacheKey__;\n    if (!cacheKey) {\n      cacheKey = {\n        id: nextCacheId\n      };\n      state.__cacheKey__ = cacheKey;\n      nextCacheId += 1;\n    }\n    let fn = cache.get(cacheKey);\n    if (!fn) {\n      let reselectArgs = selectors;\n      const selectorArgs = [undefined, undefined, undefined];\n      switch (argsLength) {\n        case 0:\n          break;\n        case 1:\n          {\n            reselectArgs = [...selectors.slice(0, -1), () => selectorArgs[0], combiner];\n            break;\n          }\n        case 2:\n          {\n            reselectArgs = [...selectors.slice(0, -1), () => selectorArgs[0], () => selectorArgs[1], combiner];\n            break;\n          }\n        case 3:\n          {\n            reselectArgs = [...selectors.slice(0, -1), () => selectorArgs[0], () => selectorArgs[1], () => selectorArgs[2], combiner];\n            break;\n          }\n        default:\n          throw new Error(process.env.NODE_ENV !== \"production\" ? 'Unsupported number of arguments' : _formatErrorMessage(2));\n      }\n      fn = reselectCreateSelector(...reselectArgs);\n      fn.selectorArgs = selectorArgs;\n      cache.set(cacheKey, fn);\n    }\n    fn.selectorArgs[0] = a1;\n    fn.selectorArgs[1] = a2;\n    fn.selectorArgs[2] = a3;\n\n    // prettier-ignore\n    switch (argsLength) {\n      case 0:\n        return fn(state);\n      case 1:\n        return fn(state, a1);\n      case 2:\n        return fn(state, a1, a2);\n      case 3:\n        return fn(state, a1, a2, a3);\n      default:\n        throw new Error('unreachable');\n    }\n  };\n  return selector;\n};", "import * as React from 'react';\n/* We need to import the shim because React 17 does not support the `useSyncExternalStore` API.\n * More info: https://github.com/mui/mui-x/issues/18303#issuecomment-2958392341 */\nimport { useSyncExternalStore } from 'use-sync-external-store/shim';\nimport { useSyncExternalStoreWithSelector } from 'use-sync-external-store/shim/with-selector';\nimport { isReactVersionAtLeast } from \"../reactVersion.js\";\n/* Some tests fail in R18 with the raw useSyncExternalStore. It may be possible to make it work\n * but for now we only enable it for R19+. */\nconst canUseRawUseSyncExternalStore = isReactVersionAtLeast(19);\nconst useStoreImplementation = canUseRawUseSyncExternalStore ? useStoreR19 : useStoreLegacy;\nexport function useStore(store, selector, a1, a2, a3) {\n  return useStoreImplementation(store, selector, a1, a2, a3);\n}\nfunction useStoreR19(store, selector, a1, a2, a3) {\n  const getSelection = React.useCallback(() => selector(store.getSnapshot(), a1, a2, a3), [store, selector, a1, a2, a3]);\n  return useSyncExternalStore(store.subscribe, getSelection, getSelection);\n}\nfunction useStoreLegacy(store, selector, a1, a2, a3) {\n  return useSyncExternalStoreWithSelector(store.subscribe, store.getSnapshot, store.getSnapshot, state => selector(state, a1, a2, a3));\n}", "/**\n * A data store implementation that allows subscribing to state changes and updating the state.\n * It uses an observer pattern to notify subscribers when the state changes.\n */\nexport class Store {\n  /**\n   * The current state of the store.\n   * This property is updated immediately when the state changes as a result of calling {@link setState}, {@link update}, or {@link set}.\n   * To subscribe to state changes, use the {@link useState} method. The value returned by {@link useState} is updated after the component renders (similarly to React's useState).\n   * The values can be used directly (to avoid subscribing to the store) in effects or event handlers.\n   *\n   * Do not modify properties in state directly. Instead, use the provided methods to ensure proper state management and listener notification.\n   */\n\n  // Internal state to handle recursive `setState()` calls\n\n  constructor(state) {\n    this.state = state;\n    this.listeners = new Set();\n    this.updateTick = 0;\n  }\n\n  /**\n   * Registers a listener that will be called whenever the store's state changes.\n   *\n   * @param fn The listener function to be called on state changes.\n   * @returns A function to unsubscribe the listener.\n   */\n  subscribe = fn => {\n    this.listeners.add(fn);\n    return () => {\n      this.listeners.delete(fn);\n    };\n  };\n\n  /**\n   * Returns the current state of the store.\n   */\n  getSnapshot = () => {\n    return this.state;\n  };\n\n  /**\n   * Updates the entire store's state and notifies all registered listeners.\n   *\n   * @param newState The new state to set for the store.\n   */\n  setState(newState) {\n    if (this.state === newState) {\n      return;\n    }\n    this.state = newState;\n    this.updateTick += 1;\n    const currentTick = this.updateTick;\n    for (const listener of this.listeners) {\n      if (currentTick !== this.updateTick) {\n        // If the tick has changed, a recursive `setState` call has been made,\n        // and it has already notified all listeners.\n        return;\n      }\n      listener(newState);\n    }\n  }\n\n  /**\n   * Merges the provided changes into the current state and notifies listeners if there are changes.\n   *\n   * @param changes An object containing the changes to apply to the current state.\n   */\n  update(changes) {\n    for (const key in changes) {\n      if (!Object.is(this.state[key], changes[key])) {\n        Store.prototype.setState.call(this, {\n          ...this.state,\n          ...changes\n        });\n        return;\n      }\n    }\n  }\n\n  /**\n   * Sets a specific key in the store's state to a new value and notifies listeners if the value has changed.\n   *\n   * @param key The key in the store's state to update.\n   * @param value The new value to set for the specified key.\n   */\n  set(key, value) {\n    if (!Object.is(this.state[key], value)) {\n      Store.prototype.setState.call(this, {\n        ...this.state,\n        [key]: value\n      });\n    }\n  }\n\n  /**\n   * Gives the state a new reference and updates all registered listeners.\n   */\n  notifyAll() {\n    const newState = {\n      ...this.state\n    };\n    Store.prototype.setState.call(this, newState);\n  }\n}", "/* False positives - ESLint thinks we're calling a hook from a class component. */\n/* eslint-disable react-hooks/rules-of-hooks */\nimport * as React from 'react';\nimport { Store } from \"./Store.js\";\nimport { useStore } from \"./useStore.js\";\nimport { useStableCallback } from \"../useStableCallback.js\";\nimport { useIsoLayoutEffect } from \"../useIsoLayoutEffect.js\";\nimport { NOOP } from \"../empty.js\";\n\n/**\n * A Store that supports controlled state keys, non-reactive values and provides utility methods for React.\n */\nexport class ReactStore extends Store {\n  /**\n   * Creates a new ReactStore instance.\n   *\n   * @param state Initial state of the store.\n   * @param context Non-reactive context values.\n   * @param selectors Optional selectors for use with `useState`.\n   */\n  constructor(state, context = {}, selectors) {\n    super(state);\n    this.context = context;\n    this.selectors = selectors;\n  }\n\n  /**\n   * Non-reactive values such as refs, callbacks, etc.\n   */\n\n  /**\n   * Keeps track of which properties are controlled.\n   */\n  controlledValues = new Map();\n  /**\n   * Synchronizes a single external value into the store.\n   *\n   * Note that the while the value in `state` is updated immediately, the value returned\n   * by `useState` is updated before the next render (similarly to React's `useState`).\n   */\n  useSyncedValue(key, value) {\n    React.useDebugValue(key);\n    useIsoLayoutEffect(() => {\n      if (this.state[key] !== value) {\n        this.set(key, value);\n      }\n    }, [key, value]);\n  }\n\n  /**\n   * Synchronizes a single external value into the store and\n   * cleans it up (sets to `undefined`) on unmount.\n   *\n   * Note that the while the value in `state` is updated immediately, the value returned\n   * by `useState` is updated before the next render (similarly to React's `useState`).\n   */\n  useSyncedValueWithCleanup(key, value) {\n    // eslint-disable-next-line consistent-this\n    const store = this;\n    useIsoLayoutEffect(() => {\n      if (store.state[key] !== value) {\n        store.set(key, value);\n      }\n      return () => {\n        store.set(key, undefined);\n      };\n    }, [store, key, value]);\n  }\n\n  /**\n   * Synchronizes multiple external values into the store.\n   *\n   * Note that the while the values in `state` are updated immediately, the values returned\n   * by `useState` are updated before the next render (similarly to React's `useState`).\n   */\n  useSyncedValues(statePart) {\n    // eslint-disable-next-line consistent-this\n    const store = this;\n    if (process.env.NODE_ENV !== 'production') {\n      // Check that an object with the same shape is passed on every render\n      React.useDebugValue(statePart, p => Object.keys(p));\n      const keys = React.useRef(Object.keys(statePart)).current;\n      const nextKeys = Object.keys(statePart);\n      if (keys.length !== nextKeys.length || keys.some((key, index) => key !== nextKeys[index])) {\n        console.error('ReactStore.useSyncedValues expects the same prop keys on every render. Keys should be stable.');\n      }\n    }\n    const dependencies = Object.values(statePart);\n    useIsoLayoutEffect(() => {\n      store.update(statePart);\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [store, ...dependencies]);\n  }\n\n  /**\n   * Registers a controllable prop pair (`controlled`, `defaultValue`) for a specific key.\n   * - If `controlled` is non-undefined, the key is marked as controlled and the store's\n   *   state at `key` is updated to match `controlled`. Local writes to that key are ignored.\n   * - If `controlled` is undefined, the key is marked as uncontrolled. The store's state\n   *   is initialized to `defaultValue` on first render and can be updated with local writes.\n   */\n  useControlledProp(key, controlled, defaultValue) {\n    React.useDebugValue(key);\n    // eslint-disable-next-line consistent-this\n    const store = this;\n    const isControlled = controlled !== undefined;\n    if (process.env.NODE_ENV !== 'production') {\n      const previouslyControlled = this.controlledValues.get(key);\n      if (previouslyControlled !== undefined && previouslyControlled !== isControlled) {\n        console.error(`A component is changing the ${isControlled ? '' : 'un'}controlled state of ${key.toString()} to be ${isControlled ? 'un' : ''}controlled. Elements should not switch from uncontrolled to controlled (or vice versa).`);\n      }\n    }\n    if (!this.controlledValues.has(key)) {\n      // First time initialization\n      this.controlledValues.set(key, isControlled);\n      if (!isControlled && !Object.is(this.state[key], defaultValue)) {\n        super.setState({\n          ...this.state,\n          [key]: defaultValue\n        });\n      }\n    }\n    useIsoLayoutEffect(() => {\n      if (isControlled && !Object.is(store.state[key], controlled)) {\n        // Set the internal state to match the controlled value.\n        super.setState({\n          ...store.state,\n          [key]: controlled\n        });\n      }\n    }, [store, key, controlled, defaultValue, isControlled]);\n  }\n\n  /**\n   * Sets a specific key in the store's state to a new value and notifies listeners if the value has changed.\n   * If the key is controlled (registered via {@link useControlledProp} with a non-undefined value),\n   * the update is ignored and no listeners are notified.\n   *\n   * @param key The state key to update.\n   * @param value The new value to set for the specified key.\n   */\n  set(key, value) {\n    if (this.controlledValues.get(key) === true) {\n      // Ignore updates to controlled values\n      return;\n    }\n    super.set(key, value);\n  }\n\n  /**\n   * Merges the provided changes into the current state and notifies listeners if there are changes.\n   * Controlled keys are filtered out and not updated.\n   *\n   * @param values An object containing the changes to apply to the current state.\n   */\n  update(values) {\n    const newValues = {\n      ...values\n    };\n    for (const key in newValues) {\n      if (!Object.hasOwn(newValues, key)) {\n        continue;\n      }\n      if (this.controlledValues.get(key) === true) {\n        // Ignore updates to controlled values\n        delete newValues[key];\n        continue;\n      }\n    }\n    super.update(newValues);\n  }\n\n  /**\n   * Updates the entire store's state and notifies all registered listeners.\n   * Controlled keys are left unchanged; only uncontrolled keys from `newState` are applied.\n   *\n   * @param newState The new state to set for the store.\n   */\n  setState(newState) {\n    const newValues = {\n      ...newState\n    };\n    for (const key in newValues) {\n      if (!Object.hasOwn(newValues, key)) {\n        continue;\n      }\n      if (this.controlledValues.get(key) === true) {\n        // Ignore updates to controlled values\n        delete newValues[key];\n        continue;\n      }\n    }\n    super.setState({\n      ...this.state,\n      ...newValues\n    });\n  }\n\n  /** Gets the current value from the store using a selector with the provided key.\n   *\n   * @param key Key of the selector to use.\n   */\n  select = (key, a1, a2, a3) => {\n    const selector = this.selectors[key];\n    return selector(this.state, a1, a2, a3);\n  };\n\n  /**\n   * Returns a value from the store's state using a selector function.\n   * Used to subscribe to specific parts of the state.\n   * This methods causes a rerender whenever the selected state changes.\n   *\n   * @param key Key of the selector to use.\n   */\n  useState = (key, a1, a2, a3) => {\n    React.useDebugValue(key);\n    const selector = this.selectors[key];\n    const value = useStore(this, selector, a1, a2, a3);\n    return value;\n  };\n\n  /**\n   * Wraps a function with `useStableCallback` to ensure it has a stable reference\n   * and assigns it to the context.\n   *\n   * @param key Key of the event callback. Must be a function in the context.\n   * @param fn Function to assign.\n   */\n  useContextCallback(key, fn) {\n    React.useDebugValue(key);\n    const stableFunction = useStableCallback(fn ?? NOOP);\n    this.context[key] = stableFunction;\n  }\n\n  /**\n   * Returns a stable setter function for a specific key in the store's state.\n   * It's commonly used to pass as a ref callback to React elements.\n   *\n   * @param key Key of the state to set.\n   */\n  useStateSetter(key) {\n    const ref = React.useRef(undefined);\n    if (ref.current === undefined) {\n      ref.current = value => {\n        this.set(key, value);\n      };\n    }\n    return ref.current;\n  }\n\n  /**\n   * Observes changes derived from the store's selectors and calls the listener when the selected value changes.\n   *\n   * @param key Key of the selector to observe.\n   * @param listener Listener function called when the selector result changes.\n   */\n\n  observe(selector, listener) {\n    let selectFn;\n    if (typeof selector === 'function') {\n      selectFn = selector;\n    } else {\n      selectFn = this.selectors[selector];\n    }\n    let prevValue = selectFn(this.state);\n    listener(prevValue, prevValue, this);\n    return this.subscribe(nextState => {\n      const nextValue = selectFn(nextState);\n      if (!Object.is(prevValue, nextValue)) {\n        const oldValue = prevValue;\n        prevValue = nextValue;\n        listener(nextValue, oldValue, this);\n      }\n    });\n  }\n}", "var _style, _FileJson, _SquareTerminal, _h, _h2, _h3, _CloseIcon, _div, _svg, _svg2, _svg3;\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { useForcedRerendering } from \"../useForcedRerendering.js\";\nimport { useStableCallback } from \"../useStableCallback.js\";\nimport { useAnimationFrame } from \"../useAnimationFrame.js\";\nimport { useIsoLayoutEffect } from \"../useIsoLayoutEffect.js\";\nimport { useTimeout } from \"../useTimeout.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst STYLES = `\n.baseui-store-inspector-trigger {\n  all: unset;\n  width: 32px;\n  height: 32px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  color: oklch(0.651 0.078 264);\n}\n\n.baseui-store-inspector-trigger:hover,\n.baseui-store-inspector-trigger:focus-visible {\n opacity: 0.8;\n}\n\n.baseui-store-inspector-content {\n  background: #101010;\n  flex: 1 1 auto;\n  min-height: 0;\n  overflow: auto;\n  padding-bottom: 12px;\n  scrollbar-width: thin;\n  padding: 8px;\n  border-radius: 4px;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n}\n\n.baseui-store-inspector-content h3 {\n  text-transform: uppercase;\n  font-weight: bold;\n}\n\n.baseui-store-inspector-content pre {\n  margin: 0 0 16px 0;\n}\n\n.baseui-store-inspector-content pre:last-child {\n  margin-bottom: 0;\n}\n\n.baseui-store-inspector-root {\n  position: fixed;\n  background: oklch(0.34 0.036 264);\n  color: #fff;\n  z-index: 1000;\n  font-size: 12px;\n  padding: 8px;\n  border-radius: 8px;\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  max-width: 50vw;\n  color-scheme: dark;\n  overflow: clip;\n  box-shadow:\n    0 10px 15px -3px oklch(12% 9% 264deg / 8%),\n    0 4px 6px -4px oklch(12% 9% 264deg / 8%);\n}\n\n.baseui-store-inspector-header {\n  display: flex;\n  align-items: center;\n  cursor: move;\n  user-select: none;\n  -webkit-user-select: none;\n  touch-action: none;\n  padding: 4px 8px 8px 8px;\n  gap: 8px;\n\n  h2 {\n    font-size: 16px;\n    flex-grow: 1;\n  }\n}\n\n.baseui-store-inspector-header button {\n  all: unset;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: default;\n}\n\n.baseui-store-inspector-header button:hover,\n.baseui-store-inspector-header button:focus-visible {\n  opacity: 0.8;\n}\n\n.baseui-store-inspector-resize-handle {\n  position: absolute;\n  width: 8px;\n  height: 8px;\n  right: -4px;\n  bottom: -4px;\n  cursor: se-resize;\n  background: linear-gradient(135deg, transparent 50%, rgba(255, 255, 255, 0.25) 50%);\n  border-radius: 2px;\n}\n`;\n/**\n * A tool to inspect the state of a Store in a floating panel.\n * This is intended for development and debugging purposes.\n */\nexport function StoreInspector(props) {\n  const {\n    store,\n    title,\n    additionalData,\n    defaultOpen = false\n  } = props;\n  const [open, setOpen] = React.useState(defaultOpen);\n  return /*#__PURE__*/_jsxs(React.Fragment, {\n    children: [_style || (_style = /*#__PURE__*/_jsx(\"style\", {\n      href: \"baseui-store-inspector\",\n      precedence: \"default\",\n      children: STYLES\n    })), /*#__PURE__*/_jsx(\"button\", {\n      className: \"baseui-store-inspector-trigger\",\n      type: \"button\",\n      onClick: event => {\n        event.preventDefault();\n        event.stopPropagation();\n        setOpen(o => !o);\n      },\n      title: \"Toggle store inspector\",\n      \"aria-hidden\": true,\n      children: _FileJson || (_FileJson = /*#__PURE__*/_jsx(FileJson, {}))\n    }), /*#__PURE__*/_jsx(StoreInspectorPanel, {\n      open: open,\n      store: store,\n      title: title,\n      additionalData: additionalData,\n      onClose: () => setOpen(false)\n    })]\n  });\n}\nexport function StoreInspectorPanel({\n  store,\n  title,\n  additionalData,\n  open,\n  onClose\n}) {\n  const rerender = useForcedRerendering();\n  const rerenderTimeout = useTimeout();\n\n  // Update when state changes\n  useIsoLayoutEffect(() => {\n    const unsubscribe = store.subscribe(() => {\n      rerenderTimeout.start(1, () => rerender());\n    });\n    return unsubscribe;\n  }, [store, rerender, rerenderTimeout]);\n  const logToConsole = useStableCallback(() => {\n    const data = {\n      state: store.state\n    };\n    if (Object.keys(store.context ?? {}).length > 0) {\n      data.context = store.context;\n    }\n    if (additionalData !== undefined) {\n      data.additionalData = additionalData;\n    }\n\n    // eslint-disable-next-line no-console\n    console.log(data);\n  });\n  if (typeof document === 'undefined') {\n    return null;\n  }\n  const content = /*#__PURE__*/_jsxs(Window, {\n    title: title ?? 'Store Inspector',\n    onClose: onClose,\n    headerActions: /*#__PURE__*/_jsx(\"button\", {\n      type: \"button\",\n      onClick: logToConsole,\n      title: \"Log to console\",\n      children: _SquareTerminal || (_SquareTerminal = /*#__PURE__*/_jsx(SquareTerminal, {}))\n    }),\n    children: [_h || (_h = /*#__PURE__*/_jsx(\"h3\", {\n      children: \"State\"\n    })), /*#__PURE__*/_jsx(\"pre\", {\n      children: JSON.stringify(store.state, getStringifyReplacer(), 2)\n    }), Object.keys(store.context ?? {}).length > 0 && /*#__PURE__*/_jsxs(React.Fragment, {\n      children: [_h2 || (_h2 = /*#__PURE__*/_jsx(\"h3\", {\n        children: \"Context\"\n      })), /*#__PURE__*/_jsx(\"pre\", {\n        children: JSON.stringify(store.context, getStringifyReplacer(), 2)\n      })]\n    }), additionalData !== undefined && /*#__PURE__*/_jsxs(React.Fragment, {\n      children: [_h3 || (_h3 = /*#__PURE__*/_jsx(\"h3\", {\n        children: \"Additional data\"\n      })), /*#__PURE__*/_jsx(\"pre\", {\n        children: JSON.stringify(additionalData, getStringifyReplacer(), 2)\n      })]\n    })]\n  });\n  return open ? /*#__PURE__*/ReactDOM.createPortal(content, document.body) : null;\n}\nfunction getStringifyReplacer() {\n  const ancestors = [];\n  return function replacer(_, value) {\n    if (value instanceof Element) {\n      return `Element(${value.tagName.toLowerCase()}${value.id ? `#${value.id}` : ''})`;\n    }\n    if (value === undefined) {\n      return '[undefined]';\n    }\n    if (value instanceof Map) {\n      return Array.from(value.entries());\n    }\n    if (value instanceof Set) {\n      return Array.from(value);\n    }\n    if (typeof value !== 'object' || value === null) {\n      return value;\n    }\n    // `this` is the object that value is contained in,\n    // i.e., its direct parent.\n    while (ancestors.length > 0 && ancestors.at(-1) !== this) {\n      ancestors.pop();\n    }\n    if (ancestors.includes(value)) {\n      return '[circular reference]';\n    }\n    ancestors.push(value);\n    return value;\n  };\n}\n/**\n * A reusable draggable and resizable window component.\n * Handles all the pointer events for dragging and resizing internally.\n */\nfunction Window({\n  title,\n  onClose,\n  children,\n  headerActions\n}) {\n  const rootRef = React.useRef(null);\n  const headerRef = React.useRef(null);\n  const resizeHandleRef = React.useRef(null);\n  const raf = useAnimationFrame();\n  const minWidth = 160;\n  const minHeight = 52;\n\n  // Track position when user drags the window\n  const [position, setPosition] = React.useState(null);\n  const dragStateRef = React.useRef(null);\n\n  // Track size when user resizes the window\n  const [size, setSize] = React.useState(null);\n  const resizeStateRef = React.useRef(null);\n  useIsoLayoutEffect(() => {\n    if (position != null) {\n      return;\n    }\n    const el = rootRef.current;\n    if (!el) {\n      return;\n    }\n    setPosition({\n      left: 8,\n      top: 8\n    });\n  }, [position]);\n  const onPointerDown = useStableCallback(event => {\n    if (!headerRef.current || !rootRef.current) {\n      return;\n    }\n    const target = event.target;\n    if (target && target.closest('button')) {\n      return;\n    }\n    const currentPos = position ?? {\n      left: 8,\n      top: 8\n    };\n    dragStateRef.current = {\n      dragging: true,\n      startX: event.clientX,\n      startY: event.clientY,\n      startLeft: currentPos.left,\n      startTop: currentPos.top\n    };\n    try {\n      headerRef.current.setPointerCapture(event.pointerId);\n    } catch {\n      void 0;\n    }\n    event.preventDefault();\n  });\n  const endDrag = useStableCallback(event => {\n    if (headerRef.current && event) {\n      try {\n        headerRef.current.releasePointerCapture(event.pointerId);\n      } catch {\n        void 0;\n      }\n    }\n    if (dragStateRef.current) {\n      dragStateRef.current.dragging = false;\n    }\n  });\n  const onPointerMove = useStableCallback(event => {\n    const state = dragStateRef.current;\n    if (!state || !state.dragging) {\n      return;\n    }\n    const nextLeft = state.startLeft + (event.clientX - state.startX);\n    const nextTop = Math.max(0, state.startTop + (event.clientY - state.startY));\n    raf.request(() => {\n      setPosition({\n        left: nextLeft,\n        top: nextTop\n      });\n    });\n  });\n  const onResizePointerDown = useStableCallback(event => {\n    if (!rootRef.current) {\n      return;\n    }\n    const rect = rootRef.current.getBoundingClientRect();\n    const currentSize = size ?? {\n      width: rect.width,\n      height: rect.height\n    };\n    const currentLeft = position?.left ?? rect.left;\n    const currentTop = position?.top ?? rect.top;\n    const maxWidth = Math.max(100, window.innerWidth - currentLeft);\n    const maxHeight = Math.max(80, window.innerHeight - currentTop);\n    resizeStateRef.current = {\n      resizing: true,\n      startX: event.clientX,\n      startY: event.clientY,\n      startWidth: currentSize.width,\n      startHeight: currentSize.height,\n      minWidth,\n      minHeight,\n      maxWidth,\n      maxHeight\n    };\n    try {\n      event.currentTarget?.setPointerCapture?.(event.pointerId);\n    } catch {\n      void 0;\n    }\n    event.preventDefault();\n  });\n  const onResizePointerMove = useStableCallback(event => {\n    const state = resizeStateRef.current;\n    if (!state || !state.resizing) {\n      return;\n    }\n    const dx = event.clientX - state.startX;\n    const dy = event.clientY - state.startY;\n    const nextWidth = Math.min(state.maxWidth, Math.max(state.minWidth, state.startWidth + dx));\n    const nextHeight = Math.min(state.maxHeight, Math.max(state.minHeight, state.startHeight + dy));\n    raf.request(() => {\n      setSize({\n        width: nextWidth,\n        height: nextHeight\n      });\n    });\n  });\n  const endResize = useStableCallback(event => {\n    if (event) {\n      try {\n        event.target?.releasePointerCapture?.(event.pointerId);\n      } catch {\n        void 0;\n      }\n    }\n    if (resizeStateRef.current) {\n      resizeStateRef.current.resizing = false;\n    }\n  });\n\n  // Bind/unbind global listeners for dragging and resizing\n  useIsoLayoutEffect(() => {\n    const move = event => {\n      onPointerMove(event);\n      onResizePointerMove(event);\n    };\n    const up = event => {\n      endDrag(event);\n      endResize(event);\n    };\n    window.addEventListener('pointermove', move);\n    window.addEventListener('pointerup', up);\n    window.addEventListener('pointercancel', up);\n    return () => {\n      window.removeEventListener('pointermove', move);\n      window.removeEventListener('pointerup', up);\n      window.removeEventListener('pointercancel', up);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Compute window style once per render\n  const style = {};\n  const viewportMax = typeof window !== 'undefined' ? Math.max(0, window.innerHeight - 16) : undefined;\n  if (position) {\n    style.top = position.top;\n    style.left = position.left;\n    style.right = 'auto';\n    style.position = 'fixed';\n    if (size?.width != null) {\n      style.width = size.width;\n    }\n    if (size?.height != null) {\n      style.height = size.height;\n    }\n    style.maxHeight = typeof window !== 'undefined' ? Math.max(0, window.innerHeight - position.top - 8) : undefined;\n  } else {\n    if (size?.width != null) {\n      style.width = size.width;\n    }\n    if (size?.height != null) {\n      style.height = size.height;\n    }\n    style.maxHeight = viewportMax;\n  }\n  return /*#__PURE__*/_jsxs(\"div\", {\n    ref: rootRef,\n    className: \"baseui-store-inspector-root\",\n    style: style,\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      ref: headerRef,\n      className: \"baseui-store-inspector-header\",\n      onPointerDown: onPointerDown,\n      children: [/*#__PURE__*/_jsx(\"h2\", {\n        children: title\n      }), headerActions, /*#__PURE__*/_jsx(\"button\", {\n        type: \"button\",\n        onClick: onClose,\n        title: \"Close window\",\n        children: _CloseIcon || (_CloseIcon = /*#__PURE__*/_jsx(CloseIcon, {}))\n      })]\n    }), /*#__PURE__*/_jsx(\"div\", {\n      className: \"baseui-store-inspector-content\",\n      children: children\n    }), /*#__PURE__*/_jsx(\"div\", {\n      ref: resizeHandleRef,\n      onPointerDown: onResizePointerDown,\n      style: {\n        position: 'relative'\n      },\n      children: _div || (_div = /*#__PURE__*/_jsx(\"div\", {\n        className: \"baseui-store-inspector-resize-handle\"\n      }))\n    })]\n  });\n}\nfunction CloseIcon() {\n  return _svg || (_svg = /*#__PURE__*/_jsxs(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    children: [/*#__PURE__*/_jsx(\"circle\", {\n      cx: \"12\",\n      cy: \"12\",\n      r: \"10\"\n    }), /*#__PURE__*/_jsx(\"path\", {\n      d: \"m15 9-6 6\"\n    }), /*#__PURE__*/_jsx(\"path\", {\n      d: \"m9 9 6 6\"\n    })]\n  }));\n}\nfunction FileJson() {\n  return _svg2 || (_svg2 = /*#__PURE__*/_jsxs(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    children: [/*#__PURE__*/_jsx(\"path\", {\n      d: \"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z\"\n    }), /*#__PURE__*/_jsx(\"path\", {\n      d: \"M14 2v4a2 2 0 0 0 2 2h4\"\n    }), /*#__PURE__*/_jsx(\"path\", {\n      d: \"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1\"\n    }), /*#__PURE__*/_jsx(\"path\", {\n      d: \"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1\"\n    })]\n  }));\n}\nfunction SquareTerminal() {\n  return _svg3 || (_svg3 = /*#__PURE__*/_jsxs(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: \"24\",\n    height: \"24\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    children: [/*#__PURE__*/_jsx(\"path\", {\n      d: \"m7 11 2-2-2-2\"\n    }), /*#__PURE__*/_jsx(\"path\", {\n      d: \"M11 13h4\"\n    }), /*#__PURE__*/_jsx(\"rect\", {\n      width: \"18\",\n      height: \"18\",\n      x: \"3\",\n      y: \"3\",\n      rx: \"2\",\n      ry: \"2\"\n    })]\n  }));\n}", "'use client';\n\nimport * as React from 'react';\n\n/**\n * Returns a function that forces a rerender.\n */\nexport function useForcedRerendering() {\n  const [, setState] = React.useState({});\n  return React.useCallback(() => {\n    setState({});\n  }, []);\n}", "import { createSelector, ReactStore } from '@base-ui/utils/store';\nimport { createEventEmitter } from \"../utils/createEventEmitter.js\";\nimport { isClickLikeEvent } from \"../utils.js\";\nconst selectors = {\n  open: createSelector(state => state.open),\n  domReferenceElement: createSelector(state => state.domReferenceElement),\n  referenceElement: createSelector(state => state.positionReference ?? state.referenceElement),\n  floatingElement: createSelector(state => state.floatingElement),\n  floatingId: createSelector(state => state.floatingId)\n};\nexport class FloatingRootStore extends ReactStore {\n  constructor(options) {\n    const {\n      nested,\n      noEmit,\n      onOpenChange,\n      triggerElements,\n      ...initialState\n    } = options;\n    super({\n      ...initialState,\n      positionReference: initialState.referenceElement,\n      domReferenceElement: initialState.referenceElement\n    }, {\n      onOpenChange,\n      dataRef: {\n        current: {}\n      },\n      events: createEventEmitter(),\n      nested,\n      noEmit,\n      triggerElements\n    }, selectors);\n  }\n\n  /**\n   * Emits the `openchange` event through the internal event emitter and calls the `onOpenChange` handler with the provided arguments.\n   *\n   * @param newOpen The new open state.\n   * @param eventDetails Details about the event that triggered the open state change.\n   */\n  setOpen = (newOpen, eventDetails) => {\n    if (!newOpen || !this.state.open ||\n    // Prevent a pending hover-open from overwriting a click-open event, while allowing\n    // click events to upgrade a hover-open.\n    isClickLikeEvent(eventDetails.event)) {\n      this.context.dataRef.current.openEvent = newOpen ? eventDetails.event : undefined;\n    }\n    if (!this.context.noEmit) {\n      const details = {\n        open: newOpen,\n        reason: eventDetails.reason,\n        nativeEvent: eventDetails.event,\n        nested: this.context.nested,\n        triggerElement: eventDetails.trigger\n      };\n      this.context.events.emit('openchange', details);\n    }\n    this.context.onOpenChange?.(newOpen, eventDetails);\n  };\n}", "import * as React from 'react';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useTransitionStatus } from \"../useTransitionStatus.js\";\nimport { useOpenChangeComplete } from \"../useOpenChangeComplete.js\";\n/**\n * Returns a callback ref that registers/unregisters the trigger element in the store.\n *\n * @param store The Store instance where the trigger should be registered.\n */\nexport function useTriggerRegistration(id, store) {\n  // Keep track of the currently registered element to unregister it on unmount or id change.\n  const registeredElementIdRef = React.useRef(null);\n  const registeredElementRef = React.useRef(null);\n  return React.useCallback(element => {\n    if (id === undefined) {\n      return;\n    }\n    if (registeredElementIdRef.current !== null) {\n      const registeredId = registeredElementIdRef.current;\n      const registeredElement = registeredElementRef.current;\n      const currentElement = store.context.triggerElements.getById(registeredId);\n      if (registeredElement && currentElement === registeredElement) {\n        store.context.triggerElements.delete(registeredId);\n      }\n      registeredElementIdRef.current = null;\n      registeredElementRef.current = null;\n    }\n    if (element !== null) {\n      registeredElementIdRef.current = id;\n      registeredElementRef.current = element;\n      store.context.triggerElements.add(id, element);\n    }\n  }, [store, id]);\n}\n\n/**\n * Sets up trigger data forwarding to the store.\n *\n * @param triggerId Id of the trigger.\n * @param triggerElement The trigger DOM element.\n * @param store The Store instance managing the popup state.\n * @param stateUpdates An object with state updates to apply when the trigger is active.\n */\nexport function useTriggerDataForwarding(triggerId, triggerElementRef, store, stateUpdates) {\n  const isMountedByThisTrigger = store.useState('isMountedByTrigger', triggerId);\n  const baseRegisterTrigger = useTriggerRegistration(triggerId, store);\n  const registerTrigger = useStableCallback(element => {\n    baseRegisterTrigger(element);\n    if (!element || !store.select('open')) {\n      return;\n    }\n    const activeTriggerId = store.select('activeTriggerId');\n    if (activeTriggerId === triggerId) {\n      store.update({\n        activeTriggerElement: element,\n        ...stateUpdates\n      });\n      return;\n    }\n    if (activeTriggerId == null) {\n      // This runs when popup is open, but no active trigger is set.\n      // It can happen when using controlled mode and the trigger is mounted after opening or if `triggerId` prop is not set explicitly.\n      // In such cases the first trigger to run this code becomes the active trigger (store.select('activeTriggerId') should not return null after that).\n      // This is mostly for compatibility with contained triggers where no explicit `triggerId` was required in controlled mode.\n      store.update({\n        activeTriggerId: triggerId,\n        activeTriggerElement: element,\n        ...stateUpdates\n      });\n    }\n  });\n  useIsoLayoutEffect(() => {\n    if (isMountedByThisTrigger) {\n      store.update({\n        activeTriggerElement: triggerElementRef.current,\n        ...stateUpdates\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isMountedByThisTrigger, store, triggerElementRef, ...Object.values(stateUpdates)]);\n  return {\n    registerTrigger,\n    isMountedByThisTrigger\n  };\n}\n/**\n * Ensures that when there's only one trigger element registered, it is set as the active trigger.\n * This allows controlled popups to work correctly without an explicit triggerId, maintaining compatibility\n * with the contained triggers.\n *\n * This should be called on the Root part.\n *\n * @param open Whether the popup is open.\n * @param store The Store instance managing the popup state.\n */\nexport function useImplicitActiveTrigger(store) {\n  const open = store.useState('open');\n  useIsoLayoutEffect(() => {\n    if (open && !store.select('activeTriggerId') && store.context.triggerElements.size === 1) {\n      const iteratorResult = store.context.triggerElements.entries().next();\n      if (!iteratorResult.done) {\n        const [implicitTriggerId, implicitTriggerElement] = iteratorResult.value;\n        store.update({\n          activeTriggerId: implicitTriggerId,\n          activeTriggerElement: implicitTriggerElement\n        });\n      }\n    }\n  }, [open, store]);\n}\n\n/**\n * Mangages the mounted state of the popup.\n * Sets up the transition status listeners and handles unmounting when needed.\n * Updates the `mounted` and `transitionStatus` states in the store.\n *\n * @param open Whether the popup is open.\n * @param store The Store instance managing the popup state.\n * @param onUnmount Optional callback to be called when the popup is unmounted.\n *\n * @returns A function to forcibly unmount the popup.\n */\nexport function useOpenStateTransitions(open, store, onUnmount) {\n  const {\n    mounted,\n    setMounted,\n    transitionStatus\n  } = useTransitionStatus(open);\n  store.useSyncedValues({\n    mounted,\n    transitionStatus\n  });\n  const forceUnmount = useStableCallback(() => {\n    setMounted(false);\n    store.update({\n      activeTriggerId: null,\n      activeTriggerElement: null,\n      mounted: false\n    });\n    onUnmount?.();\n    store.context.onOpenChangeComplete?.(false);\n  });\n  const preventUnmountingOnClose = store.useState('preventUnmountingOnClose');\n  useOpenChangeComplete({\n    enabled: !preventUnmountingOnClose,\n    open,\n    ref: store.context.popupRef,\n    onComplete() {\n      if (!open) {\n        forceUnmount();\n      }\n    }\n  });\n  return {\n    forceUnmount,\n    transitionStatus\n  };\n}", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\n/**\n * Data structure to keep track of popup trigger elements by their IDs.\n * Uses both a set of Elements and a map of IDs to Elements for efficient lookups.\n */\nexport class PopupTriggerMap {\n  constructor() {\n    this.elements = new Set();\n    this.idMap = new Map();\n  }\n\n  /**\n   * Adds a trigger element with the given ID.\n   *\n   * Note: The provided element is assumed to not be registered under multiple IDs.\n   */\n  add(id, element) {\n    const existingElement = this.idMap.get(id);\n    if (existingElement === element) {\n      return;\n    }\n    if (existingElement !== undefined) {\n      // We assume that the same element won't be registered under multiple ids.\n      // This is safe considering how useTriggerRegistration is implemented.\n      this.elements.delete(existingElement);\n    }\n    this.elements.add(element);\n    this.idMap.set(id, element);\n    if (process.env.NODE_ENV !== 'production') {\n      if (this.elements.size !== this.idMap.size) {\n        throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: A trigger element cannot be registered under multiple IDs in PopupTriggerMap.' : _formatErrorMessage(87));\n      }\n    }\n  }\n\n  /**\n   * Removes the trigger element with the given ID.\n   */\n  delete(id) {\n    const element = this.idMap.get(id);\n    if (element) {\n      this.elements.delete(element);\n      this.idMap.delete(id);\n    }\n  }\n\n  /**\n   * Whether the given element is registered as a trigger.\n   */\n  hasElement(element) {\n    return this.elements.has(element);\n  }\n\n  /**\n   * Whether there is a registered trigger element matching the given predicate.\n   */\n  hasMatchingElement(predicate) {\n    for (const element of this.elements) {\n      if (predicate(element)) {\n        return true;\n      }\n    }\n    return false;\n  }\n  getById(id) {\n    return this.idMap.get(id);\n  }\n  entries() {\n    return this.idMap.entries();\n  }\n  get size() {\n    return this.idMap.size;\n  }\n}", "import { PopupTriggerMap } from \"../../utils/popups/index.js\";\nimport { FloatingRootStore } from \"../components/FloatingRootStore.js\";\nexport function getEmptyRootContext() {\n  return new FloatingRootStore({\n    open: false,\n    floatingElement: null,\n    referenceElement: null,\n    triggerElements: new PopupTriggerMap(),\n    floatingId: '',\n    nested: false,\n    noEmit: false,\n    onOpenChange: undefined\n  });\n}", "import { createSelector } from '@base-ui/utils/store';\nimport { getEmptyRootContext } from \"../../floating-ui-react/utils/getEmptyRootContext.js\";\nimport { EMPTY_OBJECT } from \"../constants.js\";\n\n/**\n * State common to all popup stores.\n */\n\nexport function createInitialPopupStoreState() {\n  return {\n    open: false,\n    mounted: false,\n    transitionStatus: 'idle',\n    floatingRootContext: getEmptyRootContext(),\n    preventUnmountingOnClose: false,\n    payload: undefined,\n    activeTriggerId: null,\n    activeTriggerElement: null,\n    popupElement: null,\n    positionerElement: null,\n    activeTriggerProps: EMPTY_OBJECT,\n    inactiveTriggerProps: EMPTY_OBJECT,\n    popupProps: EMPTY_OBJECT\n  };\n}\nexport const popupStoreSelectors = {\n  open: createSelector(state => state.open),\n  mounted: createSelector(state => state.mounted),\n  transitionStatus: createSelector(state => state.transitionStatus),\n  floatingRootContext: createSelector(state => state.floatingRootContext),\n  preventUnmountingOnClose: createSelector(state => state.preventUnmountingOnClose),\n  payload: createSelector(state => state.payload),\n  activeTriggerId: createSelector(state => state.activeTriggerId),\n  activeTriggerElement: createSelector(state => state.mounted ? state.activeTriggerElement : null),\n  /**\n   * Whether the trigger with the given ID was used to open the popup.\n   */\n  isTriggerActive: createSelector((state, triggerId) => triggerId !== undefined && state.activeTriggerId === triggerId),\n  /**\n   * Whether the popup is open and was activated by a trigger with the given ID.\n   */\n  isOpenedByTrigger: createSelector((state, triggerId) => triggerId !== undefined && state.activeTriggerId === triggerId && state.open),\n  /**\n   * Whether the popup is mounted and was activated by a trigger with the given ID.\n   */\n  isMountedByTrigger: createSelector((state, triggerId) => triggerId !== undefined && state.activeTriggerId === triggerId && state.mounted),\n  triggerProps: createSelector((state, isActive) => isActive ? state.activeTriggerProps : state.inactiveTriggerProps),\n  popupProps: createSelector(state => state.popupProps),\n  popupElement: createSelector(state => state.popupElement),\n  positionerElement: createSelector(state => state.positionerElement)\n};", "import { isElement } from '@floating-ui/utils/dom';\nimport { useId } from '@base-ui/utils/useId';\nimport { useRefWithInit } from '@base-ui/utils/useRefWithInit';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useFloatingParentNodeId } from \"../components/FloatingTree.js\";\nimport { FloatingRootStore } from \"../components/FloatingRootStore.js\";\nimport { PopupTriggerMap } from \"../../utils/popups/index.js\";\nexport function useFloatingRootContext(options) {\n  const {\n    open = false,\n    onOpenChange,\n    elements = {}\n  } = options;\n  const floatingId = useId();\n  const nested = useFloatingParentNodeId() != null;\n  if (process.env.NODE_ENV !== 'production') {\n    const optionDomReference = elements.reference;\n    if (optionDomReference && !isElement(optionDomReference)) {\n      console.error('Cannot pass a virtual element to the `elements.reference` option,', 'as it must be a real DOM element. Use `context.setPositionReference()`', 'instead.');\n    }\n  }\n  const store = useRefWithInit(() => new FloatingRootStore({\n    open,\n    onOpenChange,\n    referenceElement: elements.reference ?? null,\n    floatingElement: elements.floating ?? null,\n    triggerElements: elements.triggers ?? new PopupTriggerMap(),\n    floatingId,\n    nested,\n    noEmit: options.noEmit || false\n  })).current;\n  useIsoLayoutEffect(() => {\n    const valuesToSync = {\n      open,\n      floatingId\n    };\n\n    // Only sync elements that are defined to avoid overwriting existing ones\n    if (elements.reference !== undefined) {\n      valuesToSync.referenceElement = elements.reference;\n      valuesToSync.domReferenceElement = isElement(elements.reference) ? elements.reference : null;\n    }\n    if (elements.floating !== undefined) {\n      valuesToSync.floatingElement = elements.floating;\n    }\n    store.update(valuesToSync);\n  }, [open, floatingId, elements.reference, elements.floating, store]);\n  store.context.onOpenChange = onOpenChange;\n  store.context.nested = nested;\n  store.context.noEmit = options.noEmit || false;\n  return store;\n}", "import { useId } from '@base-ui/utils/useId';\nimport { useRefWithInit } from '@base-ui/utils/useRefWithInit';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { isElement } from '@floating-ui/utils/dom';\nimport { useFloatingParentNodeId } from \"../components/FloatingTree.js\";\nimport { FloatingRootStore } from \"../components/FloatingRootStore.js\";\n/**\n * Initializes a FloatingRootStore that is kept in sync with the provided PopupStore.\n * The new instance is created only once and updated on every render.\n */\nexport function useSyncedFloatingRootContext(options) {\n  const {\n    popupStore,\n    noEmit = false,\n    treatPopupAsFloatingElement = false,\n    onOpenChange\n  } = options;\n  const floatingId = useId();\n  const nested = useFloatingParentNodeId() != null;\n  const open = popupStore.useState('open');\n  const referenceElement = popupStore.useState('activeTriggerElement');\n  const floatingElement = popupStore.useState(treatPopupAsFloatingElement ? 'popupElement' : 'positionerElement');\n  const triggerElements = popupStore.context.triggerElements;\n  const store = useRefWithInit(() => new FloatingRootStore({\n    open,\n    referenceElement,\n    floatingElement,\n    triggerElements,\n    onOpenChange,\n    floatingId,\n    nested,\n    noEmit\n  })).current;\n  useIsoLayoutEffect(() => {\n    const valuesToSync = {\n      open,\n      floatingId,\n      referenceElement,\n      floatingElement\n    };\n    if (isElement(referenceElement)) {\n      valuesToSync.domReferenceElement = referenceElement;\n    }\n    if (store.state.positionReference === store.state.referenceElement) {\n      valuesToSync.positionReference = referenceElement;\n    }\n    store.update(valuesToSync);\n  }, [open, floatingId, referenceElement, floatingElement, store]);\n\n  // TODO: When `setOpen` is a part of the PopupStore API, we don't need to sync it.\n  store.context.onOpenChange = onOpenChange;\n  store.context.nested = nested;\n  store.context.noEmit = noEmit;\n  return store;\n}", "import * as React from 'react';\nimport { getWindow, isElement, isHTMLElement } from '@floating-ui/utils/dom';\nimport { isMac, isSafari } from '@base-ui/utils/detectBrowser';\nimport { useTimeout } from '@base-ui/utils/useTimeout';\nimport { activeElement, contains, getDocument, getTarget, isTypeableElement, matchesFocusVisible } from \"../utils.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { createAttribute } from \"../utils/createAttribute.js\";\nconst isMacSafari = isMac && isSafari;\n/**\n * Opens the floating element while the reference element has focus, like CSS\n * `:focus`.\n * @see https://floating-ui.com/docs/useFocus\n */\nexport function useFocus(context, props = {}) {\n  const store = 'rootStore' in context ? context.rootStore : context;\n  const {\n    events,\n    dataRef\n  } = store.context;\n  const {\n    enabled = true,\n    visibleOnly = true,\n    delay\n  } = props;\n  const blockFocusRef = React.useRef(false);\n  // Track which reference should be blocked from re-opening after Escape/press dismissal.\n  const blockedReferenceRef = React.useRef(null);\n  const timeout = useTimeout();\n  const keyboardModalityRef = React.useRef(true);\n  React.useEffect(() => {\n    const domReference = store.select('domReferenceElement');\n    if (!enabled) {\n      return undefined;\n    }\n    const win = getWindow(domReference);\n\n    // If the reference was focused and the user left the tab/window, and the\n    // floating element was not open, the focus should be blocked when they\n    // return to the tab/window.\n    function onBlur() {\n      const currentDomReference = store.select('domReferenceElement');\n      if (!store.select('open') && isHTMLElement(currentDomReference) && currentDomReference === activeElement(getDocument(currentDomReference))) {\n        blockFocusRef.current = true;\n      }\n    }\n    function onKeyDown() {\n      keyboardModalityRef.current = true;\n    }\n    function onPointerDown() {\n      keyboardModalityRef.current = false;\n    }\n    win.addEventListener('blur', onBlur);\n    if (isMacSafari) {\n      win.addEventListener('keydown', onKeyDown, true);\n      win.addEventListener('pointerdown', onPointerDown, true);\n    }\n    return () => {\n      win.removeEventListener('blur', onBlur);\n      if (isMacSafari) {\n        win.removeEventListener('keydown', onKeyDown, true);\n        win.removeEventListener('pointerdown', onPointerDown, true);\n      }\n    };\n  }, [store, enabled]);\n  React.useEffect(() => {\n    if (!enabled) {\n      return undefined;\n    }\n    function onOpenChangeLocal(details) {\n      if (details.reason === REASONS.triggerPress || details.reason === REASONS.escapeKey) {\n        const referenceElement = store.select('domReferenceElement');\n        if (isElement(referenceElement)) {\n          blockedReferenceRef.current = referenceElement;\n          blockFocusRef.current = true;\n        }\n      }\n    }\n    events.on('openchange', onOpenChangeLocal);\n    return () => {\n      events.off('openchange', onOpenChangeLocal);\n    };\n  }, [events, enabled, store]);\n  const reference = React.useMemo(() => ({\n    onMouseLeave() {\n      blockFocusRef.current = false;\n      blockedReferenceRef.current = null;\n    },\n    onFocus(event) {\n      const focusTarget = event.currentTarget;\n      if (blockFocusRef.current) {\n        if (blockedReferenceRef.current === focusTarget) {\n          return;\n        }\n        blockFocusRef.current = false;\n        blockedReferenceRef.current = null;\n      }\n      const target = getTarget(event.nativeEvent);\n      if (visibleOnly && isElement(target)) {\n        // Safari fails to match `:focus-visible` if focus was initially\n        // outside the document.\n        if (isMacSafari && !event.relatedTarget) {\n          if (!keyboardModalityRef.current && !isTypeableElement(target)) {\n            return;\n          }\n        } else if (!matchesFocusVisible(target)) {\n          return;\n        }\n      }\n      const movedFromOtherTrigger = event.relatedTarget && store.context.triggerElements.hasElement(event.relatedTarget);\n      const {\n        nativeEvent,\n        currentTarget\n      } = event;\n      const delayValue = typeof delay === 'function' ? delay() : delay;\n      if (store.select('open') && movedFromOtherTrigger || delayValue === 0 || delayValue === undefined) {\n        store.setOpen(true, createChangeEventDetails(REASONS.triggerFocus, nativeEvent, currentTarget));\n        return;\n      }\n      timeout.start(delayValue, () => {\n        if (blockFocusRef.current) {\n          return;\n        }\n        store.setOpen(true, createChangeEventDetails(REASONS.triggerFocus, nativeEvent, currentTarget));\n      });\n    },\n    onBlur(event) {\n      blockFocusRef.current = false;\n      blockedReferenceRef.current = null;\n      const relatedTarget = event.relatedTarget;\n      const nativeEvent = event.nativeEvent;\n\n      // Hit the non-modal focus management portal guard. Focus will be\n      // moved into the floating element immediately after.\n      const movedToFocusGuard = isElement(relatedTarget) && relatedTarget.hasAttribute(createAttribute('focus-guard')) && relatedTarget.getAttribute('data-type') === 'outside';\n\n      // Wait for the window blur listener to fire.\n      timeout.start(0, () => {\n        const domReference = store.select('domReferenceElement');\n        const activeEl = activeElement(domReference ? domReference.ownerDocument : document);\n\n        // Focus left the page, keep it open.\n        if (!relatedTarget && activeEl === domReference) {\n          return;\n        }\n\n        // When focusing the reference element (e.g. regular click), then\n        // clicking into the floating element, prevent it from hiding.\n        // Note: it must be focusable, e.g. `tabindex=\"-1\"`.\n        // We can not rely on relatedTarget to point to the correct element\n        // as it will only point to the shadow host of the newly focused element\n        // and not the element that actually has received focus if it is located\n        // inside a shadow root.\n        if (contains(dataRef.current.floatingContext?.refs.floating.current, activeEl) || contains(domReference, activeEl) || movedToFocusGuard) {\n          return;\n        }\n\n        // If the next focused element is one of the triggers, do not close\n        // the floating element. The focus handler of that trigger will\n        // handle the open state.\n        const nextFocusedElement = relatedTarget ?? activeEl;\n        if (isElement(nextFocusedElement)) {\n          const triggerElements = store.context.triggerElements;\n          if (triggerElements.hasElement(nextFocusedElement) || triggerElements.hasMatchingElement(trigger => contains(trigger, nextFocusedElement))) {\n            return;\n          }\n        }\n        store.setOpen(false, createChangeEventDetails(REASONS.triggerFocus, nativeEvent));\n      });\n    }\n  }), [dataRef, store, visibleOnly, timeout, delay]);\n  return React.useMemo(() => enabled ? {\n    reference,\n    trigger: reference\n  } : {}, [enabled, reference]);\n}", "import * as React from 'react';\nimport { isElement } from '@floating-ui/utils/dom';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { getDocument, getTarget, isMouseLikePointerType } from \"../utils.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { useFloatingParentNodeId, useFloatingTree } from \"../components/FloatingTree.js\";\nimport { isInteractiveElement, safePolygonIdentifier, useHoverInteractionSharedState } from \"./useHoverInteractionSharedState.js\";\nconst clickLikeEvents = new Set(['click', 'mousedown']);\n\n/**\n * Provides hover interactions that should be attached to the floating element.\n */\nexport function useHoverFloatingInteraction(context, parameters = {}) {\n  const store = 'rootStore' in context ? context.rootStore : context;\n  const open = store.useState('open');\n  const floatingElement = store.useState('floatingElement');\n  const domReferenceElement = store.useState('domReferenceElement');\n  const {\n    dataRef\n  } = store.context;\n  const {\n    enabled = true,\n    closeDelay: closeDelayProp = 0,\n    externalTree\n  } = parameters;\n  const {\n    pointerTypeRef,\n    interactedInsideRef,\n    handlerRef,\n    performedPointerEventsMutationRef,\n    unbindMouseMoveRef,\n    restTimeoutPendingRef,\n    openChangeTimeout: openChangeTimeout,\n    handleCloseOptionsRef\n  } = useHoverInteractionSharedState(store);\n  const tree = useFloatingTree(externalTree);\n  const parentId = useFloatingParentNodeId();\n  const isClickLikeOpenEvent = useStableCallback(() => {\n    if (interactedInsideRef.current) {\n      return true;\n    }\n    return dataRef.current.openEvent ? clickLikeEvents.has(dataRef.current.openEvent.type) : false;\n  });\n  const isHoverOpen = useStableCallback(() => {\n    const type = dataRef.current.openEvent?.type;\n    return type?.includes('mouse') && type !== 'mousedown';\n  });\n  const closeWithDelay = React.useCallback((event, runElseBranch = true) => {\n    const closeDelay = getDelay(closeDelayProp, pointerTypeRef.current);\n    if (closeDelay && !handlerRef.current) {\n      openChangeTimeout.start(closeDelay, () => store.setOpen(false, createChangeEventDetails(REASONS.triggerHover, event)));\n    } else if (runElseBranch) {\n      openChangeTimeout.clear();\n      store.setOpen(false, createChangeEventDetails(REASONS.triggerHover, event));\n    }\n  }, [closeDelayProp, handlerRef, store, pointerTypeRef, openChangeTimeout]);\n  const cleanupMouseMoveHandler = useStableCallback(() => {\n    unbindMouseMoveRef.current();\n    handlerRef.current = undefined;\n  });\n  const clearPointerEvents = useStableCallback(() => {\n    if (performedPointerEventsMutationRef.current) {\n      const body = getDocument(floatingElement).body;\n      body.style.pointerEvents = '';\n      body.removeAttribute(safePolygonIdentifier);\n      performedPointerEventsMutationRef.current = false;\n    }\n  });\n  const handleInteractInside = useStableCallback(event => {\n    const target = getTarget(event);\n    if (!isInteractiveElement(target)) {\n      interactedInsideRef.current = false;\n      return;\n    }\n    interactedInsideRef.current = true;\n  });\n  useIsoLayoutEffect(() => {\n    if (!open) {\n      pointerTypeRef.current = undefined;\n      restTimeoutPendingRef.current = false;\n      interactedInsideRef.current = false;\n      cleanupMouseMoveHandler();\n      clearPointerEvents();\n    }\n  }, [open, pointerTypeRef, restTimeoutPendingRef, interactedInsideRef, cleanupMouseMoveHandler, clearPointerEvents]);\n  React.useEffect(() => {\n    return () => {\n      cleanupMouseMoveHandler();\n    };\n  }, [cleanupMouseMoveHandler]);\n  React.useEffect(() => {\n    return clearPointerEvents;\n  }, [clearPointerEvents]);\n  useIsoLayoutEffect(() => {\n    if (!enabled) {\n      return undefined;\n    }\n    if (open && handleCloseOptionsRef.current?.blockPointerEvents && isHoverOpen() && isElement(domReferenceElement) && floatingElement) {\n      performedPointerEventsMutationRef.current = true;\n      const body = getDocument(floatingElement).body;\n      body.setAttribute(safePolygonIdentifier, '');\n      const ref = domReferenceElement;\n      const floatingEl = floatingElement;\n      const parentFloating = tree?.nodesRef.current.find(node => node.id === parentId)?.context?.elements.floating;\n      if (parentFloating) {\n        parentFloating.style.pointerEvents = '';\n      }\n      body.style.pointerEvents = 'none';\n      ref.style.pointerEvents = 'auto';\n      floatingEl.style.pointerEvents = 'auto';\n      return () => {\n        body.style.pointerEvents = '';\n        ref.style.pointerEvents = '';\n        floatingEl.style.pointerEvents = '';\n      };\n    }\n    return undefined;\n  }, [enabled, open, domReferenceElement, floatingElement, handleCloseOptionsRef, isHoverOpen, tree, parentId, performedPointerEventsMutationRef]);\n  React.useEffect(() => {\n    if (!enabled) {\n      return undefined;\n    }\n\n    // Ensure the floating element closes after scrolling even if the pointer\n    // did not move.\n    // https://github.com/floating-ui/floating-ui/discussions/1692\n    function onScrollMouseLeave(event) {\n      if (isClickLikeOpenEvent() || !dataRef.current.floatingContext || !store.select('open')) {\n        return;\n      }\n      const triggerElements = store.context.triggerElements;\n      if (event.relatedTarget && triggerElements.hasElement(event.relatedTarget)) {\n        // If the mouse is leaving the reference element to another trigger, don't explicitly close the popup\n        // as it will be moved.\n        return;\n      }\n      clearPointerEvents();\n      cleanupMouseMoveHandler();\n      if (!isClickLikeOpenEvent()) {\n        closeWithDelay(event);\n      }\n    }\n    function onFloatingMouseEnter(event) {\n      openChangeTimeout.clear();\n      clearPointerEvents();\n      handlerRef.current?.(event);\n      cleanupMouseMoveHandler();\n    }\n    function onFloatingMouseLeave(event) {\n      if (!isClickLikeOpenEvent()) {\n        closeWithDelay(event, false);\n      }\n    }\n    const floating = floatingElement;\n    if (floating) {\n      floating.addEventListener('mouseleave', onScrollMouseLeave);\n      floating.addEventListener('mouseenter', onFloatingMouseEnter);\n      floating.addEventListener('mouseleave', onFloatingMouseLeave);\n      floating.addEventListener('pointerdown', handleInteractInside, true);\n    }\n    return () => {\n      if (floating) {\n        floating.removeEventListener('mouseleave', onScrollMouseLeave);\n        floating.removeEventListener('mouseenter', onFloatingMouseEnter);\n        floating.removeEventListener('mouseleave', onFloatingMouseLeave);\n        floating.removeEventListener('pointerdown', handleInteractInside, true);\n      }\n    };\n  });\n}\nexport function getDelay(value, pointerType) {\n  if (pointerType && !isMouseLikePointerType(pointerType)) {\n    return 0;\n  }\n  if (typeof value === 'function') {\n    return value();\n  }\n  return value;\n}", "import * as React from 'react';\nimport { useTimeout } from '@base-ui/utils/useTimeout';\nimport { createAttribute } from \"../utils/createAttribute.js\";\nimport { TYPEABLE_SELECTOR } from \"../utils/constants.js\";\nexport const safePolygonIdentifier = createAttribute('safe-polygon');\nconst interactiveSelector = `button,a,[role=\"button\"],select,[tabindex]:not([tabindex=\"-1\"]),${TYPEABLE_SELECTOR}`;\nexport function isInteractiveElement(element) {\n  return element ? Boolean(element.closest(interactiveSelector)) : false;\n}\nexport function useHoverInteractionSharedState(store) {\n  const pointerTypeRef = React.useRef(undefined);\n  const interactedInsideRef = React.useRef(false);\n  const handlerRef = React.useRef(undefined);\n  const blockMouseMoveRef = React.useRef(true);\n  const performedPointerEventsMutationRef = React.useRef(false);\n  const unbindMouseMoveRef = React.useRef(() => {});\n  const restTimeoutPendingRef = React.useRef(false);\n  const openChangeTimeout = useTimeout();\n  const restTimeout = useTimeout();\n  const handleCloseOptionsRef = React.useRef(undefined);\n  return React.useMemo(() => {\n    const data = store.context.dataRef.current;\n    if (!data.hoverInteractionState) {\n      data.hoverInteractionState = {\n        pointerTypeRef,\n        interactedInsideRef,\n        handlerRef,\n        blockMouseMoveRef,\n        performedPointerEventsMutationRef,\n        unbindMouseMoveRef,\n        restTimeoutPendingRef,\n        openChangeTimeout,\n        restTimeout,\n        handleCloseOptionsRef\n      };\n    }\n    return data.hoverInteractionState;\n  }, [store, pointerTypeRef, interactedInsideRef, handlerRef, blockMouseMoveRef, performedPointerEventsMutationRef, unbindMouseMoveRef, restTimeoutPendingRef, openChangeTimeout, restTimeout, handleCloseOptionsRef]);\n}", "import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { isElement } from '@floating-ui/utils/dom';\nimport { useValueAsRef } from '@base-ui/utils/useValueAsRef';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { contains, getDocument, isMouseLikePointerType } from \"../utils.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { getDelay } from \"./useHover.js\";\nimport { useFloatingTree } from \"../components/FloatingTree.js\";\nimport { safePolygonIdentifier, useHoverInteractionSharedState } from \"./useHoverInteractionSharedState.js\";\nfunction getRestMs(value) {\n  if (typeof value === 'function') {\n    return value();\n  }\n  return value;\n}\nconst EMPTY_REF = {\n  current: null\n};\n\n/**\n * Provides hover interactions that should be attached to reference or trigger\n * elements.\n */\nexport function useHoverReferenceInteraction(context, props = {}) {\n  const store = 'rootStore' in context ? context.rootStore : context;\n  const {\n    dataRef,\n    events\n  } = store.context;\n  const {\n    enabled = true,\n    delay = 0,\n    handleClose = null,\n    mouseOnly = false,\n    restMs = 0,\n    move = true,\n    triggerElementRef = EMPTY_REF,\n    externalTree,\n    isActiveTrigger = true\n  } = props;\n  const tree = useFloatingTree(externalTree);\n  const {\n    pointerTypeRef,\n    interactedInsideRef,\n    handlerRef: closeHandlerRef,\n    blockMouseMoveRef,\n    performedPointerEventsMutationRef,\n    unbindMouseMoveRef,\n    restTimeoutPendingRef,\n    openChangeTimeout,\n    restTimeout,\n    handleCloseOptionsRef\n  } = useHoverInteractionSharedState(store);\n  const handleCloseRef = useValueAsRef(handleClose);\n  const delayRef = useValueAsRef(delay);\n  const restMsRef = useValueAsRef(restMs);\n  if (isActiveTrigger) {\n    // eslint-disable-next-line no-underscore-dangle\n    handleCloseOptionsRef.current = handleCloseRef.current?.__options;\n  }\n  const isClickLikeOpenEvent = useStableCallback(() => {\n    if (interactedInsideRef.current) {\n      return true;\n    }\n    return dataRef.current.openEvent ? ['click', 'mousedown'].includes(dataRef.current.openEvent.type) : false;\n  });\n  const closeWithDelay = React.useCallback((event, runElseBranch = true) => {\n    const closeDelay = getDelay(delayRef.current, 'close', pointerTypeRef.current);\n    if (closeDelay && !closeHandlerRef.current) {\n      openChangeTimeout.start(closeDelay, () => store.setOpen(false, createChangeEventDetails(REASONS.triggerHover, event)));\n    } else if (runElseBranch) {\n      openChangeTimeout.clear();\n      store.setOpen(false, createChangeEventDetails(REASONS.triggerHover, event));\n    }\n  }, [delayRef, closeHandlerRef, store, pointerTypeRef, openChangeTimeout]);\n  const cleanupMouseMoveHandler = useStableCallback(() => {\n    unbindMouseMoveRef.current();\n    closeHandlerRef.current = undefined;\n  });\n  const clearPointerEvents = useStableCallback(() => {\n    if (performedPointerEventsMutationRef.current) {\n      const body = getDocument(store.select('domReferenceElement')).body;\n      body.style.pointerEvents = '';\n      body.removeAttribute(safePolygonIdentifier);\n      performedPointerEventsMutationRef.current = false;\n    }\n  });\n\n  // When closing before opening, clear the delay timeouts to cancel it\n  // from showing.\n  React.useEffect(() => {\n    if (!enabled) {\n      return undefined;\n    }\n    function onOpenChangeLocal(details) {\n      if (!details.open) {\n        openChangeTimeout.clear();\n        restTimeout.clear();\n        blockMouseMoveRef.current = true;\n        restTimeoutPendingRef.current = false;\n      }\n    }\n    events.on('openchange', onOpenChangeLocal);\n    return () => {\n      events.off('openchange', onOpenChangeLocal);\n    };\n  }, [enabled, events, openChangeTimeout, restTimeout, blockMouseMoveRef, restTimeoutPendingRef]);\n  const handleScrollMouseLeave = useStableCallback(event => {\n    if (isClickLikeOpenEvent()) {\n      return;\n    }\n    if (!dataRef.current.floatingContext) {\n      return;\n    }\n    const triggerElements = store.context.triggerElements;\n    if (event.relatedTarget && triggerElements.hasElement(event.relatedTarget)) {\n      return;\n    }\n    const currentTrigger = triggerElementRef.current;\n    handleCloseRef.current?.({\n      ...dataRef.current.floatingContext,\n      tree,\n      x: event.clientX,\n      y: event.clientY,\n      onClose() {\n        clearPointerEvents();\n        cleanupMouseMoveHandler();\n        if (!isClickLikeOpenEvent() && currentTrigger === store.select('domReferenceElement')) {\n          closeWithDelay(event);\n        }\n      }\n    })(event);\n  });\n  React.useEffect(() => {\n    if (!enabled) {\n      return undefined;\n    }\n    const trigger = triggerElementRef.current ?? (isActiveTrigger ? store.select('domReferenceElement') : null);\n    if (!isElement(trigger)) {\n      return undefined;\n    }\n    function onMouseEnter(event) {\n      openChangeTimeout.clear();\n      blockMouseMoveRef.current = false;\n      if (mouseOnly && !isMouseLikePointerType(pointerTypeRef.current)) {\n        return;\n      }\n\n      // Only rest delay is set; there's no fallback delay.\n      // This will be handled by `onMouseMove`.\n      if (getRestMs(restMsRef.current) > 0 && !getDelay(delayRef.current, 'open')) {\n        return;\n      }\n      const openDelay = getDelay(delayRef.current, 'open', pointerTypeRef.current);\n      const currentDomReference = store.select('domReferenceElement');\n      const allTriggers = store.context.triggerElements;\n      const isOverInactiveTrigger = (allTriggers.hasElement(event.target) || allTriggers.hasMatchingElement(t => contains(t, event.target))) && (!currentDomReference || !contains(currentDomReference, event.target));\n      const triggerNode = event.currentTarget ?? null;\n      const isOpen = store.select('open');\n      const shouldOpen = !isOpen || isOverInactiveTrigger;\n\n      // When moving between triggers while already open, open immediately without delay\n      if (isOverInactiveTrigger && isOpen) {\n        store.setOpen(true, createChangeEventDetails(REASONS.triggerHover, event, triggerNode));\n      } else if (openDelay) {\n        openChangeTimeout.start(openDelay, () => {\n          if (shouldOpen) {\n            store.setOpen(true, createChangeEventDetails(REASONS.triggerHover, event, triggerNode));\n          }\n        });\n      } else if (shouldOpen) {\n        store.setOpen(true, createChangeEventDetails(REASONS.triggerHover, event, triggerNode));\n      }\n    }\n    function onMouseLeave(event) {\n      if (isClickLikeOpenEvent()) {\n        clearPointerEvents();\n        return;\n      }\n      unbindMouseMoveRef.current();\n      const domReferenceElement = store.select('domReferenceElement');\n      const doc = getDocument(domReferenceElement);\n      restTimeout.clear();\n      restTimeoutPendingRef.current = false;\n      const triggerElements = store.context.triggerElements;\n      if (event.relatedTarget && triggerElements.hasElement(event.relatedTarget)) {\n        return;\n      }\n      if (handleCloseRef.current && dataRef.current.floatingContext) {\n        if (!store.select('open')) {\n          openChangeTimeout.clear();\n        }\n        const currentTrigger = triggerElementRef.current;\n        closeHandlerRef.current = handleCloseRef.current({\n          ...dataRef.current.floatingContext,\n          tree,\n          x: event.clientX,\n          y: event.clientY,\n          onClose() {\n            clearPointerEvents();\n            cleanupMouseMoveHandler();\n            if (!isClickLikeOpenEvent() && currentTrigger === store.select('domReferenceElement')) {\n              closeWithDelay(event, true);\n            }\n          }\n        });\n        const handler = closeHandlerRef.current;\n        handler(event);\n        doc.addEventListener('mousemove', handler);\n        unbindMouseMoveRef.current = () => {\n          doc.removeEventListener('mousemove', handler);\n        };\n        return;\n      }\n      const shouldClose = pointerTypeRef.current === 'touch' ? !contains(store.select('floatingElement'), event.relatedTarget) : true;\n      if (shouldClose) {\n        closeWithDelay(event);\n      }\n    }\n    function onScrollMouseLeave(event) {\n      handleScrollMouseLeave(event);\n    }\n    if (store.select('open')) {\n      trigger.addEventListener('mouseleave', onScrollMouseLeave);\n    }\n    if (move) {\n      trigger.addEventListener('mousemove', onMouseEnter, {\n        once: true\n      });\n    }\n    trigger.addEventListener('mouseenter', onMouseEnter);\n    trigger.addEventListener('mouseleave', onMouseLeave);\n    return () => {\n      trigger.removeEventListener('mouseleave', onScrollMouseLeave);\n      if (move) {\n        trigger.removeEventListener('mousemove', onMouseEnter);\n      }\n      trigger.removeEventListener('mouseenter', onMouseEnter);\n      trigger.removeEventListener('mouseleave', onMouseLeave);\n    };\n  }, [cleanupMouseMoveHandler, clearPointerEvents, blockMouseMoveRef, dataRef, delayRef, closeWithDelay, store, enabled, handleCloseRef, handleScrollMouseLeave, isActiveTrigger, isClickLikeOpenEvent, mouseOnly, move, pointerTypeRef, restMsRef, restTimeout, restTimeoutPendingRef, openChangeTimeout, triggerElementRef, tree, unbindMouseMoveRef, closeHandlerRef]);\n  return React.useMemo(() => {\n    function setPointerRef(event) {\n      pointerTypeRef.current = event.pointerType;\n    }\n    return {\n      onPointerDown: setPointerRef,\n      onPointerEnter: setPointerRef,\n      onMouseMove(event) {\n        const {\n          nativeEvent\n        } = event;\n        const trigger = event.currentTarget;\n        const currentDomReference = store.select('domReferenceElement');\n        const allTriggers = store.context.triggerElements;\n        const currentOpen = store.select('open');\n        const isOverInactiveTrigger = (allTriggers.hasElement(event.target) || allTriggers.hasMatchingElement(t => contains(t, event.target))) && (!currentDomReference || !contains(currentDomReference, event.target));\n        if (mouseOnly && !isMouseLikePointerType(pointerTypeRef.current)) {\n          return;\n        }\n        if (currentOpen && !isOverInactiveTrigger || getRestMs(restMsRef.current) === 0) {\n          return;\n        }\n        if (!isOverInactiveTrigger && restTimeoutPendingRef.current && event.movementX ** 2 + event.movementY ** 2 < 2) {\n          return;\n        }\n        restTimeout.clear();\n        function handleMouseMove() {\n          restTimeoutPendingRef.current = false;\n\n          // A delayed hover open should not override a click-like open that happened\n          // while the hover delay was pending.\n          if (isClickLikeOpenEvent()) {\n            return;\n          }\n          const latestOpen = store.select('open');\n          if (!blockMouseMoveRef.current && (!latestOpen || isOverInactiveTrigger)) {\n            store.setOpen(true, createChangeEventDetails(REASONS.triggerHover, nativeEvent, trigger));\n          }\n        }\n        if (pointerTypeRef.current === 'touch') {\n          ReactDOM.flushSync(() => {\n            handleMouseMove();\n          });\n        } else if (isOverInactiveTrigger && currentOpen) {\n          handleMouseMove();\n        } else {\n          restTimeoutPendingRef.current = true;\n          restTimeout.start(getRestMs(restMsRef.current), handleMouseMove);\n        }\n      }\n    };\n  }, [blockMouseMoveRef, isClickLikeOpenEvent, mouseOnly, store, pointerTypeRef, restMsRef, restTimeout, restTimeoutPendingRef]);\n}", "import * as React from 'react';\nimport { ACTIVE_KEY, FOCUSABLE_ATTRIBUTE, SELECTED_KEY } from \"../utils/constants.js\";\n/**\n * Merges an array of interaction hooks' props into prop getters, allowing\n * event handler functions to be composed together without overwriting one\n * another.\n * @see https://floating-ui.com/docs/useInteractions\n */\nexport function useInteractions(propsList = []) {\n  const referenceDeps = propsList.map(key => key?.reference);\n  const floatingDeps = propsList.map(key => key?.floating);\n  const itemDeps = propsList.map(key => key?.item);\n  const triggerDeps = propsList.map(key => key?.trigger);\n  const getReferenceProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'reference'),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  referenceDeps);\n  const getFloatingProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'floating'),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  floatingDeps);\n  const getItemProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'item'),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  itemDeps);\n  const getTriggerProps = React.useCallback(userProps => mergeProps(userProps, propsList, 'trigger'),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  triggerDeps);\n  return React.useMemo(() => ({\n    getReferenceProps,\n    getFloatingProps,\n    getItemProps,\n    getTriggerProps\n  }), [getReferenceProps, getFloatingProps, getItemProps, getTriggerProps]);\n}\n\n/* eslint-disable guard-for-in */\n\nfunction mergeProps(userProps, propsList, elementKey) {\n  const eventHandlers = new Map();\n  const isItem = elementKey === 'item';\n  const outputProps = {};\n  if (elementKey === 'floating') {\n    outputProps.tabIndex = -1;\n    outputProps[FOCUSABLE_ATTRIBUTE] = '';\n  }\n  for (const key in userProps) {\n    if (isItem && userProps) {\n      if (key === ACTIVE_KEY || key === SELECTED_KEY) {\n        continue;\n      }\n    }\n    outputProps[key] = userProps[key];\n  }\n  for (let i = 0; i < propsList.length; i += 1) {\n    let props;\n    const propsOrGetProps = propsList[i]?.[elementKey];\n    if (typeof propsOrGetProps === 'function') {\n      props = userProps ? propsOrGetProps(userProps) : null;\n    } else {\n      props = propsOrGetProps;\n    }\n    if (!props) {\n      continue;\n    }\n    mutablyMergeProps(outputProps, props, isItem, eventHandlers);\n  }\n  mutablyMergeProps(outputProps, userProps, isItem, eventHandlers);\n  return outputProps;\n}\nfunction mutablyMergeProps(outputProps, props, isItem, eventHandlers) {\n  for (const key in props) {\n    const value = props[key];\n    if (isItem && (key === ACTIVE_KEY || key === SELECTED_KEY)) {\n      continue;\n    }\n    if (!key.startsWith('on')) {\n      outputProps[key] = value;\n    } else {\n      if (!eventHandlers.has(key)) {\n        eventHandlers.set(key, []);\n      }\n      if (typeof value === 'function') {\n        eventHandlers.get(key)?.push(value);\n        outputProps[key] = (...args) => {\n          return eventHandlers.get(key)?.map(fn => fn(...args)).find(val => val !== undefined);\n        };\n      }\n    }\n  }\n}", "import * as React from 'react';\nimport { isHTMLElement } from '@floating-ui/utils/dom';\nimport { useValueAsRef } from '@base-ui/utils/useValueAsRef';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { activeElement, contains, getDocument, getTarget, isTypeableCombobox, isVirtualClick, isVirtualPointerEvent, stopEvent, getFloatingFocusElement, isIndexOutOfListBounds, getMinListIndex, getMaxListIndex, getGridNavigatedIndex, isListIndexDisabled, createGridCellMap, getGridCellIndices, getGridCellIndexOfCorner, findNonDisabledListIndex } from \"../utils.js\";\nimport { useFloatingParentNodeId, useFloatingTree } from \"../components/FloatingTree.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { enqueueFocus } from \"../utils/enqueueFocus.js\";\nimport { ARROW_UP, ARROW_DOWN, ARROW_RIGHT, ARROW_LEFT } from \"../utils/constants.js\";\nexport const ESCAPE = 'Escape';\nfunction doSwitch(orientation, vertical, horizontal) {\n  switch (orientation) {\n    case 'vertical':\n      return vertical;\n    case 'horizontal':\n      return horizontal;\n    default:\n      return vertical || horizontal;\n  }\n}\nfunction isMainOrientationKey(key, orientation) {\n  const vertical = key === ARROW_UP || key === ARROW_DOWN;\n  const horizontal = key === ARROW_LEFT || key === ARROW_RIGHT;\n  return doSwitch(orientation, vertical, horizontal);\n}\nfunction isMainOrientationToEndKey(key, orientation, rtl) {\n  const vertical = key === ARROW_DOWN;\n  const horizontal = rtl ? key === ARROW_LEFT : key === ARROW_RIGHT;\n  return doSwitch(orientation, vertical, horizontal) || key === 'Enter' || key === ' ' || key === '';\n}\nfunction isCrossOrientationOpenKey(key, orientation, rtl) {\n  const vertical = rtl ? key === ARROW_LEFT : key === ARROW_RIGHT;\n  const horizontal = key === ARROW_DOWN;\n  return doSwitch(orientation, vertical, horizontal);\n}\nfunction isCrossOrientationCloseKey(key, orientation, rtl, cols) {\n  const vertical = rtl ? key === ARROW_RIGHT : key === ARROW_LEFT;\n  const horizontal = key === ARROW_UP;\n  if (orientation === 'both' || orientation === 'horizontal' && cols && cols > 1) {\n    return key === ESCAPE;\n  }\n  return doSwitch(orientation, vertical, horizontal);\n}\n/**\n * Adds arrow key-based navigation of a list of items, either using real DOM\n * focus or virtual focus.\n * @see https://floating-ui.com/docs/useListNavigation\n */\nexport function useListNavigation(context, props) {\n  const store = 'rootStore' in context ? context.rootStore : context;\n  const open = store.useState('open');\n  const floatingElement = store.useState('floatingElement');\n  const domReferenceElement = store.useState('domReferenceElement');\n  const dataRef = store.context.dataRef;\n  const {\n    listRef,\n    activeIndex,\n    onNavigate: onNavigateProp = () => {},\n    enabled = true,\n    selectedIndex = null,\n    allowEscape = false,\n    loopFocus = false,\n    nested = false,\n    rtl = false,\n    virtual = false,\n    focusItemOnOpen = 'auto',\n    focusItemOnHover = true,\n    openOnArrowKeyDown = true,\n    disabledIndices = undefined,\n    orientation = 'vertical',\n    parentOrientation,\n    cols = 1,\n    scrollItemIntoView = true,\n    itemSizes,\n    dense = false,\n    id,\n    resetOnPointerLeave = true,\n    externalTree\n  } = props;\n  if (process.env.NODE_ENV !== 'production') {\n    if (allowEscape) {\n      if (!loopFocus) {\n        console.warn('`useListNavigation` looping must be enabled to allow escaping.');\n      }\n      if (!virtual) {\n        console.warn('`useListNavigation` must be virtual to allow escaping.');\n      }\n    }\n    if (orientation === 'vertical' && cols > 1) {\n      console.warn('In grid list navigation mode (`cols` > 1), the `orientation` should', 'be either \"horizontal\" or \"both\".');\n    }\n  }\n  const floatingFocusElement = getFloatingFocusElement(floatingElement);\n  const floatingFocusElementRef = useValueAsRef(floatingFocusElement);\n  const parentId = useFloatingParentNodeId();\n  const tree = useFloatingTree(externalTree);\n  useIsoLayoutEffect(() => {\n    dataRef.current.orientation = orientation;\n  }, [dataRef, orientation]);\n  const typeableComboboxReference = isTypeableCombobox(domReferenceElement);\n  const focusItemOnOpenRef = React.useRef(focusItemOnOpen);\n  const indexRef = React.useRef(selectedIndex ?? -1);\n  const keyRef = React.useRef(null);\n  const isPointerModalityRef = React.useRef(true);\n  const onNavigate = useStableCallback(event => {\n    onNavigateProp(indexRef.current === -1 ? null : indexRef.current, event);\n  });\n  const previousOnNavigateRef = React.useRef(onNavigate);\n  const previousMountedRef = React.useRef(!!floatingElement);\n  const previousOpenRef = React.useRef(open);\n  const forceSyncFocusRef = React.useRef(false);\n  const forceScrollIntoViewRef = React.useRef(false);\n  const disabledIndicesRef = useValueAsRef(disabledIndices);\n  const latestOpenRef = useValueAsRef(open);\n  const scrollItemIntoViewRef = useValueAsRef(scrollItemIntoView);\n  const selectedIndexRef = useValueAsRef(selectedIndex);\n  const resetOnPointerLeaveRef = useValueAsRef(resetOnPointerLeave);\n  const focusItem = useStableCallback(() => {\n    function runFocus(item) {\n      if (virtual) {\n        tree?.events.emit('virtualfocus', item);\n      } else {\n        enqueueFocus(item, {\n          sync: forceSyncFocusRef.current,\n          preventScroll: true\n        });\n      }\n    }\n    const initialItem = listRef.current[indexRef.current];\n    const forceScrollIntoView = forceScrollIntoViewRef.current;\n    if (initialItem) {\n      runFocus(initialItem);\n    }\n    const scheduler = forceSyncFocusRef.current ? v => v() : requestAnimationFrame;\n    scheduler(() => {\n      const waitedItem = listRef.current[indexRef.current] || initialItem;\n      if (!waitedItem) {\n        return;\n      }\n      if (!initialItem) {\n        runFocus(waitedItem);\n      }\n      const scrollIntoViewOptions = scrollItemIntoViewRef.current;\n      const shouldScrollIntoView = scrollIntoViewOptions &&\n      // eslint-disable-next-line @typescript-eslint/no-use-before-define\n      item && (forceScrollIntoView || !isPointerModalityRef.current);\n      if (shouldScrollIntoView) {\n        // JSDOM doesn't support `.scrollIntoView()` but it's widely supported\n        // by all browsers.\n        waitedItem.scrollIntoView?.(typeof scrollIntoViewOptions === 'boolean' ? {\n          block: 'nearest',\n          inline: 'nearest'\n        } : scrollIntoViewOptions);\n      }\n    });\n  });\n\n  // Sync `selectedIndex` to be the `activeIndex` upon opening the floating\n  // element. Also, reset `activeIndex` upon closing the floating element.\n  useIsoLayoutEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    if (open && floatingElement) {\n      indexRef.current = selectedIndex ?? -1;\n      if (focusItemOnOpenRef.current && selectedIndex != null) {\n        // Regardless of the pointer modality, we want to ensure the selected\n        // item comes into view when the floating element is opened.\n        forceScrollIntoViewRef.current = true;\n        onNavigate();\n      }\n    } else if (previousMountedRef.current) {\n      // Since the user can specify `onNavigate` conditionally\n      // (onNavigate: open ? setActiveIndex : setSelectedIndex),\n      // we store and call the previous function.\n      indexRef.current = -1;\n      previousOnNavigateRef.current();\n    }\n  }, [enabled, open, floatingElement, selectedIndex, onNavigate]);\n\n  // Sync `activeIndex` to be the focused item while the floating element is\n  // open.\n  useIsoLayoutEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    if (!open) {\n      forceSyncFocusRef.current = false;\n      return;\n    }\n    if (!floatingElement) {\n      return;\n    }\n    if (activeIndex == null) {\n      forceSyncFocusRef.current = false;\n      if (selectedIndexRef.current != null) {\n        return;\n      }\n\n      // Reset while the floating element was open (e.g. the list changed).\n      if (previousMountedRef.current) {\n        indexRef.current = -1;\n        focusItem();\n      }\n\n      // Initial sync.\n      if ((!previousOpenRef.current || !previousMountedRef.current) && focusItemOnOpenRef.current && (keyRef.current != null || focusItemOnOpenRef.current === true && keyRef.current == null)) {\n        let runs = 0;\n        const waitForListPopulated = () => {\n          if (listRef.current[0] == null) {\n            // Avoid letting the browser paint if possible on the first try,\n            // otherwise use rAF. Don't try more than twice, since something\n            // is wrong otherwise.\n            if (runs < 2) {\n              const scheduler = runs ? requestAnimationFrame : queueMicrotask;\n              scheduler(waitForListPopulated);\n            }\n            runs += 1;\n          } else {\n            // initially focus the first non-disabled item\n            indexRef.current = keyRef.current == null || isMainOrientationToEndKey(keyRef.current, orientation, rtl) || nested ? getMinListIndex(listRef) : getMaxListIndex(listRef);\n            keyRef.current = null;\n            onNavigate();\n          }\n        };\n        waitForListPopulated();\n      }\n    } else if (!isIndexOutOfListBounds(listRef, activeIndex)) {\n      indexRef.current = activeIndex;\n      focusItem();\n      forceScrollIntoViewRef.current = false;\n    }\n  }, [enabled, open, floatingElement, activeIndex, selectedIndexRef, nested, listRef, orientation, rtl, onNavigate, focusItem, disabledIndicesRef]);\n\n  // Ensure the parent floating element has focus when a nested child closes\n  // to allow arrow key navigation to work after the pointer leaves the child.\n  useIsoLayoutEffect(() => {\n    if (!enabled || floatingElement || !tree || virtual || !previousMountedRef.current) {\n      return;\n    }\n    const nodes = tree.nodesRef.current;\n    const parent = nodes.find(node => node.id === parentId)?.context?.elements.floating;\n    const activeEl = activeElement(getDocument(floatingElement));\n    const treeContainsActiveEl = nodes.some(node => node.context && contains(node.context.elements.floating, activeEl));\n    if (parent && !treeContainsActiveEl && isPointerModalityRef.current) {\n      parent.focus({\n        preventScroll: true\n      });\n    }\n  }, [enabled, floatingElement, tree, parentId, virtual]);\n  useIsoLayoutEffect(() => {\n    previousOnNavigateRef.current = onNavigate;\n    previousOpenRef.current = open;\n    previousMountedRef.current = !!floatingElement;\n  });\n  useIsoLayoutEffect(() => {\n    if (!open) {\n      keyRef.current = null;\n      focusItemOnOpenRef.current = focusItemOnOpen;\n    }\n  }, [open, focusItemOnOpen]);\n  const hasActiveIndex = activeIndex != null;\n  const item = React.useMemo(() => {\n    function syncCurrentTarget(event) {\n      if (!latestOpenRef.current) {\n        return;\n      }\n      const index = listRef.current.indexOf(event.currentTarget);\n      if (index !== -1 && indexRef.current !== index) {\n        indexRef.current = index;\n        onNavigate(event);\n      }\n    }\n    const itemProps = {\n      onFocus(event) {\n        forceSyncFocusRef.current = true;\n        syncCurrentTarget(event);\n      },\n      onClick: ({\n        currentTarget\n      }) => currentTarget.focus({\n        preventScroll: true\n      }),\n      // Safari\n      onMouseMove(event) {\n        forceSyncFocusRef.current = true;\n        forceScrollIntoViewRef.current = false;\n        if (focusItemOnHover) {\n          syncCurrentTarget(event);\n        }\n      },\n      onPointerLeave(event) {\n        if (!latestOpenRef.current || !isPointerModalityRef.current || event.pointerType === 'touch') {\n          return;\n        }\n        forceSyncFocusRef.current = true;\n        const relatedTarget = event.relatedTarget;\n        if (!focusItemOnHover || listRef.current.includes(relatedTarget)) {\n          return;\n        }\n        if (!resetOnPointerLeaveRef.current) {\n          return;\n        }\n        indexRef.current = -1;\n        onNavigate(event);\n        if (!virtual) {\n          floatingFocusElementRef.current?.focus({\n            preventScroll: true\n          });\n        }\n      }\n    };\n    return itemProps;\n  }, [latestOpenRef, floatingFocusElementRef, focusItemOnHover, listRef, onNavigate, resetOnPointerLeaveRef, virtual]);\n  const getParentOrientation = React.useCallback(() => {\n    return parentOrientation ?? tree?.nodesRef.current.find(node => node.id === parentId)?.context?.dataRef?.current.orientation;\n  }, [parentId, tree, parentOrientation]);\n  const commonOnKeyDown = useStableCallback(event => {\n    isPointerModalityRef.current = false;\n    forceSyncFocusRef.current = true;\n\n    // When composing a character, Chrome fires ArrowDown twice. Firefox/Safari\n    // don't appear to suffer from this. `event.isComposing` is avoided due to\n    // Safari not supporting it properly (although it's not needed in the first\n    // place for Safari, just avoiding any possible issues).\n    if (event.which === 229) {\n      return;\n    }\n\n    // If the floating element is animating out, ignore navigation. Otherwise,\n    // the `activeIndex` gets set to 0 despite not being open so the next time\n    // the user ArrowDowns, the first item won't be focused.\n    if (!latestOpenRef.current && event.currentTarget === floatingFocusElementRef.current) {\n      return;\n    }\n    if (nested && isCrossOrientationCloseKey(event.key, orientation, rtl, cols)) {\n      // If the nested list's close key is also the parent navigation key,\n      // let the parent navigate. Otherwise, stop propagating the event.\n      if (!isMainOrientationKey(event.key, getParentOrientation())) {\n        stopEvent(event);\n      }\n      store.setOpen(false, createChangeEventDetails(REASONS.listNavigation, event.nativeEvent));\n      if (isHTMLElement(domReferenceElement)) {\n        if (virtual) {\n          tree?.events.emit('virtualfocus', domReferenceElement);\n        } else {\n          domReferenceElement.focus();\n        }\n      }\n      return;\n    }\n    const currentIndex = indexRef.current;\n    const minIndex = getMinListIndex(listRef, disabledIndices);\n    const maxIndex = getMaxListIndex(listRef, disabledIndices);\n    if (!typeableComboboxReference) {\n      if (event.key === 'Home') {\n        stopEvent(event);\n        indexRef.current = minIndex;\n        onNavigate(event);\n      }\n      if (event.key === 'End') {\n        stopEvent(event);\n        indexRef.current = maxIndex;\n        onNavigate(event);\n      }\n    }\n\n    // Grid navigation.\n    if (cols > 1) {\n      const sizes = itemSizes || Array.from({\n        length: listRef.current.length\n      }, () => ({\n        width: 1,\n        height: 1\n      }));\n      // To calculate movements on the grid, we use hypothetical cell indices\n      // as if every item was 1x1, then convert back to real indices.\n      const cellMap = createGridCellMap(sizes, cols, dense);\n      const minGridIndex = cellMap.findIndex(index => index != null && !isListIndexDisabled(listRef, index, disabledIndices));\n      // last enabled index\n      const maxGridIndex = cellMap.reduce((foundIndex, index, cellIndex) => index != null && !isListIndexDisabled(listRef, index, disabledIndices) ? cellIndex : foundIndex, -1);\n      const index = cellMap[getGridNavigatedIndex({\n        current: cellMap.map(itemIndex => itemIndex != null ? listRef.current[itemIndex] : null)\n      }, {\n        event,\n        orientation,\n        loopFocus,\n        rtl,\n        cols,\n        // treat undefined (empty grid spaces) as disabled indices so we\n        // don't end up in them\n        disabledIndices: getGridCellIndices([...((typeof disabledIndices !== 'function' ? disabledIndices : null) || listRef.current.map((_, listIndex) => isListIndexDisabled(listRef, listIndex, disabledIndices) ? listIndex : undefined)), undefined], cellMap),\n        minIndex: minGridIndex,\n        maxIndex: maxGridIndex,\n        prevIndex: getGridCellIndexOfCorner(indexRef.current > maxIndex ? minIndex : indexRef.current, sizes, cellMap, cols,\n        // use a corner matching the edge closest to the direction\n        // we're moving in so we don't end up in the same item. Prefer\n        // top/left over bottom/right.\n        // eslint-disable-next-line no-nested-ternary\n        event.key === ARROW_DOWN ? 'bl' : event.key === (rtl ? ARROW_LEFT : ARROW_RIGHT) ? 'tr' : 'tl'),\n        stopEvent: true\n      })];\n      if (index != null) {\n        indexRef.current = index;\n        onNavigate(event);\n      }\n      if (orientation === 'both') {\n        return;\n      }\n    }\n    if (isMainOrientationKey(event.key, orientation)) {\n      stopEvent(event);\n\n      // Reset the index if no item is focused.\n      if (open && !virtual && activeElement(event.currentTarget.ownerDocument) === event.currentTarget) {\n        indexRef.current = isMainOrientationToEndKey(event.key, orientation, rtl) ? minIndex : maxIndex;\n        onNavigate(event);\n        return;\n      }\n      if (isMainOrientationToEndKey(event.key, orientation, rtl)) {\n        if (loopFocus) {\n          if (currentIndex >= maxIndex) {\n            if (allowEscape && currentIndex !== listRef.current.length) {\n              indexRef.current = -1;\n            } else {\n              // Give time for virtualizers to update the listRef.\n              forceSyncFocusRef.current = false;\n              indexRef.current = minIndex;\n            }\n          } else {\n            indexRef.current = findNonDisabledListIndex(listRef, {\n              startingIndex: currentIndex,\n              disabledIndices\n            });\n          }\n        } else {\n          indexRef.current = Math.min(maxIndex, findNonDisabledListIndex(listRef, {\n            startingIndex: currentIndex,\n            disabledIndices\n          }));\n        }\n      } else if (loopFocus) {\n        if (currentIndex <= minIndex) {\n          if (allowEscape && currentIndex !== -1) {\n            indexRef.current = listRef.current.length;\n          } else {\n            // Give time for virtualizers to update the listRef.\n            forceSyncFocusRef.current = false;\n            indexRef.current = maxIndex;\n          }\n        } else {\n          indexRef.current = findNonDisabledListIndex(listRef, {\n            startingIndex: currentIndex,\n            decrement: true,\n            disabledIndices\n          });\n        }\n      } else {\n        indexRef.current = Math.max(minIndex, findNonDisabledListIndex(listRef, {\n          startingIndex: currentIndex,\n          decrement: true,\n          disabledIndices\n        }));\n      }\n      if (isIndexOutOfListBounds(listRef, indexRef.current)) {\n        indexRef.current = -1;\n      }\n      onNavigate(event);\n    }\n  });\n  const ariaActiveDescendantProp = React.useMemo(() => {\n    return virtual && open && hasActiveIndex && {\n      'aria-activedescendant': `${id}-${activeIndex}`\n    };\n  }, [virtual, open, hasActiveIndex, id, activeIndex]);\n  const floating = React.useMemo(() => {\n    return {\n      'aria-orientation': orientation === 'both' ? undefined : orientation,\n      ...(!typeableComboboxReference ? ariaActiveDescendantProp : {}),\n      onKeyDown(event) {\n        // Close submenu on Shift+Tab\n        if (event.key === 'Tab' && event.shiftKey && open && !virtual) {\n          // If the event originated from within a nested element (e.g., a Dialog opened from\n          // within the menu), don't close the menu. The nested element has its own focus\n          // management and should handle the Tab key.\n          const target = getTarget(event.nativeEvent);\n          if (target && !contains(floatingFocusElementRef.current, target)) {\n            return;\n          }\n          stopEvent(event);\n          store.setOpen(false, createChangeEventDetails(REASONS.focusOut, event.nativeEvent));\n          if (isHTMLElement(domReferenceElement)) {\n            domReferenceElement.focus();\n          }\n          return;\n        }\n        commonOnKeyDown(event);\n      },\n      onPointerMove() {\n        isPointerModalityRef.current = true;\n      }\n    };\n  }, [ariaActiveDescendantProp, commonOnKeyDown, floatingFocusElementRef, orientation, typeableComboboxReference, store, open, virtual, domReferenceElement]);\n  const trigger = React.useMemo(() => {\n    function checkVirtualMouse(event) {\n      if (focusItemOnOpen === 'auto' && isVirtualClick(event.nativeEvent)) {\n        focusItemOnOpenRef.current = !virtual;\n      }\n    }\n    function checkVirtualPointer(event) {\n      // `pointerdown` fires first, reset the state then perform the checks.\n      focusItemOnOpenRef.current = focusItemOnOpen;\n      if (focusItemOnOpen === 'auto' && isVirtualPointerEvent(event.nativeEvent)) {\n        focusItemOnOpenRef.current = true;\n      }\n    }\n    return {\n      onKeyDown(event) {\n        // non-reactive open state (to prevent re-creation of the handler)\n        const currentOpen = store.select('open');\n        isPointerModalityRef.current = false;\n        const isArrowKey = event.key.startsWith('Arrow');\n        const isParentCrossOpenKey = isCrossOrientationOpenKey(event.key, getParentOrientation(), rtl);\n        const isMainKey = isMainOrientationKey(event.key, orientation);\n        const isNavigationKey = (nested ? isParentCrossOpenKey : isMainKey) || event.key === 'Enter' || event.key.trim() === '';\n        if (virtual && currentOpen) {\n          return commonOnKeyDown(event);\n        }\n\n        // If a floating element should not open on arrow key down, avoid\n        // setting `activeIndex` while it's closed.\n        if (!currentOpen && !openOnArrowKeyDown && isArrowKey) {\n          return undefined;\n        }\n        if (isNavigationKey) {\n          const isParentMainKey = isMainOrientationKey(event.key, getParentOrientation());\n          keyRef.current = nested && isParentMainKey ? null : event.key;\n        }\n        if (nested) {\n          if (isParentCrossOpenKey) {\n            stopEvent(event);\n            if (currentOpen) {\n              indexRef.current = getMinListIndex(listRef, disabledIndicesRef.current);\n              onNavigate(event);\n            } else {\n              store.setOpen(true, createChangeEventDetails(REASONS.listNavigation, event.nativeEvent, event.currentTarget));\n            }\n          }\n          return undefined;\n        }\n        if (isMainKey) {\n          if (selectedIndexRef.current != null) {\n            indexRef.current = selectedIndexRef.current;\n          }\n          stopEvent(event);\n          if (!currentOpen && openOnArrowKeyDown) {\n            store.setOpen(true, createChangeEventDetails(REASONS.listNavigation, event.nativeEvent, event.currentTarget));\n          } else {\n            commonOnKeyDown(event);\n          }\n          if (currentOpen) {\n            onNavigate(event);\n          }\n        }\n        return undefined;\n      },\n      onFocus(event) {\n        if (store.select('open') && !virtual) {\n          indexRef.current = -1;\n          onNavigate(event);\n        }\n      },\n      onPointerDown: checkVirtualPointer,\n      onPointerEnter: checkVirtualPointer,\n      onMouseDown: checkVirtualMouse,\n      onClick: checkVirtualMouse\n    };\n  }, [commonOnKeyDown, disabledIndicesRef, focusItemOnOpen, listRef, nested, onNavigate, store, openOnArrowKeyDown, orientation, getParentOrientation, rtl, selectedIndexRef, virtual]);\n  const reference = React.useMemo(() => {\n    return {\n      ...ariaActiveDescendantProp,\n      ...trigger\n    };\n  }, [ariaActiveDescendantProp, trigger]);\n  return React.useMemo(() => enabled ? {\n    reference,\n    floating,\n    item,\n    trigger\n  } : {}, [enabled, reference, floating, trigger, item]);\n}", "import * as React from 'react';\nimport { useId } from '@base-ui/utils/useId';\nimport { getFloatingFocusElement } from \"../utils.js\";\nimport { useFloatingParentNodeId } from \"../components/FloatingTree.js\";\nimport { EMPTY_OBJECT } from \"../../utils/constants.js\";\nconst componentRoleToAriaRoleMap = new Map([['select', 'listbox'], ['combobox', 'listbox'], ['label', false]]);\n\n/**\n * Adds base screen reader props to the reference and floating elements for a\n * given floating element `role`.\n * @see https://floating-ui.com/docs/useRole\n */\nexport function useRole(context, props = {}) {\n  const store = 'rootStore' in context ? context.rootStore : context;\n  const open = store.useState('open');\n  const defaultFloatingId = store.useState('floatingId');\n  const domReference = store.useState('domReferenceElement');\n  const floatingElement = store.useState('floatingElement');\n  const {\n    enabled = true,\n    role = 'dialog'\n  } = props;\n  const defaultReferenceId = useId();\n  const referenceId = domReference?.id || defaultReferenceId;\n  const floatingId = React.useMemo(() => getFloatingFocusElement(floatingElement)?.id || defaultFloatingId, [floatingElement, defaultFloatingId]);\n  const ariaRole = componentRoleToAriaRoleMap.get(role) ?? role;\n  const parentId = useFloatingParentNodeId();\n  const isNested = parentId != null;\n  const trigger = React.useMemo(() => {\n    if (ariaRole === 'tooltip' || role === 'label') {\n      return EMPTY_OBJECT;\n    }\n    return {\n      'aria-haspopup': ariaRole === 'alertdialog' ? 'dialog' : ariaRole,\n      'aria-expanded': 'false',\n      ...(ariaRole === 'listbox' && {\n        role: 'combobox'\n      }),\n      ...(ariaRole === 'menu' && isNested && {\n        role: 'menuitem'\n      }),\n      ...(role === 'select' && {\n        'aria-autocomplete': 'none'\n      }),\n      ...(role === 'combobox' && {\n        'aria-autocomplete': 'list'\n      })\n    };\n  }, [ariaRole, isNested, role]);\n  const reference = React.useMemo(() => {\n    if (ariaRole === 'tooltip' || role === 'label') {\n      return {\n        [`aria-${role === 'label' ? 'labelledby' : 'describedby'}`]: open ? floatingId : undefined\n      };\n    }\n    const triggerProps = trigger;\n    return {\n      ...triggerProps,\n      'aria-expanded': open ? 'true' : 'false',\n      'aria-controls': open ? floatingId : undefined,\n      ...(ariaRole === 'menu' && {\n        id: referenceId\n      })\n    };\n  }, [ariaRole, floatingId, open, referenceId, role, trigger]);\n  const floating = React.useMemo(() => {\n    const floatingProps = {\n      id: floatingId,\n      ...(ariaRole && {\n        role: ariaRole\n      })\n    };\n    if (ariaRole === 'tooltip' || role === 'label') {\n      return floatingProps;\n    }\n    return {\n      ...floatingProps,\n      ...(ariaRole === 'menu' && {\n        'aria-labelledby': referenceId\n      })\n    };\n  }, [ariaRole, floatingId, referenceId, role]);\n  const item = React.useCallback(({\n    active,\n    selected\n  }) => {\n    const commonProps = {\n      role: 'option',\n      ...(active && {\n        id: `${floatingId}-fui-option`\n      })\n    };\n\n    // For `menu`, we are unable to tell if the item is a `menuitemradio`\n    // or `menuitemcheckbox`. For backwards-compatibility reasons, also\n    // avoid defaulting to `menuitem` as it may overwrite custom role props.\n    switch (role) {\n      case 'select':\n      case 'combobox':\n        return {\n          ...commonProps,\n          'aria-selected': selected\n        };\n      default:\n    }\n    return {};\n  }, [floatingId, role]);\n  return React.useMemo(() => enabled ? {\n    reference,\n    floating,\n    item,\n    trigger\n  } : {}, [enabled, reference, floating, trigger, item]);\n}", "import * as React from 'react';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useTimeout } from '@base-ui/utils/useTimeout';\nimport { stopEvent } from \"../utils.js\";\nimport { EMPTY_ARRAY } from \"../../utils/constants.js\";\n/**\n * Provides a matching callback that can be used to focus an item as the user\n * types, often used in tandem with `useListNavigation()`.\n * @see https://floating-ui.com/docs/useTypeahead\n */\nexport function useTypeahead(context, props) {\n  const store = 'rootStore' in context ? context.rootStore : context;\n  const open = store.useState('open');\n  const dataRef = store.context.dataRef;\n  const {\n    listRef,\n    activeIndex,\n    onMatch: onMatchProp,\n    onTypingChange,\n    enabled = true,\n    findMatch = null,\n    resetMs = 750,\n    ignoreKeys = EMPTY_ARRAY,\n    selectedIndex = null\n  } = props;\n  const timeout = useTimeout();\n  const stringRef = React.useRef('');\n  const prevIndexRef = React.useRef(selectedIndex ?? activeIndex ?? -1);\n  const matchIndexRef = React.useRef(null);\n  useIsoLayoutEffect(() => {\n    if (open) {\n      timeout.clear();\n      matchIndexRef.current = null;\n      stringRef.current = '';\n    }\n  }, [open, timeout]);\n  useIsoLayoutEffect(() => {\n    // Sync arrow key navigation but not typeahead navigation.\n    if (open && stringRef.current === '') {\n      prevIndexRef.current = selectedIndex ?? activeIndex ?? -1;\n    }\n  }, [open, selectedIndex, activeIndex]);\n  const setTypingChange = useStableCallback(value => {\n    if (value) {\n      if (!dataRef.current.typing) {\n        dataRef.current.typing = value;\n        onTypingChange?.(value);\n      }\n    } else if (dataRef.current.typing) {\n      dataRef.current.typing = value;\n      onTypingChange?.(value);\n    }\n  });\n  const onKeyDown = useStableCallback(event => {\n    function getMatchingIndex(list, orderedList, string) {\n      const str = findMatch ? findMatch(orderedList, string) : orderedList.find(text => text?.toLocaleLowerCase().indexOf(string.toLocaleLowerCase()) === 0);\n      return str ? list.indexOf(str) : -1;\n    }\n    const listContent = listRef.current;\n    if (stringRef.current.length > 0 && stringRef.current[0] !== ' ') {\n      if (getMatchingIndex(listContent, listContent, stringRef.current) === -1) {\n        setTypingChange(false);\n      } else if (event.key === ' ') {\n        stopEvent(event);\n      }\n    }\n    if (listContent == null || ignoreKeys.includes(event.key) ||\n    // Character key.\n    event.key.length !== 1 ||\n    // Modifier key.\n    event.ctrlKey || event.metaKey || event.altKey) {\n      return;\n    }\n    if (open && event.key !== ' ') {\n      stopEvent(event);\n      setTypingChange(true);\n    }\n\n    // Bail out if the list contains a word like \"llama\" or \"aaron\". TODO:\n    // allow it in this case, too.\n    const allowRapidSuccessionOfFirstLetter = listContent.every(text => text ? text[0]?.toLocaleLowerCase() !== text[1]?.toLocaleLowerCase() : true);\n\n    // Allows the user to cycle through items that start with the same letter\n    // in rapid succession.\n    if (allowRapidSuccessionOfFirstLetter && stringRef.current === event.key) {\n      stringRef.current = '';\n      prevIndexRef.current = matchIndexRef.current;\n    }\n    stringRef.current += event.key;\n    timeout.start(resetMs, () => {\n      stringRef.current = '';\n      prevIndexRef.current = matchIndexRef.current;\n      setTypingChange(false);\n    });\n    const prevIndex = prevIndexRef.current;\n    const index = getMatchingIndex(listContent, [...listContent.slice((prevIndex || 0) + 1), ...listContent.slice(0, (prevIndex || 0) + 1)], stringRef.current);\n    if (index !== -1) {\n      onMatchProp?.(index);\n      matchIndexRef.current = index;\n    } else if (event.key !== ' ') {\n      stringRef.current = '';\n      setTypingChange(false);\n    }\n  });\n  const reference = React.useMemo(() => ({\n    onKeyDown\n  }), [onKeyDown]);\n  const floating = React.useMemo(() => {\n    return {\n      onKeyDown,\n      onKeyUp(event) {\n        if (event.key === ' ') {\n          setTypingChange(false);\n        }\n      }\n    };\n  }, [onKeyDown, setTypingChange]);\n  return React.useMemo(() => enabled ? {\n    reference,\n    floating\n  } : {}, [enabled, reference, floating]);\n}", "import { isElement } from '@floating-ui/utils/dom';\nimport { Timeout } from '@base-ui/utils/useTimeout';\nimport { contains, getTarget } from \"./utils/element.js\";\nimport { getNodeChildren } from \"./utils/nodes.js\";\n\n/* eslint-disable no-nested-ternary */\n\nfunction isPointInPolygon(point, polygon) {\n  const [x, y] = point;\n  let isInsideValue = false;\n  const length = polygon.length;\n  // eslint-disable-next-line no-plusplus\n  for (let i = 0, j = length - 1; i < length; j = i++) {\n    const [xi, yi] = polygon[i] || [0, 0];\n    const [xj, yj] = polygon[j] || [0, 0];\n    const intersect = yi >= y !== yj >= y && x <= (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect) {\n      isInsideValue = !isInsideValue;\n    }\n  }\n  return isInsideValue;\n}\nfunction isInside(point, rect) {\n  return point[0] >= rect.x && point[0] <= rect.x + rect.width && point[1] >= rect.y && point[1] <= rect.y + rect.height;\n}\n/**\n * Generates a safe polygon area that the user can traverse without closing the\n * floating element once leaving the reference element.\n * @see https://floating-ui.com/docs/useHover#safepolygon\n */\nexport function safePolygon(options = {}) {\n  const {\n    buffer = 0.5,\n    blockPointerEvents = false,\n    requireIntent = true\n  } = options;\n  const timeout = new Timeout();\n  let hasLanded = false;\n  let lastX = null;\n  let lastY = null;\n  let lastCursorTime = typeof performance !== 'undefined' ? performance.now() : 0;\n  function getCursorSpeed(x, y) {\n    const currentTime = performance.now();\n    const elapsedTime = currentTime - lastCursorTime;\n    if (lastX === null || lastY === null || elapsedTime === 0) {\n      lastX = x;\n      lastY = y;\n      lastCursorTime = currentTime;\n      return null;\n    }\n    const deltaX = x - lastX;\n    const deltaY = y - lastY;\n    const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n    const speed = distance / elapsedTime; // px / ms\n\n    lastX = x;\n    lastY = y;\n    lastCursorTime = currentTime;\n    return speed;\n  }\n  const fn = ({\n    x,\n    y,\n    placement,\n    elements,\n    onClose,\n    nodeId,\n    tree\n  }) => {\n    return function onMouseMove(event) {\n      function close() {\n        timeout.clear();\n        onClose();\n      }\n      timeout.clear();\n      if (!elements.domReference || !elements.floating || placement == null || x == null || y == null) {\n        return undefined;\n      }\n      const {\n        clientX,\n        clientY\n      } = event;\n      const clientPoint = [clientX, clientY];\n      const target = getTarget(event);\n      const isLeave = event.type === 'mouseleave';\n      const isOverFloatingEl = contains(elements.floating, target);\n      const isOverReferenceEl = contains(elements.domReference, target);\n      const refRect = elements.domReference.getBoundingClientRect();\n      const rect = elements.floating.getBoundingClientRect();\n      const side = placement.split('-')[0];\n      const cursorLeaveFromRight = x > rect.right - rect.width / 2;\n      const cursorLeaveFromBottom = y > rect.bottom - rect.height / 2;\n      const isOverReferenceRect = isInside(clientPoint, refRect);\n      const isFloatingWider = rect.width > refRect.width;\n      const isFloatingTaller = rect.height > refRect.height;\n      const left = (isFloatingWider ? refRect : rect).left;\n      const right = (isFloatingWider ? refRect : rect).right;\n      const top = (isFloatingTaller ? refRect : rect).top;\n      const bottom = (isFloatingTaller ? refRect : rect).bottom;\n      if (isOverFloatingEl) {\n        hasLanded = true;\n        if (!isLeave) {\n          return undefined;\n        }\n      }\n      if (isOverReferenceEl) {\n        hasLanded = false;\n      }\n      if (isOverReferenceEl && !isLeave) {\n        hasLanded = true;\n        return undefined;\n      }\n\n      // Prevent overlapping floating element from being stuck in an open-close\n      // loop: https://github.com/floating-ui/floating-ui/issues/1910\n      if (isLeave && isElement(event.relatedTarget) && contains(elements.floating, event.relatedTarget)) {\n        return undefined;\n      }\n\n      // If any nested child is open, abort.\n      if (tree && getNodeChildren(tree.nodesRef.current, nodeId).some(({\n        context\n      }) => context?.open)) {\n        return undefined;\n      }\n\n      // If the pointer is leaving from the opposite side, the \"buffer\" logic\n      // creates a point where the floating element remains open, but should be\n      // ignored.\n      // A constant of 1 handles floating point rounding errors.\n      if (side === 'top' && y >= refRect.bottom - 1 || side === 'bottom' && y <= refRect.top + 1 || side === 'left' && x >= refRect.right - 1 || side === 'right' && x <= refRect.left + 1) {\n        return close();\n      }\n\n      // Ignore when the cursor is within the rectangular trough between the\n      // two elements. Since the triangle is created from the cursor point,\n      // which can start beyond the ref element's edge, traversing back and\n      // forth from the ref to the floating element can cause it to close. This\n      // ensures it always remains open in that case.\n      let rectPoly = [];\n      switch (side) {\n        case 'top':\n          rectPoly = [[left, refRect.top + 1], [left, rect.bottom - 1], [right, rect.bottom - 1], [right, refRect.top + 1]];\n          break;\n        case 'bottom':\n          rectPoly = [[left, rect.top + 1], [left, refRect.bottom - 1], [right, refRect.bottom - 1], [right, rect.top + 1]];\n          break;\n        case 'left':\n          rectPoly = [[rect.right - 1, bottom], [rect.right - 1, top], [refRect.left + 1, top], [refRect.left + 1, bottom]];\n          break;\n        case 'right':\n          rectPoly = [[refRect.right - 1, bottom], [refRect.right - 1, top], [rect.left + 1, top], [rect.left + 1, bottom]];\n          break;\n        default:\n      }\n      function getPolygon([px, py]) {\n        switch (side) {\n          case 'top':\n            {\n              const cursorPointOne = [isFloatingWider ? px + buffer / 2 : cursorLeaveFromRight ? px + buffer * 4 : px - buffer * 4, py + buffer + 1];\n              const cursorPointTwo = [isFloatingWider ? px - buffer / 2 : cursorLeaveFromRight ? px + buffer * 4 : px - buffer * 4, py + buffer + 1];\n              const commonPoints = [[rect.left, cursorLeaveFromRight ? rect.bottom - buffer : isFloatingWider ? rect.bottom - buffer : rect.top], [rect.right, cursorLeaveFromRight ? isFloatingWider ? rect.bottom - buffer : rect.top : rect.bottom - buffer]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n          case 'bottom':\n            {\n              const cursorPointOne = [isFloatingWider ? px + buffer / 2 : cursorLeaveFromRight ? px + buffer * 4 : px - buffer * 4, py - buffer];\n              const cursorPointTwo = [isFloatingWider ? px - buffer / 2 : cursorLeaveFromRight ? px + buffer * 4 : px - buffer * 4, py - buffer];\n              const commonPoints = [[rect.left, cursorLeaveFromRight ? rect.top + buffer : isFloatingWider ? rect.top + buffer : rect.bottom], [rect.right, cursorLeaveFromRight ? isFloatingWider ? rect.top + buffer : rect.bottom : rect.top + buffer]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n          case 'left':\n            {\n              const cursorPointOne = [px + buffer + 1, isFloatingTaller ? py + buffer / 2 : cursorLeaveFromBottom ? py + buffer * 4 : py - buffer * 4];\n              const cursorPointTwo = [px + buffer + 1, isFloatingTaller ? py - buffer / 2 : cursorLeaveFromBottom ? py + buffer * 4 : py - buffer * 4];\n              const commonPoints = [[cursorLeaveFromBottom ? rect.right - buffer : isFloatingTaller ? rect.right - buffer : rect.left, rect.top], [cursorLeaveFromBottom ? isFloatingTaller ? rect.right - buffer : rect.left : rect.right - buffer, rect.bottom]];\n              return [...commonPoints, cursorPointOne, cursorPointTwo];\n            }\n          case 'right':\n            {\n              const cursorPointOne = [px - buffer, isFloatingTaller ? py + buffer / 2 : cursorLeaveFromBottom ? py + buffer * 4 : py - buffer * 4];\n              const cursorPointTwo = [px - buffer, isFloatingTaller ? py - buffer / 2 : cursorLeaveFromBottom ? py + buffer * 4 : py - buffer * 4];\n              const commonPoints = [[cursorLeaveFromBottom ? rect.left + buffer : isFloatingTaller ? rect.left + buffer : rect.right, rect.top], [cursorLeaveFromBottom ? isFloatingTaller ? rect.left + buffer : rect.right : rect.left + buffer, rect.bottom]];\n              return [cursorPointOne, cursorPointTwo, ...commonPoints];\n            }\n          default:\n            return [];\n        }\n      }\n      if (isPointInPolygon([clientX, clientY], rectPoly)) {\n        return undefined;\n      }\n      if (hasLanded && !isOverReferenceRect) {\n        return close();\n      }\n      if (!isLeave && requireIntent) {\n        const cursorSpeed = getCursorSpeed(event.clientX, event.clientY);\n        const cursorSpeedThreshold = 0.1;\n        if (cursorSpeed !== null && cursorSpeed < cursorSpeedThreshold) {\n          return close();\n        }\n      }\n      if (!isPointInPolygon([clientX, clientY], getPolygon([x, y]))) {\n        close();\n      } else if (!hasLanded && requireIntent) {\n        timeout.start(40, close);\n      }\n      return undefined;\n    };\n  };\n\n  // eslint-disable-next-line no-underscore-dangle\n  fn.__options = {\n    blockPointerEvents\n  };\n  return fn;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useEnhancedClickHandler } from '@base-ui/utils/useEnhancedClickHandler';\nimport { isIOS } from '@base-ui/utils/detectBrowser';\n\n/**\n * Determines the interaction type (keyboard, mouse, touch, etc.) that opened the component.\n *\n * @param open The open state of the component.\n */\nexport function useOpenInteractionType(open) {\n  const [openMethod, setOpenMethod] = React.useState(null);\n  const handleTriggerClick = useStableCallback((_, interactionType) => {\n    if (!open) {\n      setOpenMethod(interactionType || (\n      // On iOS Safari, the hitslop around touch targets means tapping outside an element's\n      // bounds does not fire `pointerdown` but does fire `mousedown`. The `interactionType`\n      // will be \"\" in that case.\n      isIOS ? 'touch' : ''));\n    }\n  });\n  const reset = React.useCallback(() => {\n    setOpenMethod(null);\n  }, []);\n  const {\n    onClick,\n    onPointerDown\n  } = useEnhancedClickHandler(handleTriggerClick);\n  return React.useMemo(() => ({\n    openMethod,\n    reset,\n    triggerProps: {\n      onClick,\n      onPointerDown\n    }\n  }), [openMethod, reset, onClick, onPointerDown]);\n}", "import * as React from 'react';\n/**\n * Provides a cross-browser way to determine the type of the pointer used to click.\n * Safari and Firefox do not provide the PointerEvent to the click handler (they use MouseEvent) yet.\n * Additionally, this implementation detects if the click was triggered by the keyboard.\n *\n * @param handler The function to be called when the button is clicked. The first parameter is the original event and the second parameter is the pointer type.\n */\nexport function useEnhancedClickHandler(handler) {\n  const lastClickInteractionTypeRef = React.useRef('');\n  const handlePointerDown = React.useCallback(event => {\n    if (event.defaultPrevented) {\n      return;\n    }\n    lastClickInteractionTypeRef.current = event.pointerType;\n    handler(event, event.pointerType);\n  }, [handler]);\n  const handleClick = React.useCallback(event => {\n    // event.detail has the number of clicks performed on the element. 0 means it was triggered by the keyboard.\n    if (event.detail === 0) {\n      handler(event, 'keyboard');\n      return;\n    }\n    if ('pointerType' in event) {\n      // Chrome and Edge correctly use PointerEvent\n      handler(event, event.pointerType);\n    }\n    handler(event, lastClickInteractionTypeRef.current);\n    lastClickInteractionTypeRef.current = '';\n  }, [handler]);\n  return {\n    onClick: handleClick,\n    onPointerDown: handlePointerDown\n  };\n}", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const DialogRootContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") DialogRootContext.displayName = \"DialogRootContext\";\nexport function useDialogRootContext(optional) {\n  const dialogRootContext = React.useContext(DialogRootContext);\n  if (optional === false && dialogRootContext === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: DialogRootContext is missing. Dialog parts must be placed within <Dialog.Root>.' : _formatErrorMessage(27));\n  }\n  return dialogRootContext;\n}", "import * as React from 'react';\nimport { createSelector, ReactStore } from '@base-ui/utils/store';\nimport { createInitialPopupStoreState, popupStoreSelectors, PopupTriggerMap } from \"../../utils/popups/index.js\";\nconst selectors = {\n  ...popupStoreSelectors,\n  modal: createSelector(state => state.modal),\n  nested: createSelector(state => state.nested),\n  nestedOpenDialogCount: createSelector(state => state.nestedOpenDialogCount),\n  disablePointerDismissal: createSelector(state => state.disablePointerDismissal),\n  openMethod: createSelector(state => state.openMethod),\n  descriptionElementId: createSelector(state => state.descriptionElementId),\n  titleElementId: createSelector(state => state.titleElementId),\n  viewportElement: createSelector(state => state.viewportElement),\n  role: createSelector(state => state.role)\n};\nexport class DialogStore extends ReactStore {\n  constructor(initialState) {\n    super(createInitialState(initialState), {\n      popupRef: /*#__PURE__*/React.createRef(),\n      backdropRef: /*#__PURE__*/React.createRef(),\n      internalBackdropRef: /*#__PURE__*/React.createRef(),\n      triggerElements: new PopupTriggerMap(),\n      onOpenChange: undefined,\n      onOpenChangeComplete: undefined\n    }, selectors);\n  }\n  setOpen = (nextOpen, eventDetails) => {\n    eventDetails.preventUnmountOnClose = () => {\n      this.set('preventUnmountingOnClose', true);\n    };\n    if (!nextOpen && eventDetails.trigger == null && this.state.activeTriggerId != null) {\n      // When closing the dialog, pass the old trigger to the onOpenChange event\n      // so it's not reset too early (potentially causing focus issues in controlled scenarios).\n      eventDetails.trigger = this.state.activeTriggerElement ?? undefined;\n    }\n    this.context.onOpenChange?.(nextOpen, eventDetails);\n    if (eventDetails.isCanceled) {\n      return;\n    }\n    const details = {\n      open: nextOpen,\n      nativeEvent: eventDetails.event,\n      reason: eventDetails.reason,\n      nested: this.state.nested\n    };\n    this.state.floatingRootContext.context.events?.emit('openchange', details);\n    const updatedState = {\n      open: nextOpen\n    };\n\n    // If a popup is closing, the `trigger` may be null.\n    // We want to keep the previous value so that exit animations are played and focus is returned correctly.\n    const newTriggerId = eventDetails.trigger?.id ?? null;\n    if (newTriggerId || nextOpen) {\n      updatedState.activeTriggerId = newTriggerId;\n      updatedState.activeTriggerElement = eventDetails.trigger ?? null;\n    }\n    this.update(updatedState);\n  };\n}\nfunction createInitialState(initialState = {}) {\n  return {\n    ...createInitialPopupStoreState(),\n    modal: true,\n    disablePointerDismissal: false,\n    popupElement: null,\n    viewportElement: null,\n    descriptionElementId: undefined,\n    titleElementId: undefined,\n    openMethod: null,\n    nested: false,\n    nestedOpenDialogCount: 0,\n    role: 'dialog',\n    ...initialState\n  };\n}", "'use client';\n\nimport * as React from 'react';\nimport { useDialogRootContext } from \"../root/DialogRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { popupStateMapping as baseMapping } from \"../../utils/popupStateMapping.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nconst stateAttributesMapping = {\n  ...baseMapping,\n  ...transitionStatusMapping\n};\n\n/**\n * An overlay displayed beneath the popup.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Dialog](https://base-ui.com/react/components/dialog)\n */\nexport const DialogBackdrop = /*#__PURE__*/React.forwardRef(function DialogBackdrop(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    forceRender = false,\n    ...elementProps\n  } = componentProps;\n  const {\n    store\n  } = useDialogRootContext();\n  const open = store.useState('open');\n  const nested = store.useState('nested');\n  const mounted = store.useState('mounted');\n  const transitionStatus = store.useState('transitionStatus');\n  const state = React.useMemo(() => ({\n    open,\n    transitionStatus\n  }), [open, transitionStatus]);\n  return useRenderElement('div', componentProps, {\n    state,\n    ref: [store.context.backdropRef, forwardedRef],\n    stateAttributesMapping,\n    props: [{\n      role: 'presentation',\n      hidden: !mounted,\n      style: {\n        userSelect: 'none',\n        WebkitUserSelect: 'none'\n      }\n    }, elementProps],\n    enabled: forceRender || !nested\n  });\n});\nif (process.env.NODE_ENV !== \"production\") DialogBackdrop.displayName = \"DialogBackdrop\";", "import { TransitionStatusDataAttributes } from \"./stateAttributesMapping.js\";\nexport let CommonPopupDataAttributes = function (CommonPopupDataAttributes) {\n  /**\n   * Present when the popup is open.\n   */\n  CommonPopupDataAttributes[\"open\"] = \"data-open\";\n  /**\n   * Present when the popup is closed.\n   */\n  CommonPopupDataAttributes[\"closed\"] = \"data-closed\";\n  /**\n   * Present when the popup is animating in.\n   */\n  CommonPopupDataAttributes[CommonPopupDataAttributes[\"startingStyle\"] = TransitionStatusDataAttributes.startingStyle] = \"startingStyle\";\n  /**\n   * Present when the popup is animating out.\n   */\n  CommonPopupDataAttributes[CommonPopupDataAttributes[\"endingStyle\"] = TransitionStatusDataAttributes.endingStyle] = \"endingStyle\";\n  /**\n   * Present when the anchor is hidden.\n   */\n  CommonPopupDataAttributes[\"anchorHidden\"] = \"data-anchor-hidden\";\n  return CommonPopupDataAttributes;\n}({});\nexport let CommonTriggerDataAttributes = /*#__PURE__*/function (CommonTriggerDataAttributes) {\n  /**\n   * Present when the popup is open.\n   */\n  CommonTriggerDataAttributes[\"popupOpen\"] = \"data-popup-open\";\n  /**\n   * Present when a pressable trigger is pressed.\n   */\n  CommonTriggerDataAttributes[\"pressed\"] = \"data-pressed\";\n  return CommonTriggerDataAttributes;\n}({});\nconst TRIGGER_HOOK = {\n  [CommonTriggerDataAttributes.popupOpen]: ''\n};\nconst PRESSABLE_TRIGGER_HOOK = {\n  [CommonTriggerDataAttributes.popupOpen]: '',\n  [CommonTriggerDataAttributes.pressed]: ''\n};\nconst POPUP_OPEN_HOOK = {\n  [CommonPopupDataAttributes.open]: ''\n};\nconst POPUP_CLOSED_HOOK = {\n  [CommonPopupDataAttributes.closed]: ''\n};\nconst ANCHOR_HIDDEN_HOOK = {\n  [CommonPopupDataAttributes.anchorHidden]: ''\n};\nexport const triggerOpenStateMapping = {\n  open(value) {\n    if (value) {\n      return TRIGGER_HOOK;\n    }\n    return null;\n  }\n};\nexport const pressableTriggerOpenStateMapping = {\n  open(value) {\n    if (value) {\n      return PRESSABLE_TRIGGER_HOOK;\n    }\n    return null;\n  }\n};\nexport const popupStateMapping = {\n  open(value) {\n    if (value) {\n      return POPUP_OPEN_HOOK;\n    }\n    return POPUP_CLOSED_HOOK;\n  },\n  anchorHidden(value) {\n    if (value) {\n      return ANCHOR_HIDDEN_HOOK;\n    }\n    return null;\n  }\n};", "'use client';\n\nimport * as React from 'react';\nimport { useDialogRootContext } from \"../root/DialogRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useButton } from \"../../use-button/index.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\n\n/**\n * A button that closes the dialog.\n * Renders a `<button>` element.\n *\n * Documentation: [Base UI Dialog](https://base-ui.com/react/components/dialog)\n */\nexport const DialogClose = /*#__PURE__*/React.forwardRef(function DialogClose(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    disabled = false,\n    nativeButton = true,\n    ...elementProps\n  } = componentProps;\n  const {\n    store\n  } = useDialogRootContext();\n  const open = store.useState('open');\n  function handleClick(event) {\n    if (open) {\n      store.setOpen(false, createChangeEventDetails(REASONS.closePress, event.nativeEvent));\n    }\n  }\n  const {\n    getButtonProps,\n    buttonRef\n  } = useButton({\n    disabled,\n    native: nativeButton\n  });\n  const state = React.useMemo(() => ({\n    disabled\n  }), [disabled]);\n  return useRenderElement('button', componentProps, {\n    state,\n    ref: [forwardedRef, buttonRef],\n    props: [{\n      onClick: handleClick\n    }, elementProps, getButtonProps]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") DialogClose.displayName = \"DialogClose\";", "'use client';\n\nimport * as React from 'react';\nimport { useDialogRootContext } from \"../root/DialogRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\n/**\n * A paragraph with additional information about the dialog.\n * Renders a `<p>` element.\n *\n * Documentation: [Base UI Dialog](https://base-ui.com/react/components/dialog)\n */\nexport const DialogDescription = /*#__PURE__*/React.forwardRef(function DialogDescription(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    id: idProp,\n    ...elementProps\n  } = componentProps;\n  const {\n    store\n  } = useDialogRootContext();\n  const id = useBaseUiId(idProp);\n  store.useSyncedValueWithCleanup('descriptionElementId', id);\n  return useRenderElement('p', componentProps, {\n    ref: forwardedRef,\n    props: [{\n      id\n    }, elementProps]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") DialogDescription.displayName = \"DialogDescription\";", "'use client';\n\nimport * as React from 'react';\nimport { FloatingFocusManager } from \"../../floating-ui-react/index.js\";\nimport { useDialogRootContext } from \"../root/DialogRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { popupStateMapping as baseMapping } from \"../../utils/popupStateMapping.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { DialogPopupCssVars } from \"./DialogPopupCssVars.js\";\nimport { DialogPopupDataAttributes } from \"./DialogPopupDataAttributes.js\";\nimport { useDialogPortalContext } from \"../portal/DialogPortalContext.js\";\nimport { useOpenChangeComplete } from \"../../utils/useOpenChangeComplete.js\";\nimport { COMPOSITE_KEYS } from \"../../composite/composite.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst stateAttributesMapping = {\n  ...baseMapping,\n  ...transitionStatusMapping,\n  nestedDialogOpen(value) {\n    return value ? {\n      [DialogPopupDataAttributes.nestedDialogOpen]: ''\n    } : null;\n  }\n};\n\n/**\n * A container for the dialog contents.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Dialog](https://base-ui.com/react/components/dialog)\n */\nexport const DialogPopup = /*#__PURE__*/React.forwardRef(function DialogPopup(componentProps, forwardedRef) {\n  const {\n    className,\n    finalFocus,\n    initialFocus,\n    render,\n    ...elementProps\n  } = componentProps;\n  const {\n    store\n  } = useDialogRootContext();\n  const descriptionElementId = store.useState('descriptionElementId');\n  const disablePointerDismissal = store.useState('disablePointerDismissal');\n  const floatingRootContext = store.useState('floatingRootContext');\n  const rootPopupProps = store.useState('popupProps');\n  const modal = store.useState('modal');\n  const mounted = store.useState('mounted');\n  const nested = store.useState('nested');\n  const nestedOpenDialogCount = store.useState('nestedOpenDialogCount');\n  const open = store.useState('open');\n  const openMethod = store.useState('openMethod');\n  const titleElementId = store.useState('titleElementId');\n  const transitionStatus = store.useState('transitionStatus');\n  const role = store.useState('role');\n  useDialogPortalContext();\n  useOpenChangeComplete({\n    open,\n    ref: store.context.popupRef,\n    onComplete() {\n      if (open) {\n        store.context.onOpenChangeComplete?.(true);\n      }\n    }\n  });\n\n  // Default initial focus logic:\n  // If opened by touch, focus the popup element to prevent the virtual keyboard from opening\n  // (this is required for Android specifically as iOS handles this automatically).\n  function defaultInitialFocus(interactionType) {\n    if (interactionType === 'touch') {\n      return store.context.popupRef.current;\n    }\n    return true;\n  }\n  const resolvedInitialFocus = initialFocus === undefined ? defaultInitialFocus : initialFocus;\n  const nestedDialogOpen = nestedOpenDialogCount > 0;\n  const state = React.useMemo(() => ({\n    open,\n    nested,\n    transitionStatus,\n    nestedDialogOpen\n  }), [open, nested, transitionStatus, nestedDialogOpen]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    props: [rootPopupProps, {\n      'aria-labelledby': titleElementId ?? undefined,\n      'aria-describedby': descriptionElementId ?? undefined,\n      role,\n      tabIndex: -1,\n      hidden: !mounted,\n      onKeyDown(event) {\n        if (COMPOSITE_KEYS.has(event.key)) {\n          event.stopPropagation();\n        }\n      },\n      style: {\n        [DialogPopupCssVars.nestedDialogs]: nestedOpenDialogCount\n      }\n    }, elementProps],\n    ref: [forwardedRef, store.context.popupRef, store.useStateSetter('popupElement')],\n    stateAttributesMapping\n  });\n  return /*#__PURE__*/_jsx(FloatingFocusManager, {\n    context: floatingRootContext,\n    openInteractionType: openMethod,\n    disabled: !mounted,\n    closeOnFocusOut: !disablePointerDismissal,\n    initialFocus: resolvedInitialFocus,\n    returnFocus: finalFocus,\n    modal: modal !== false,\n    restoreFocus: \"popup\",\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") DialogPopup.displayName = \"DialogPopup\";", "export let DialogPopupCssVars = /*#__PURE__*/function (DialogPopupCssVars) {\n  /**\n   * Indicates how many dialogs are nested within.\n   * @type {number}\n   */\n  DialogPopupCssVars[\"nestedDialogs\"] = \"--nested-dialogs\";\n  return DialogPopupCssVars;\n}({});", "import { CommonPopupDataAttributes } from \"../../utils/popupStateMapping.js\";\nexport let DialogPopupDataAttributes = function (DialogPopupDataAttributes) {\n  /**\n   * Present when the dialog is open.\n   */\n  DialogPopupDataAttributes[DialogPopupDataAttributes[\"open\"] = CommonPopupDataAttributes.open] = \"open\";\n  /**\n   * Present when the dialog is closed.\n   */\n  DialogPopupDataAttributes[DialogPopupDataAttributes[\"closed\"] = CommonPopupDataAttributes.closed] = \"closed\";\n  /**\n   * Present when the dialog is animating in.\n   */\n  DialogPopupDataAttributes[DialogPopupDataAttributes[\"startingStyle\"] = CommonPopupDataAttributes.startingStyle] = \"startingStyle\";\n  /**\n   * Present when the dialog is animating out.\n   */\n  DialogPopupDataAttributes[DialogPopupDataAttributes[\"endingStyle\"] = CommonPopupDataAttributes.endingStyle] = \"endingStyle\";\n  /**\n   * Present when the dialog is nested within another dialog.\n   */\n  DialogPopupDataAttributes[\"nested\"] = \"data-nested\";\n  /**\n   * Present when the dialog has other open dialogs nested within it.\n   */\n  DialogPopupDataAttributes[\"nestedDialogOpen\"] = \"data-nested-dialog-open\";\n  return DialogPopupDataAttributes;\n}({});", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const DialogPortalContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") DialogPortalContext.displayName = \"DialogPortalContext\";\nexport function useDialogPortalContext() {\n  const value = React.useContext(DialogPortalContext);\n  if (value === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: <Dialog.Portal> is missing.' : _formatErrorMessage(26));\n  }\n  return value;\n}", "'use client';\n\nimport * as React from 'react';\nimport { inertValue } from '@base-ui/utils/inertValue';\nimport { FloatingPortal } from \"../../floating-ui-react/index.js\";\nimport { useDialogRootContext } from \"../root/DialogRootContext.js\";\nimport { DialogPortalContext } from \"./DialogPortalContext.js\";\nimport { InternalBackdrop } from \"../../utils/InternalBackdrop.js\";\n\n/**\n * A portal element that moves the popup to a different part of the DOM.\n * By default, the portal element is appended to `<body>`.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Dialog](https://base-ui.com/react/components/dialog)\n */\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const DialogPortal = /*#__PURE__*/React.forwardRef(function DialogPortal(props, forwardedRef) {\n  const {\n    keepMounted = false,\n    ...portalProps\n  } = props;\n  const {\n    store\n  } = useDialogRootContext();\n  const mounted = store.useState('mounted');\n  const modal = store.useState('modal');\n  const open = store.useState('open');\n  const shouldRender = mounted || keepMounted;\n  if (!shouldRender) {\n    return null;\n  }\n  return /*#__PURE__*/_jsx(DialogPortalContext.Provider, {\n    value: keepMounted,\n    children: /*#__PURE__*/_jsxs(FloatingPortal, {\n      ref: forwardedRef,\n      ...portalProps,\n      children: [mounted && modal === true && /*#__PURE__*/_jsx(InternalBackdrop, {\n        ref: store.context.internalBackdropRef,\n        inert: inertValue(!open)\n      }), props.children]\n    })\n  });\n});\nif (process.env.NODE_ENV !== \"production\") DialogPortal.displayName = \"DialogPortal\";", "import { isReactVersionAtLeast } from \"./reactVersion.js\";\nexport function inertValue(value) {\n  if (isReactVersionAtLeast(19)) {\n    return value;\n  }\n  // compatibility with React < 19\n  return value ? 'true' : undefined;\n}", "import * as React from 'react';\n\n/**\n * @internal\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const InternalBackdrop = /*#__PURE__*/React.forwardRef(function InternalBackdrop(props, ref) {\n  const {\n    cutout,\n    ...otherProps\n  } = props;\n  let clipPath;\n  if (cutout) {\n    const rect = cutout?.getBoundingClientRect();\n    clipPath = `polygon(\n      0% 0%,\n      100% 0%,\n      100% 100%,\n      0% 100%,\n      0% 0%,\n      ${rect.left}px ${rect.top}px,\n      ${rect.left}px ${rect.bottom}px,\n      ${rect.right}px ${rect.bottom}px,\n      ${rect.right}px ${rect.top}px,\n      ${rect.left}px ${rect.top}px\n    )`;\n  }\n  return /*#__PURE__*/_jsx(\"div\", {\n    ref: ref,\n    role: \"presentation\"\n    // Ensures Floating UI's outside press detection runs, as it considers\n    // it an element that existed when the popup rendered.\n    ,\n    \"data-base-ui-inert\": \"\",\n    ...otherProps,\n    style: {\n      position: 'fixed',\n      inset: 0,\n      userSelect: 'none',\n      WebkitUserSelect: 'none',\n      clipPath\n    }\n  });\n});\nif (process.env.NODE_ENV !== \"production\") InternalBackdrop.displayName = \"InternalBackdrop\";", "'use client';\n\nimport * as React from 'react';\nimport { useDialogRootContext } from \"../root/DialogRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\n/**\n * A heading that labels the dialog.\n * Renders an `<h2>` element.\n *\n * Documentation: [Base UI Dialog](https://base-ui.com/react/components/dialog)\n */\nexport const DialogTitle = /*#__PURE__*/React.forwardRef(function DialogTitle(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    id: idProp,\n    ...elementProps\n  } = componentProps;\n  const {\n    store\n  } = useDialogRootContext();\n  const id = useBaseUiId(idProp);\n  store.useSyncedValueWithCleanup('titleElementId', id);\n  return useRenderElement('h2', componentProps, {\n    ref: forwardedRef,\n    props: [{\n      id\n    }, elementProps]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") DialogTitle.displayName = \"DialogTitle\";", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nimport { useDialogRootContext } from \"../root/DialogRootContext.js\";\nimport { useButton } from \"../../use-button/useButton.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { triggerOpenStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { CLICK_TRIGGER_IDENTIFIER } from \"../../utils/constants.js\";\nimport { useTriggerDataForwarding } from \"../../utils/popups/index.js\";\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { useClick, useInteractions } from \"../../floating-ui-react/index.js\";\n\n/**\n * A button that opens the dialog.\n * Renders a `<button>` element.\n *\n * Documentation: [Base UI Dialog](https://base-ui.com/react/components/dialog)\n */\nexport const DialogTrigger = /*#__PURE__*/React.forwardRef(function DialogTrigger(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    disabled = false,\n    nativeButton = true,\n    id: idProp,\n    payload,\n    handle,\n    ...elementProps\n  } = componentProps;\n  const dialogRootContext = useDialogRootContext(true);\n  const store = handle?.store ?? dialogRootContext?.store;\n  if (!store) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: <Dialog.Trigger> must be used within <Dialog.Root> or provided with a handle.' : _formatErrorMessage(79));\n  }\n  const thisTriggerId = useBaseUiId(idProp);\n  const floatingContext = store.useState('floatingRootContext');\n  const isOpenedByThisTrigger = store.useState('isOpenedByTrigger', thisTriggerId);\n  const triggerElementRef = React.useRef(null);\n  const {\n    registerTrigger,\n    isMountedByThisTrigger\n  } = useTriggerDataForwarding(thisTriggerId, triggerElementRef, store, {\n    payload\n  });\n  const {\n    getButtonProps,\n    buttonRef\n  } = useButton({\n    disabled,\n    native: nativeButton\n  });\n  const click = useClick(floatingContext, {\n    enabled: floatingContext != null\n  });\n  const localInteractionProps = useInteractions([click]);\n  const state = React.useMemo(() => ({\n    disabled,\n    open: isOpenedByThisTrigger\n  }), [disabled, isOpenedByThisTrigger]);\n  const rootTriggerProps = store.useState('triggerProps', isMountedByThisTrigger);\n  return useRenderElement('button', componentProps, {\n    state,\n    ref: [buttonRef, forwardedRef, registerTrigger, triggerElementRef],\n    props: [localInteractionProps.getReferenceProps(), rootTriggerProps, {\n      [CLICK_TRIGGER_IDENTIFIER]: '',\n      id: thisTriggerId\n    }, elementProps, getButtonProps],\n    stateAttributesMapping: triggerOpenStateMapping\n  });\n});\nif (process.env.NODE_ENV !== \"production\") DialogTrigger.displayName = \"DialogTrigger\";", "'use client';\n\nimport * as React from 'react';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { popupStateMapping as baseMapping } from \"../../utils/popupStateMapping.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { useDialogRootContext } from \"../root/DialogRootContext.js\";\nimport { useDialogPortalContext } from \"../portal/DialogPortalContext.js\";\nimport { DialogViewportDataAttributes } from \"./DialogViewportDataAttributes.js\";\nconst stateAttributesMapping = {\n  ...baseMapping,\n  ...transitionStatusMapping,\n  nested(value) {\n    return value ? {\n      [DialogViewportDataAttributes.nested]: ''\n    } : null;\n  },\n  nestedDialogOpen(value) {\n    return value ? {\n      [DialogViewportDataAttributes.nestedDialogOpen]: ''\n    } : null;\n  }\n};\n\n/**\n * A positioning container for the dialog popup that can be made scrollable.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Dialog](https://base-ui.com/react/components/dialog)\n */\nexport const DialogViewport = /*#__PURE__*/React.forwardRef(function DialogViewport(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    children,\n    ...elementProps\n  } = componentProps;\n  const keepMounted = useDialogPortalContext();\n  const {\n    store\n  } = useDialogRootContext();\n  const open = store.useState('open');\n  const nested = store.useState('nested');\n  const transitionStatus = store.useState('transitionStatus');\n  const nestedOpenDialogCount = store.useState('nestedOpenDialogCount');\n  const mounted = store.useState('mounted');\n  const nestedDialogOpen = nestedOpenDialogCount > 0;\n  const state = React.useMemo(() => ({\n    open,\n    nested,\n    transitionStatus,\n    nestedDialogOpen\n  }), [open, nested, transitionStatus, nestedDialogOpen]);\n  const shouldRender = keepMounted || mounted;\n  return useRenderElement('div', componentProps, {\n    enabled: shouldRender,\n    state,\n    ref: [forwardedRef, store.useStateSetter('viewportElement')],\n    stateAttributesMapping,\n    props: [{\n      role: 'presentation',\n      hidden: !mounted,\n      children\n    }, elementProps]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") DialogViewport.displayName = \"DialogViewport\";", "import { CommonPopupDataAttributes } from \"../../utils/popupStateMapping.js\";\nexport let DialogViewportDataAttributes = function (DialogViewportDataAttributes) {\n  /**\n   * Present when the dialog is open.\n   */\n  DialogViewportDataAttributes[DialogViewportDataAttributes[\"open\"] = CommonPopupDataAttributes.open] = \"open\";\n  /**\n   * Present when the dialog is closed.\n   */\n  DialogViewportDataAttributes[DialogViewportDataAttributes[\"closed\"] = CommonPopupDataAttributes.closed] = \"closed\";\n  /**\n   * Present when the dialog is animating in.\n   */\n  DialogViewportDataAttributes[DialogViewportDataAttributes[\"startingStyle\"] = CommonPopupDataAttributes.startingStyle] = \"startingStyle\";\n  /**\n   * Present when the dialog is animating out.\n   */\n  DialogViewportDataAttributes[DialogViewportDataAttributes[\"endingStyle\"] = CommonPopupDataAttributes.endingStyle] = \"endingStyle\";\n  /**\n   * Present when the dialog is nested within another dialog.\n   */\n  DialogViewportDataAttributes[\"nested\"] = \"data-nested\";\n  /**\n   * Present when the dialog has other open dialogs nested within it.\n   */\n  DialogViewportDataAttributes[\"nestedDialogOpen\"] = \"data-nested-dialog-open\";\n  return DialogViewportDataAttributes;\n}({});", "import { DialogStore } from \"./DialogStore.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\n\n/**\n * A handle to control a Dialog imperatively and to associate detached triggers with it.\n */\nexport class DialogHandle {\n  /**\n   * Internal store holding the dialog state.\n   * @internal\n   */\n\n  constructor(store) {\n    this.store = store ?? new DialogStore();\n  }\n\n  /**\n   * Opens the dialog and associates it with the trigger with the given id.\n   * The trigger, if provided, must be a Dialog.Trigger component with this handle passed as a prop.\n   *\n   * This method should only be called in an event handler or an effect (not during rendering).\n   *\n   * @param triggerId ID of the trigger to associate with the dialog. If null, the dialog will open without a trigger association.\n   */\n  open(triggerId) {\n    const triggerElement = triggerId ? this.store.context.triggerElements.getById(triggerId) : undefined;\n    if (process.env.NODE_ENV !== 'production') {\n      if (triggerId && !triggerElement) {\n        console.warn(`Base UI: DialogHandle.open: No trigger found with id \"${triggerId}\". The dialog will open, but the trigger will not be associated with the dialog.`);\n      }\n    }\n    this.store.setOpen(true, createChangeEventDetails(REASONS.imperativeAction, undefined, triggerElement));\n  }\n\n  /**\n   * Opens the dialog and sets the payload.\n   * Does not associate the dialog with any trigger.\n   *\n   * @param payload Payload to set when opening the dialog.\n   */\n  openWithPayload(payload) {\n    this.store.set('payload', payload);\n    this.store.setOpen(true, createChangeEventDetails(REASONS.imperativeAction, undefined, undefined));\n  }\n\n  /**\n   * Closes the dialog.\n   */\n  close() {\n    this.store.setOpen(false, createChangeEventDetails(REASONS.imperativeAction, undefined, undefined));\n  }\n\n  /**\n   * Indicates whether the dialog is currently open.\n   */\n  get isOpen() {\n    return this.store.state.open;\n  }\n}\n\n/**\n * Creates a new handle to connect a Dialog.Root with detached Dialog.Trigger components.\n */\nexport function createDialogHandle() {\n  return new DialogHandle();\n}", "import { DialogHandle } from \"../dialog/store/DialogHandle.js\";\nimport { DialogStore } from \"../dialog/store/DialogStore.js\";\nexport function createAlertDialogHandle() {\n  return new DialogHandle(new DialogStore({\n    modal: true,\n    disablePointerDismissal: true,\n    role: 'alertdialog'\n  }));\n}", "export { AutocompleteRoot as Root } from \"./root/AutocompleteRoot.js\";\nexport { AutocompleteValue as Value } from \"./value/AutocompleteValue.js\";\nexport { ComboboxTrigger as Trigger } from \"../combobox/trigger/ComboboxTrigger.js\";\nexport { ComboboxInput as Input } from \"../combobox/input/ComboboxInput.js\";\nexport { ComboboxIcon as Icon } from \"../combobox/icon/ComboboxIcon.js\";\nexport { ComboboxClear as Clear } from \"../combobox/clear/ComboboxClear.js\";\nexport { ComboboxList as List } from \"../combobox/list/ComboboxList.js\";\nexport { ComboboxStatus as Status } from \"../combobox/status/ComboboxStatus.js\";\nexport { ComboboxPortal as Portal } from \"../combobox/portal/ComboboxPortal.js\";\nexport { ComboboxBackdrop as Backdrop } from \"../combobox/backdrop/ComboboxBackdrop.js\";\nexport { ComboboxPositioner as Positioner } from \"../combobox/positioner/ComboboxPositioner.js\";\nexport { ComboboxPopup as Popup } from \"../combobox/popup/ComboboxPopup.js\";\nexport { ComboboxArrow as Arrow } from \"../combobox/arrow/ComboboxArrow.js\";\nexport { ComboboxGroup as Group } from \"../combobox/group/ComboboxGroup.js\";\nexport { ComboboxGroupLabel as GroupLabel } from \"../combobox/group-label/ComboboxGroupLabel.js\";\nexport { ComboboxItem as Item } from \"../combobox/item/ComboboxItem.js\";\nexport { ComboboxRow as Row } from \"../combobox/row/ComboboxRow.js\";\nexport { ComboboxCollection as Collection } from \"../combobox/collection/ComboboxCollection.js\";\nexport { ComboboxEmpty as Empty } from \"../combobox/empty/ComboboxEmpty.js\";\nexport { Separator } from \"../separator/Separator.js\";\nexport { useCoreFilter as useFilter } from \"../combobox/root/utils/useFilter.js\";", "'use client';\n\nimport * as React from 'react';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { AriaCombobox } from \"../../combobox/root/AriaCombobox.js\";\nimport { useCoreFilter } from \"../../combobox/root/utils/useFilter.js\";\nimport { stringifyAsLabel } from \"../../utils/resolveValueLabel.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\n\n/**\n * Groups all parts of the autocomplete.\n * Doesn't render its own HTML element.\n *\n * Documentation: [Base UI Autocomplete](https://base-ui.com/react/components/autocomplete)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function AutocompleteRoot(props) {\n  const {\n    openOnInputClick = false,\n    value,\n    defaultValue,\n    onValueChange,\n    mode = 'list',\n    itemToStringValue,\n    ...other\n  } = props;\n  const enableInline = mode === 'inline' || mode === 'both';\n  const staticItems = mode === 'inline' || mode === 'none';\n\n  // Mirror the typed value for uncontrolled usage so we can compose the temporary\n  // inline input value.\n  const isControlled = value !== undefined;\n  const [internalValue, setInternalValue] = React.useState(defaultValue ?? '');\n  const [inlineInputValue, setInlineInputValue] = React.useState('');\n  React.useEffect(() => {\n    if (isControlled) {\n      setInlineInputValue('');\n    }\n  }, [value, isControlled]);\n\n  // Compose the input value shown to the user: inline value takes precedence when present.\n  let resolvedInputValue;\n  if (enableInline && inlineInputValue !== '') {\n    resolvedInputValue = inlineInputValue;\n  } else if (isControlled) {\n    resolvedInputValue = value ?? '';\n  } else {\n    resolvedInputValue = internalValue;\n  }\n  const handleValueChange = useStableCallback((nextValue, eventDetails) => {\n    setInlineInputValue('');\n    if (!isControlled) {\n      setInternalValue(nextValue);\n    }\n    onValueChange?.(nextValue, eventDetails);\n  });\n  const collator = useCoreFilter();\n  const baseFilter = React.useMemo(() => {\n    if (other.filter) {\n      return other.filter;\n    }\n    return (item, query, toString) => {\n      return collator.contains(stringifyAsLabel(item, toString), query);\n    };\n  }, [other, collator]);\n  const resolvedQuery = String(isControlled ? value : internalValue).trim();\n\n  // In \"both\", wrap filtering to use only the typed value, ignoring the inline value.\n  const resolvedFilter = React.useMemo(() => {\n    if (mode !== 'both') {\n      return staticItems ? null : other.filter;\n    }\n    return (item, _query, toString) => {\n      return baseFilter(item, resolvedQuery, toString);\n    };\n  }, [baseFilter, mode, other.filter, resolvedQuery, staticItems]);\n  const handleItemHighlighted = useStableCallback((highlightedValue, eventDetails) => {\n    props.onItemHighlighted?.(highlightedValue, eventDetails);\n    if (eventDetails.reason === REASONS.pointer) {\n      return;\n    }\n    if (enableInline) {\n      if (highlightedValue == null) {\n        setInlineInputValue('');\n      } else {\n        setInlineInputValue(stringifyAsLabel(highlightedValue, itemToStringValue));\n      }\n    } else {\n      setInlineInputValue('');\n    }\n  });\n  return /*#__PURE__*/_jsx(AriaCombobox, {\n    ...other,\n    itemToStringLabel: itemToStringValue,\n    openOnInputClick: openOnInputClick,\n    selectionMode: \"none\",\n    fillInputOnItemPress: true,\n    filter: resolvedFilter,\n    autoComplete: mode,\n    inputValue: resolvedInputValue,\n    defaultInputValue: defaultValue,\n    onInputValueChange: handleValueChange,\n    onItemHighlighted: handleItemHighlighted\n  });\n}", "'use client';\n\nimport * as React from 'react';\nimport { useControlled } from '@base-ui/utils/useControlled';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useOnFirstRender } from '@base-ui/utils/useOnFirstRender';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useMergedRefs } from '@base-ui/utils/useMergedRefs';\nimport { visuallyHidden, visuallyHiddenInput } from '@base-ui/utils/visuallyHidden';\nimport { useRefWithInit } from '@base-ui/utils/useRefWithInit';\nimport { Store, useStore } from '@base-ui/utils/store';\nimport { useValueAsRef } from '@base-ui/utils/useValueAsRef';\nimport { useDismiss, useFloatingRootContext, useInteractions, useListNavigation, useClick } from \"../../floating-ui-react/index.js\";\nimport { contains, getTarget } from \"../../floating-ui-react/utils.js\";\nimport { createChangeEventDetails, createGenericEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { ComboboxFloatingContext, ComboboxDerivedItemsContext, ComboboxRootContext, ComboboxInputValueContext } from \"./ComboboxRootContext.js\";\nimport { selectors } from \"../store.js\";\nimport { useOpenChangeComplete } from \"../../utils/useOpenChangeComplete.js\";\nimport { useFieldRootContext } from \"../../field/root/FieldRootContext.js\";\nimport { useField } from \"../../field/useField.js\";\nimport { useFormContext } from \"../../form/FormContext.js\";\nimport { useLabelableId } from \"../../labelable-provider/useLabelableId.js\";\nimport { createCollatorItemFilter, createSingleSelectionCollatorFilter } from \"./utils/index.js\";\nimport { useCoreFilter } from \"./utils/useFilter.js\";\nimport { useTransitionStatus } from \"../../utils/useTransitionStatus.js\";\nimport { EMPTY_ARRAY, EMPTY_OBJECT } from \"../../utils/constants.js\";\nimport { useOpenInteractionType } from \"../../utils/useOpenInteractionType.js\";\nimport { useValueChanged } from \"../../utils/useValueChanged.js\";\nimport { NOOP } from \"../../utils/noop.js\";\nimport { stringifyAsLabel, stringifyAsValue, isGroupedItems } from \"../../utils/resolveValueLabel.js\";\nimport { defaultItemEquality, findItemIndex, itemIncludes, removeItem } from \"../../utils/itemEquality.js\";\nimport { INITIAL_LAST_HIGHLIGHT, NO_ACTIVE_VALUE } from \"./utils/constants.js\";\n\n/**\n * @internal\n */\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function AriaCombobox(props) {\n  const {\n    id: idProp,\n    onOpenChangeComplete: onOpenChangeCompleteProp,\n    defaultSelectedValue = null,\n    selectedValue: selectedValueProp,\n    onSelectedValueChange,\n    defaultInputValue: defaultInputValueProp,\n    inputValue: inputValueProp,\n    selectionMode = 'none',\n    onItemHighlighted: onItemHighlightedProp,\n    name: nameProp,\n    disabled: disabledProp = false,\n    readOnly = false,\n    required = false,\n    inputRef: inputRefProp,\n    grid = false,\n    items,\n    filteredItems: filteredItemsProp,\n    filter: filterProp,\n    openOnInputClick = true,\n    autoHighlight = false,\n    keepHighlight = false,\n    highlightItemOnHover = true,\n    loopFocus = true,\n    itemToStringLabel,\n    itemToStringValue,\n    isItemEqualToValue = defaultItemEquality,\n    virtualized = false,\n    inline: inlineProp = false,\n    fillInputOnItemPress = true,\n    modal = false,\n    limit = -1,\n    autoComplete = 'list',\n    locale,\n    submitOnItemClick = false\n  } = props;\n  const {\n    clearErrors\n  } = useFormContext();\n  const {\n    setDirty,\n    validityData,\n    shouldValidateOnChange,\n    setFilled,\n    name: fieldName,\n    disabled: fieldDisabled,\n    setTouched,\n    setFocused,\n    validationMode,\n    validation\n  } = useFieldRootContext();\n  const id = useLabelableId({\n    id: idProp\n  });\n  const collatorFilter = useCoreFilter({\n    locale\n  });\n  const [queryChangedAfterOpen, setQueryChangedAfterOpen] = React.useState(false);\n  const [closeQuery, setCloseQuery] = React.useState(null);\n  const listRef = React.useRef([]);\n  const labelsRef = React.useRef([]);\n  const popupRef = React.useRef(null);\n  const inputRef = React.useRef(null);\n  const emptyRef = React.useRef(null);\n  const keyboardActiveRef = React.useRef(true);\n  const hadInputClearRef = React.useRef(false);\n  const chipsContainerRef = React.useRef(null);\n  const clearRef = React.useRef(null);\n  const selectionEventRef = React.useRef(null);\n  const lastHighlightRef = React.useRef(INITIAL_LAST_HIGHLIGHT);\n  const pendingQueryHighlightRef = React.useRef(null);\n\n  /**\n   * Contains the currently visible list of item values post-filtering.\n   */\n  const valuesRef = React.useRef([]);\n  /**\n   * Contains all item values in a stable, unfiltered order.\n   * This is only used when `items` prop is not provided.\n   * It accumulates values on first mount and does not remove them on unmount due to\n   * filtering, providing a stable index for selected value tracking.\n   */\n  const allValuesRef = React.useRef([]);\n  const disabled = fieldDisabled || disabledProp;\n  const name = fieldName ?? nameProp;\n  const multiple = selectionMode === 'multiple';\n  const single = selectionMode === 'single';\n  const hasInputValue = inputValueProp !== undefined || defaultInputValueProp !== undefined;\n  const hasItems = items !== undefined;\n  const hasFilteredItemsProp = filteredItemsProp !== undefined;\n  let autoHighlightMode;\n  if (autoHighlight === 'always') {\n    autoHighlightMode = 'always';\n  } else {\n    autoHighlightMode = autoHighlight ? 'input-change' : false;\n  }\n  const [selectedValue, setSelectedValueUnwrapped] = useControlled({\n    controlled: selectedValueProp,\n    default: multiple ? defaultSelectedValue ?? EMPTY_ARRAY : defaultSelectedValue,\n    name: 'Combobox',\n    state: 'selectedValue'\n  });\n  const filter = React.useMemo(() => {\n    if (filterProp === null) {\n      return () => true;\n    }\n    if (filterProp !== undefined) {\n      return filterProp;\n    }\n    if (single && !queryChangedAfterOpen) {\n      return createSingleSelectionCollatorFilter(collatorFilter, itemToStringLabel, selectedValue);\n    }\n    return createCollatorItemFilter(collatorFilter, itemToStringLabel);\n  }, [filterProp, single, selectedValue, queryChangedAfterOpen, collatorFilter, itemToStringLabel]);\n\n  // If neither inputValue nor defaultInputValue are provided, derive it from the\n  // selected value for single mode so the input reflects the selection on mount.\n  const initialDefaultInputValue = useRefWithInit(() => {\n    if (hasInputValue) {\n      return defaultInputValueProp ?? '';\n    }\n    if (single) {\n      return stringifyAsLabel(selectedValue, itemToStringLabel);\n    }\n    return '';\n  }).current;\n  const [inputValue, setInputValueUnwrapped] = useControlled({\n    controlled: inputValueProp,\n    default: initialDefaultInputValue,\n    name: 'Combobox',\n    state: 'inputValue'\n  });\n  const [open, setOpenUnwrapped] = useControlled({\n    controlled: props.open,\n    default: props.defaultOpen,\n    name: 'Combobox',\n    state: 'open'\n  });\n  const isGrouped = isGroupedItems(items);\n  const query = closeQuery ?? (inputValue === '' ? '' : String(inputValue).trim());\n  const selectedLabelString = single ? stringifyAsLabel(selectedValue, itemToStringLabel) : '';\n  const shouldBypassFiltering = single && !queryChangedAfterOpen && query !== '' && selectedLabelString !== '' && selectedLabelString.length === query.length && collatorFilter.contains(selectedLabelString, query);\n  const filterQuery = shouldBypassFiltering ? '' : query;\n  const shouldIgnoreExternalFiltering = hasItems && hasFilteredItemsProp && shouldBypassFiltering;\n  const flatItems = React.useMemo(() => {\n    if (!items) {\n      return EMPTY_ARRAY;\n    }\n    if (isGrouped) {\n      return items.flatMap(group => group.items);\n    }\n    return items;\n  }, [items, isGrouped]);\n  const filteredItems = React.useMemo(() => {\n    if (filteredItemsProp && !shouldIgnoreExternalFiltering) {\n      return filteredItemsProp;\n    }\n    if (!items) {\n      return EMPTY_ARRAY;\n    }\n    if (isGrouped) {\n      const groupedItems = items;\n      const resultingGroups = [];\n      let currentCount = 0;\n      for (const group of groupedItems) {\n        if (limit > -1 && currentCount >= limit) {\n          break;\n        }\n        const candidateItems = filterQuery === '' ? group.items : group.items.filter(item => filter(item, filterQuery, itemToStringLabel));\n        if (candidateItems.length === 0) {\n          continue;\n        }\n        const remainingLimit = limit > -1 ? limit - currentCount : Infinity;\n        const itemsToTake = candidateItems.slice(0, remainingLimit);\n        if (itemsToTake.length > 0) {\n          const newGroup = {\n            ...group,\n            items: itemsToTake\n          };\n          resultingGroups.push(newGroup);\n          currentCount += itemsToTake.length;\n        }\n      }\n      return resultingGroups;\n    }\n    if (filterQuery === '') {\n      return limit > -1 ? flatItems.slice(0, limit) :\n      // The cast here is done as `flatItems` is readonly.\n      // valuesRef.current, a mutable ref, can be set to `flatFilteredItems`, which may\n      // reference this exact readonly value, creating a mutation risk.\n      // However, <Combobox.Item> can never mutate this value as the mutating effect\n      // bails early when `items` is provided, and this is only ever returned\n      // when `items` is provided due to the early return at the top of this hook.\n      flatItems;\n    }\n    const limitedItems = [];\n    for (const item of flatItems) {\n      if (limit > -1 && limitedItems.length >= limit) {\n        break;\n      }\n      if (filter(item, filterQuery, itemToStringLabel)) {\n        limitedItems.push(item);\n      }\n    }\n    return limitedItems;\n  }, [filteredItemsProp, shouldIgnoreExternalFiltering, items, isGrouped, filterQuery, limit, filter, itemToStringLabel, flatItems]);\n  const flatFilteredItems = React.useMemo(() => {\n    if (isGrouped) {\n      const groups = filteredItems;\n      return groups.flatMap(g => g.items);\n    }\n    return filteredItems;\n  }, [filteredItems, isGrouped]);\n  const store = useRefWithInit(() => new Store({\n    id,\n    selectedValue,\n    open,\n    filter,\n    query,\n    items,\n    selectionMode,\n    listRef,\n    labelsRef,\n    popupRef,\n    emptyRef,\n    inputRef,\n    keyboardActiveRef,\n    chipsContainerRef,\n    clearRef,\n    valuesRef,\n    allValuesRef,\n    selectionEventRef,\n    name,\n    disabled,\n    readOnly,\n    required,\n    grid,\n    isGrouped,\n    virtualized,\n    openOnInputClick,\n    itemToStringLabel,\n    isItemEqualToValue,\n    modal,\n    autoHighlight: autoHighlightMode,\n    submitOnItemClick,\n    hasInputValue,\n    mounted: false,\n    forceMounted: false,\n    transitionStatus: 'idle',\n    inline: inlineProp,\n    activeIndex: null,\n    selectedIndex: null,\n    popupProps: {},\n    inputProps: {},\n    triggerProps: {},\n    positionerElement: null,\n    listElement: null,\n    triggerElement: null,\n    inputElement: null,\n    popupSide: null,\n    openMethod: null,\n    inputInsidePopup: true,\n    onOpenChangeComplete: onOpenChangeCompleteProp || NOOP,\n    // Placeholder callbacks replaced on first render\n    setOpen: NOOP,\n    setInputValue: NOOP,\n    setSelectedValue: NOOP,\n    setIndices: NOOP,\n    onItemHighlighted: NOOP,\n    handleSelection: NOOP,\n    getItemProps: () => EMPTY_OBJECT,\n    forceMount: NOOP,\n    requestSubmit: NOOP\n  })).current;\n  const fieldRawValue = selectionMode === 'none' ? inputValue : selectedValue;\n  const fieldStringValue = React.useMemo(() => {\n    if (selectionMode === 'none') {\n      return fieldRawValue;\n    }\n    if (Array.isArray(selectedValue)) {\n      return selectedValue.map(value => stringifyAsValue(value, itemToStringValue));\n    }\n    return stringifyAsValue(selectedValue, itemToStringValue);\n  }, [fieldRawValue, itemToStringValue, selectionMode, selectedValue]);\n  const onItemHighlighted = useStableCallback(onItemHighlightedProp);\n  const onOpenChangeComplete = useStableCallback(onOpenChangeCompleteProp);\n  const activeIndex = useStore(store, selectors.activeIndex);\n  const selectedIndex = useStore(store, selectors.selectedIndex);\n  const positionerElement = useStore(store, selectors.positionerElement);\n  const listElement = useStore(store, selectors.listElement);\n  const triggerElement = useStore(store, selectors.triggerElement);\n  const inputElement = useStore(store, selectors.inputElement);\n  const inline = useStore(store, selectors.inline);\n  const inputInsidePopup = useStore(store, selectors.inputInsidePopup);\n  const triggerRef = useValueAsRef(triggerElement);\n  const {\n    mounted,\n    setMounted,\n    transitionStatus\n  } = useTransitionStatus(open);\n  const {\n    openMethod,\n    triggerProps,\n    reset: resetOpenInteractionType\n  } = useOpenInteractionType(open);\n  useField({\n    id,\n    name,\n    commit: validation.commit,\n    value: fieldRawValue,\n    controlRef: inputInsidePopup ? triggerRef : inputRef,\n    getValue: () => fieldStringValue\n  });\n  const forceMount = useStableCallback(() => {\n    if (items) {\n      // Ensure typeahead works on a closed list.\n      labelsRef.current = flatFilteredItems.map(item => stringifyAsLabel(item, itemToStringLabel));\n    } else {\n      store.set('forceMounted', true);\n    }\n  });\n  const initialSelectedValueRef = React.useRef(selectedValue);\n  useIsoLayoutEffect(() => {\n    // Ensure the values and labels are registered for programmatic value changes.\n    if (selectedValue !== initialSelectedValueRef.current) {\n      forceMount();\n    }\n  }, [forceMount, selectedValue]);\n  const setIndices = useStableCallback(options => {\n    store.update(options);\n    const type = options.type || 'none';\n    if (options.activeIndex === undefined) {\n      return;\n    }\n    if (options.activeIndex === null) {\n      if (lastHighlightRef.current !== INITIAL_LAST_HIGHLIGHT) {\n        lastHighlightRef.current = INITIAL_LAST_HIGHLIGHT;\n        onItemHighlighted(undefined, createGenericEventDetails(type, undefined, {\n          index: -1\n        }));\n      }\n    } else {\n      const activeValue = valuesRef.current[options.activeIndex];\n      lastHighlightRef.current = {\n        value: activeValue,\n        index: options.activeIndex\n      };\n      onItemHighlighted(activeValue, createGenericEventDetails(type, undefined, {\n        index: options.activeIndex\n      }));\n    }\n  });\n  const setInputValue = useStableCallback((next, eventDetails) => {\n    hadInputClearRef.current = eventDetails.reason === REASONS.inputClear;\n    props.onInputValueChange?.(next, eventDetails);\n    if (eventDetails.isCanceled) {\n      return;\n    }\n\n    // If user is typing, ensure we don't auto-highlight on open due to a race\n    // with the post-open effect that sets this flag.\n    if (eventDetails.reason === REASONS.inputChange) {\n      const hasQuery = next.trim() !== '';\n      if (hasQuery) {\n        setQueryChangedAfterOpen(true);\n      }\n      // Defer index updates until after the filtered items have been derived to ensure\n      // `onItemHighlighted` receives the latest item.\n      pendingQueryHighlightRef.current = {\n        hasQuery\n      };\n      if (hasQuery && autoHighlightMode && store.state.activeIndex == null) {\n        store.set('activeIndex', 0);\n      }\n    }\n    setInputValueUnwrapped(next);\n  });\n  const setOpen = useStableCallback((nextOpen, eventDetails) => {\n    if (open === nextOpen) {\n      return;\n    }\n\n    // If the `Empty` component is not used, the positioner or popup should be hidden\n    // with CSS. In this case, allow the Escape key to bubble to close a parent popup\n    // if there are no items to show.\n    if (eventDetails.reason === 'escape-key' && hasItems && flatFilteredItems.length === 0 && !store.state.emptyRef.current) {\n      eventDetails.allowPropagation();\n    }\n    props.onOpenChange?.(nextOpen, eventDetails);\n    if (eventDetails.isCanceled) {\n      return;\n    }\n    if (!nextOpen && queryChangedAfterOpen) {\n      if (single) {\n        setCloseQuery(query);\n        // Avoid a flicker when closing the popup with an empty query.\n        if (query === '') {\n          setQueryChangedAfterOpen(false);\n        }\n      } else if (multiple) {\n        if (inline || inputInsidePopup) {\n          setIndices({\n            activeIndex: null\n          });\n        } else {\n          // Freeze the current query so filtering remains stable while exiting.\n          setCloseQuery(query);\n        }\n        // Clear the input immediately on close while retaining filtering via closeQuery for exit animations\n        // if the input is outside the popup.\n        setInputValue('', createChangeEventDetails(REASONS.inputClear, eventDetails.event));\n      }\n    }\n    setOpenUnwrapped(nextOpen);\n    if (!nextOpen && inputInsidePopup && (eventDetails.reason === REASONS.focusOut || eventDetails.reason === REASONS.outsidePress)) {\n      setTouched(true);\n      setFocused(false);\n      if (validationMode === 'onBlur') {\n        const valueToValidate = selectionMode === 'none' ? inputValue : selectedValue;\n        validation.commit(valueToValidate);\n      }\n    }\n  });\n  const setSelectedValue = useStableCallback((nextValue, eventDetails) => {\n    // Cast to `any` due to conditional value type (single vs. multiple).\n    // The runtime implementation already ensures the correct value shape.\n    onSelectedValueChange?.(nextValue, eventDetails);\n    if (eventDetails.isCanceled) {\n      return;\n    }\n    setSelectedValueUnwrapped(nextValue);\n    const shouldFillInput = selectionMode === 'none' && popupRef.current && fillInputOnItemPress || single && !store.state.inputInsidePopup;\n    if (shouldFillInput) {\n      setInputValue(stringifyAsLabel(nextValue, itemToStringLabel), createChangeEventDetails(eventDetails.reason, eventDetails.event));\n    }\n    if (single && nextValue != null && eventDetails.reason !== REASONS.inputChange && queryChangedAfterOpen) {\n      setCloseQuery(query);\n    }\n  });\n  const handleSelection = useStableCallback((event, passedValue) => {\n    let value = passedValue;\n    if (value === undefined) {\n      if (activeIndex === null) {\n        return;\n      }\n      value = valuesRef.current[activeIndex];\n    }\n    const targetEl = getTarget(event);\n    const overrideEvent = selectionEventRef.current ?? event;\n    selectionEventRef.current = null;\n    const eventDetails = createChangeEventDetails(REASONS.itemPress, overrideEvent);\n\n    // Let the link handle the click.\n    const href = targetEl?.closest('a')?.getAttribute('href');\n    if (href) {\n      if (href.startsWith('#')) {\n        setOpen(false, eventDetails);\n      }\n      return;\n    }\n    if (multiple) {\n      const currentSelectedValue = Array.isArray(selectedValue) ? selectedValue : [];\n      const isCurrentlySelected = itemIncludes(currentSelectedValue, value, store.state.isItemEqualToValue);\n      const nextValue = isCurrentlySelected ? removeItem(currentSelectedValue, value, store.state.isItemEqualToValue) : [...currentSelectedValue, value];\n      setSelectedValue(nextValue, eventDetails);\n      const wasFiltering = inputRef.current ? inputRef.current.value.trim() !== '' : false;\n      if (!wasFiltering) {\n        return;\n      }\n      if (store.state.inputInsidePopup) {\n        setInputValue('', createChangeEventDetails(REASONS.inputClear, eventDetails.event));\n      } else {\n        setOpen(false, eventDetails);\n      }\n    } else {\n      setSelectedValue(value, eventDetails);\n      setOpen(false, eventDetails);\n    }\n  });\n  const requestSubmit = useStableCallback(() => {\n    if (!store.state.submitOnItemClick) {\n      return;\n    }\n    const form = store.state.inputElement?.form;\n    if (form && typeof form.requestSubmit === 'function') {\n      form.requestSubmit();\n    }\n  });\n  const handleUnmount = useStableCallback(() => {\n    setMounted(false);\n    onOpenChangeComplete?.(false);\n    setQueryChangedAfterOpen(false);\n    resetOpenInteractionType();\n    setCloseQuery(null);\n    if (selectionMode === 'none') {\n      setIndices({\n        activeIndex: null,\n        selectedIndex: null\n      });\n    } else {\n      setIndices({\n        activeIndex: null\n      });\n    }\n\n    // Multiple selection mode:\n    // If the user typed a filter and didn't select in multiple mode, clear the input\n    // after close completes to avoid mid-exit flicker and start fresh on next open.\n    if (multiple && inputRef.current && inputRef.current.value !== '' && !hadInputClearRef.current) {\n      setInputValue('', createChangeEventDetails(REASONS.inputClear));\n    }\n\n    // Single selection mode:\n    // - If input is rendered inside the popup, clear it so the next open is blank\n    // - If input is outside the popup, sync it to the selected value\n    if (single) {\n      if (store.state.inputInsidePopup) {\n        if (inputRef.current && inputRef.current.value !== '') {\n          setInputValue('', createChangeEventDetails(REASONS.inputClear));\n        }\n      } else {\n        const stringVal = stringifyAsLabel(selectedValue, itemToStringLabel);\n        if (inputRef.current && inputRef.current.value !== stringVal) {\n          // If no selection was made, treat this as clearing the typed filter.\n          const reason = stringVal === '' ? REASONS.inputClear : REASONS.none;\n          setInputValue(stringVal, createChangeEventDetails(reason));\n        }\n      }\n    }\n  });\n\n  // Support composing the Dialog component around an inline combobox.\n  // `[role=\"dialog\"]` is more interoperable than using a context, e.g. it can work\n  // with third-party modal libraries, though the limitation is that the closest\n  // `role=dialog` part must be the animated element.\n  const resolvedPopupRef = React.useMemo(() => {\n    if (inline && positionerElement) {\n      return {\n        current: positionerElement.closest('[role=\"dialog\"]')\n      };\n    }\n    return popupRef;\n  }, [inline, positionerElement]);\n  useOpenChangeComplete({\n    enabled: !props.actionsRef,\n    open,\n    ref: resolvedPopupRef,\n    onComplete() {\n      if (!open) {\n        handleUnmount();\n      }\n    }\n  });\n  React.useImperativeHandle(props.actionsRef, () => ({\n    unmount: handleUnmount\n  }), [handleUnmount]);\n  useIsoLayoutEffect(function syncSelectedIndex() {\n    if (open || selectionMode === 'none') {\n      return;\n    }\n    const registry = items ? flatItems : allValuesRef.current;\n    if (multiple) {\n      const currentValue = Array.isArray(selectedValue) ? selectedValue : [];\n      const lastValue = currentValue[currentValue.length - 1];\n      const lastIndex = findItemIndex(registry, lastValue, isItemEqualToValue);\n      setIndices({\n        selectedIndex: lastIndex === -1 ? null : lastIndex\n      });\n    } else {\n      const index = findItemIndex(registry, selectedValue, isItemEqualToValue);\n      setIndices({\n        selectedIndex: index === -1 ? null : index\n      });\n    }\n  }, [open, selectedValue, items, selectionMode, flatItems, multiple, isItemEqualToValue, setIndices]);\n  useIsoLayoutEffect(() => {\n    if (items) {\n      valuesRef.current = flatFilteredItems;\n      listRef.current.length = flatFilteredItems.length;\n    }\n  }, [items, flatFilteredItems]);\n  useIsoLayoutEffect(() => {\n    const pendingHighlight = pendingQueryHighlightRef.current;\n    if (pendingHighlight) {\n      if (pendingHighlight.hasQuery) {\n        if (autoHighlightMode) {\n          store.set('activeIndex', 0);\n        }\n      } else if (autoHighlightMode === 'always') {\n        store.set('activeIndex', 0);\n      }\n      pendingQueryHighlightRef.current = null;\n    }\n    if (!open && !inline) {\n      return;\n    }\n    const shouldUseFlatFilteredItems = hasItems || hasFilteredItemsProp;\n    const candidateItems = shouldUseFlatFilteredItems ? flatFilteredItems : valuesRef.current;\n    const storeActiveIndex = store.state.activeIndex;\n    if (storeActiveIndex == null) {\n      if (autoHighlightMode === 'always' && candidateItems.length > 0) {\n        store.set('activeIndex', 0);\n        return;\n      }\n      if (lastHighlightRef.current !== INITIAL_LAST_HIGHLIGHT) {\n        lastHighlightRef.current = INITIAL_LAST_HIGHLIGHT;\n        store.state.onItemHighlighted(undefined, createGenericEventDetails(REASONS.none, undefined, {\n          index: -1\n        }));\n      }\n      return;\n    }\n    if (storeActiveIndex >= candidateItems.length) {\n      if (lastHighlightRef.current !== INITIAL_LAST_HIGHLIGHT) {\n        lastHighlightRef.current = INITIAL_LAST_HIGHLIGHT;\n        store.state.onItemHighlighted(undefined, createGenericEventDetails(REASONS.none, undefined, {\n          index: -1\n        }));\n      }\n      store.set('activeIndex', null);\n      return;\n    }\n    const nextActiveValue = candidateItems[storeActiveIndex];\n    const lastHighlightedValue = lastHighlightRef.current.value;\n    const isSameItem = lastHighlightedValue !== NO_ACTIVE_VALUE && store.state.isItemEqualToValue(nextActiveValue, lastHighlightedValue);\n    if (lastHighlightRef.current.index !== storeActiveIndex || !isSameItem) {\n      lastHighlightRef.current = {\n        value: nextActiveValue,\n        index: storeActiveIndex\n      };\n      store.state.onItemHighlighted(nextActiveValue, createGenericEventDetails(REASONS.none, undefined, {\n        index: storeActiveIndex\n      }));\n    }\n  }, [activeIndex, autoHighlightMode, hasFilteredItemsProp, hasItems, flatFilteredItems, inline, open, store]);\n\n  // When the available items change, ensure the selected value(s) remain valid.\n  // - Single: if current selection is removed, fall back to defaultSelectedValue if it exists in the list; else null.\n  // - Multiple: drop any removed selections.\n  useIsoLayoutEffect(() => {\n    if (!items || selectionMode === 'none') {\n      return;\n    }\n    const registry = flatItems;\n    if (multiple) {\n      const current = Array.isArray(selectedValue) ? selectedValue : EMPTY_ARRAY;\n      const next = current.filter(v => itemIncludes(registry, v, store.state.isItemEqualToValue));\n      if (next.length !== current.length) {\n        setSelectedValue(next, createChangeEventDetails(REASONS.none));\n      }\n      return;\n    }\n    const isStillPresent = selectedValue == null || itemIncludes(registry, selectedValue, store.state.isItemEqualToValue);\n    if (isStillPresent) {\n      return;\n    }\n    let fallback = null;\n    if (defaultSelectedValue != null && itemIncludes(registry, defaultSelectedValue, store.state.isItemEqualToValue)) {\n      fallback = defaultSelectedValue;\n    }\n    setSelectedValue(fallback, createChangeEventDetails(REASONS.none));\n  }, [items, flatItems, multiple, selectionMode, selectedValue, defaultSelectedValue, store, setSelectedValue]);\n  useIsoLayoutEffect(() => {\n    if (selectionMode === 'none') {\n      setFilled(String(inputValue) !== '');\n      return;\n    }\n    setFilled(multiple ? Array.isArray(selectedValue) && selectedValue.length > 0 : selectedValue != null);\n  }, [setFilled, selectionMode, inputValue, selectedValue, multiple]);\n\n  // Ensures that the active index is not set to 0 when the list is empty.\n  // This avoids needing to press ArrowDown twice under certain conditions.\n  React.useEffect(() => {\n    if (hasItems && autoHighlightMode && flatFilteredItems.length === 0) {\n      setIndices({\n        activeIndex: null\n      });\n    }\n  }, [hasItems, autoHighlightMode, flatFilteredItems.length, setIndices]);\n  useValueChanged(query, () => {\n    if (!open || query === '' || query === String(initialDefaultInputValue)) {\n      return;\n    }\n    setQueryChangedAfterOpen(true);\n  });\n  useValueChanged(selectedValue, () => {\n    if (selectionMode === 'none') {\n      return;\n    }\n    clearErrors(name);\n    setDirty(selectedValue !== validityData.initialValue);\n    if (shouldValidateOnChange()) {\n      validation.commit(selectedValue);\n    } else {\n      validation.commit(selectedValue, true);\n    }\n    if (multiple && store.state.selectedIndex !== null && (!Array.isArray(selectedValue) || selectedValue.length === 0)) {\n      setIndices({\n        activeIndex: null,\n        selectedIndex: null\n      });\n    }\n    if (single && !hasInputValue && !inputInsidePopup) {\n      const nextInputValue = stringifyAsLabel(selectedValue, itemToStringLabel);\n      if (inputValue !== nextInputValue) {\n        setInputValue(nextInputValue, createChangeEventDetails(REASONS.none));\n      }\n    }\n  });\n  useValueChanged(inputValue, () => {\n    if (selectionMode !== 'none') {\n      return;\n    }\n    clearErrors(name);\n    setDirty(inputValue !== validityData.initialValue);\n    if (shouldValidateOnChange()) {\n      validation.commit(inputValue);\n    } else {\n      validation.commit(inputValue, true);\n    }\n  });\n  useValueChanged(items, () => {\n    if (!single || hasInputValue || inputInsidePopup || queryChangedAfterOpen) {\n      return;\n    }\n    const nextInputValue = stringifyAsLabel(selectedValue, itemToStringLabel);\n    if (inputValue !== nextInputValue) {\n      setInputValue(nextInputValue, createChangeEventDetails(REASONS.none));\n    }\n  });\n  const floatingRootContext = useFloatingRootContext({\n    open: inline ? true : open,\n    onOpenChange: setOpen,\n    elements: {\n      reference: inputInsidePopup ? triggerElement : inputElement,\n      floating: positionerElement\n    }\n  });\n  let ariaHasPopup;\n  let ariaExpanded;\n  if (!inline) {\n    ariaHasPopup = grid ? 'grid' : 'listbox';\n    ariaExpanded = open ? 'true' : 'false';\n  }\n  const role = React.useMemo(() => {\n    const isPlainInput = inputElement?.tagName === 'INPUT';\n    const shouldApplyAria = isPlainInput || open;\n    const reference = isPlainInput ? {\n      autoComplete: 'off',\n      spellCheck: 'false',\n      autoCorrect: 'off',\n      autoCapitalize: 'none'\n    } : {};\n    if (shouldApplyAria) {\n      reference.role = 'combobox';\n      reference['aria-expanded'] = ariaExpanded;\n      reference['aria-haspopup'] = ariaHasPopup;\n      reference['aria-controls'] = open ? listElement?.id : undefined;\n      reference['aria-autocomplete'] = autoComplete;\n    }\n    return {\n      reference,\n      floating: {\n        role: 'presentation'\n      }\n    };\n  }, [inputElement, open, ariaExpanded, ariaHasPopup, listElement?.id, autoComplete]);\n  const click = useClick(floatingRootContext, {\n    enabled: !readOnly && !disabled && openOnInputClick,\n    event: 'mousedown-only',\n    toggle: false,\n    // Apply a small delay for touch to let iOS viewport centering settle.\n    // This avoids top-bottom flip flickers if the preferred position is \"top\" when first tapping.\n    touchOpenDelay: inputInsidePopup ? 0 : 50\n  });\n  const dismiss = useDismiss(floatingRootContext, {\n    enabled: !readOnly && !disabled && !inline,\n    outsidePressEvent: {\n      mouse: 'sloppy',\n      // The visual viewport (affected by the mobile software keyboard) can be\n      // somewhat small. The user may want to scroll the screen to see more of\n      // the popup.\n      touch: 'intentional'\n    },\n    // Without a popup, let the Escape key bubble the event up to other popups' handlers.\n    bubbles: inline ? true : undefined,\n    outsidePress(event) {\n      const target = getTarget(event);\n      return !contains(triggerElement, target) && !contains(clearRef.current, target) && !contains(chipsContainerRef.current, target);\n    }\n  });\n  const listNavigation = useListNavigation(floatingRootContext, {\n    enabled: !readOnly && !disabled,\n    id,\n    listRef,\n    activeIndex,\n    selectedIndex,\n    virtual: true,\n    loopFocus,\n    allowEscape: loopFocus && !autoHighlightMode,\n    focusItemOnOpen: queryChangedAfterOpen || selectionMode === 'none' && !autoHighlightMode ? false : 'auto',\n    focusItemOnHover: highlightItemOnHover,\n    resetOnPointerLeave: !keepHighlight,\n    // `cols` > 1 enables grid navigation.\n    // Since <Combobox.Row> infers column sizes (and is required when building a grid),\n    // it works correctly even with a value of `2`.\n    // Floating UI tests don't require `role=\"row\"` wrappers, so retains the number API.\n    cols: grid ? 2 : 1,\n    orientation: grid ? 'horizontal' : undefined,\n    disabledIndices: EMPTY_ARRAY,\n    onNavigate(nextActiveIndex, event) {\n      // Retain the highlight only while actually transitioning out or closed.\n      if (!event && !open || transitionStatus === 'ending') {\n        return;\n      }\n      if (!event) {\n        setIndices({\n          activeIndex: nextActiveIndex\n        });\n      } else {\n        setIndices({\n          activeIndex: nextActiveIndex,\n          type: keyboardActiveRef.current ? 'keyboard' : 'pointer'\n        });\n      }\n    }\n  });\n  const {\n    getReferenceProps,\n    getFloatingProps,\n    getItemProps\n  } = useInteractions([role, click, dismiss, listNavigation]);\n  useOnFirstRender(() => {\n    store.update({\n      inline: inlineProp,\n      popupProps: getFloatingProps(),\n      inputProps: getReferenceProps(),\n      triggerProps,\n      getItemProps,\n      setOpen,\n      setInputValue,\n      setSelectedValue,\n      setIndices,\n      onItemHighlighted,\n      handleSelection,\n      forceMount,\n      requestSubmit\n    });\n  });\n  useIsoLayoutEffect(() => {\n    store.update({\n      id,\n      selectedValue,\n      open,\n      mounted,\n      transitionStatus,\n      items,\n      inline: inlineProp,\n      popupProps: getFloatingProps(),\n      inputProps: getReferenceProps(),\n      triggerProps,\n      openMethod,\n      getItemProps,\n      selectionMode,\n      name,\n      disabled,\n      readOnly,\n      required,\n      grid,\n      isGrouped,\n      virtualized,\n      onOpenChangeComplete,\n      openOnInputClick,\n      itemToStringLabel,\n      modal,\n      autoHighlight: autoHighlightMode,\n      isItemEqualToValue,\n      submitOnItemClick,\n      hasInputValue,\n      requestSubmit\n    });\n  }, [store, id, selectedValue, open, mounted, transitionStatus, items, getFloatingProps, getReferenceProps, getItemProps, openMethod, triggerProps, selectionMode, name, disabled, readOnly, required, validation, grid, isGrouped, virtualized, onOpenChangeComplete, openOnInputClick, itemToStringLabel, modal, isItemEqualToValue, submitOnItemClick, hasInputValue, inlineProp, requestSubmit, autoHighlightMode]);\n  const hiddenInputRef = useMergedRefs(inputRefProp, validation.inputRef);\n  const itemsContextValue = React.useMemo(() => ({\n    query,\n    filteredItems,\n    flatFilteredItems\n  }), [query, filteredItems, flatFilteredItems]);\n  const serializedValue = React.useMemo(() => {\n    if (Array.isArray(fieldRawValue)) {\n      return '';\n    }\n    return stringifyAsValue(fieldRawValue, itemToStringValue);\n  }, [fieldRawValue, itemToStringValue]);\n  const hasMultipleSelection = multiple && Array.isArray(selectedValue) && selectedValue.length > 0;\n  const hiddenInputs = React.useMemo(() => {\n    if (!multiple || !Array.isArray(selectedValue) || !name) {\n      return null;\n    }\n    return selectedValue.map(value => {\n      const currentSerializedValue = stringifyAsValue(value, itemToStringValue);\n      return /*#__PURE__*/_jsx(\"input\", {\n        type: \"hidden\",\n        name: name,\n        value: currentSerializedValue\n      }, currentSerializedValue);\n    });\n  }, [multiple, selectedValue, name, itemToStringValue]);\n  const children = /*#__PURE__*/_jsxs(React.Fragment, {\n    children: [props.children, /*#__PURE__*/_jsx(\"input\", {\n      ...validation.getInputValidationProps({\n        // Move focus when the hidden input is focused.\n        onFocus() {\n          if (inputInsidePopup) {\n            triggerElement?.focus();\n            return;\n          }\n          (inputRef.current || triggerElement)?.focus();\n        },\n        // Handle browser autofill.\n        onChange(event) {\n          // Workaround for https://github.com/facebook/react/issues/9023\n          if (event.nativeEvent.defaultPrevented) {\n            return;\n          }\n          const nextValue = event.target.value;\n          const details = createChangeEventDetails(REASONS.inputChange, event.nativeEvent);\n          function handleChange() {\n            // Browser autofill only writes a single scalar value.\n            if (multiple) {\n              return;\n            }\n            if (selectionMode === 'none') {\n              setDirty(nextValue !== validityData.initialValue);\n              setInputValue(nextValue, details);\n              if (shouldValidateOnChange()) {\n                validation.commit(nextValue);\n              }\n              return;\n            }\n            const matchingValue = valuesRef.current.find(v => {\n              const candidate = stringifyAsValue(v, itemToStringValue);\n              if (candidate.toLowerCase() === nextValue.toLowerCase()) {\n                return true;\n              }\n              return false;\n            });\n            if (matchingValue != null) {\n              setDirty(matchingValue !== validityData.initialValue);\n              setSelectedValue?.(matchingValue, details);\n              if (shouldValidateOnChange()) {\n                validation.commit(matchingValue);\n              }\n            }\n          }\n          if (items) {\n            handleChange();\n          } else {\n            forceMount();\n            queueMicrotask(handleChange);\n          }\n        }\n      }),\n      name: multiple || selectionMode === 'none' ? undefined : name,\n      disabled: disabled,\n      required: required && !hasMultipleSelection,\n      readOnly: readOnly,\n      value: serializedValue,\n      ref: hiddenInputRef,\n      style: name ? visuallyHiddenInput : visuallyHidden,\n      tabIndex: -1,\n      \"aria-hidden\": true\n    }), hiddenInputs]\n  });\n  return /*#__PURE__*/_jsx(ComboboxRootContext.Provider, {\n    value: store,\n    children: /*#__PURE__*/_jsx(ComboboxFloatingContext.Provider, {\n      value: floatingRootContext,\n      children: /*#__PURE__*/_jsx(ComboboxDerivedItemsContext.Provider, {\n        value: itemsContextValue,\n        children: /*#__PURE__*/_jsx(ComboboxInputValueContext.Provider, {\n          value: inputValue,\n          children: children\n        })\n      })\n    })\n  });\n}", "import * as React from 'react';\nexport function useOnFirstRender(fn) {\n  const ref = React.useRef(true);\n  if (ref.current) {\n    ref.current = false;\n    fn();\n  }\n}", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const ComboboxRootContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") ComboboxRootContext.displayName = \"ComboboxRootContext\";\nexport const ComboboxFloatingContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") ComboboxFloatingContext.displayName = \"ComboboxFloatingContext\";\nexport const ComboboxDerivedItemsContext = /*#__PURE__*/React.createContext(undefined);\n// `inputValue` can't be placed in the store.\n// https://github.com/mui/base-ui/issues/2703\nif (process.env.NODE_ENV !== \"production\") ComboboxDerivedItemsContext.displayName = \"ComboboxDerivedItemsContext\";\nexport const ComboboxInputValueContext = /*#__PURE__*/React.createContext('');\nif (process.env.NODE_ENV !== \"production\") ComboboxInputValueContext.displayName = \"ComboboxInputValueContext\";\nexport function useComboboxRootContext() {\n  const context = React.useContext(ComboboxRootContext);\n  if (!context) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: ComboboxRootContext is missing. Combobox parts must be placed within <Combobox.Root>.' : _formatErrorMessage(22));\n  }\n  return context;\n}\nexport function useComboboxFloatingContext() {\n  const context = React.useContext(ComboboxFloatingContext);\n  if (!context) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: ComboboxFloatingContext is missing. Combobox parts must be placed within <Combobox.Root>.' : _formatErrorMessage(23));\n  }\n  return context;\n}\nexport function useComboboxDerivedItemsContext() {\n  const context = React.useContext(ComboboxDerivedItemsContext);\n  if (!context) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: ComboboxItemsContext is missing. Combobox parts must be placed within <Combobox.Root>.' : _formatErrorMessage(24));\n  }\n  return context;\n}\nexport function useComboboxInputValueContext() {\n  return React.useContext(ComboboxInputValueContext);\n}", "export const defaultItemEquality = (item, value) => Object.is(item, value);\nexport function compareItemEquality(item, value, comparer) {\n  if (item == null || value == null) {\n    return Object.is(item, value);\n  }\n  return comparer(item, value);\n}\nexport function itemIncludes(collection, value, comparer) {\n  if (!collection || collection.length === 0) {\n    return false;\n  }\n  return collection.some(item => {\n    if (item === undefined) {\n      return false;\n    }\n    return compareItemEquality(item, value, comparer);\n  });\n}\nexport function findItemIndex(collection, value, comparer) {\n  if (!collection || collection.length === 0) {\n    return -1;\n  }\n  return collection.findIndex(item => {\n    if (item === undefined) {\n      return false;\n    }\n    return compareItemEquality(item, value, comparer);\n  });\n}\nexport function removeItem(collection, value, comparer) {\n  return collection.filter(item => !compareItemEquality(item, value, comparer));\n}", "'use client';\n\nimport * as React from 'react';\nimport { serializeValue } from \"./serializeValue.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function isGroupedItems(items) {\n  return items != null && items.length > 0 && typeof items[0] === 'object' && items[0] != null && 'items' in items[0];\n}\n\n/**\n * Checks if the items array contains an item with a null value that has a non-null label.\n */\nexport function hasNullItemLabel(items) {\n  if (!Array.isArray(items)) {\n    return items != null && !('null' in items);\n  }\n  if (isGroupedItems(items)) {\n    for (const group of items) {\n      for (const item of group.items) {\n        if (item && item.value == null && item.label != null) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n  for (const item of items) {\n    if (item && item.value == null && item.label != null) {\n      return true;\n    }\n  }\n  return false;\n}\nexport function stringifyAsLabel(item, itemToStringLabel) {\n  if (itemToStringLabel && item != null) {\n    return itemToStringLabel(item) ?? '';\n  }\n  if (item && typeof item === 'object') {\n    if ('label' in item && item.label != null) {\n      return String(item.label);\n    }\n    if ('value' in item) {\n      return String(item.value);\n    }\n  }\n  return serializeValue(item);\n}\nexport function stringifyAsValue(item, itemToStringValue) {\n  if (itemToStringValue && item != null) {\n    return itemToStringValue(item) ?? '';\n  }\n  if (item && typeof item === 'object' && 'value' in item && 'label' in item) {\n    return serializeValue(item.value);\n  }\n  return serializeValue(item);\n}\nexport function resolveSelectedLabel(value, items, itemToStringLabel) {\n  function fallback() {\n    return stringifyAsLabel(value, itemToStringLabel);\n  }\n  if (itemToStringLabel && value != null) {\n    return itemToStringLabel(value);\n  }\n\n  // Custom object with explicit label takes precedence\n  if (value && typeof value === 'object' && 'label' in value && value.label != null) {\n    return value.label;\n  }\n\n  // Items provided as plain record map\n  if (items && !Array.isArray(items)) {\n    return items[value] ?? fallback();\n  }\n\n  // Items provided as array (flat or grouped)\n  if (Array.isArray(items)) {\n    const flatItems = isGroupedItems(items) ? items.flatMap(g => g.items) : items;\n    if (value == null || typeof value !== 'object') {\n      const match = flatItems.find(item => item.value === value);\n      if (match && match.label != null) {\n        return match.label;\n      }\n      return fallback();\n    }\n\n    // Object without explicit label: try matching by its `value` property\n    if ('value' in value) {\n      const match = flatItems.find(item => item && item.value === value.value);\n      if (match && match.label != null) {\n        return match.label;\n      }\n    }\n  }\n  return fallback();\n}\nexport function resolveMultipleLabels(values, items, itemToStringLabel) {\n  return values.reduce((acc, value, index) => {\n    if (index > 0) {\n      acc.push(', ');\n    }\n    acc.push(/*#__PURE__*/_jsx(React.Fragment, {\n      children: resolveSelectedLabel(value, items, itemToStringLabel)\n    }, index));\n    return acc;\n  }, []);\n}", "export function serializeValue(value) {\n  if (value == null) {\n    return '';\n  }\n  if (typeof value === 'string') {\n    return value;\n  }\n  try {\n    return JSON.stringify(value);\n  } catch {\n    return String(value);\n  }\n}", "import { createSelector } from '@base-ui/utils/store';\nimport { compareItemEquality } from \"../utils/itemEquality.js\";\nimport { hasNullItemLabel } from \"../utils/resolveValueLabel.js\";\nexport const selectors = {\n  id: createSelector(state => state.id),\n  query: createSelector(state => state.query),\n  items: createSelector(state => state.items),\n  selectedValue: createSelector(state => state.selectedValue),\n  hasSelectionChips: createSelector(state => {\n    const selectedValue = state.selectedValue;\n    return Array.isArray(selectedValue) && selectedValue.length > 0;\n  }),\n  hasSelectedValue: createSelector(state => {\n    const {\n      selectedValue,\n      selectionMode\n    } = state;\n    if (selectedValue == null) {\n      return false;\n    }\n    if (selectionMode === 'multiple' && Array.isArray(selectedValue)) {\n      return selectedValue.length > 0;\n    }\n    return true;\n  }),\n  hasNullItemLabel: createSelector((state, enabled) => {\n    return enabled ? hasNullItemLabel(state.items) : false;\n  }),\n  open: createSelector(state => state.open),\n  mounted: createSelector(state => state.mounted),\n  forceMounted: createSelector(state => state.forceMounted),\n  inline: createSelector(state => state.inline),\n  activeIndex: createSelector(state => state.activeIndex),\n  selectedIndex: createSelector(state => state.selectedIndex),\n  isActive: createSelector((state, index) => state.activeIndex === index),\n  isSelected: createSelector((state, candidate) => {\n    const comparer = state.isItemEqualToValue;\n    const selectedValue = state.selectedValue;\n    if (Array.isArray(selectedValue)) {\n      return selectedValue.some(value => compareItemEquality(value, candidate, comparer));\n    }\n    return compareItemEquality(selectedValue, candidate, comparer);\n  }),\n  transitionStatus: createSelector(state => state.transitionStatus),\n  popupProps: createSelector(state => state.popupProps),\n  inputProps: createSelector(state => state.inputProps),\n  triggerProps: createSelector(state => state.triggerProps),\n  getItemProps: createSelector(state => state.getItemProps),\n  positionerElement: createSelector(state => state.positionerElement),\n  listElement: createSelector(state => state.listElement),\n  triggerElement: createSelector(state => state.triggerElement),\n  inputElement: createSelector(state => state.inputElement),\n  popupSide: createSelector(state => state.popupSide),\n  openMethod: createSelector(state => state.openMethod),\n  inputInsidePopup: createSelector(state => state.inputInsidePopup),\n  selectionMode: createSelector(state => state.selectionMode),\n  listRef: createSelector(state => state.listRef),\n  labelsRef: createSelector(state => state.labelsRef),\n  popupRef: createSelector(state => state.popupRef),\n  emptyRef: createSelector(state => state.emptyRef),\n  inputRef: createSelector(state => state.inputRef),\n  keyboardActiveRef: createSelector(state => state.keyboardActiveRef),\n  chipsContainerRef: createSelector(state => state.chipsContainerRef),\n  clearRef: createSelector(state => state.clearRef),\n  valuesRef: createSelector(state => state.valuesRef),\n  allValuesRef: createSelector(state => state.allValuesRef),\n  name: createSelector(state => state.name),\n  disabled: createSelector(state => state.disabled),\n  readOnly: createSelector(state => state.readOnly),\n  required: createSelector(state => state.required),\n  grid: createSelector(state => state.grid),\n  isGrouped: createSelector(state => state.isGrouped),\n  virtualized: createSelector(state => state.virtualized),\n  onOpenChangeComplete: createSelector(state => state.onOpenChangeComplete),\n  openOnInputClick: createSelector(state => state.openOnInputClick),\n  itemToStringLabel: createSelector(state => state.itemToStringLabel),\n  isItemEqualToValue: createSelector(state => state.isItemEqualToValue),\n  modal: createSelector(state => state.modal),\n  autoHighlight: createSelector(state => state.autoHighlight),\n  submitOnItemClick: createSelector(state => state.submitOnItemClick)\n};", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nimport { NOOP } from \"../../utils/noop.js\";\nimport { DEFAULT_VALIDITY_STATE } from \"../utils/constants.js\";\nimport { EMPTY_OBJECT } from \"../../utils/constants.js\";\nexport const FieldRootContext = /*#__PURE__*/React.createContext({\n  invalid: undefined,\n  name: undefined,\n  validityData: {\n    state: DEFAULT_VALIDITY_STATE,\n    errors: [],\n    error: '',\n    value: '',\n    initialValue: null\n  },\n  setValidityData: NOOP,\n  disabled: undefined,\n  touched: false,\n  setTouched: NOOP,\n  dirty: false,\n  setDirty: NOOP,\n  filled: false,\n  setFilled: NOOP,\n  focused: false,\n  setFocused: NOOP,\n  validate: () => null,\n  validationMode: 'onSubmit',\n  validationDebounceTime: 0,\n  shouldValidateOnChange: () => false,\n  state: {\n    disabled: false,\n    valid: null,\n    touched: false,\n    dirty: false,\n    filled: false,\n    focused: false\n  },\n  markedDirtyRef: {\n    current: false\n  },\n  validation: {\n    getValidationProps: (props = EMPTY_OBJECT) => props,\n    getInputValidationProps: (props = EMPTY_OBJECT) => props,\n    inputRef: {\n      current: null\n    },\n    commit: async () => {}\n  }\n});\nif (process.env.NODE_ENV !== \"production\") FieldRootContext.displayName = \"FieldRootContext\";\nexport function useFieldRootContext(optional = true) {\n  const context = React.useContext(FieldRootContext);\n  if (context.setValidityData === NOOP && !optional) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: FieldRootContext is missing. Field parts must be placed within <Field.Root>.' : _formatErrorMessage(28));\n  }\n  return context;\n}", "export let FieldControlDataAttributes = /*#__PURE__*/function (FieldControlDataAttributes) {\n  /**\n   * Present when the field is disabled.\n   */\n  FieldControlDataAttributes[\"disabled\"] = \"data-disabled\";\n  /**\n   * Present when the field is in valid state.\n   */\n  FieldControlDataAttributes[\"valid\"] = \"data-valid\";\n  /**\n   * Present when the field is in invalid state.\n   */\n  FieldControlDataAttributes[\"invalid\"] = \"data-invalid\";\n  /**\n   * Present when the field has been touched.\n   */\n  FieldControlDataAttributes[\"touched\"] = \"data-touched\";\n  /**\n   * Present when the field's value has changed.\n   */\n  FieldControlDataAttributes[\"dirty\"] = \"data-dirty\";\n  /**\n   * Present when the field is filled.\n   */\n  FieldControlDataAttributes[\"filled\"] = \"data-filled\";\n  /**\n   * Present when the field control is focused.\n   */\n  FieldControlDataAttributes[\"focused\"] = \"data-focused\";\n  return FieldControlDataAttributes;\n}({});", "import { FieldControlDataAttributes } from \"../control/FieldControlDataAttributes.js\";\nexport const DEFAULT_VALIDITY_STATE = {\n  badInput: false,\n  customError: false,\n  patternMismatch: false,\n  rangeOverflow: false,\n  rangeUnderflow: false,\n  stepMismatch: false,\n  tooLong: false,\n  tooShort: false,\n  typeMismatch: false,\n  valid: null,\n  valueMissing: false\n};\nexport const fieldValidityMapping = {\n  valid(value) {\n    if (value === null) {\n      return null;\n    }\n    if (value) {\n      return {\n        [FieldControlDataAttributes.valid]: ''\n      };\n    }\n    return {\n      [FieldControlDataAttributes.invalid]: ''\n    };\n  }\n};", "import * as ReactDOM from 'react-dom';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { getCombinedFieldValidityData } from \"./utils/getCombinedFieldValidityData.js\";\nimport { useFormContext } from \"../form/FormContext.js\";\nimport { useFieldRootContext } from \"./root/FieldRootContext.js\";\nexport function useField(params) {\n  const {\n    enabled = true,\n    value,\n    id,\n    name,\n    controlRef,\n    commit\n  } = params;\n  const {\n    formRef\n  } = useFormContext();\n  const {\n    invalid,\n    markedDirtyRef,\n    validityData,\n    setValidityData\n  } = useFieldRootContext();\n  const getValue = useStableCallback(params.getValue);\n  useIsoLayoutEffect(() => {\n    if (!enabled) {\n      return;\n    }\n    let initialValue = value;\n    if (initialValue === undefined) {\n      initialValue = getValue();\n    }\n    if (validityData.initialValue === null && initialValue !== null) {\n      setValidityData(prev => ({\n        ...prev,\n        initialValue\n      }));\n    }\n  }, [enabled, setValidityData, value, validityData.initialValue, getValue]);\n  useIsoLayoutEffect(() => {\n    if (!enabled || !id) {\n      return;\n    }\n    formRef.current.fields.set(id, {\n      getValue,\n      name,\n      controlRef,\n      validityData: getCombinedFieldValidityData(validityData, invalid),\n      validate(flushSync = true) {\n        let nextValue = value;\n        if (nextValue === undefined) {\n          nextValue = getValue();\n        }\n        markedDirtyRef.current = true;\n        if (!flushSync) {\n          commit(nextValue);\n        } else {\n          // Synchronously update the validity state so the submit event can be prevented.\n          ReactDOM.flushSync(() => commit(nextValue));\n        }\n      }\n    });\n  }, [commit, controlRef, enabled, formRef, getValue, id, invalid, markedDirtyRef, name, validityData, value]);\n  useIsoLayoutEffect(() => {\n    const fields = formRef.current.fields;\n    return () => {\n      if (id) {\n        fields.delete(id);\n      }\n    };\n  }, [formRef, id]);\n}", "/**\n * Combines the field's client-side, stateful validity data with the external invalid state to\n * determine the field's true validity.\n */\nexport function getCombinedFieldValidityData(validityData, invalid) {\n  return {\n    ...validityData,\n    state: {\n      ...validityData.state,\n      valid: !invalid && validityData.state.valid\n    }\n  };\n}", "'use client';\n\nimport * as React from 'react';\nimport { NOOP } from \"../utils/noop.js\";\nexport const FormContext = /*#__PURE__*/React.createContext({\n  formRef: {\n    current: {\n      fields: new Map()\n    }\n  },\n  errors: {},\n  clearErrors: NOOP,\n  validationMode: 'onSubmit',\n  submitAttemptedRef: {\n    current: false\n  }\n});\nif (process.env.NODE_ENV !== \"production\") FormContext.displayName = \"FormContext\";\nexport function useFormContext() {\n  return React.useContext(FormContext);\n}", "'use client';\n\nimport * as React from 'react';\nimport { NOOP } from \"../utils/noop.js\";\n/**\n * A context for providing [labelable elements](https://html.spec.whatwg.org/multipage/forms.html#category-label)\\\n * with an accessible name (label) and description.\n */\nexport const LabelableContext = /*#__PURE__*/React.createContext({\n  controlId: undefined,\n  setControlId: NOOP,\n  labelId: undefined,\n  setLabelId: NOOP,\n  messageIds: [],\n  setMessageIds: NOOP,\n  getDescriptionProps: externalProps => externalProps\n});\nif (process.env.NODE_ENV !== \"production\") LabelableContext.displayName = \"LabelableContext\";\nexport function useLabelableContext() {\n  return React.useContext(LabelableContext);\n}", "'use client';\n\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { isElement } from '@floating-ui/utils/dom';\nimport { NOOP } from \"../utils/noop.js\";\nimport { useBaseUiId } from \"../utils/useBaseUiId.js\";\nimport { useLabelableContext } from \"./LabelableContext.js\";\nexport function useLabelableId(params = {}) {\n  const {\n    id,\n    implicit = false,\n    controlRef\n  } = params;\n  const {\n    controlId,\n    setControlId\n  } = useLabelableContext();\n  const defaultId = useBaseUiId(id);\n  useIsoLayoutEffect(() => {\n    if (!implicit && !id || setControlId === NOOP) {\n      return undefined;\n    }\n    if (implicit) {\n      const elem = controlRef?.current;\n      if (isElement(elem) && elem.closest('label') != null) {\n        setControlId(id ?? null);\n      } else {\n        setControlId(controlId ?? defaultId);\n      }\n    } else if (id) {\n      setControlId(id);\n    }\n    return () => {\n      if (id) {\n        setControlId(undefined);\n      }\n    };\n  }, [id, controlRef, controlId, setControlId, implicit, defaultId]);\n  return controlId ?? defaultId;\n}", "import { stringifyAsLabel } from \"../../../utils/resolveValueLabel.js\";\n/**\n * Enhanced filter using Intl.Collator for more robust string matching.\n * Uses the provided `itemToStringLabel` function if available, otherwise falls back to:\n *  When `item` is an object with a `value` property, that property is used.\n *  When `item` is a primitive (e.g. `string`), it is used directly.\n */\nexport function createCollatorItemFilter(collatorFilter, itemToStringLabel) {\n  return (item, query) => {\n    if (item == null) {\n      return false;\n    }\n    const itemString = stringifyAsLabel(item, itemToStringLabel);\n    return collatorFilter.contains(itemString, query);\n  };\n}\n\n/**\n * Enhanced filter for single selection mode using Intl.Collator that shows all items\n * when query is empty or matches the current selection, making it easier to browse options.\n */\nexport function createSingleSelectionCollatorFilter(collatorFilter, itemToStringLabel, selectedValue) {\n  return (item, query) => {\n    if (item == null) {\n      return false;\n    }\n    if (!query) {\n      return true;\n    }\n    const itemString = stringifyAsLabel(item, itemToStringLabel);\n    const selectedString = selectedValue != null ? stringifyAsLabel(selectedValue, itemToStringLabel) : '';\n\n    // Handle case-insensitive matching consistently\n    if (selectedString && collatorFilter.contains(selectedString, query) && selectedString.length === query.length) {\n      return true;\n    }\n    return collatorFilter.contains(itemString, query);\n  };\n}", "'use client';\n\nimport * as React from 'react';\nimport { createCollatorItemFilter, createSingleSelectionCollatorFilter } from \"./index.js\";\nimport { stringifyAsLabel } from \"../../../utils/resolveValueLabel.js\";\nconst filterCache = new Map();\nfunction stringifyLocale(locale) {\n  if (Array.isArray(locale)) {\n    return locale.map(value => stringifyLocale(value)).join(',');\n  }\n  if (locale == null) {\n    return '';\n  }\n  return String(locale);\n}\nfunction getFilter(options = {}) {\n  const mergedOptions = {\n    usage: 'search',\n    sensitivity: 'base',\n    ignorePunctuation: true,\n    ...options\n  };\n  const cacheKey = `${stringifyLocale(options.locale)}|${JSON.stringify(mergedOptions)}`;\n  const cachedFilter = filterCache.get(cacheKey);\n  if (cachedFilter) {\n    return cachedFilter;\n  }\n  const collator = new Intl.Collator(options.locale, mergedOptions);\n  const filter = {\n    contains(item, query, itemToString) {\n      if (!query) {\n        return true;\n      }\n      const itemString = stringifyAsLabel(item, itemToString);\n      for (let i = 0; i <= itemString.length - query.length; i += 1) {\n        if (collator.compare(itemString.slice(i, i + query.length), query) === 0) {\n          return true;\n        }\n      }\n      return false;\n    },\n    startsWith(item, query, itemToString) {\n      if (!query) {\n        return true;\n      }\n      const itemString = stringifyAsLabel(item, itemToString);\n      return collator.compare(itemString.slice(0, query.length), query) === 0;\n    },\n    endsWith(item, query, itemToString) {\n      if (!query) {\n        return true;\n      }\n      const itemString = stringifyAsLabel(item, itemToString);\n      const queryLength = query.length;\n      return itemString.length >= queryLength && collator.compare(itemString.slice(itemString.length - queryLength), query) === 0;\n    }\n  };\n  filterCache.set(cacheKey, filter);\n  return filter;\n}\n\n/**\n * Matches items against a query using `Intl.Collator` for robust string matching.\n */\nexport const useCoreFilter = getFilter;\n/**\n * Matches items against a query using `Intl.Collator` for robust string matching.\n */\nexport function useComboboxFilter(options = {}) {\n  const {\n    multiple = false,\n    value,\n    ...collatorOptions\n  } = options;\n  const coreFilter = getFilter(collatorOptions);\n  const contains = React.useCallback((item, query, itemToString) => {\n    if (multiple) {\n      return createCollatorItemFilter(coreFilter, itemToString)(item, query);\n    }\n    return createSingleSelectionCollatorFilter(coreFilter, itemToString, value)(item, query);\n  }, [coreFilter, value, multiple]);\n  return React.useMemo(() => ({\n    contains,\n    startsWith: coreFilter.startsWith,\n    endsWith: coreFilter.endsWith\n  }), [contains, coreFilter]);\n}", "import * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nexport function useValueChanged(value, onChange) {\n  const valueRef = React.useRef(value);\n  const onChangeCallback = useStableCallback(onChange);\n  useIsoLayoutEffect(() => {\n    if (valueRef.current === value) {\n      return;\n    }\n    onChangeCallback(valueRef.current);\n  }, [value, onChangeCallback]);\n  useIsoLayoutEffect(() => {\n    valueRef.current = value;\n  }, [value]);\n}", "export const NO_ACTIVE_VALUE = Symbol('none');\nexport const INITIAL_LAST_HIGHLIGHT = {\n  value: NO_ACTIVE_VALUE,\n  index: -1\n};", "'use client';\n\nimport * as React from 'react';\nimport { useComboboxInputValueContext } from \"../../combobox/root/ComboboxRootContext.js\";\n\n/**\n * The current value of the autocomplete.\n * Doesn't render its own HTML element.\n *\n * Documentation: [Base UI Autocomplete](https://base-ui.com/react/components/autocomplete)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function AutocompleteValue(props) {\n  const {\n    children\n  } = props;\n  const inputValue = useComboboxInputValueContext();\n  let returnValue = null;\n  if (typeof children === 'function') {\n    returnValue = children(String(inputValue));\n  } else if (children != null) {\n    returnValue = children;\n  } else {\n    returnValue = inputValue;\n  }\n  return /*#__PURE__*/_jsx(React.Fragment, {\n    children: returnValue\n  });\n}", "'use client';\n\nimport * as React from 'react';\nimport { useStore } from '@base-ui/utils/store';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useTimeout } from '@base-ui/utils/useTimeout';\nimport { ownerDocument } from '@base-ui/utils/owner';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useButton } from \"../../use-button/index.js\";\nimport { useComboboxFloatingContext, useComboboxDerivedItemsContext, useComboboxInputValueContext, useComboboxRootContext } from \"../root/ComboboxRootContext.js\";\nimport { triggerStateAttributesMapping } from \"../utils/stateAttributesMapping.js\";\nimport { selectors } from \"../store.js\";\nimport { useFieldRootContext } from \"../../field/root/FieldRootContext.js\";\nimport { useLabelableContext } from \"../../labelable-provider/LabelableContext.js\";\nimport { stopEvent, contains, getTarget } from \"../../floating-ui-react/utils.js\";\nimport { getPseudoElementBounds } from \"../../utils/getPseudoElementBounds.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { useClick, useTypeahead } from \"../../floating-ui-react/index.js\";\nimport { useLabelableId } from \"../../labelable-provider/useLabelableId.js\";\nconst BOUNDARY_OFFSET = 2;\n\n/**\n * A button that opens the popup.\n * Renders a `<button>` element.\n */\nexport const ComboboxTrigger = /*#__PURE__*/React.forwardRef(function ComboboxTrigger(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    nativeButton = true,\n    disabled: disabledProp = false,\n    id: idProp,\n    ...elementProps\n  } = componentProps;\n  const {\n    state: fieldState,\n    disabled: fieldDisabled,\n    setTouched,\n    setFocused,\n    validationMode,\n    validation\n  } = useFieldRootContext();\n  const {\n    labelId\n  } = useLabelableContext();\n  const store = useComboboxRootContext();\n  const {\n    filteredItems\n  } = useComboboxDerivedItemsContext();\n  const selectionMode = useStore(store, selectors.selectionMode);\n  const comboboxDisabled = useStore(store, selectors.disabled);\n  const readOnly = useStore(store, selectors.readOnly);\n  const required = useStore(store, selectors.required);\n  const mounted = useStore(store, selectors.mounted);\n  const popupSideValue = useStore(store, selectors.popupSide);\n  const positionerElement = useStore(store, selectors.positionerElement);\n  const listElement = useStore(store, selectors.listElement);\n  const triggerProps = useStore(store, selectors.triggerProps);\n  const triggerElement = useStore(store, selectors.triggerElement);\n  const inputInsidePopup = useStore(store, selectors.inputInsidePopup);\n  const rootId = useStore(store, selectors.id);\n  const open = useStore(store, selectors.open);\n  const selectedValue = useStore(store, selectors.selectedValue);\n  const activeIndex = useStore(store, selectors.activeIndex);\n  const selectedIndex = useStore(store, selectors.selectedIndex);\n  const hasSelectedValue = useStore(store, selectors.hasSelectedValue);\n  const floatingRootContext = useComboboxFloatingContext();\n  const inputValue = useComboboxInputValueContext();\n  const focusTimeout = useTimeout();\n  const disabled = fieldDisabled || comboboxDisabled || disabledProp;\n  const listEmpty = filteredItems.length === 0;\n  const popupSide = mounted && positionerElement ? popupSideValue : null;\n  useLabelableId({\n    id: inputInsidePopup ? idProp : undefined\n  });\n  const id = inputInsidePopup ? idProp ?? rootId : idProp;\n  const currentPointerTypeRef = React.useRef('');\n  function trackPointerType(event) {\n    currentPointerTypeRef.current = event.pointerType;\n  }\n  const domReference = floatingRootContext.select('domReferenceElement');\n\n  // Update the floating root context to use the trigger element when it differs from the current reference.\n  // This ensures useClick and useTypeahead attach handlers to the correct element.\n  React.useEffect(() => {\n    if (!inputInsidePopup) {\n      return;\n    }\n    if (triggerElement && triggerElement !== domReference) {\n      floatingRootContext.set('domReferenceElement', triggerElement);\n    }\n  }, [triggerElement, domReference, floatingRootContext, inputInsidePopup]);\n  const {\n    reference: triggerTypeaheadProps\n  } = useTypeahead(floatingRootContext, {\n    enabled: !open && !readOnly && !comboboxDisabled && selectionMode === 'single',\n    listRef: store.state.labelsRef,\n    activeIndex,\n    selectedIndex,\n    onMatch(index) {\n      const nextSelectedValue = store.state.valuesRef.current[index];\n      if (nextSelectedValue !== undefined) {\n        store.state.setSelectedValue(nextSelectedValue, createChangeEventDetails('none'));\n      }\n    }\n  });\n  const {\n    reference: triggerClickProps\n  } = useClick(floatingRootContext, {\n    enabled: !readOnly && !comboboxDisabled,\n    event: 'mousedown'\n  });\n  const {\n    buttonRef,\n    getButtonProps\n  } = useButton({\n    native: nativeButton,\n    disabled\n  });\n  const state = React.useMemo(() => ({\n    ...fieldState,\n    open,\n    disabled,\n    popupSide,\n    listEmpty,\n    placeholder: !hasSelectedValue\n  }), [fieldState, open, disabled, popupSide, listEmpty, hasSelectedValue]);\n  const setTriggerElement = useStableCallback(element => {\n    store.set('triggerElement', element);\n  });\n  const element = useRenderElement('button', componentProps, {\n    ref: [forwardedRef, buttonRef, setTriggerElement],\n    state,\n    props: [triggerProps, triggerClickProps, triggerTypeaheadProps, {\n      id,\n      tabIndex: inputInsidePopup ? 0 : -1,\n      role: inputInsidePopup ? 'combobox' : undefined,\n      'aria-expanded': open ? 'true' : 'false',\n      'aria-haspopup': inputInsidePopup ? 'dialog' : 'listbox',\n      'aria-controls': open ? listElement?.id : undefined,\n      'aria-readonly': readOnly || undefined,\n      'aria-required': inputInsidePopup ? required || undefined : undefined,\n      'aria-labelledby': labelId,\n      onPointerDown: trackPointerType,\n      onPointerEnter: trackPointerType,\n      onFocus() {\n        setFocused(true);\n        if (disabled || readOnly) {\n          return;\n        }\n        focusTimeout.start(0, store.state.forceMount);\n      },\n      onBlur(event) {\n        // If focus is moving into the popup, don't count it as a blur.\n        if (contains(positionerElement, event.relatedTarget)) {\n          return;\n        }\n        setTouched(true);\n        setFocused(false);\n        if (validationMode === 'onBlur') {\n          const valueToValidate = selectionMode === 'none' ? inputValue : selectedValue;\n          validation.commit(valueToValidate);\n        }\n      },\n      onMouseDown(event) {\n        if (disabled || readOnly) {\n          return;\n        }\n        if (!inputInsidePopup) {\n          floatingRootContext.set('domReferenceElement', event.currentTarget);\n        }\n\n        // Ensure items are registered for initial selection highlight.\n        store.state.forceMount();\n        if (currentPointerTypeRef.current !== 'touch') {\n          store.state.inputRef.current?.focus();\n          if (!inputInsidePopup) {\n            event.preventDefault();\n          }\n        }\n        if (open) {\n          return;\n        }\n        const doc = ownerDocument(event.currentTarget);\n        function handleMouseUp(mouseEvent) {\n          if (!triggerElement) {\n            return;\n          }\n          const mouseUpTarget = getTarget(mouseEvent);\n          const positioner = store.state.positionerElement;\n          const list = store.state.listElement;\n          if (contains(triggerElement, mouseUpTarget) || contains(positioner, mouseUpTarget) || contains(list, mouseUpTarget) || mouseUpTarget === triggerElement) {\n            return;\n          }\n          const bounds = getPseudoElementBounds(triggerElement);\n          const withinHorizontal = mouseEvent.clientX >= bounds.left - BOUNDARY_OFFSET && mouseEvent.clientX <= bounds.right + BOUNDARY_OFFSET;\n          const withinVertical = mouseEvent.clientY >= bounds.top - BOUNDARY_OFFSET && mouseEvent.clientY <= bounds.bottom + BOUNDARY_OFFSET;\n          if (withinHorizontal && withinVertical) {\n            return;\n          }\n          store.state.setOpen(false, createChangeEventDetails('cancel-open', mouseEvent));\n        }\n        if (inputInsidePopup) {\n          doc.addEventListener('mouseup', handleMouseUp, {\n            once: true\n          });\n        }\n      },\n      onKeyDown(event) {\n        if (disabled || readOnly) {\n          return;\n        }\n        if (event.key === 'ArrowDown' || event.key === 'ArrowUp') {\n          stopEvent(event);\n          store.state.setOpen(true, createChangeEventDetails(REASONS.listNavigation, event.nativeEvent));\n          store.state.inputRef.current?.focus();\n        }\n      }\n    }, validation ? validation.getValidationProps(elementProps) : elementProps, getButtonProps],\n    stateAttributesMapping: triggerStateAttributesMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") ComboboxTrigger.displayName = \"ComboboxTrigger\";", "import { pressableTriggerOpenStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { fieldValidityMapping } from \"../../field/utils/constants.js\";\nexport const triggerStateAttributesMapping = {\n  ...pressableTriggerOpenStateMapping,\n  ...fieldValidityMapping,\n  popupSide: side => side ? {\n    'data-popup-side': side\n  } : null,\n  listEmpty: empty => empty ? {\n    'data-list-empty': ''\n  } : null\n};", "export function getPseudoElementBounds(element) {\n  const elementRect = element.getBoundingClientRect();\n\n  // Avoid \"Not implemented: window.getComputedStyle(elt, pseudoElt)\"\n  if (process.env.NODE_ENV === 'test') {\n    return elementRect;\n  }\n  const beforeStyles = window.getComputedStyle(element, '::before');\n  const afterStyles = window.getComputedStyle(element, '::after');\n  const hasPseudoElements = beforeStyles.content !== 'none' || afterStyles.content !== 'none';\n  if (!hasPseudoElements) {\n    return elementRect;\n  }\n\n  // Get dimensions of pseudo-elements\n  const beforeWidth = parseFloat(beforeStyles.width) || 0;\n  const beforeHeight = parseFloat(beforeStyles.height) || 0;\n  const afterWidth = parseFloat(afterStyles.width) || 0;\n  const afterHeight = parseFloat(afterStyles.height) || 0;\n\n  // Calculate max dimensions including pseudo-elements\n  const totalWidth = Math.max(elementRect.width, beforeWidth, afterWidth);\n  const totalHeight = Math.max(elementRect.height, beforeHeight, afterHeight);\n\n  // Calculate the differences to extend the bounds\n  const widthDiff = totalWidth - elementRect.width;\n  const heightDiff = totalHeight - elementRect.height;\n  return {\n    left: elementRect.left - widthDiff / 2,\n    right: elementRect.right + widthDiff / 2,\n    top: elementRect.top - heightDiff / 2,\n    bottom: elementRect.bottom + heightDiff / 2\n  };\n}", "'use client';\n\nimport * as React from 'react';\nimport { useStore } from '@base-ui/utils/store';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { isAndroid, isFirefox } from '@base-ui/utils/detectBrowser';\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useComboboxDerivedItemsContext, useComboboxInputValueContext, useComboboxRootContext } from \"../root/ComboboxRootContext.js\";\nimport { triggerStateAttributesMapping } from \"../utils/stateAttributesMapping.js\";\nimport { selectors } from \"../store.js\";\nimport { useFieldRootContext } from \"../../field/root/FieldRootContext.js\";\nimport { useLabelableContext } from \"../../labelable-provider/LabelableContext.js\";\nimport { useComboboxChipsContext } from \"../chips/ComboboxChipsContext.js\";\nimport { stopEvent } from \"../../floating-ui-react/utils.js\";\nimport { useComboboxPositionerContext } from \"../positioner/ComboboxPositionerContext.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { useDirection } from \"../../direction-provider/DirectionContext.js\";\n\n/**\n * A text input to search for items in the list.\n * Renders an `<input>` element.\n */\nexport const ComboboxInput = /*#__PURE__*/React.forwardRef(function ComboboxInput(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    disabled: disabledProp = false,\n    id: idProp,\n    ...elementProps\n  } = componentProps;\n  const {\n    state: fieldState,\n    disabled: fieldDisabled,\n    setTouched,\n    setFocused,\n    validationMode,\n    validation\n  } = useFieldRootContext();\n  const {\n    labelId\n  } = useLabelableContext();\n  const comboboxChipsContext = useComboboxChipsContext();\n  const positioning = useComboboxPositionerContext(true);\n  const hasPositionerParent = Boolean(positioning);\n  const store = useComboboxRootContext();\n  const {\n    filteredItems\n  } = useComboboxDerivedItemsContext();\n  // `inputValue` can't be placed in the store.\n  // https://github.com/mui/base-ui/issues/2703\n  const inputValue = useComboboxInputValueContext();\n  const required = useStore(store, selectors.required);\n  const direction = useDirection();\n  const comboboxDisabled = useStore(store, selectors.disabled);\n  const readOnly = useStore(store, selectors.readOnly);\n  const name = useStore(store, selectors.name);\n  const selectionMode = useStore(store, selectors.selectionMode);\n  const autoHighlightMode = useStore(store, selectors.autoHighlight);\n  const inputProps = useStore(store, selectors.inputProps);\n  const triggerProps = useStore(store, selectors.triggerProps);\n  const open = useStore(store, selectors.open);\n  const mounted = useStore(store, selectors.mounted);\n  const selectedValue = useStore(store, selectors.selectedValue);\n  const popupSideValue = useStore(store, selectors.popupSide);\n  const positionerElement = useStore(store, selectors.positionerElement);\n  const rootId = useStore(store, selectors.id);\n  const inline = useStore(store, selectors.inline);\n  const autoHighlightEnabled = Boolean(autoHighlightMode);\n  const popupSide = mounted && positionerElement ? popupSideValue : null;\n  const disabled = fieldDisabled || comboboxDisabled || disabledProp;\n  const listEmpty = filteredItems.length === 0;\n  const isInsidePopup = hasPositionerParent || inline;\n  const id = useBaseUiId(idProp ?? (!isInsidePopup ? rootId : undefined));\n  const [composingValue, setComposingValue] = React.useState(null);\n  const isComposingRef = React.useRef(false);\n  const setInputElement = useStableCallback(element => {\n    const nextIsInsidePopup = hasPositionerParent || store.state.inline;\n    if (nextIsInsidePopup && !store.state.hasInputValue) {\n      store.state.setInputValue('', createChangeEventDetails(REASONS.none));\n    }\n    store.update({\n      inputElement: element,\n      inputInsidePopup: nextIsInsidePopup\n    });\n  });\n  const state = React.useMemo(() => ({\n    ...fieldState,\n    open,\n    disabled,\n    readOnly,\n    popupSide,\n    listEmpty\n  }), [fieldState, open, disabled, readOnly, popupSide, listEmpty]);\n  function handleKeyDown(event) {\n    if (!comboboxChipsContext) {\n      return undefined;\n    }\n    let nextIndex;\n    const {\n      highlightedChipIndex\n    } = comboboxChipsContext;\n    if (highlightedChipIndex !== undefined) {\n      if (event.key === 'ArrowLeft') {\n        event.preventDefault();\n        if (highlightedChipIndex > 0) {\n          nextIndex = highlightedChipIndex - 1;\n        } else {\n          nextIndex = undefined;\n        }\n      } else if (event.key === 'ArrowRight') {\n        event.preventDefault();\n        if (highlightedChipIndex < selectedValue.length - 1) {\n          nextIndex = highlightedChipIndex + 1;\n        } else {\n          nextIndex = undefined;\n        }\n      } else if (event.key === 'Backspace' || event.key === 'Delete') {\n        event.preventDefault();\n        // Move highlight appropriately after removal.\n        const computedNextIndex = highlightedChipIndex >= selectedValue.length - 1 ? selectedValue.length - 2 : highlightedChipIndex;\n        // If the computed index is negative, treat it as no highlight.\n        nextIndex = computedNextIndex >= 0 ? computedNextIndex : undefined;\n        store.state.setIndices({\n          activeIndex: null,\n          selectedIndex: null,\n          type: 'keyboard'\n        });\n      }\n      return nextIndex;\n    }\n\n    // Handle navigation when no chip is highlighted\n    if (event.key === 'ArrowLeft' && (event.currentTarget.selectionStart ?? 0) === 0 && selectedValue.length > 0) {\n      event.preventDefault();\n      const lastChipIndex = Math.max(selectedValue.length - 1, 0);\n      nextIndex = lastChipIndex;\n    } else if (event.key === 'Backspace' && event.currentTarget.value === '' && selectedValue.length > 0) {\n      store.state.setIndices({\n        activeIndex: null,\n        selectedIndex: null,\n        type: 'keyboard'\n      });\n      event.preventDefault();\n    }\n    return nextIndex;\n  }\n  const element = useRenderElement('input', componentProps, {\n    state,\n    ref: [forwardedRef, store.state.inputRef, setInputElement],\n    props: [inputProps, triggerProps, {\n      type: 'text',\n      value: componentProps.value ?? composingValue ?? inputValue,\n      'aria-readonly': readOnly || undefined,\n      'aria-required': required || undefined,\n      'aria-labelledby': labelId,\n      disabled,\n      readOnly,\n      required: selectionMode === 'none' ? required : undefined,\n      ...(selectionMode === 'none' && name && {\n        name\n      }),\n      id,\n      onFocus() {\n        setFocused(true);\n      },\n      onBlur() {\n        setTouched(true);\n        setFocused(false);\n        if (validationMode === 'onBlur') {\n          const valueToValidate = selectionMode === 'none' ? inputValue : selectedValue;\n          validation.commit(valueToValidate);\n        }\n      },\n      onCompositionStart(event) {\n        if (isAndroid) {\n          return;\n        }\n        isComposingRef.current = true;\n        setComposingValue(event.currentTarget.value);\n      },\n      onCompositionEnd(event) {\n        isComposingRef.current = false;\n        const next = event.currentTarget.value;\n        setComposingValue(null);\n        store.state.setInputValue(next, createChangeEventDetails(REASONS.inputChange, event.nativeEvent));\n      },\n      onChange(event) {\n        // During IME composition, avoid propagating controlled updates to prevent\n        // filtering the options prematurely so `Empty` won't show incorrectly.\n        // We can't rely on this check for Android due to how it handles composition\n        // events with some keyboards (e.g. Samsung keyboard with predictive text on\n        // treats all text as always-composing).\n        // https://github.com/mui/base-ui/issues/2942\n        if (isComposingRef.current) {\n          const nextVal = event.currentTarget.value;\n          setComposingValue(nextVal);\n          if (nextVal === '' && !store.state.openOnInputClick && !store.state.inputInsidePopup) {\n            store.state.setOpen(false, createChangeEventDetails(REASONS.inputClear, event.nativeEvent));\n          }\n          const trimmed = nextVal.trim();\n          const shouldMaintainHighlight = autoHighlightEnabled && trimmed !== '';\n          if (!readOnly && !disabled) {\n            if (trimmed !== '') {\n              store.state.setOpen(true, createChangeEventDetails(REASONS.inputChange, event.nativeEvent));\n              if (!autoHighlightEnabled) {\n                store.state.setIndices({\n                  activeIndex: null,\n                  selectedIndex: null,\n                  type: store.state.keyboardActiveRef.current ? 'keyboard' : 'pointer'\n                });\n              }\n            }\n          }\n          if (open && store.state.activeIndex !== null && !shouldMaintainHighlight) {\n            store.state.setIndices({\n              activeIndex: null,\n              selectedIndex: null,\n              type: store.state.keyboardActiveRef.current ? 'keyboard' : 'pointer'\n            });\n          }\n          return;\n        }\n        store.state.setInputValue(event.currentTarget.value, createChangeEventDetails(REASONS.inputChange, event.nativeEvent));\n        const empty = event.currentTarget.value === '';\n        const clearDetails = createChangeEventDetails(REASONS.inputClear, event.nativeEvent);\n        if (empty && !store.state.inputInsidePopup) {\n          if (selectionMode === 'single') {\n            store.state.setSelectedValue(null, clearDetails);\n          }\n          if (!store.state.openOnInputClick) {\n            store.state.setOpen(false, clearDetails);\n          }\n        }\n        const trimmed = event.currentTarget.value.trim();\n        if (!readOnly && !disabled) {\n          if (trimmed !== '') {\n            store.state.setOpen(true, createChangeEventDetails(REASONS.inputChange, event.nativeEvent));\n            // When autoHighlight is enabled, keep the highlight (will be set to 0 in root).\n            if (!autoHighlightEnabled) {\n              store.state.setIndices({\n                activeIndex: null,\n                selectedIndex: null,\n                type: store.state.keyboardActiveRef.current ? 'keyboard' : 'pointer'\n              });\n            }\n          }\n        }\n\n        // When the user types, ensure the list resets its highlight so that\n        // virtual focus returns to the input (aria-activedescendant is\n        // cleared).\n        if (open && store.state.activeIndex !== null && !autoHighlightEnabled) {\n          store.state.setIndices({\n            activeIndex: null,\n            selectedIndex: null,\n            type: store.state.keyboardActiveRef.current ? 'keyboard' : 'pointer'\n          });\n        }\n      },\n      onKeyDown(event) {\n        if (disabled || readOnly) {\n          return;\n        }\n        if (event.ctrlKey || event.shiftKey || event.altKey || event.metaKey) {\n          return;\n        }\n        store.state.keyboardActiveRef.current = true;\n        const input = event.currentTarget;\n        const scrollAmount = input.scrollWidth - input.clientWidth;\n        const isRTL = direction === 'rtl';\n        if (event.key === 'Home') {\n          stopEvent(event);\n          const cursor = isFirefox && isRTL ? input.value.length : 0;\n          input.setSelectionRange(cursor, cursor);\n          input.scrollLeft = 0;\n          return;\n        }\n        if (event.key === 'End') {\n          stopEvent(event);\n          const cursor = isFirefox && isRTL ? 0 : input.value.length;\n          input.setSelectionRange(cursor, cursor);\n          input.scrollLeft = isRTL ? -scrollAmount : scrollAmount;\n          return;\n        }\n        if (!mounted && event.key === 'Escape') {\n          const isClear = selectionMode === 'multiple' && Array.isArray(selectedValue) ? selectedValue.length === 0 : selectedValue === null;\n          const details = createChangeEventDetails(REASONS.escapeKey, event.nativeEvent);\n          const value = selectionMode === 'multiple' ? [] : null;\n          store.state.setInputValue('', details);\n          store.state.setSelectedValue(value, details);\n          if (!isClear && !store.state.inline && !details.isPropagationAllowed) {\n            event.stopPropagation();\n          }\n          return;\n        }\n\n        // Handle deletion when no chip is highlighted and the input is empty.\n        if (comboboxChipsContext && event.key === 'Backspace' && input.value === '' && comboboxChipsContext.highlightedChipIndex === undefined && Array.isArray(selectedValue) && selectedValue.length > 0) {\n          const newValue = selectedValue.slice(0, -1);\n          // If the removed item was also the active (highlighted) item, clear highlight\n          store.state.setIndices({\n            activeIndex: null,\n            selectedIndex: null,\n            type: store.state.keyboardActiveRef.current ? 'keyboard' : 'pointer'\n          });\n          store.state.setSelectedValue(newValue, createChangeEventDetails(REASONS.none, event.nativeEvent));\n          return;\n        }\n        const nextIndex = handleKeyDown(event);\n        comboboxChipsContext?.setHighlightedChipIndex(nextIndex);\n        if (nextIndex !== undefined) {\n          comboboxChipsContext?.chipsRef.current[nextIndex]?.focus();\n        } else {\n          store.state.inputRef.current?.focus();\n        }\n\n        // event.isComposing\n        if (event.which === 229) {\n          return;\n        }\n        if (event.key === 'Enter' && open) {\n          const activeIndex = store.state.activeIndex;\n          const nativeEvent = event.nativeEvent;\n          if (activeIndex === null) {\n            // Allow form submission when no item is highlighted.\n            store.state.setOpen(false, createChangeEventDetails(REASONS.none, nativeEvent));\n            return;\n          }\n          stopEvent(event);\n          const listItem = store.state.listRef.current[activeIndex];\n          if (listItem) {\n            store.state.selectionEventRef.current = nativeEvent;\n            listItem.click();\n            store.state.selectionEventRef.current = null;\n          }\n        }\n      },\n      onPointerMove() {\n        store.state.keyboardActiveRef.current = false;\n      },\n      onPointerDown() {\n        store.state.keyboardActiveRef.current = false;\n      }\n    }, validation ? validation.getValidationProps(elementProps) : elementProps],\n    stateAttributesMapping: triggerStateAttributesMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") ComboboxInput.displayName = \"ComboboxInput\";", "import * as React from 'react';\nexport const ComboboxChipsContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") ComboboxChipsContext.displayName = \"ComboboxChipsContext\";\nexport function useComboboxChipsContext() {\n  return React.useContext(ComboboxChipsContext);\n}", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const ComboboxPositionerContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") ComboboxPositionerContext.displayName = \"ComboboxPositionerContext\";\nexport function useComboboxPositionerContext(optional) {\n  const context = React.useContext(ComboboxPositionerContext);\n  if (context === undefined && !optional) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: <Combobox.Popup> and <Combobox.Arrow> must be used within the <Combobox.Positioner> component' : _formatErrorMessage(21));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * An icon that indicates that the trigger button opens the popup.\n * Renders a `<span>` element.\n */\nexport const ComboboxIcon = /*#__PURE__*/React.forwardRef(function ComboboxIcon(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const element = useRenderElement('span', componentProps, {\n    ref: forwardedRef,\n    props: [{\n      'aria-hidden': true,\n      children: ''\n    }, elementProps]\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") ComboboxIcon.displayName = \"ComboboxIcon\";", "'use client';\n\nimport * as React from 'react';\nimport { useStore } from '@base-ui/utils/store';\nimport { useComboboxInputValueContext, useComboboxRootContext } from \"../root/ComboboxRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { selectors } from \"../store.js\";\nimport { useButton } from \"../../use-button/index.js\";\nimport { useFieldRootContext } from \"../../field/root/FieldRootContext.js\";\nimport { useTransitionStatus } from \"../../utils/useTransitionStatus.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { useOpenChangeComplete } from \"../../utils/useOpenChangeComplete.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { triggerOpenStateMapping } from \"../../utils/popupStateMapping.js\";\nconst stateAttributesMapping = {\n  ...transitionStatusMapping,\n  ...triggerOpenStateMapping\n};\n\n/**\n * Clears the value when clicked.\n * Renders a `<button>` element.\n */\nexport const ComboboxClear = /*#__PURE__*/React.forwardRef(function ComboboxClear(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    disabled: disabledProp = false,\n    nativeButton = true,\n    keepMounted = false,\n    ...elementProps\n  } = componentProps;\n  const {\n    disabled: fieldDisabled\n  } = useFieldRootContext();\n  const store = useComboboxRootContext();\n  const selectionMode = useStore(store, selectors.selectionMode);\n  const comboboxDisabled = useStore(store, selectors.disabled);\n  const readOnly = useStore(store, selectors.readOnly);\n  const open = useStore(store, selectors.open);\n  const selectedValue = useStore(store, selectors.selectedValue);\n  const hasSelectionChips = useStore(store, selectors.hasSelectionChips);\n  const inputValue = useComboboxInputValueContext();\n  let visible = false;\n  if (selectionMode === 'none') {\n    visible = inputValue !== '';\n  } else if (selectionMode === 'single') {\n    visible = selectedValue != null;\n  } else {\n    visible = hasSelectionChips;\n  }\n  const disabled = fieldDisabled || comboboxDisabled || disabledProp;\n  const {\n    buttonRef,\n    getButtonProps\n  } = useButton({\n    native: nativeButton,\n    disabled\n  });\n  const {\n    mounted,\n    transitionStatus,\n    setMounted\n  } = useTransitionStatus(visible);\n  const state = React.useMemo(() => ({\n    disabled,\n    open,\n    transitionStatus\n  }), [disabled, open, transitionStatus]);\n  useOpenChangeComplete({\n    open: visible,\n    ref: store.state.clearRef,\n    onComplete() {\n      if (!visible) {\n        setMounted(false);\n      }\n    }\n  });\n  const element = useRenderElement('button', componentProps, {\n    state,\n    ref: [forwardedRef, buttonRef, store.state.clearRef],\n    props: [{\n      tabIndex: -1,\n      children: 'x',\n      'aria-readonly': readOnly || undefined,\n      // Avoid stealing focus from the input.\n      onMouseDown(event) {\n        event.preventDefault();\n      },\n      onClick(event) {\n        if (disabled || readOnly) {\n          return;\n        }\n        const keyboardActiveRef = store.state.keyboardActiveRef;\n        store.state.setInputValue('', createChangeEventDetails(REASONS.clearPress, event.nativeEvent));\n        if (selectionMode !== 'none') {\n          store.state.setSelectedValue(Array.isArray(selectedValue) ? [] : null, createChangeEventDetails(REASONS.clearPress, event.nativeEvent));\n          store.state.setIndices({\n            activeIndex: null,\n            selectedIndex: null,\n            type: keyboardActiveRef.current ? 'keyboard' : 'pointer'\n          });\n        } else {\n          store.state.setIndices({\n            activeIndex: null,\n            type: keyboardActiveRef.current ? 'keyboard' : 'pointer'\n          });\n        }\n        store.state.inputRef.current?.focus();\n      }\n    }, elementProps, getButtonProps],\n    stateAttributesMapping\n  });\n  const shouldRender = keepMounted || mounted;\n  if (!shouldRender) {\n    return null;\n  }\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") ComboboxClear.displayName = \"ComboboxClear\";", "'use client';\n\nimport * as React from 'react';\nimport { useStore } from '@base-ui/utils/store';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useComboboxDerivedItemsContext, useComboboxFloatingContext, useComboboxRootContext } from \"../root/ComboboxRootContext.js\";\nimport { useComboboxPositionerContext } from \"../positioner/ComboboxPositionerContext.js\";\nimport { selectors } from \"../store.js\";\nimport { ComboboxCollection } from \"../collection/ComboboxCollection.js\";\nimport { CompositeList } from \"../../composite/list/CompositeList.js\";\nimport { stopEvent } from \"../../floating-ui-react/utils.js\";\n\n/**\n * A list container for the items.\n * Renders a `<div>` element.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const ComboboxList = /*#__PURE__*/React.forwardRef(function ComboboxList(componentProps, forwardedRef) {\n  var _ComboboxCollection;\n  const {\n    render,\n    className,\n    children,\n    ...elementProps\n  } = componentProps;\n  const store = useComboboxRootContext();\n  const floatingRootContext = useComboboxFloatingContext();\n  const hasPositionerContext = Boolean(useComboboxPositionerContext(true));\n  const {\n    filteredItems\n  } = useComboboxDerivedItemsContext();\n  const items = useStore(store, selectors.items);\n  const labelsRef = useStore(store, selectors.labelsRef);\n  const listRef = useStore(store, selectors.listRef);\n  const selectionMode = useStore(store, selectors.selectionMode);\n  const grid = useStore(store, selectors.grid);\n  const popupProps = useStore(store, selectors.popupProps);\n  const disabled = useStore(store, selectors.disabled);\n  const readOnly = useStore(store, selectors.readOnly);\n  const virtualized = useStore(store, selectors.virtualized);\n  const multiple = selectionMode === 'multiple';\n  const empty = filteredItems.length === 0;\n  const setPositionerElement = useStableCallback(element => {\n    store.set('positionerElement', element);\n  });\n  const setListElement = useStableCallback(element => {\n    store.set('listElement', element);\n  });\n\n  // Support \"closed template\" API: if children is a function, implicitly wrap it\n  // with a Combobox.Collection that reads items from context/root.\n  // Ensures this component's `popupProps` subscription does not cause <Combobox.Item>\n  // to re-render on every active index change.\n  const resolvedChildren = React.useMemo(() => {\n    if (typeof children === 'function') {\n      return _ComboboxCollection || (_ComboboxCollection = /*#__PURE__*/_jsx(ComboboxCollection, {\n        children: children\n      }));\n    }\n    return children;\n  }, [children]);\n  const state = React.useMemo(() => ({\n    empty\n  }), [empty]);\n  const floatingId = floatingRootContext.useState('floatingId');\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: [forwardedRef, setListElement, hasPositionerContext ? null : setPositionerElement],\n    props: [popupProps, {\n      children: resolvedChildren,\n      tabIndex: -1,\n      id: floatingId,\n      role: grid ? 'grid' : 'listbox',\n      'aria-multiselectable': multiple ? 'true' : undefined,\n      onKeyDown(event) {\n        if (disabled || readOnly) {\n          return;\n        }\n        if (event.key === 'Enter') {\n          const activeIndex = store.state.activeIndex;\n          if (activeIndex == null) {\n            // Allow form submission when no item is highlighted.\n            return;\n          }\n          stopEvent(event);\n          const nativeEvent = event.nativeEvent;\n          const listItem = store.state.listRef.current[activeIndex];\n          if (listItem) {\n            store.state.selectionEventRef.current = nativeEvent;\n            listItem.click();\n            store.state.selectionEventRef.current = null;\n          }\n        }\n      },\n      onKeyDownCapture() {\n        store.state.keyboardActiveRef.current = true;\n      },\n      onPointerMoveCapture() {\n        store.state.keyboardActiveRef.current = false;\n      }\n    }, elementProps]\n  });\n  if (virtualized) {\n    return element;\n  }\n  return /*#__PURE__*/_jsx(CompositeList, {\n    elementsRef: listRef,\n    labelsRef: items ? undefined : labelsRef,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") ComboboxList.displayName = \"ComboboxList\";", "'use client';\n\nimport * as React from 'react';\nimport { useComboboxDerivedItemsContext } from \"../root/ComboboxRootContext.js\";\nimport { useGroupCollectionContext } from \"./GroupCollectionContext.js\";\n\n/**\n * Renders filtered list items.\n * Doesn't render its own HTML element.\n *\n * If rendering a flat list, pass a function child to the `List` component instead, which implicitly wraps it.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function ComboboxCollection(props) {\n  const {\n    children\n  } = props;\n  const {\n    filteredItems\n  } = useComboboxDerivedItemsContext();\n  const groupContext = useGroupCollectionContext();\n  const itemsToRender = groupContext ? groupContext.items : filteredItems;\n  if (!itemsToRender) {\n    return null;\n  }\n  return /*#__PURE__*/_jsx(React.Fragment, {\n    children: itemsToRender.map(children)\n  });\n}", "'use client';\n\nimport * as React from 'react';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst GroupCollectionContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") GroupCollectionContext.displayName = \"GroupCollectionContext\";\nexport function useGroupCollectionContext() {\n  return React.useContext(GroupCollectionContext);\n}\nexport function GroupCollectionProvider(props) {\n  const {\n    children,\n    items\n  } = props;\n  const contextValue = React.useMemo(() => ({\n    items\n  }), [items]);\n  return /*#__PURE__*/_jsx(GroupCollectionContext.Provider, {\n    value: contextValue,\n    children: children\n  });\n}", "'use client';\n\nimport * as React from 'react';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * Displays a status message whose content changes are announced politely to screen readers.\n * Useful for conveying the status of an asynchronously loaded list.\n * Renders a `<div>` element.\n */\nexport const ComboboxStatus = /*#__PURE__*/React.forwardRef(function ComboboxStatus(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  return useRenderElement('div', componentProps, {\n    ref: forwardedRef,\n    props: [{\n      role: 'status',\n      'aria-live': 'polite',\n      'aria-atomic': true\n    }, elementProps]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") ComboboxStatus.displayName = \"ComboboxStatus\";", "'use client';\n\nimport * as React from 'react';\nimport { useStore } from '@base-ui/utils/store';\nimport { FloatingPortal } from \"../../floating-ui-react/index.js\";\nimport { useComboboxRootContext } from \"../root/ComboboxRootContext.js\";\nimport { ComboboxPortalContext } from \"./ComboboxPortalContext.js\";\nimport { selectors } from \"../store.js\";\n\n/**\n * A portal element that moves the popup to a different part of the DOM.\n * By default, the portal element is appended to `<body>`.\n * Renders a `<div>` element.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const ComboboxPortal = /*#__PURE__*/React.forwardRef(function ComboboxPortal(props, forwardedRef) {\n  const {\n    keepMounted = false,\n    ...portalProps\n  } = props;\n  const store = useComboboxRootContext();\n  const mounted = useStore(store, selectors.mounted);\n  const forceMounted = useStore(store, selectors.forceMounted);\n  const shouldRender = mounted || keepMounted || forceMounted;\n  if (!shouldRender) {\n    return null;\n  }\n  return /*#__PURE__*/_jsx(ComboboxPortalContext.Provider, {\n    value: keepMounted,\n    children: /*#__PURE__*/_jsx(FloatingPortal, {\n      ref: forwardedRef,\n      ...portalProps\n    })\n  });\n});\nif (process.env.NODE_ENV !== \"production\") ComboboxPortal.displayName = \"ComboboxPortal\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const ComboboxPortalContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") ComboboxPortalContext.displayName = \"ComboboxPortalContext\";\nexport function useComboboxPortalContext() {\n  const context = React.useContext(ComboboxPortalContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: <Combobox.Portal> is missing.' : _formatErrorMessage(20));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useStore } from '@base-ui/utils/store';\nimport { useComboboxRootContext } from \"../root/ComboboxRootContext.js\";\nimport { popupStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { selectors } from \"../store.js\";\nconst stateAttributesMapping = {\n  ...popupStateMapping,\n  ...transitionStatusMapping\n};\n\n/**\n * An overlay displayed beneath the popup.\n * Renders a `<div>` element.\n */\nexport const ComboboxBackdrop = /*#__PURE__*/React.forwardRef(function ComboboxBackdrop(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const store = useComboboxRootContext();\n  const open = useStore(store, selectors.open);\n  const mounted = useStore(store, selectors.mounted);\n  const transitionStatus = useStore(store, selectors.transitionStatus);\n  const state = React.useMemo(() => ({\n    open,\n    transitionStatus\n  }), [open, transitionStatus]);\n  return useRenderElement('div', componentProps, {\n    state,\n    ref: forwardedRef,\n    stateAttributesMapping,\n    props: [{\n      role: 'presentation',\n      hidden: !mounted,\n      style: {\n        userSelect: 'none',\n        WebkitUserSelect: 'none'\n      }\n    }, elementProps]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") ComboboxBackdrop.displayName = \"ComboboxBackdrop\";", "'use client';\n\nimport * as React from 'react';\nimport { useStore } from '@base-ui/utils/store';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { inertValue } from '@base-ui/utils/inertValue';\nimport { useScrollLock } from '@base-ui/utils/useScrollLock';\nimport { useComboboxFloatingContext, useComboboxRootContext, useComboboxDerivedItemsContext } from \"../root/ComboboxRootContext.js\";\nimport { ComboboxPositionerContext } from \"./ComboboxPositionerContext.js\";\nimport { useAnchorPositioning } from \"../../utils/useAnchorPositioning.js\";\nimport { popupStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { useComboboxPortalContext } from \"../portal/ComboboxPortalContext.js\";\nimport { DROPDOWN_COLLISION_AVOIDANCE } from \"../../utils/constants.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { selectors } from \"../store.js\";\nimport { InternalBackdrop } from \"../../utils/InternalBackdrop.js\";\n\n/**\n * Positions the popup against the trigger.\n * Renders a `<div>` element.\n */\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const ComboboxPositioner = /*#__PURE__*/React.forwardRef(function ComboboxPositioner(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    anchor,\n    positionMethod = 'absolute',\n    side = 'bottom',\n    align = 'center',\n    sideOffset = 0,\n    alignOffset = 0,\n    collisionBoundary = 'clipping-ancestors',\n    collisionPadding = 5,\n    arrowPadding = 5,\n    sticky = false,\n    disableAnchorTracking = false,\n    collisionAvoidance = DROPDOWN_COLLISION_AVOIDANCE,\n    ...elementProps\n  } = componentProps;\n  const store = useComboboxRootContext();\n  const {\n    filteredItems\n  } = useComboboxDerivedItemsContext();\n  const floatingRootContext = useComboboxFloatingContext();\n  const keepMounted = useComboboxPortalContext();\n  const modal = useStore(store, selectors.modal);\n  const open = useStore(store, selectors.open);\n  const mounted = useStore(store, selectors.mounted);\n  const openMethod = useStore(store, selectors.openMethod);\n  const triggerElement = useStore(store, selectors.triggerElement);\n  const inputElement = useStore(store, selectors.inputElement);\n  const inputInsidePopup = useStore(store, selectors.inputInsidePopup);\n  const empty = filteredItems.length === 0;\n  const resolvedAnchor = anchor ?? (inputInsidePopup ? triggerElement : inputElement);\n  const positioning = useAnchorPositioning({\n    anchor: resolvedAnchor,\n    floatingRootContext,\n    positionMethod,\n    mounted,\n    side,\n    sideOffset,\n    align,\n    alignOffset,\n    arrowPadding,\n    collisionBoundary,\n    collisionPadding,\n    sticky,\n    disableAnchorTracking,\n    keepMounted,\n    collisionAvoidance,\n    lazyFlip: true\n  });\n  useScrollLock(open && modal && openMethod !== 'touch', triggerElement);\n  const defaultProps = React.useMemo(() => {\n    const style = {\n      ...positioning.positionerStyles\n    };\n    if (!open) {\n      style.pointerEvents = 'none';\n    }\n    return {\n      role: 'presentation',\n      hidden: !mounted,\n      style\n    };\n  }, [open, mounted, positioning.positionerStyles]);\n  const state = React.useMemo(() => ({\n    open,\n    side: positioning.side,\n    align: positioning.align,\n    anchorHidden: positioning.anchorHidden,\n    empty\n  }), [open, positioning.side, positioning.align, positioning.anchorHidden, empty]);\n  useIsoLayoutEffect(() => {\n    store.set('popupSide', positioning.side);\n  }, [store, positioning.side]);\n  const contextValue = React.useMemo(() => ({\n    side: positioning.side,\n    align: positioning.align,\n    arrowRef: positioning.arrowRef,\n    arrowUncentered: positioning.arrowUncentered,\n    arrowStyles: positioning.arrowStyles,\n    anchorHidden: positioning.anchorHidden,\n    isPositioned: positioning.isPositioned\n  }), [positioning.side, positioning.align, positioning.arrowRef, positioning.arrowUncentered, positioning.arrowStyles, positioning.anchorHidden, positioning.isPositioned]);\n  const setPositionerElement = useStableCallback(element => {\n    store.set('positionerElement', element);\n  });\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: [forwardedRef, setPositionerElement],\n    props: [defaultProps, elementProps],\n    stateAttributesMapping: popupStateMapping\n  });\n  return /*#__PURE__*/_jsxs(ComboboxPositionerContext.Provider, {\n    value: contextValue,\n    children: [mounted && modal && /*#__PURE__*/_jsx(InternalBackdrop, {\n      inert: inertValue(!open),\n      cutout: inputElement ?? triggerElement\n    }), element]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") ComboboxPositioner.displayName = \"ComboboxPositioner\";", "'use client';\n\nimport * as React from 'react';\nimport { getSide, getAlignment, getSideAxis } from '@floating-ui/utils';\nimport { ownerDocument } from '@base-ui/utils/owner';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useValueAsRef } from '@base-ui/utils/useValueAsRef';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { autoUpdate, flip, limitShift, offset, shift, useFloating, size } from \"../floating-ui-react/index.js\";\nimport { useDirection } from \"../direction-provider/DirectionContext.js\";\nimport { arrow } from \"../floating-ui-react/middleware/arrow.js\";\nimport { hide } from \"./hideMiddleware.js\";\nimport { DEFAULT_SIDES } from \"./adaptiveOriginMiddleware.js\";\nfunction getLogicalSide(sideParam, renderedSide, isRtl) {\n  const isLogicalSideParam = sideParam === 'inline-start' || sideParam === 'inline-end';\n  const logicalRight = isRtl ? 'inline-start' : 'inline-end';\n  const logicalLeft = isRtl ? 'inline-end' : 'inline-start';\n  return {\n    top: 'top',\n    right: isLogicalSideParam ? logicalRight : 'right',\n    bottom: 'bottom',\n    left: isLogicalSideParam ? logicalLeft : 'left'\n  }[renderedSide];\n}\nfunction getOffsetData(state, sideParam, isRtl) {\n  const {\n    rects,\n    placement\n  } = state;\n  const data = {\n    side: getLogicalSide(sideParam, getSide(placement), isRtl),\n    align: getAlignment(placement) || 'center',\n    anchor: {\n      width: rects.reference.width,\n      height: rects.reference.height\n    },\n    positioner: {\n      width: rects.floating.width,\n      height: rects.floating.height\n    }\n  };\n  return data;\n}\n/**\n * Provides standardized anchor positioning behavior for floating elements. Wraps Floating UI's\n * `useFloating` hook.\n */\nexport function useAnchorPositioning(params) {\n  const {\n    // Public parameters\n    anchor,\n    positionMethod = 'absolute',\n    side: sideParam = 'bottom',\n    sideOffset = 0,\n    align = 'center',\n    alignOffset = 0,\n    collisionBoundary,\n    collisionPadding: collisionPaddingParam = 5,\n    sticky = false,\n    arrowPadding = 5,\n    disableAnchorTracking = false,\n    // Private parameters\n    keepMounted = false,\n    floatingRootContext,\n    mounted,\n    collisionAvoidance,\n    shiftCrossAxis = false,\n    nodeId,\n    adaptiveOrigin,\n    lazyFlip = false,\n    externalTree\n  } = params;\n  const [mountSide, setMountSide] = React.useState(null);\n  if (!mounted && mountSide !== null) {\n    setMountSide(null);\n  }\n  const collisionAvoidanceSide = collisionAvoidance.side || 'flip';\n  const collisionAvoidanceAlign = collisionAvoidance.align || 'flip';\n  const collisionAvoidanceFallbackAxisSide = collisionAvoidance.fallbackAxisSide || 'end';\n  const anchorFn = typeof anchor === 'function' ? anchor : undefined;\n  const anchorFnCallback = useStableCallback(anchorFn);\n  const anchorDep = anchorFn ? anchorFnCallback : anchor;\n  const anchorValueRef = useValueAsRef(anchor);\n  const direction = useDirection();\n  const isRtl = direction === 'rtl';\n  const side = mountSide || {\n    top: 'top',\n    right: 'right',\n    bottom: 'bottom',\n    left: 'left',\n    'inline-end': isRtl ? 'left' : 'right',\n    'inline-start': isRtl ? 'right' : 'left'\n  }[sideParam];\n  const placement = align === 'center' ? side : `${side}-${align}`;\n  let collisionPadding = collisionPaddingParam;\n\n  // Create a bias to the preferred side.\n  // On iOS, when the mobile software keyboard opens, the input is exactly centered\n  // in the viewport, but this can cause it to flip to the top undesirably.\n  const bias = 1;\n  const biasTop = sideParam === 'bottom' ? bias : 0;\n  const biasBottom = sideParam === 'top' ? bias : 0;\n  const biasLeft = sideParam === 'right' ? bias : 0;\n  const biasRight = sideParam === 'left' ? bias : 0;\n  if (typeof collisionPadding === 'number') {\n    collisionPadding = {\n      top: collisionPadding + biasTop,\n      right: collisionPadding + biasRight,\n      bottom: collisionPadding + biasBottom,\n      left: collisionPadding + biasLeft\n    };\n  } else if (collisionPadding) {\n    collisionPadding = {\n      top: (collisionPadding.top || 0) + biasTop,\n      right: (collisionPadding.right || 0) + biasRight,\n      bottom: (collisionPadding.bottom || 0) + biasBottom,\n      left: (collisionPadding.left || 0) + biasLeft\n    };\n  }\n  const commonCollisionProps = {\n    boundary: collisionBoundary === 'clipping-ancestors' ? 'clippingAncestors' : collisionBoundary,\n    padding: collisionPadding\n  };\n\n  // Using a ref assumes that the arrow element is always present in the DOM for the lifetime of the\n  // popup. If this assumption ends up being false, we can switch to state to manage the arrow's\n  // presence.\n  const arrowRef = React.useRef(null);\n\n  // Keep these reactive if they're not functions\n  const sideOffsetRef = useValueAsRef(sideOffset);\n  const alignOffsetRef = useValueAsRef(alignOffset);\n  const sideOffsetDep = typeof sideOffset !== 'function' ? sideOffset : 0;\n  const alignOffsetDep = typeof alignOffset !== 'function' ? alignOffset : 0;\n  const middleware = [offset(state => {\n    const data = getOffsetData(state, sideParam, isRtl);\n    const sideAxis = typeof sideOffsetRef.current === 'function' ? sideOffsetRef.current(data) : sideOffsetRef.current;\n    const alignAxis = typeof alignOffsetRef.current === 'function' ? alignOffsetRef.current(data) : alignOffsetRef.current;\n    return {\n      mainAxis: sideAxis,\n      crossAxis: alignAxis,\n      alignmentAxis: alignAxis\n    };\n  }, [sideOffsetDep, alignOffsetDep, isRtl, sideParam])];\n  const shiftDisabled = collisionAvoidanceAlign === 'none' && collisionAvoidanceSide !== 'shift';\n  const crossAxisShiftEnabled = !shiftDisabled && (sticky || shiftCrossAxis || collisionAvoidanceSide === 'shift');\n  const flipMiddleware = collisionAvoidanceSide === 'none' ? null : flip({\n    ...commonCollisionProps,\n    // Ensure the popup flips if it's been limited by its --available-height and it resizes.\n    // Since the size() padding is smaller than the flip() padding, flip() will take precedence.\n    padding: {\n      top: collisionPadding.top + bias,\n      right: collisionPadding.right + bias,\n      bottom: collisionPadding.bottom + bias,\n      left: collisionPadding.left + bias\n    },\n    mainAxis: !shiftCrossAxis && collisionAvoidanceSide === 'flip',\n    crossAxis: collisionAvoidanceAlign === 'flip' ? 'alignment' : false,\n    fallbackAxisSideDirection: collisionAvoidanceFallbackAxisSide\n  });\n  const shiftMiddleware = shiftDisabled ? null : shift(data => {\n    const html = ownerDocument(data.elements.floating).documentElement;\n    return {\n      ...commonCollisionProps,\n      // Use the Layout Viewport to avoid shifting around when pinch-zooming\n      // for context menus.\n      rootBoundary: shiftCrossAxis ? {\n        x: 0,\n        y: 0,\n        width: html.clientWidth,\n        height: html.clientHeight\n      } : undefined,\n      mainAxis: collisionAvoidanceAlign !== 'none',\n      crossAxis: crossAxisShiftEnabled,\n      limiter: sticky || shiftCrossAxis ? undefined : limitShift(limitData => {\n        if (!arrowRef.current) {\n          return {};\n        }\n        const {\n          width,\n          height\n        } = arrowRef.current.getBoundingClientRect();\n        const sideAxis = getSideAxis(getSide(limitData.placement));\n        const arrowSize = sideAxis === 'y' ? width : height;\n        const offsetAmount = sideAxis === 'y' ? collisionPadding.left + collisionPadding.right : collisionPadding.top + collisionPadding.bottom;\n        return {\n          offset: arrowSize / 2 + offsetAmount / 2\n        };\n      })\n    };\n  }, [commonCollisionProps, sticky, shiftCrossAxis, collisionPadding, collisionAvoidanceAlign]);\n\n  // https://floating-ui.com/docs/flip#combining-with-shift\n  if (collisionAvoidanceSide === 'shift' || collisionAvoidanceAlign === 'shift' || align === 'center') {\n    middleware.push(shiftMiddleware, flipMiddleware);\n  } else {\n    middleware.push(flipMiddleware, shiftMiddleware);\n  }\n  middleware.push(size({\n    ...commonCollisionProps,\n    apply({\n      elements: {\n        floating\n      },\n      rects: {\n        reference\n      },\n      availableWidth,\n      availableHeight\n    }) {\n      Object.entries({\n        '--available-width': `${availableWidth}px`,\n        '--available-height': `${availableHeight}px`,\n        '--anchor-width': `${reference.width}px`,\n        '--anchor-height': `${reference.height}px`\n      }).forEach(([key, value]) => {\n        floating.style.setProperty(key, value);\n      });\n    }\n  }), arrow(() => ({\n    // `transform-origin` calculations rely on an element existing. If the arrow hasn't been set,\n    // we'll create a fake element.\n    element: arrowRef.current || document.createElement('div'),\n    padding: arrowPadding,\n    offsetParent: 'floating'\n  }), [arrowPadding]), {\n    name: 'transformOrigin',\n    fn(state) {\n      const {\n        elements,\n        middlewareData,\n        placement: renderedPlacement,\n        rects,\n        y\n      } = state;\n      const currentRenderedSide = getSide(renderedPlacement);\n      const currentRenderedAxis = getSideAxis(currentRenderedSide);\n      const arrowEl = arrowRef.current;\n      const arrowX = middlewareData.arrow?.x || 0;\n      const arrowY = middlewareData.arrow?.y || 0;\n      const arrowWidth = arrowEl?.clientWidth || 0;\n      const arrowHeight = arrowEl?.clientHeight || 0;\n      const transformX = arrowX + arrowWidth / 2;\n      const transformY = arrowY + arrowHeight / 2;\n      const shiftY = Math.abs(middlewareData.shift?.y || 0);\n      const halfAnchorHeight = rects.reference.height / 2;\n      const sideOffsetValue = typeof sideOffset === 'function' ? sideOffset(getOffsetData(state, sideParam, isRtl)) : sideOffset;\n      const isOverlappingAnchor = shiftY > sideOffsetValue;\n      const adjacentTransformOrigin = {\n        top: `${transformX}px calc(100% + ${sideOffsetValue}px)`,\n        bottom: `${transformX}px ${-sideOffsetValue}px`,\n        left: `calc(100% + ${sideOffsetValue}px) ${transformY}px`,\n        right: `${-sideOffsetValue}px ${transformY}px`\n      }[currentRenderedSide];\n      const overlapTransformOrigin = `${transformX}px ${rects.reference.y + halfAnchorHeight - y}px`;\n      elements.floating.style.setProperty('--transform-origin', crossAxisShiftEnabled && currentRenderedAxis === 'y' && isOverlappingAnchor ? overlapTransformOrigin : adjacentTransformOrigin);\n      return {};\n    }\n  }, hide, adaptiveOrigin);\n  useIsoLayoutEffect(() => {\n    // Ensure positioning doesn't run initially for `keepMounted` elements that\n    // aren't initially open.\n    if (!mounted && floatingRootContext) {\n      floatingRootContext.update({\n        referenceElement: null,\n        floatingElement: null,\n        domReferenceElement: null\n      });\n    }\n  }, [mounted, floatingRootContext]);\n  const autoUpdateOptions = React.useMemo(() => ({\n    elementResize: !disableAnchorTracking && typeof ResizeObserver !== 'undefined',\n    layoutShift: !disableAnchorTracking && typeof IntersectionObserver !== 'undefined'\n  }), [disableAnchorTracking]);\n  const {\n    refs,\n    elements,\n    x,\n    y,\n    middlewareData,\n    update,\n    placement: renderedPlacement,\n    context,\n    isPositioned,\n    floatingStyles: originalFloatingStyles\n  } = useFloating({\n    rootContext: floatingRootContext,\n    placement,\n    middleware,\n    strategy: positionMethod,\n    whileElementsMounted: keepMounted ? undefined : (...args) => autoUpdate(...args, autoUpdateOptions),\n    nodeId,\n    externalTree\n  });\n  const {\n    sideX,\n    sideY\n  } = middlewareData.adaptiveOrigin || DEFAULT_SIDES;\n\n  // Default to `fixed` when not positioned to prevent `autoFocus` scroll jumps.\n  // This ensures the popup is inside the viewport initially before it gets positioned.\n  const resolvedPosition = isPositioned ? positionMethod : 'fixed';\n  const floatingStyles = React.useMemo(() => adaptiveOrigin ? {\n    position: resolvedPosition,\n    [sideX]: x,\n    [sideY]: y\n  } : {\n    position: resolvedPosition,\n    ...originalFloatingStyles\n  }, [adaptiveOrigin, resolvedPosition, sideX, x, sideY, y, originalFloatingStyles]);\n  const registeredPositionReferenceRef = React.useRef(null);\n  useIsoLayoutEffect(() => {\n    if (!mounted) {\n      return;\n    }\n    const anchorValue = anchorValueRef.current;\n    const resolvedAnchor = typeof anchorValue === 'function' ? anchorValue() : anchorValue;\n    const unwrappedElement = (isRef(resolvedAnchor) ? resolvedAnchor.current : resolvedAnchor) || null;\n    const finalAnchor = unwrappedElement || null;\n    if (finalAnchor !== registeredPositionReferenceRef.current) {\n      refs.setPositionReference(finalAnchor);\n      registeredPositionReferenceRef.current = finalAnchor;\n    }\n  }, [mounted, refs, anchorDep, anchorValueRef]);\n  React.useEffect(() => {\n    if (!mounted) {\n      return;\n    }\n    const anchorValue = anchorValueRef.current;\n\n    // Refs from parent components are set after useLayoutEffect runs and are available in useEffect.\n    // Therefore, if the anchor is a ref, we need to update the position reference in useEffect.\n    if (typeof anchorValue === 'function') {\n      return;\n    }\n    if (isRef(anchorValue) && anchorValue.current !== registeredPositionReferenceRef.current) {\n      refs.setPositionReference(anchorValue.current);\n      registeredPositionReferenceRef.current = anchorValue.current;\n    }\n  }, [mounted, refs, anchorDep, anchorValueRef]);\n  React.useEffect(() => {\n    if (keepMounted && mounted && elements.domReference && elements.floating) {\n      return autoUpdate(elements.domReference, elements.floating, update, autoUpdateOptions);\n    }\n    return undefined;\n  }, [keepMounted, mounted, elements, update, autoUpdateOptions]);\n  const renderedSide = getSide(renderedPlacement);\n  const logicalRenderedSide = getLogicalSide(sideParam, renderedSide, isRtl);\n  const renderedAlign = getAlignment(renderedPlacement) || 'center';\n  const anchorHidden = Boolean(middlewareData.hide?.referenceHidden);\n\n  /**\n   * Locks the flip (makes it \"sticky\") so it doesn't prefer a given placement\n   * and flips back lazily, not eagerly. Ideal for filtered lists that change\n   * the size of the popup dynamically to avoid unwanted flipping when typing.\n   */\n  useIsoLayoutEffect(() => {\n    if (lazyFlip && mounted && isPositioned) {\n      setMountSide(renderedSide);\n    }\n  }, [lazyFlip, mounted, isPositioned, renderedSide]);\n  const arrowStyles = React.useMemo(() => ({\n    position: 'absolute',\n    top: middlewareData.arrow?.y,\n    left: middlewareData.arrow?.x\n  }), [middlewareData.arrow]);\n  const arrowUncentered = middlewareData.arrow?.centerOffset !== 0;\n  return React.useMemo(() => ({\n    positionerStyles: floatingStyles,\n    arrowStyles,\n    arrowRef,\n    arrowUncentered,\n    side: logicalRenderedSide,\n    align: renderedAlign,\n    physicalSide: renderedSide,\n    anchorHidden,\n    refs,\n    context,\n    isPositioned,\n    update\n  }), [floatingStyles, arrowStyles, arrowRef, arrowUncentered, logicalRenderedSide, renderedAlign, renderedSide, anchorHidden, refs, context, isPositioned, update]);\n}\nfunction isRef(param) {\n  return param != null && 'current' in param;\n}", "import { clamp, evaluate, getAlignment, getAlignmentAxis, getAxisLength, getPaddingObject } from '@floating-ui/utils';\n/**\n * Fork of the original `arrow` middleware from Floating UI that allows\n * configuring the offset parent.\n */\nexport const baseArrow = options => ({\n  name: 'arrow',\n  options,\n  async fn(state) {\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform,\n      elements,\n      middlewareData\n    } = state;\n    // Since `element` is required, we don't Partial<> the type.\n    const {\n      element,\n      padding = 0,\n      offsetParent = 'real'\n    } = evaluate(options, state) || {};\n    if (element == null) {\n      return {};\n    }\n    const paddingObject = getPaddingObject(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getAlignmentAxis(placement);\n    const length = getAxisLength(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const isYAxis = axis === 'y';\n    const minProp = isYAxis ? 'top' : 'left';\n    const maxProp = isYAxis ? 'bottom' : 'right';\n    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = offsetParent === 'real' ? await platform.getOffsetParent?.(element) : elements.floating;\n    let clientSize = elements.floating[clientProp] || rects.floating[length];\n\n    // DOM platform can return `window` as the `offsetParent`.\n    if (!clientSize || !(await platform.isElement?.(arrowOffsetParent))) {\n      clientSize = elements.floating[clientProp] || rects.floating[length];\n    }\n    const centerToReference = endDiff / 2 - startDiff / 2;\n\n    // If the padding is large enough that it causes the arrow to no longer be\n    // centered, modify the padding so that it is centered.\n    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;\n    const minPadding = Math.min(paddingObject[minProp], largestPossiblePadding);\n    const maxPadding = Math.min(paddingObject[maxProp], largestPossiblePadding);\n\n    // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds.\n    const min = minPadding;\n    const max = clientSize - arrowDimensions[length] - maxPadding;\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = clamp(min, center, max);\n\n    // If the reference is small enough that the arrow's padding causes it to\n    // to point to nothing for an aligned placement, adjust the offset of the\n    // floating element itself. To ensure `shift()` continues to take action,\n    // a single reset is performed when this is true.\n    const shouldAddOffset = !middlewareData.arrow && getAlignment(placement) != null && center !== offset && rects.reference[length] / 2 - (center < min ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;\n    // eslint-disable-next-line no-nested-ternary\n    const alignmentOffset = shouldAddOffset ? center < min ? center - min : center - max : 0;\n    return {\n      [axis]: coords[axis] + alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset - alignmentOffset,\n        ...(shouldAddOffset && {\n          alignmentOffset\n        })\n      },\n      reset: shouldAddOffset\n    };\n  }\n});\n\n/**\n * Provides data to position an inner element of the floating element so that it\n * appears centered to the reference element.\n * This wraps the core `arrow` middleware to allow React refs as the element.\n * @see https://floating-ui.com/docs/arrow\n */\nexport const arrow = (options, deps) => ({\n  ...baseArrow(options),\n  options: [options, deps]\n});", "import { hide as nativeHide } from '@floating-ui/react-dom';\nexport const hide = {\n  name: 'hide',\n  async fn(state) {\n    const {\n      width,\n      height,\n      x,\n      y\n    } = state.rects.reference;\n    const anchorHidden = width === 0 && height === 0 && x === 0 && y === 0;\n    const nativeHideResult = await nativeHide().fn(state);\n    return {\n      data: {\n        referenceHidden: nativeHideResult.data?.referenceHidden || anchorHidden\n      }\n    };\n  }\n};", "import { ownerDocument, ownerWindow } from '@base-ui/utils/owner';\nimport { getSide } from '@floating-ui/utils';\nexport const DEFAULT_SIDES = {\n  sideX: 'left',\n  sideY: 'top'\n};\nexport const adaptiveOrigin = {\n  name: 'adaptiveOrigin',\n  async fn(state) {\n    const {\n      x: rawX,\n      y: rawY,\n      rects: {\n        floating: floatRect\n      },\n      elements: {\n        floating\n      },\n      platform,\n      strategy,\n      placement\n    } = state;\n    const win = ownerWindow(floating);\n    const styles = win.getComputedStyle(floating);\n    const hasTransition = styles.transitionDuration !== '0s' && styles.transitionDuration !== '';\n    if (!hasTransition) {\n      return {\n        x: rawX,\n        y: rawY,\n        data: DEFAULT_SIDES\n      };\n    }\n    const offsetParent = await platform.getOffsetParent?.(floating);\n    let offsetDimensions = {\n      width: 0,\n      height: 0\n    };\n\n    // For fixed strategy, prefer visualViewport if available\n    if (strategy === 'fixed' && win?.visualViewport) {\n      offsetDimensions = {\n        width: win.visualViewport.width,\n        height: win.visualViewport.height\n      };\n    } else if (offsetParent === win) {\n      const doc = ownerDocument(floating);\n      offsetDimensions = {\n        width: doc.documentElement.clientWidth,\n        height: doc.documentElement.clientHeight\n      };\n    } else if (await platform.isElement?.(offsetParent)) {\n      offsetDimensions = await platform.getDimensions(offsetParent);\n    }\n    const currentSide = getSide(placement);\n    let x = rawX;\n    let y = rawY;\n    if (currentSide === 'left') {\n      x = offsetDimensions.width - (rawX + floatRect.width);\n    }\n    if (currentSide === 'top') {\n      y = offsetDimensions.height - (rawY + floatRect.height);\n    }\n    const sideX = currentSide === 'left' ? 'right' : DEFAULT_SIDES.sideX;\n    const sideY = currentSide === 'top' ? 'bottom' : DEFAULT_SIDES.sideY;\n    return {\n      x,\n      y,\n      data: {\n        sideX,\n        sideY\n      }\n    };\n  }\n};", "'use client';\n\nimport * as React from 'react';\nimport { useStore } from '@base-ui/utils/store';\nimport { FloatingFocusManager } from \"../../floating-ui-react/index.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useComboboxFloatingContext, useComboboxRootContext, useComboboxDerivedItemsContext } from \"../root/ComboboxRootContext.js\";\nimport { selectors } from \"../store.js\";\nimport { popupStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { useComboboxPositionerContext } from \"../positioner/ComboboxPositionerContext.js\";\nimport { useOpenChangeComplete } from \"../../utils/useOpenChangeComplete.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { contains, getTarget } from \"../../floating-ui-react/utils.js\";\nimport { getDisabledMountTransitionStyles } from \"../../utils/getDisabledMountTransitionStyles.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst stateAttributesMapping = {\n  ...popupStateMapping,\n  ...transitionStatusMapping\n};\n\n/**\n * A container for the list.\n * Renders a `<div>` element.\n */\nexport const ComboboxPopup = /*#__PURE__*/React.forwardRef(function ComboboxPopup(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    initialFocus,\n    finalFocus,\n    ...elementProps\n  } = componentProps;\n  const store = useComboboxRootContext();\n  const positioning = useComboboxPositionerContext();\n  const floatingRootContext = useComboboxFloatingContext();\n  const {\n    filteredItems\n  } = useComboboxDerivedItemsContext();\n  const mounted = useStore(store, selectors.mounted);\n  const open = useStore(store, selectors.open);\n  const openMethod = useStore(store, selectors.openMethod);\n  const transitionStatus = useStore(store, selectors.transitionStatus);\n  const inputInsidePopup = useStore(store, selectors.inputInsidePopup);\n  const inputElement = useStore(store, selectors.inputElement);\n  const modal = useStore(store, selectors.modal);\n  const empty = filteredItems.length === 0;\n  useOpenChangeComplete({\n    open,\n    ref: store.state.popupRef,\n    onComplete() {\n      if (open) {\n        store.state.onOpenChangeComplete(true);\n      }\n    }\n  });\n  const state = React.useMemo(() => ({\n    open,\n    side: positioning.side,\n    align: positioning.align,\n    anchorHidden: positioning.anchorHidden,\n    transitionStatus,\n    empty\n  }), [open, positioning.side, positioning.align, positioning.anchorHidden, transitionStatus, empty]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: [forwardedRef, store.state.popupRef],\n    props: [{\n      role: inputInsidePopup ? 'dialog' : 'presentation',\n      tabIndex: -1,\n      onFocus(event) {\n        const target = getTarget(event.nativeEvent);\n        if (openMethod !== 'touch' && (contains(store.state.listElement, target) || target === event.currentTarget)) {\n          store.state.inputRef.current?.focus();\n        }\n      }\n    }, getDisabledMountTransitionStyles(transitionStatus), elementProps],\n    stateAttributesMapping\n  });\n\n  // Default initial focus logic:\n  // If opened by touch, focus the popup element to prevent the virtual keyboard from opening\n  // (this is required for Android specifically as iOS handles this automatically).\n  const computedDefaultInitialFocus = inputInsidePopup ? interactionType => interactionType === 'touch' ? store.state.popupRef.current : inputElement : false;\n  const resolvedInitialFocus = initialFocus === undefined ? computedDefaultInitialFocus : initialFocus;\n  let resolvedFinalFocus;\n  if (finalFocus != null) {\n    resolvedFinalFocus = finalFocus;\n  } else {\n    resolvedFinalFocus = inputInsidePopup ? undefined : false;\n  }\n  return /*#__PURE__*/_jsx(FloatingFocusManager, {\n    context: floatingRootContext,\n    disabled: !mounted,\n    modal: inputInsidePopup ? modal : false,\n    openInteractionType: openMethod,\n    initialFocus: resolvedInitialFocus,\n    returnFocus: resolvedFinalFocus,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") ComboboxPopup.displayName = \"ComboboxPopup\";", "import { DISABLED_TRANSITIONS_STYLE, EMPTY_OBJECT } from \"./constants.js\";\nexport function getDisabledMountTransitionStyles(transitionStatus) {\n  return transitionStatus === 'starting' ? DISABLED_TRANSITIONS_STYLE : EMPTY_OBJECT;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useStore } from '@base-ui/utils/store';\nimport { useComboboxPositionerContext } from \"../positioner/ComboboxPositionerContext.js\";\nimport { useComboboxRootContext } from \"../root/ComboboxRootContext.js\";\nimport { selectors } from \"../store.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { popupStateMapping } from \"../../utils/popupStateMapping.js\";\n\n/**\n * Displays an element positioned against the anchor.\n * Renders a `<div>` element.\n */\nexport const ComboboxArrow = /*#__PURE__*/React.forwardRef(function ComboboxArrow(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const store = useComboboxRootContext();\n  const {\n    arrowRef,\n    side,\n    align,\n    arrowUncentered,\n    arrowStyles\n  } = useComboboxPositionerContext();\n  const open = useStore(store, selectors.open);\n  const state = React.useMemo(() => ({\n    open,\n    side,\n    align,\n    uncentered: arrowUncentered\n  }), [open, side, align, arrowUncentered]);\n  return useRenderElement('div', componentProps, {\n    ref: [arrowRef, forwardedRef],\n    stateAttributesMapping: popupStateMapping,\n    state,\n    props: {\n      style: arrowStyles,\n      'aria-hidden': true,\n      ...elementProps\n    }\n  });\n});\nif (process.env.NODE_ENV !== \"production\") ComboboxArrow.displayName = \"ComboboxArrow\";", "'use client';\n\nimport * as React from 'react';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { ComboboxGroupContext } from \"./ComboboxGroupContext.js\";\nimport { GroupCollectionProvider } from \"../collection/GroupCollectionContext.js\";\n\n/**\n * Groups related items with the corresponding label.\n * Renders a `<div>` element.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const ComboboxGroup = /*#__PURE__*/React.forwardRef(function ComboboxGroup(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    items,\n    ...elementProps\n  } = componentProps;\n  const [labelId, setLabelId] = React.useState();\n  const contextValue = React.useMemo(() => ({\n    labelId,\n    setLabelId,\n    items\n  }), [labelId, setLabelId, items]);\n  const element = useRenderElement('div', componentProps, {\n    ref: forwardedRef,\n    props: [{\n      role: 'group',\n      'aria-labelledby': labelId\n    }, elementProps]\n  });\n  const wrappedElement = /*#__PURE__*/_jsx(ComboboxGroupContext.Provider, {\n    value: contextValue,\n    children: element\n  });\n  if (items) {\n    return /*#__PURE__*/_jsx(GroupCollectionProvider, {\n      items: items,\n      children: wrappedElement\n    });\n  }\n  return wrappedElement;\n});\nif (process.env.NODE_ENV !== \"production\") ComboboxGroup.displayName = \"ComboboxGroup\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const ComboboxGroupContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") ComboboxGroupContext.displayName = \"ComboboxGroupContext\";\nexport function useComboboxGroupContext() {\n  const context = React.useContext(ComboboxGroupContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: ComboboxGroupContext is missing. ComboboxGroup parts must be placed within <Combobox.Group>.' : _formatErrorMessage(18));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { useComboboxGroupContext } from \"../group/ComboboxGroupContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * An accessible label that is automatically associated with its parent group.\n * Renders a `<div>` element.\n */\nexport const ComboboxGroupLabel = /*#__PURE__*/React.forwardRef(function ComboboxGroupLabel(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    id: idProp,\n    ...elementProps\n  } = componentProps;\n  const {\n    setLabelId\n  } = useComboboxGroupContext();\n  const id = useBaseUiId(idProp);\n  useIsoLayoutEffect(() => {\n    setLabelId(id);\n    return () => {\n      setLabelId(undefined);\n    };\n  }, [id, setLabelId]);\n  const element = useRenderElement('div', componentProps, {\n    ref: forwardedRef,\n    props: [{\n      id\n    }, elementProps]\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") ComboboxGroupLabel.displayName = \"ComboboxGroupLabel\";", "'use client';\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { useStore } from '@base-ui/utils/store';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useComboboxRootContext, useComboboxDerivedItemsContext } from \"../root/ComboboxRootContext.js\";\nimport { useCompositeListItem, IndexGuessBehavior } from \"../../composite/list/useCompositeListItem.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { ComboboxItemContext } from \"./ComboboxItemContext.js\";\nimport { selectors } from \"../store.js\";\nimport { useButton } from \"../../use-button/index.js\";\nimport { useComboboxRowContext } from \"../row/ComboboxRowContext.js\";\nimport { compareItemEquality, findItemIndex } from \"../../utils/itemEquality.js\";\n\n/**\n * An individual item in the list.\n * Renders a `<div>` element.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const ComboboxItem = /*#__PURE__*/React.memo(/*#__PURE__*/React.forwardRef(function ComboboxItem(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    value = null,\n    index: indexProp,\n    disabled = false,\n    nativeButton = false,\n    ...elementProps\n  } = componentProps;\n  const didPointerDownRef = React.useRef(false);\n  const textRef = React.useRef(null);\n  const listItem = useCompositeListItem({\n    index: indexProp,\n    textRef,\n    indexGuessBehavior: IndexGuessBehavior.GuessFromOrder\n  });\n  const store = useComboboxRootContext();\n  const isRow = useComboboxRowContext();\n  const {\n    flatFilteredItems\n  } = useComboboxDerivedItemsContext();\n  const open = useStore(store, selectors.open);\n  const selectionMode = useStore(store, selectors.selectionMode);\n  const readOnly = useStore(store, selectors.readOnly);\n  const virtualized = useStore(store, selectors.virtualized);\n  const isItemEqualToValue = useStore(store, selectors.isItemEqualToValue);\n  const selectable = selectionMode !== 'none';\n  const index = indexProp ?? (virtualized ? findItemIndex(flatFilteredItems, value, isItemEqualToValue) : listItem.index);\n  const hasRegistered = listItem.index !== -1;\n  const rootId = useStore(store, selectors.id);\n  const highlighted = useStore(store, selectors.isActive, index);\n  const matchesSelectedValue = useStore(store, selectors.isSelected, value);\n  const items = useStore(store, selectors.items);\n  const getItemProps = useStore(store, selectors.getItemProps);\n  const itemRef = React.useRef(null);\n  const id = rootId != null && hasRegistered ? `${rootId}-${index}` : undefined;\n  const selected = matchesSelectedValue && selectable;\n  useIsoLayoutEffect(() => {\n    const shouldRun = hasRegistered && (virtualized || indexProp != null);\n    if (!shouldRun) {\n      return undefined;\n    }\n    const list = store.state.listRef.current;\n    list[index] = itemRef.current;\n    return () => {\n      delete list[index];\n    };\n  }, [hasRegistered, virtualized, index, indexProp, store]);\n  useIsoLayoutEffect(() => {\n    if (!hasRegistered || items) {\n      return undefined;\n    }\n    const visibleMap = store.state.valuesRef.current;\n    visibleMap[index] = value;\n\n    // Stable registry that doesn't depend on filtering. Assume that no\n    // filtering had occurred at this point; otherwise, an `items` prop is\n    // required.\n    if (selectionMode !== 'none') {\n      store.state.allValuesRef.current.push(value);\n    }\n    return () => {\n      delete visibleMap[index];\n    };\n  }, [hasRegistered, items, index, value, store, selectionMode]);\n  useIsoLayoutEffect(() => {\n    if (!open) {\n      didPointerDownRef.current = false;\n      return;\n    }\n    if (!hasRegistered || items) {\n      return;\n    }\n    const selectedValue = store.state.selectedValue;\n    const lastSelectedValue = Array.isArray(selectedValue) ? selectedValue[selectedValue.length - 1] : selectedValue;\n    if (compareItemEquality(lastSelectedValue, value, isItemEqualToValue)) {\n      store.set('selectedIndex', index);\n    }\n  }, [hasRegistered, items, open, store, index, value, isItemEqualToValue]);\n  const state = React.useMemo(() => ({\n    disabled,\n    selected,\n    highlighted\n  }), [disabled, selected, highlighted]);\n  const rootProps = getItemProps({\n    active: highlighted,\n    selected\n  });\n  rootProps.id = undefined;\n  rootProps.onFocus = undefined;\n  const {\n    getButtonProps,\n    buttonRef\n  } = useButton({\n    disabled,\n    focusableWhenDisabled: true,\n    native: nativeButton\n  });\n  function commitSelection(nativeEvent) {\n    function selectItem() {\n      store.state.handleSelection(nativeEvent, value);\n    }\n    if (store.state.submitOnItemClick) {\n      ReactDOM.flushSync(selectItem);\n      store.state.requestSubmit();\n    } else {\n      selectItem();\n    }\n  }\n  const defaultProps = {\n    id,\n    role: isRow ? 'gridcell' : 'option',\n    'aria-selected': selectable ? selected : undefined,\n    // Focusable items steal focus from the input upon mouseup.\n    // Warn if the user renders a natively focusable element like `<button>`,\n    // as it should be a `<div>` instead.\n    tabIndex: undefined,\n    onPointerDownCapture(event) {\n      didPointerDownRef.current = true;\n      event.preventDefault();\n    },\n    onClick(event) {\n      if (disabled || readOnly) {\n        return;\n      }\n      commitSelection(event.nativeEvent);\n    },\n    onMouseUp(event) {\n      const pointerStartedOnItem = didPointerDownRef.current;\n      didPointerDownRef.current = false;\n      if (disabled || readOnly || event.button !== 0 || pointerStartedOnItem || !highlighted) {\n        return;\n      }\n      commitSelection(event.nativeEvent);\n    }\n  };\n  const element = useRenderElement('div', componentProps, {\n    ref: [buttonRef, forwardedRef, listItem.ref, itemRef],\n    state,\n    props: [rootProps, defaultProps, elementProps, getButtonProps]\n  });\n  const contextValue = React.useMemo(() => ({\n    selected,\n    textRef\n  }), [selected, textRef]);\n  return /*#__PURE__*/_jsx(ComboboxItemContext.Provider, {\n    value: contextValue,\n    children: element\n  });\n}));\nif (process.env.NODE_ENV !== \"production\") ComboboxItem.displayName = \"ComboboxItem\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const ComboboxItemContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") ComboboxItemContext.displayName = \"ComboboxItemContext\";\nexport function useComboboxItemContext() {\n  const context = React.useContext(ComboboxItemContext);\n  if (!context) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: ComboboxItemContext is missing. ComboboxItem parts must be placed within <Combobox.Item>.' : _formatErrorMessage(19));\n  }\n  return context;\n}", "import * as React from 'react';\nexport const ComboboxRowContext = /*#__PURE__*/React.createContext(false);\nif (process.env.NODE_ENV !== \"production\") ComboboxRowContext.displayName = \"ComboboxRowContext\";\nexport function useComboboxRowContext() {\n  return React.useContext(ComboboxRowContext);\n}", "'use client';\n\nimport * as React from 'react';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { ComboboxRowContext } from \"./ComboboxRowContext.js\";\n\n/**\n * Displays a single row of items in a grid list.\n * Enable `grid` on the root component to turn the listbox into a grid.\n * Renders a `<div>` element.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const ComboboxRow = /*#__PURE__*/React.forwardRef(function ComboboxRow(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const element = useRenderElement('div', componentProps, {\n    ref: forwardedRef,\n    props: [{\n      role: 'row'\n    }, elementProps]\n  });\n  return /*#__PURE__*/_jsx(ComboboxRowContext.Provider, {\n    value: true,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") ComboboxRow.displayName = \"ComboboxRow\";", "'use client';\n\nimport * as React from 'react';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useComboboxDerivedItemsContext, useComboboxRootContext } from \"../root/ComboboxRootContext.js\";\n\n/**\n * Renders its children only when the list is empty.\n * Requires the `items` prop on the root component.\n * Announces changes politely to screen readers.\n * Renders a `<div>` element.\n */\nexport const ComboboxEmpty = /*#__PURE__*/React.forwardRef(function ComboboxEmpty(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    children: childrenProp,\n    ...elementProps\n  } = componentProps;\n  const {\n    filteredItems\n  } = useComboboxDerivedItemsContext();\n  const store = useComboboxRootContext();\n  const children = filteredItems.length === 0 ? childrenProp : null;\n  return useRenderElement('div', componentProps, {\n    ref: [forwardedRef, store.state.emptyRef],\n    props: [{\n      children,\n      role: 'status',\n      'aria-live': 'polite',\n      'aria-atomic': true\n    }, elementProps]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") ComboboxEmpty.displayName = \"ComboboxEmpty\";", "'use client';\n\nimport * as React from 'react';\nimport { useRenderElement } from \"../utils/useRenderElement.js\";\n\n/**\n * A separator element accessible to screen readers.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Separator](https://base-ui.com/react/components/separator)\n */\nexport const Separator = /*#__PURE__*/React.forwardRef(function SeparatorComponent(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    orientation = 'horizontal',\n    ...elementProps\n  } = componentProps;\n  const state = React.useMemo(() => ({\n    orientation\n  }), [orientation]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: [{\n      role: 'separator',\n      'aria-orientation': orientation\n    }, elementProps]\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") Separator.displayName = \"Separator\";", "export { AvatarRoot as Root } from \"./root/AvatarRoot.js\";\nexport { AvatarImage as Image } from \"./image/AvatarImage.js\";\nexport { AvatarFallback as Fallback } from \"./fallback/AvatarFallback.js\";", "'use client';\n\nimport * as React from 'react';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { AvatarRootContext } from \"./AvatarRootContext.js\";\nimport { avatarStateAttributesMapping } from \"./stateAttributesMapping.js\";\n\n/**\n * Displays a user's profile picture, initials, or fallback icon.\n * Renders a `<span>` element.\n *\n * Documentation: [Base UI Avatar](https://base-ui.com/react/components/avatar)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const AvatarRoot = /*#__PURE__*/React.forwardRef(function AvatarRoot(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const [imageLoadingStatus, setImageLoadingStatus] = React.useState('idle');\n  const state = React.useMemo(() => ({\n    imageLoadingStatus\n  }), [imageLoadingStatus]);\n  const contextValue = React.useMemo(() => ({\n    imageLoadingStatus,\n    setImageLoadingStatus\n  }), [imageLoadingStatus, setImageLoadingStatus]);\n  const element = useRenderElement('span', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: elementProps,\n    stateAttributesMapping: avatarStateAttributesMapping\n  });\n  return /*#__PURE__*/_jsx(AvatarRootContext.Provider, {\n    value: contextValue,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") AvatarRoot.displayName = \"AvatarRoot\";", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const AvatarRootContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") AvatarRootContext.displayName = \"AvatarRootContext\";\nexport function useAvatarRootContext() {\n  const context = React.useContext(AvatarRootContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: AvatarRootContext is missing. Avatar parts must be placed within <Avatar.Root>.' : _formatErrorMessage(13));\n  }\n  return context;\n}", "export const avatarStateAttributesMapping = {\n  imageLoadingStatus: () => null\n};", "'use client';\n\nimport * as React from 'react';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useAvatarRootContext } from \"../root/AvatarRootContext.js\";\nimport { avatarStateAttributesMapping } from \"../root/stateAttributesMapping.js\";\nimport { useImageLoadingStatus } from \"./useImageLoadingStatus.js\";\n\n/**\n * The image to be displayed in the avatar.\n * Renders an `<img>` element.\n *\n * Documentation: [Base UI Avatar](https://base-ui.com/react/components/avatar)\n */\nexport const AvatarImage = /*#__PURE__*/React.forwardRef(function AvatarImage(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    onLoadingStatusChange: onLoadingStatusChangeProp,\n    referrerPolicy,\n    crossOrigin,\n    ...elementProps\n  } = componentProps;\n  const context = useAvatarRootContext();\n  const imageLoadingStatus = useImageLoadingStatus(componentProps.src, {\n    referrerPolicy,\n    crossOrigin\n  });\n  const handleLoadingStatusChange = useStableCallback(status => {\n    onLoadingStatusChangeProp?.(status);\n    context.setImageLoadingStatus(status);\n  });\n  useIsoLayoutEffect(() => {\n    if (imageLoadingStatus !== 'idle') {\n      handleLoadingStatusChange(imageLoadingStatus);\n    }\n  }, [imageLoadingStatus, handleLoadingStatusChange]);\n  const state = React.useMemo(() => ({\n    imageLoadingStatus\n  }), [imageLoadingStatus]);\n  const element = useRenderElement('img', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: elementProps,\n    stateAttributesMapping: avatarStateAttributesMapping,\n    enabled: imageLoadingStatus === 'loaded'\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") AvatarImage.displayName = \"AvatarImage\";", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { NOOP } from \"../../utils/noop.js\";\nexport function useImageLoadingStatus(src, {\n  referrerPolicy,\n  crossOrigin\n}) {\n  const [loadingStatus, setLoadingStatus] = React.useState('idle');\n  useIsoLayoutEffect(() => {\n    if (!src) {\n      setLoadingStatus('error');\n      return NOOP;\n    }\n    let isMounted = true;\n    const image = new window.Image();\n    const updateStatus = status => () => {\n      if (!isMounted) {\n        return;\n      }\n      setLoadingStatus(status);\n    };\n    setLoadingStatus('loading');\n    image.onload = updateStatus('loaded');\n    image.onerror = updateStatus('error');\n    if (referrerPolicy) {\n      image.referrerPolicy = referrerPolicy;\n    }\n    image.crossOrigin = crossOrigin ?? null;\n    image.src = src;\n    return () => {\n      isMounted = false;\n    };\n  }, [src, crossOrigin, referrerPolicy]);\n  return loadingStatus;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useTimeout } from '@base-ui/utils/useTimeout';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useAvatarRootContext } from \"../root/AvatarRootContext.js\";\nimport { avatarStateAttributesMapping } from \"../root/stateAttributesMapping.js\";\n\n/**\n * Rendered when the image fails to load or when no image is provided.\n * Renders a `<span>` element.\n *\n * Documentation: [Base UI Avatar](https://base-ui.com/react/components/avatar)\n */\nexport const AvatarFallback = /*#__PURE__*/React.forwardRef(function AvatarFallback(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    delay,\n    ...elementProps\n  } = componentProps;\n  const {\n    imageLoadingStatus\n  } = useAvatarRootContext();\n  const [delayPassed, setDelayPassed] = React.useState(delay === undefined);\n  const timeout = useTimeout();\n  React.useEffect(() => {\n    if (delay !== undefined) {\n      timeout.start(delay, () => setDelayPassed(true));\n    }\n    return timeout.clear;\n  }, [timeout, delay]);\n  const state = React.useMemo(() => ({\n    imageLoadingStatus\n  }), [imageLoadingStatus]);\n  const element = useRenderElement('span', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: elementProps,\n    stateAttributesMapping: avatarStateAttributesMapping,\n    enabled: imageLoadingStatus !== 'loaded' && delayPassed\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") AvatarFallback.displayName = \"AvatarFallback\";", "'use client';\n\nimport * as React from 'react';\nimport { useButton } from \"../use-button/useButton.js\";\nimport { useRenderElement } from \"../utils/useRenderElement.js\";\n/**\n * A button component that can be used to trigger actions.\n * Renders a `<button>` element.\n *\n * Documentation: [Base UI Button](https://base-ui.com/react/components/button)\n */\nexport const Button = /*#__PURE__*/React.forwardRef(function Button(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    disabled = false,\n    focusableWhenDisabled = false,\n    nativeButton = true,\n    ...elementProps\n  } = componentProps;\n  const {\n    getButtonProps,\n    buttonRef\n  } = useButton({\n    disabled,\n    focusableWhenDisabled,\n    native: nativeButton\n  });\n  const state = React.useMemo(() => ({\n    disabled\n  }), [disabled]);\n  return useRenderElement('button', componentProps, {\n    state,\n    ref: [forwardedRef, buttonRef],\n    props: [elementProps, getButtonProps]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") Button.displayName = \"Button\";", "export { CheckboxRoot as Root } from \"./root/CheckboxRoot.js\";\nexport { CheckboxIndicator as Indicator } from \"./indicator/CheckboxIndicator.js\";", "'use client';\n\nimport * as React from 'react';\nimport { EMPTY_OBJECT } from '@base-ui/utils/empty';\nimport { useControlled } from '@base-ui/utils/useControlled';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useMergedRefs } from '@base-ui/utils/useMergedRefs';\nimport { visuallyHidden, visuallyHiddenInput } from '@base-ui/utils/visuallyHidden';\nimport { NOOP } from \"../../utils/noop.js\";\nimport { useStateAttributesMapping } from \"../utils/useStateAttributesMapping.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { mergeProps } from \"../../merge-props/index.js\";\nimport { useButton } from \"../../use-button/useButton.js\";\nimport { useFieldRootContext } from \"../../field/root/FieldRootContext.js\";\nimport { useFieldItemContext } from \"../../field/item/FieldItemContext.js\";\nimport { useField } from \"../../field/useField.js\";\nimport { useFormContext } from \"../../form/FormContext.js\";\nimport { useLabelableContext } from \"../../labelable-provider/LabelableContext.js\";\nimport { useCheckboxGroupContext } from \"../../checkbox-group/CheckboxGroupContext.js\";\nimport { CheckboxRootContext } from \"./CheckboxRootContext.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { useValueChanged } from \"../../utils/useValueChanged.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const PARENT_CHECKBOX = 'data-parent';\n\n/**\n * Represents the checkbox itself.\n * Renders a `<span>` element and a hidden `<input>` beside.\n *\n * Documentation: [Base UI Checkbox](https://base-ui.com/react/components/checkbox)\n */\nexport const CheckboxRoot = /*#__PURE__*/React.forwardRef(function CheckboxRoot(componentProps, forwardedRef) {\n  const {\n    checked: checkedProp,\n    className,\n    defaultChecked = false,\n    disabled: disabledProp = false,\n    id: idProp,\n    indeterminate = false,\n    inputRef: inputRefProp,\n    name: nameProp,\n    onCheckedChange: onCheckedChangeProp,\n    parent = false,\n    readOnly = false,\n    render,\n    required = false,\n    uncheckedValue,\n    value: valueProp,\n    nativeButton = false,\n    ...elementProps\n  } = componentProps;\n  const {\n    clearErrors\n  } = useFormContext();\n  const {\n    disabled: rootDisabled,\n    name: fieldName,\n    setDirty,\n    setFilled,\n    setFocused,\n    setTouched,\n    state: fieldState,\n    validationMode,\n    validityData,\n    shouldValidateOnChange,\n    validation: localValidation\n  } = useFieldRootContext();\n  const fieldItemContext = useFieldItemContext();\n  const {\n    labelId,\n    controlId,\n    setControlId,\n    getDescriptionProps\n  } = useLabelableContext();\n  const groupContext = useCheckboxGroupContext();\n  const parentContext = groupContext?.parent;\n  const isGroupedWithParent = parentContext && groupContext.allValues;\n  const disabled = rootDisabled || fieldItemContext.disabled || groupContext?.disabled || disabledProp;\n  const name = fieldName ?? nameProp;\n  const value = valueProp ?? name;\n  const id = useBaseUiId();\n  const parentId = useBaseUiId();\n  let inputId = controlId;\n  if (isGroupedWithParent) {\n    inputId = parent ? parentId : `${parentContext.id}-${value}`;\n  } else if (idProp) {\n    inputId = idProp;\n  }\n  let groupProps = {};\n  if (isGroupedWithParent) {\n    if (parent) {\n      groupProps = groupContext.parent.getParentProps();\n    } else if (value) {\n      groupProps = groupContext.parent.getChildProps(value);\n    }\n  }\n  const onCheckedChange = useStableCallback(onCheckedChangeProp);\n  const {\n    checked: groupChecked = checkedProp,\n    indeterminate: groupIndeterminate = indeterminate,\n    onCheckedChange: groupOnChange,\n    ...otherGroupProps\n  } = groupProps;\n  const groupValue = groupContext?.value;\n  const setGroupValue = groupContext?.setValue;\n  const defaultGroupValue = groupContext?.defaultValue;\n  const controlRef = React.useRef(null);\n  const {\n    getButtonProps,\n    buttonRef\n  } = useButton({\n    disabled,\n    native: nativeButton\n  });\n  const validation = groupContext?.validation ?? localValidation;\n  const [checked, setCheckedState] = useControlled({\n    controlled: value && groupValue && !parent ? groupValue.includes(value) : groupChecked,\n    default: value && defaultGroupValue && !parent ? defaultGroupValue.includes(value) : defaultChecked,\n    name: 'Checkbox',\n    state: 'checked'\n  });\n\n  // can't use useLabelableId because of optional groupContext and/or parent\n  useIsoLayoutEffect(() => {\n    if (setControlId === NOOP) {\n      return undefined;\n    }\n    setControlId(inputId);\n    return () => {\n      setControlId(undefined);\n    };\n  }, [inputId, groupContext, setControlId, parent]);\n  useField({\n    enabled: !groupContext,\n    id,\n    commit: validation.commit,\n    value: checked,\n    controlRef,\n    name,\n    getValue: () => checked\n  });\n  const inputRef = React.useRef(null);\n  const mergedInputRef = useMergedRefs(inputRefProp, inputRef, validation.inputRef);\n  useIsoLayoutEffect(() => {\n    if (inputRef.current) {\n      inputRef.current.indeterminate = groupIndeterminate;\n      if (checked) {\n        setFilled(true);\n      }\n    }\n  }, [checked, groupIndeterminate, setFilled]);\n  useValueChanged(checked, () => {\n    if (groupContext && !parent) {\n      return;\n    }\n    clearErrors(name);\n    setFilled(checked);\n    setDirty(checked !== validityData.initialValue);\n    if (shouldValidateOnChange()) {\n      validation.commit(checked);\n    } else {\n      validation.commit(checked, true);\n    }\n  });\n  const inputProps = mergeProps({\n    checked,\n    disabled,\n    // parent checkboxes unset `name` to be excluded from form submission\n    name: parent ? undefined : name,\n    // Set `id` to stop Chrome warning about an unassociated input.\n    // When using a native button, the `id` is applied to the button instead.\n    id: nativeButton ? undefined : inputId ?? undefined,\n    required,\n    ref: mergedInputRef,\n    style: name ? visuallyHiddenInput : visuallyHidden,\n    tabIndex: -1,\n    type: 'checkbox',\n    'aria-hidden': true,\n    onChange(event) {\n      // Workaround for https://github.com/facebook/react/issues/9023\n      if (event.nativeEvent.defaultPrevented) {\n        return;\n      }\n      const nextChecked = event.target.checked;\n      const details = createChangeEventDetails(REASONS.none, event.nativeEvent);\n      groupOnChange?.(nextChecked, details);\n      onCheckedChange(nextChecked, details);\n      if (details.isCanceled) {\n        return;\n      }\n      setCheckedState(nextChecked);\n      if (value && groupValue && setGroupValue && !parent) {\n        const nextGroupValue = nextChecked ? [...groupValue, value] : groupValue.filter(item => item !== value);\n        setGroupValue(nextGroupValue, details);\n      }\n    },\n    onFocus() {\n      controlRef.current?.focus();\n    }\n  },\n  // React <19 sets an empty value if `undefined` is passed explicitly\n  // To avoid this, we only set the value if it's defined\n  valueProp !== undefined ? {\n    value: (groupContext ? checked && valueProp : valueProp) || ''\n  } : EMPTY_OBJECT, getDescriptionProps, groupContext ? validation.getValidationProps : validation.getInputValidationProps);\n  const computedChecked = isGroupedWithParent ? Boolean(groupChecked) : checked;\n  const computedIndeterminate = isGroupedWithParent ? groupIndeterminate || indeterminate : indeterminate;\n  React.useEffect(() => {\n    if (parentContext && value) {\n      parentContext.disabledStatesRef.current.set(value, disabled);\n    }\n  }, [parentContext, disabled, value]);\n  const state = React.useMemo(() => ({\n    ...fieldState,\n    checked: computedChecked,\n    disabled,\n    readOnly,\n    required,\n    indeterminate: computedIndeterminate\n  }), [fieldState, computedChecked, disabled, readOnly, required, computedIndeterminate]);\n  const stateAttributesMapping = useStateAttributesMapping(state);\n  const element = useRenderElement('span', componentProps, {\n    state,\n    ref: [buttonRef, controlRef, forwardedRef, groupContext?.registerControlRef],\n    props: [{\n      id: nativeButton ? inputId ?? undefined : id,\n      role: 'checkbox',\n      'aria-checked': groupIndeterminate ? 'mixed' : checked,\n      'aria-readonly': readOnly || undefined,\n      'aria-required': required || undefined,\n      'aria-labelledby': labelId,\n      [PARENT_CHECKBOX]: parent ? '' : undefined,\n      onFocus() {\n        setFocused(true);\n      },\n      onBlur() {\n        const inputEl = inputRef.current;\n        if (!inputEl) {\n          return;\n        }\n        setTouched(true);\n        setFocused(false);\n        if (validationMode === 'onBlur') {\n          validation.commit(groupContext ? groupValue : inputEl.checked);\n        }\n      },\n      onClick(event) {\n        if (readOnly || disabled) {\n          return;\n        }\n        event.preventDefault();\n        inputRef.current?.click();\n      }\n    }, getDescriptionProps, validation.getValidationProps, elementProps, otherGroupProps, getButtonProps],\n    stateAttributesMapping\n  });\n  return /*#__PURE__*/_jsxs(CheckboxRootContext.Provider, {\n    value: state,\n    children: [element, !checked && !groupContext && name && !parent && uncheckedValue !== undefined && /*#__PURE__*/_jsx(\"input\", {\n      type: \"hidden\",\n      name: name,\n      value: uncheckedValue\n    }), /*#__PURE__*/_jsx(\"input\", {\n      ...inputProps\n    })]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") CheckboxRoot.displayName = \"CheckboxRoot\";", "'use client';\n\nimport * as React from 'react';\nimport { CheckboxRootDataAttributes } from \"../root/CheckboxRootDataAttributes.js\";\nimport { fieldValidityMapping } from \"../../field/utils/constants.js\";\nexport function useStateAttributesMapping(state) {\n  return React.useMemo(() => ({\n    checked(value) {\n      if (state.indeterminate) {\n        // `data-indeterminate` is already handled by the `indeterminate` prop.\n        return {};\n      }\n      if (value) {\n        return {\n          [CheckboxRootDataAttributes.checked]: ''\n        };\n      }\n      return {\n        [CheckboxRootDataAttributes.unchecked]: ''\n      };\n    },\n    ...fieldValidityMapping\n  }), [state.indeterminate]);\n}", "export let CheckboxRootDataAttributes = /*#__PURE__*/function (CheckboxRootDataAttributes) {\n  /**\n   * Present when the checkbox is checked.\n   */\n  CheckboxRootDataAttributes[\"checked\"] = \"data-checked\";\n  /**\n   * Present when the checkbox is not checked.\n   */\n  CheckboxRootDataAttributes[\"unchecked\"] = \"data-unchecked\";\n  /**\n   * Present when the checkbox is in an indeterminate state.\n   */\n  CheckboxRootDataAttributes[\"indeterminate\"] = \"data-indeterminate\";\n  /**\n   * Present when the checkbox is disabled.\n   */\n  CheckboxRootDataAttributes[\"disabled\"] = \"data-disabled\";\n  /**\n   * Present when the checkbox is readonly.\n   */\n  CheckboxRootDataAttributes[\"readonly\"] = \"data-readonly\";\n  /**\n   * Present when the checkbox is required.\n   */\n  CheckboxRootDataAttributes[\"required\"] = \"data-required\";\n  /**\n   * Present when the checkbox is in valid state (when wrapped in Field.Root).\n   */\n  CheckboxRootDataAttributes[\"valid\"] = \"data-valid\";\n  /**\n   * Present when the checkbox is in invalid state (when wrapped in Field.Root).\n   */\n  CheckboxRootDataAttributes[\"invalid\"] = \"data-invalid\";\n  /**\n   * Present when the checkbox has been touched (when wrapped in Field.Root).\n   */\n  CheckboxRootDataAttributes[\"touched\"] = \"data-touched\";\n  /**\n   * Present when the checkbox's value has changed (when wrapped in Field.Root).\n   */\n  CheckboxRootDataAttributes[\"dirty\"] = \"data-dirty\";\n  /**\n   * Present when the checkbox is checked (when wrapped in Field.Root).\n   */\n  CheckboxRootDataAttributes[\"filled\"] = \"data-filled\";\n  /**\n   * Present when the checkbox is focused (when wrapped in Field.Root).\n   */\n  CheckboxRootDataAttributes[\"focused\"] = \"data-focused\";\n  return CheckboxRootDataAttributes;\n}({});", "import * as React from 'react';\nexport const FieldItemContext = /*#__PURE__*/React.createContext({\n  disabled: false\n});\nif (process.env.NODE_ENV !== \"production\") FieldItemContext.displayName = \"FieldItemContext\";\nexport function useFieldItemContext() {\n  const context = React.useContext(FieldItemContext);\n  return context;\n}", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const CheckboxGroupContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") CheckboxGroupContext.displayName = \"CheckboxGroupContext\";\nexport function useCheckboxGroupContext(optional = true) {\n  const context = React.useContext(CheckboxGroupContext);\n  if (context === undefined && !optional) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: CheckboxGroupContext is missing. CheckboxGroup parts must be placed within <CheckboxGroup>.' : _formatErrorMessage(3));\n  }\n  return context;\n}", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const CheckboxRootContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") CheckboxRootContext.displayName = \"CheckboxRootContext\";\nexport function useCheckboxRootContext() {\n  const context = React.useContext(CheckboxRootContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: CheckboxRootContext is missing. Checkbox parts must be placed within <Checkbox.Root>.' : _formatErrorMessage(14));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useCheckboxRootContext } from \"../root/CheckboxRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useStateAttributesMapping } from \"../utils/useStateAttributesMapping.js\";\nimport { useOpenChangeComplete } from \"../../utils/useOpenChangeComplete.js\";\nimport { useTransitionStatus } from \"../../utils/useTransitionStatus.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { fieldValidityMapping } from \"../../field/utils/constants.js\";\n\n/**\n * Indicates whether the checkbox is ticked.\n * Renders a `<span>` element.\n *\n * Documentation: [Base UI Checkbox](https://base-ui.com/react/components/checkbox)\n */\nexport const CheckboxIndicator = /*#__PURE__*/React.forwardRef(function CheckboxIndicator(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    keepMounted = false,\n    ...elementProps\n  } = componentProps;\n  const rootState = useCheckboxRootContext();\n  const rendered = rootState.checked || rootState.indeterminate;\n  const {\n    transitionStatus,\n    setMounted\n  } = useTransitionStatus(rendered);\n  const indicatorRef = React.useRef(null);\n  const state = React.useMemo(() => ({\n    ...rootState,\n    transitionStatus\n  }), [rootState, transitionStatus]);\n  useOpenChangeComplete({\n    open: rendered,\n    ref: indicatorRef,\n    onComplete() {\n      if (!rendered) {\n        setMounted(false);\n      }\n    }\n  });\n  const baseStateAttributesMapping = useStateAttributesMapping(rootState);\n  const stateAttributesMapping = React.useMemo(() => ({\n    ...baseStateAttributesMapping,\n    ...transitionStatusMapping,\n    ...fieldValidityMapping\n  }), [baseStateAttributesMapping]);\n  const shouldRender = keepMounted || rendered;\n  const element = useRenderElement('span', componentProps, {\n    enabled: shouldRender,\n    ref: [forwardedRef, indicatorRef],\n    state,\n    stateAttributesMapping,\n    props: elementProps\n  });\n  if (!shouldRender) {\n    return null;\n  }\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") CheckboxIndicator.displayName = \"CheckboxIndicator\";", "'use client';\n\nimport * as React from 'react';\nimport { useControlled } from '@base-ui/utils/useControlled';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useBaseUiId } from \"../utils/useBaseUiId.js\";\nimport { useRenderElement } from \"../utils/useRenderElement.js\";\nimport { CheckboxGroupContext } from \"./CheckboxGroupContext.js\";\nimport { useFieldRootContext } from \"../field/root/FieldRootContext.js\";\nimport { useLabelableContext } from \"../labelable-provider/LabelableContext.js\";\nimport { fieldValidityMapping } from \"../field/utils/constants.js\";\nimport { useField } from \"../field/useField.js\";\nimport { PARENT_CHECKBOX } from \"../checkbox/root/CheckboxRoot.js\";\nimport { useCheckboxGroupParent } from \"./useCheckboxGroupParent.js\";\nimport { useFormContext } from \"../form/FormContext.js\";\nimport { useValueChanged } from \"../utils/useValueChanged.js\";\nimport { areArraysEqual } from \"../utils/areArraysEqual.js\";\nimport { EMPTY_ARRAY } from \"../utils/constants.js\";\n\n/**\n * Provides a shared state to a series of checkboxes.\n *\n * Documentation: [Base UI Checkbox Group](https://base-ui.com/react/components/checkbox-group)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const CheckboxGroup = /*#__PURE__*/React.forwardRef(function CheckboxGroup(componentProps, forwardedRef) {\n  const {\n    allValues,\n    className,\n    defaultValue,\n    disabled: disabledProp = false,\n    id: idProp,\n    onValueChange,\n    render,\n    value: externalValue,\n    ...elementProps\n  } = componentProps;\n  const {\n    disabled: fieldDisabled,\n    name: fieldName,\n    state: fieldState,\n    validation,\n    setFilled,\n    setDirty,\n    shouldValidateOnChange,\n    validityData\n  } = useFieldRootContext();\n  const {\n    labelId,\n    getDescriptionProps\n  } = useLabelableContext();\n  const {\n    clearErrors\n  } = useFormContext();\n  const disabled = fieldDisabled || disabledProp;\n  const [value, setValueUnwrapped] = useControlled({\n    controlled: externalValue,\n    default: defaultValue,\n    name: 'CheckboxGroup',\n    state: 'value'\n  });\n  const setValue = useStableCallback((v, eventDetails) => {\n    onValueChange?.(v, eventDetails);\n    if (eventDetails.isCanceled) {\n      return;\n    }\n    setValueUnwrapped(v);\n  });\n  const parent = useCheckboxGroupParent({\n    allValues,\n    value: externalValue,\n    onValueChange\n  });\n  const id = useBaseUiId(idProp);\n  const controlRef = React.useRef(null);\n  const registerControlRef = React.useCallback(element => {\n    if (controlRef.current == null && element != null && !element.hasAttribute(PARENT_CHECKBOX)) {\n      controlRef.current = element;\n    }\n  }, []);\n  useField({\n    enabled: !!fieldName,\n    id,\n    commit: validation.commit,\n    value,\n    controlRef,\n    name: fieldName,\n    getValue: () => value\n  });\n  const resolvedValue = value ?? EMPTY_ARRAY;\n  useValueChanged(resolvedValue, () => {\n    if (fieldName) {\n      clearErrors(fieldName);\n    }\n    const initialValue = Array.isArray(validityData.initialValue) ? validityData.initialValue : EMPTY_ARRAY;\n    setFilled(resolvedValue.length > 0);\n    setDirty(!areArraysEqual(resolvedValue, initialValue));\n    if (shouldValidateOnChange()) {\n      validation.commit(resolvedValue);\n    } else {\n      validation.commit(resolvedValue, true);\n    }\n  });\n  const state = React.useMemo(() => ({\n    ...fieldState,\n    disabled\n  }), [fieldState, disabled]);\n  const contextValue = React.useMemo(() => ({\n    allValues,\n    value,\n    defaultValue,\n    setValue,\n    parent,\n    disabled,\n    validation,\n    registerControlRef\n  }), [allValues, value, defaultValue, setValue, parent, disabled, validation, registerControlRef]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: [{\n      role: 'group',\n      'aria-labelledby': labelId\n    }, getDescriptionProps, elementProps],\n    stateAttributesMapping: fieldValidityMapping\n  });\n  return /*#__PURE__*/_jsx(CheckboxGroupContext.Provider, {\n    value: contextValue,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") CheckboxGroup.displayName = \"CheckboxGroup\";", "'use client';\n\nimport * as React from 'react';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useBaseUiId } from \"../utils/useBaseUiId.js\";\nconst EMPTY = [];\nexport function useCheckboxGroupParent(params) {\n  const {\n    allValues = EMPTY,\n    value = EMPTY,\n    onValueChange: onValueChangeProp\n  } = params;\n  const uncontrolledStateRef = React.useRef(value);\n  const disabledStatesRef = React.useRef(new Map());\n  const [status, setStatus] = React.useState('mixed');\n  const id = useBaseUiId();\n  const checked = value.length === allValues.length;\n  const indeterminate = value.length !== allValues.length && value.length > 0;\n  const onValueChange = useStableCallback(onValueChangeProp);\n  const getParentProps = React.useCallback(() => ({\n    id,\n    indeterminate,\n    checked,\n    // TODO: custom `id` on child checkboxes breaks this\n    // https://github.com/mui/base-ui/issues/2691\n    'aria-controls': allValues.map(v => `${id}-${v}`).join(' '),\n    onCheckedChange(_, eventDetails) {\n      const uncontrolledState = uncontrolledStateRef.current;\n\n      // None except the disabled ones that are checked, which can't be changed.\n      const none = allValues.filter(v => disabledStatesRef.current.get(v) && uncontrolledState.includes(v));\n      // \"All\" that are valid:\n      // - any that aren't disabled\n      // - disabled ones that are checked\n      const all = allValues.filter(v => !disabledStatesRef.current.get(v) || disabledStatesRef.current.get(v) && uncontrolledState.includes(v));\n      const allOnOrOff = uncontrolledState.length === all.length || uncontrolledState.length === 0;\n      if (allOnOrOff) {\n        if (value.length === all.length) {\n          onValueChange(none, eventDetails);\n        } else {\n          onValueChange(all, eventDetails);\n        }\n        return;\n      }\n      if (status === 'mixed') {\n        onValueChange(all, eventDetails);\n        setStatus('on');\n      } else if (status === 'on') {\n        onValueChange(none, eventDetails);\n        setStatus('off');\n      } else if (status === 'off') {\n        onValueChange(uncontrolledState, eventDetails);\n        setStatus('mixed');\n      }\n    }\n  }), [allValues, checked, id, indeterminate, onValueChange, status, value.length]);\n  const getChildProps = React.useCallback(childValue => ({\n    checked: value.includes(childValue),\n    onCheckedChange(nextChecked, eventDetails) {\n      const newValue = value.slice();\n      if (nextChecked) {\n        newValue.push(childValue);\n      } else {\n        newValue.splice(newValue.indexOf(childValue), 1);\n      }\n      uncontrolledStateRef.current = newValue;\n      onValueChange(newValue, eventDetails);\n      setStatus('mixed');\n    }\n  }), [onValueChange, value]);\n  return React.useMemo(() => ({\n    id,\n    indeterminate,\n    getParentProps,\n    getChildProps,\n    disabledStatesRef\n  }), [id, indeterminate, getParentProps, getChildProps]);\n}", "export function areArraysEqual(array1, array2, itemComparer = (a, b) => a === b) {\n  return array1.length === array2.length && array1.every((value, index) => itemComparer(value, array2[index]));\n}", "export { CollapsibleRoot as Root } from \"./root/CollapsibleRoot.js\";\nexport { CollapsibleTrigger as Trigger } from \"./trigger/CollapsibleTrigger.js\";\nexport { CollapsiblePanel as Panel } from \"./panel/CollapsiblePanel.js\";", "'use client';\n\nimport * as React from 'react';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useCollapsibleRoot } from \"./useCollapsibleRoot.js\";\nimport { CollapsibleRootContext } from \"./CollapsibleRootContext.js\";\nimport { collapsibleStateAttributesMapping } from \"./stateAttributesMapping.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n/**\n * Groups all parts of the collapsible.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Collapsible](https://base-ui.com/react/components/collapsible)\n */\nexport const CollapsibleRoot = /*#__PURE__*/React.forwardRef(function CollapsibleRoot(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    defaultOpen = false,\n    disabled = false,\n    onOpenChange: onOpenChangeProp,\n    open,\n    ...elementProps\n  } = componentProps;\n  const onOpenChange = useStableCallback(onOpenChangeProp);\n  const collapsible = useCollapsibleRoot({\n    open,\n    defaultOpen,\n    onOpenChange,\n    disabled\n  });\n  const state = React.useMemo(() => ({\n    open: collapsible.open,\n    disabled: collapsible.disabled,\n    transitionStatus: collapsible.transitionStatus\n  }), [collapsible.open, collapsible.disabled, collapsible.transitionStatus]);\n  const contextValue = React.useMemo(() => ({\n    ...collapsible,\n    onOpenChange,\n    state\n  }), [collapsible, onOpenChange, state]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: elementProps,\n    stateAttributesMapping: collapsibleStateAttributesMapping\n  });\n  return /*#__PURE__*/_jsx(CollapsibleRootContext.Provider, {\n    value: contextValue,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") CollapsibleRoot.displayName = \"CollapsibleRoot\";", "import { collapsibleOpenStateMapping as baseMapping } from \"../../utils/collapsibleOpenStateMapping.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nexport const collapsibleStateAttributesMapping = {\n  ...baseMapping,\n  ...transitionStatusMapping\n};", "'use client';\n\nimport * as React from 'react';\nimport { triggerOpenStateMapping } from \"../../utils/collapsibleOpenStateMapping.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useButton } from \"../../use-button/index.js\";\nimport { useCollapsibleRootContext } from \"../root/CollapsibleRootContext.js\";\nconst stateAttributesMapping = {\n  ...triggerOpenStateMapping,\n  ...transitionStatusMapping\n};\n\n/**\n * A button that opens and closes the collapsible panel.\n * Renders a `<button>` element.\n *\n * Documentation: [Base UI Collapsible](https://base-ui.com/react/components/collapsible)\n */\nexport const CollapsibleTrigger = /*#__PURE__*/React.forwardRef(function CollapsibleTrigger(componentProps, forwardedRef) {\n  const {\n    panelId,\n    open,\n    handleTrigger,\n    state,\n    disabled: contextDisabled\n  } = useCollapsibleRootContext();\n  const {\n    className,\n    disabled = contextDisabled,\n    id,\n    render,\n    nativeButton = true,\n    ...elementProps\n  } = componentProps;\n  const {\n    getButtonProps,\n    buttonRef\n  } = useButton({\n    disabled,\n    focusableWhenDisabled: true,\n    native: nativeButton\n  });\n  const props = React.useMemo(() => ({\n    'aria-controls': open ? panelId : undefined,\n    'aria-expanded': open,\n    onClick: handleTrigger\n  }), [panelId, open, handleTrigger]);\n  const element = useRenderElement('button', componentProps, {\n    state,\n    ref: [forwardedRef, buttonRef],\n    props: [props, elementProps, getButtonProps],\n    stateAttributesMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") CollapsibleTrigger.displayName = \"CollapsibleTrigger\";", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { warn } from '@base-ui/utils/warn';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useCollapsibleRootContext } from \"../root/CollapsibleRootContext.js\";\nimport { collapsibleStateAttributesMapping } from \"../root/stateAttributesMapping.js\";\nimport { useCollapsiblePanel } from \"./useCollapsiblePanel.js\";\nimport { CollapsiblePanelCssVars } from \"./CollapsiblePanelCssVars.js\";\nimport { useOpenChangeComplete } from \"../../utils/useOpenChangeComplete.js\";\n/**\n * A panel with the collapsible contents.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Collapsible](https://base-ui.com/react/components/collapsible)\n */\nexport const CollapsiblePanel = /*#__PURE__*/React.forwardRef(function CollapsiblePanel(componentProps, forwardedRef) {\n  const {\n    className,\n    hiddenUntilFound: hiddenUntilFoundProp,\n    keepMounted: keepMountedProp,\n    render,\n    id: idProp,\n    ...elementProps\n  } = componentProps;\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useIsoLayoutEffect(() => {\n      if (hiddenUntilFoundProp && keepMountedProp === false) {\n        warn('The `keepMounted={false}` prop on a Collapsible will be ignored when using `hiddenUntilFound` since it requires the Panel to remain mounted even when closed.');\n      }\n    }, [hiddenUntilFoundProp, keepMountedProp]);\n  }\n  const {\n    abortControllerRef,\n    animationTypeRef,\n    height,\n    mounted,\n    onOpenChange,\n    open,\n    panelId,\n    panelRef,\n    runOnceAnimationsFinish,\n    setDimensions,\n    setHiddenUntilFound,\n    setKeepMounted,\n    setMounted,\n    setPanelIdState,\n    setOpen,\n    setVisible,\n    state,\n    transitionDimensionRef,\n    visible,\n    width,\n    transitionStatus\n  } = useCollapsibleRootContext();\n  const hiddenUntilFound = hiddenUntilFoundProp ?? false;\n  const keepMounted = keepMountedProp ?? false;\n  useIsoLayoutEffect(() => {\n    if (idProp) {\n      setPanelIdState(idProp);\n      return () => {\n        setPanelIdState(undefined);\n      };\n    }\n    return undefined;\n  }, [idProp, setPanelIdState]);\n  useIsoLayoutEffect(() => {\n    setHiddenUntilFound(hiddenUntilFound);\n  }, [setHiddenUntilFound, hiddenUntilFound]);\n  useIsoLayoutEffect(() => {\n    setKeepMounted(keepMounted);\n  }, [setKeepMounted, keepMounted]);\n  const {\n    props\n  } = useCollapsiblePanel({\n    abortControllerRef,\n    animationTypeRef,\n    externalRef: forwardedRef,\n    height,\n    hiddenUntilFound,\n    id: panelId,\n    keepMounted,\n    mounted,\n    onOpenChange,\n    open,\n    panelRef,\n    runOnceAnimationsFinish,\n    setDimensions,\n    setMounted,\n    setOpen,\n    setVisible,\n    transitionDimensionRef,\n    visible,\n    width\n  });\n  useOpenChangeComplete({\n    open: open && transitionStatus === 'idle',\n    ref: panelRef,\n    onComplete() {\n      if (!open) {\n        return;\n      }\n      setDimensions({\n        height: undefined,\n        width: undefined\n      });\n    }\n  });\n  const panelState = React.useMemo(() => ({\n    ...state,\n    transitionStatus\n  }), [state, transitionStatus]);\n  const element = useRenderElement('div', componentProps, {\n    state: panelState,\n    ref: [forwardedRef, panelRef],\n    props: [props, {\n      style: {\n        [CollapsiblePanelCssVars.collapsiblePanelHeight]: height === undefined ? 'auto' : `${height}px`,\n        [CollapsiblePanelCssVars.collapsiblePanelWidth]: width === undefined ? 'auto' : `${width}px`\n      }\n    }, elementProps],\n    stateAttributesMapping: collapsibleStateAttributesMapping\n  });\n  const shouldRender = keepMounted || hiddenUntilFound || !keepMounted && mounted;\n  if (!shouldRender) {\n    return null;\n  }\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") CollapsiblePanel.displayName = \"CollapsiblePanel\";", "export let CollapsiblePanelCssVars = /*#__PURE__*/function (CollapsiblePanelCssVars) {\n  /**\n   * The collapsible panel's height.\n   * @type {number}\n   */\n  CollapsiblePanelCssVars[\"collapsiblePanelHeight\"] = \"--collapsible-panel-height\";\n  /**\n   * The collapsible panel's width.\n   * @type {number}\n   */\n  CollapsiblePanelCssVars[\"collapsiblePanelWidth\"] = \"--collapsible-panel-width\";\n  return CollapsiblePanelCssVars;\n}({});", "export { ComboboxRoot as Root } from \"./root/ComboboxRoot.js\";\nexport { ComboboxValue as Value } from \"./value/ComboboxValue.js\";\nexport { ComboboxInput as Input } from \"./input/ComboboxInput.js\";\nexport { ComboboxTrigger as Trigger } from \"./trigger/ComboboxTrigger.js\";\nexport { ComboboxList as List } from \"./list/ComboboxList.js\";\nexport { ComboboxStatus as Status } from \"./status/ComboboxStatus.js\";\nexport { ComboboxPortal as Portal } from \"./portal/ComboboxPortal.js\";\nexport { ComboboxBackdrop as Backdrop } from \"./backdrop/ComboboxBackdrop.js\";\nexport { ComboboxPositioner as Positioner } from \"./positioner/ComboboxPositioner.js\";\nexport { ComboboxPopup as Popup } from \"./popup/ComboboxPopup.js\";\nexport { ComboboxArrow as Arrow } from \"./arrow/ComboboxArrow.js\";\nexport { ComboboxIcon as Icon } from \"./icon/ComboboxIcon.js\";\nexport { ComboboxGroup as Group } from \"./group/ComboboxGroup.js\";\nexport { ComboboxGroupLabel as GroupLabel } from \"./group-label/ComboboxGroupLabel.js\";\nexport { ComboboxItem as Item } from \"./item/ComboboxItem.js\";\nexport { ComboboxItemIndicator as ItemIndicator } from \"./item-indicator/ComboboxItemIndicator.js\";\nexport { ComboboxChips as Chips } from \"./chips/ComboboxChips.js\";\nexport { ComboboxChip as Chip } from \"./chip/ComboboxChip.js\";\nexport { ComboboxChipRemove as ChipRemove } from \"./chip-remove/ComboboxChipRemove.js\";\nexport { ComboboxRow as Row } from \"./row/ComboboxRow.js\";\nexport { ComboboxCollection as Collection } from \"./collection/ComboboxCollection.js\";\nexport { ComboboxEmpty as Empty } from \"./empty/ComboboxEmpty.js\";\nexport { ComboboxClear as Clear } from \"./clear/ComboboxClear.js\";\nexport { Separator } from \"../separator/index.js\";\nexport { useComboboxFilter as useFilter } from \"./root/utils/useFilter.js\";", "'use client';\n\nimport * as React from 'react';\nimport { AriaCombobox } from \"./AriaCombobox.js\";\n\n/**\n * Groups all parts of the combobox.\n * Doesn't render its own HTML element.\n *\n * Documentation: [Base UI Combobox](https://base-ui.com/react/components/combobox)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function ComboboxRoot(props) {\n  const {\n    multiple = false,\n    defaultValue,\n    value,\n    onValueChange,\n    ...other\n  } = props;\n  return /*#__PURE__*/_jsx(AriaCombobox, {\n    ...other,\n    selectionMode: multiple ? 'multiple' : 'single',\n    selectedValue: value,\n    defaultSelectedValue: defaultValue,\n    onSelectedValueChange: onValueChange\n  });\n}", "'use client';\n\nimport * as React from 'react';\nimport { useStore } from '@base-ui/utils/store';\nimport { useComboboxRootContext } from \"../root/ComboboxRootContext.js\";\nimport { resolveMultipleLabels, resolveSelectedLabel } from \"../../utils/resolveValueLabel.js\";\nimport { selectors } from \"../store.js\";\n\n/**\n * The current value of the combobox.\n * Doesn't render its own HTML element.\n *\n * Documentation: [Base UI Combobox](https://base-ui.com/react/components/combobox)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function ComboboxValue(props) {\n  const {\n    children: childrenProp,\n    placeholder\n  } = props;\n  const store = useComboboxRootContext();\n  const itemToStringLabel = useStore(store, selectors.itemToStringLabel);\n  const selectedValue = useStore(store, selectors.selectedValue);\n  const items = useStore(store, selectors.items);\n  const multiple = useStore(store, selectors.selectionMode) === 'multiple';\n  const hasSelectedValue = useStore(store, selectors.hasSelectedValue);\n  const shouldCheckNullItemLabel = !hasSelectedValue && placeholder != null && childrenProp == null;\n  const hasNullLabel = useStore(store, selectors.hasNullItemLabel, shouldCheckNullItemLabel);\n  let children = null;\n  if (typeof childrenProp === 'function') {\n    children = childrenProp(selectedValue);\n  } else if (childrenProp != null) {\n    children = childrenProp;\n  } else if (!hasSelectedValue && placeholder != null && !hasNullLabel) {\n    children = placeholder;\n  } else if (multiple && Array.isArray(selectedValue)) {\n    children = resolveMultipleLabels(selectedValue, items, itemToStringLabel);\n  } else {\n    children = resolveSelectedLabel(selectedValue, items, itemToStringLabel);\n  }\n  return /*#__PURE__*/_jsx(React.Fragment, {\n    children: children\n  });\n}", "'use client';\n\nimport * as React from 'react';\nimport { useComboboxItemContext } from \"../item/ComboboxItemContext.js\";\nimport { useTransitionStatus } from \"../../utils/useTransitionStatus.js\";\nimport { useOpenChangeComplete } from \"../../utils/useOpenChangeComplete.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\n\n/**\n * Indicates whether the item is selected.\n * Renders a `<span>` element.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const ComboboxItemIndicator = /*#__PURE__*/React.forwardRef(function ComboboxItemIndicator(componentProps, forwardedRef) {\n  const keepMounted = componentProps.keepMounted ?? false;\n  const {\n    selected\n  } = useComboboxItemContext();\n  const shouldRender = keepMounted || selected;\n  if (!shouldRender) {\n    return null;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  return /*#__PURE__*/_jsx(Inner, {\n    ...componentProps,\n    ref: forwardedRef\n  });\n});\n\n/** The core implementation of the indicator is split here to avoid paying the hooks\n * costs unless the element needs to be mounted. */\nif (process.env.NODE_ENV !== \"production\") ComboboxItemIndicator.displayName = \"ComboboxItemIndicator\";\nconst Inner = /*#__PURE__*/React.memo(/*#__PURE__*/React.forwardRef((componentProps, forwardedRef) => {\n  const {\n    render,\n    className,\n    keepMounted,\n    ...elementProps\n  } = componentProps;\n  const {\n    selected\n  } = useComboboxItemContext();\n  const indicatorRef = React.useRef(null);\n  const {\n    transitionStatus,\n    setMounted\n  } = useTransitionStatus(selected);\n  const state = React.useMemo(() => ({\n    selected,\n    transitionStatus\n  }), [selected, transitionStatus]);\n  const element = useRenderElement('span', componentProps, {\n    ref: [forwardedRef, indicatorRef],\n    state,\n    props: [{\n      'aria-hidden': true,\n      children: ''\n    }, elementProps],\n    stateAttributesMapping: transitionStatusMapping\n  });\n  useOpenChangeComplete({\n    open: selected,\n    ref: indicatorRef,\n    onComplete() {\n      if (!selected) {\n        setMounted(false);\n      }\n    }\n  });\n  return element;\n}));\nif (process.env.NODE_ENV !== \"production\") Inner.displayName = \"Inner\";", "'use client';\n\nimport * as React from 'react';\nimport { useStore } from '@base-ui/utils/store';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { ComboboxChipsContext } from \"./ComboboxChipsContext.js\";\nimport { CompositeList } from \"../../composite/list/CompositeList.js\";\nimport { useComboboxRootContext } from \"../root/ComboboxRootContext.js\";\nimport { selectors } from \"../store.js\";\nimport { EMPTY_OBJECT } from \"../../utils/constants.js\";\n\n/**\n * A container for the chips in a multiselectable input.\n * Renders a `<div>` element.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const ComboboxChips = /*#__PURE__*/React.forwardRef(function ComboboxChips(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const store = useComboboxRootContext();\n  const open = useStore(store, selectors.open);\n  const hasSelectionChips = useStore(store, selectors.hasSelectionChips);\n  const [highlightedChipIndex, setHighlightedChipIndex] = React.useState(undefined);\n  if (open && highlightedChipIndex !== undefined) {\n    setHighlightedChipIndex(undefined);\n  }\n  const chipsRef = React.useRef([]);\n  const element = useRenderElement('div', componentProps, {\n    ref: [forwardedRef, store.state.chipsContainerRef],\n    // NVDA enters browse mode instead of staying in focus mode when navigating with\n    // arrow keys inside a container unless it has a toolbar role.\n    props: [hasSelectionChips ? {\n      role: 'toolbar'\n    } : EMPTY_OBJECT, elementProps]\n  });\n  const contextValue = React.useMemo(() => ({\n    highlightedChipIndex,\n    setHighlightedChipIndex,\n    chipsRef\n  }), [highlightedChipIndex, setHighlightedChipIndex, chipsRef]);\n  return /*#__PURE__*/_jsx(ComboboxChipsContext.Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/_jsx(CompositeList, {\n      elementsRef: chipsRef,\n      children: element\n    })\n  });\n});\nif (process.env.NODE_ENV !== \"production\") ComboboxChips.displayName = \"ComboboxChips\";", "'use client';\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { useStore } from '@base-ui/utils/store';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useComboboxChipsContext } from \"../chips/ComboboxChipsContext.js\";\nimport { useComboboxRootContext } from \"../root/ComboboxRootContext.js\";\nimport { useCompositeListItem } from \"../../composite/list/useCompositeListItem.js\";\nimport { ComboboxChipContext } from \"./ComboboxChipContext.js\";\nimport { stopEvent } from \"../../floating-ui-react/utils.js\";\nimport { selectors } from \"../store.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\n\n/**\n * An individual chip that represents a value in a multiselectable input.\n * Renders a `<div>` element.\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const ComboboxChip = /*#__PURE__*/React.forwardRef(function ComboboxChip(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const store = useComboboxRootContext();\n  const {\n    setHighlightedChipIndex,\n    chipsRef\n  } = useComboboxChipsContext();\n  const disabled = useStore(store, selectors.disabled);\n  const readOnly = useStore(store, selectors.readOnly);\n  const selectedValue = useStore(store, selectors.selectedValue);\n  const {\n    ref,\n    index\n  } = useCompositeListItem();\n  function handleKeyDown(event) {\n    let nextIndex = index;\n    if (event.key === 'ArrowLeft') {\n      event.preventDefault();\n      if (index > 0) {\n        nextIndex = index - 1;\n      } else {\n        nextIndex = undefined;\n      }\n    } else if (event.key === 'ArrowRight') {\n      event.preventDefault();\n      if (index < selectedValue.length - 1) {\n        nextIndex = index + 1;\n      } else {\n        nextIndex = undefined;\n      }\n    } else if (event.key === 'Backspace' || event.key === 'Delete') {\n      const computedNextIndex = index >= selectedValue.length - 1 ? selectedValue.length - 2 : index;\n      nextIndex = computedNextIndex >= 0 ? computedNextIndex : undefined;\n      stopEvent(event);\n      store.state.setIndices({\n        activeIndex: null,\n        selectedIndex: null,\n        type: 'keyboard'\n      });\n      store.state.setSelectedValue(selectedValue.filter((_, i) => i !== index), createChangeEventDetails(REASONS.none, event.nativeEvent));\n    } else if (event.key === 'Enter' || event.key === ' ') {\n      stopEvent(event);\n      nextIndex = undefined;\n    } else if (event.key === 'ArrowDown' || event.key === 'ArrowUp') {\n      stopEvent(event);\n      store.state.setOpen(true, createChangeEventDetails(REASONS.listNavigation, event.nativeEvent));\n      nextIndex = undefined;\n    } else if (\n    // Check for printable characters (letters, numbers, symbols)\n    event.key.length === 1 && !event.ctrlKey && !event.metaKey && !event.altKey) {\n      nextIndex = undefined;\n    }\n    return nextIndex;\n  }\n  const state = React.useMemo(() => ({\n    disabled\n  }), [disabled]);\n  const element = useRenderElement('div', componentProps, {\n    ref: [forwardedRef, ref],\n    state,\n    props: [{\n      tabIndex: -1,\n      'aria-disabled': disabled || undefined,\n      'aria-readonly': readOnly || undefined,\n      onKeyDown(event) {\n        if (disabled || readOnly) {\n          return;\n        }\n        const nextIndex = handleKeyDown(event);\n        ReactDOM.flushSync(() => {\n          setHighlightedChipIndex(nextIndex);\n        });\n        if (nextIndex === undefined) {\n          store.state.inputRef.current?.focus();\n        } else {\n          chipsRef.current[nextIndex]?.focus();\n        }\n      },\n      onMouseDown(event) {\n        if (disabled || readOnly) {\n          return;\n        }\n        event.preventDefault();\n        store.state.inputRef.current?.focus();\n      }\n    }, elementProps]\n  });\n  const contextValue = React.useMemo(() => ({\n    index\n  }), [index]);\n  return /*#__PURE__*/_jsx(ComboboxChipContext.Provider, {\n    value: contextValue,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") ComboboxChip.displayName = \"ComboboxChip\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const ComboboxChipContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") ComboboxChipContext.displayName = \"ComboboxChipContext\";\nexport function useComboboxChipContext() {\n  const context = React.useContext(ComboboxChipContext);\n  if (!context) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'useComboboxChipContext must be used within a ComboboxChip' : _formatErrorMessage(17));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useStore } from '@base-ui/utils/store';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useComboboxRootContext } from \"../root/ComboboxRootContext.js\";\nimport { useComboboxChipContext } from \"../chip/ComboboxChipContext.js\";\nimport { useButton } from \"../../use-button/index.js\";\nimport { stopEvent } from \"../../floating-ui-react/utils.js\";\nimport { selectors } from \"../store.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { findItemIndex } from \"../../utils/itemEquality.js\";\n\n/**\n * A button to remove a chip.\n * Renders a `<button>` element.\n */\nexport const ComboboxChipRemove = /*#__PURE__*/React.forwardRef(function ComboboxChipRemove(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    disabled: disabledProp = false,\n    nativeButton = true,\n    ...elementProps\n  } = componentProps;\n  const store = useComboboxRootContext();\n  const {\n    index\n  } = useComboboxChipContext();\n  const comboboxDisabled = useStore(store, selectors.disabled);\n  const readOnly = useStore(store, selectors.readOnly);\n  const selectedValue = useStore(store, selectors.selectedValue);\n  const isItemEqualToValue = useStore(store, selectors.isItemEqualToValue);\n  const disabled = comboboxDisabled || disabledProp;\n  const {\n    buttonRef,\n    getButtonProps\n  } = useButton({\n    native: nativeButton,\n    disabled: disabled || readOnly,\n    focusableWhenDisabled: true\n  });\n  const state = React.useMemo(() => ({\n    disabled\n  }), [disabled]);\n  const element = useRenderElement('button', componentProps, {\n    ref: [forwardedRef, buttonRef],\n    state,\n    props: [{\n      tabIndex: -1,\n      'aria-readonly': readOnly || undefined,\n      onClick(event) {\n        if (disabled || readOnly) {\n          return;\n        }\n        const eventDetails = createChangeEventDetails(REASONS.chipRemovePress, event.nativeEvent);\n\n        // If the removed chip was the active item, clear highlight\n        const activeIndex = store.state.activeIndex;\n        const removedItem = selectedValue[index];\n\n        // Try current visible list first; if not found, it's filtered out. No need\n        // to clear highlight in that case since it can't equal activeIndex.\n        const removedIndex = findItemIndex(store.state.valuesRef.current, removedItem, isItemEqualToValue);\n        if (removedIndex !== -1 && activeIndex === removedIndex) {\n          store.state.setIndices({\n            activeIndex: null,\n            type: store.state.keyboardActiveRef.current ? 'pointer' : 'keyboard'\n          });\n        }\n        store.state.setSelectedValue(selectedValue.filter((_, i) => i !== index), eventDetails);\n        if (!eventDetails.isPropagationAllowed) {\n          event.stopPropagation();\n        }\n        store.state.inputRef.current?.focus();\n      },\n      onKeyDown(event) {\n        if (disabled || readOnly) {\n          return;\n        }\n        const eventDetails = createChangeEventDetails(REASONS.chipRemovePress, event.nativeEvent);\n        if (event.key === 'Enter' || event.key === ' ') {\n          // If the removed chip was the active item, clear highlight\n          const activeIndex = store.state.activeIndex;\n          const removedItem = selectedValue[index];\n          const removedIndex = findItemIndex(store.state.valuesRef.current, removedItem, isItemEqualToValue);\n          if (removedIndex !== -1 && activeIndex === removedIndex) {\n            store.state.setIndices({\n              activeIndex: null,\n              type: store.state.keyboardActiveRef.current ? 'pointer' : 'keyboard'\n            });\n          }\n          store.state.setSelectedValue(selectedValue.filter((_, i) => i !== index), eventDetails);\n          if (!eventDetails.isPropagationAllowed) {\n            stopEvent(event);\n          }\n          store.state.inputRef.current?.focus();\n        }\n      }\n    }, elementProps, getButtonProps]\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") ComboboxChipRemove.displayName = \"ComboboxChipRemove\";", "export { ContextMenuRoot as Root } from \"./root/ContextMenuRoot.js\";\nexport { ContextMenuTrigger as Trigger } from \"./trigger/ContextMenuTrigger.js\";\nexport { MenuBackdrop as Backdrop } from \"../menu/backdrop/MenuBackdrop.js\";\nexport { MenuPortal as Portal } from \"../menu/portal/MenuPortal.js\";\nexport { MenuPositioner as Positioner } from \"../menu/positioner/MenuPositioner.js\";\nexport { MenuPopup as Popup } from \"../menu/popup/MenuPopup.js\";\nexport { MenuArrow as Arrow } from \"../menu/arrow/MenuArrow.js\";\nexport { MenuGroup as Group } from \"../menu/group/MenuGroup.js\";\nexport { MenuGroupLabel as GroupLabel } from \"../menu/group-label/MenuGroupLabel.js\";\nexport { MenuItem as Item } from \"../menu/item/MenuItem.js\";\nexport { MenuCheckboxItem as CheckboxItem } from \"../menu/checkbox-item/MenuCheckboxItem.js\";\nexport { MenuCheckboxItemIndicator as CheckboxItemIndicator } from \"../menu/checkbox-item-indicator/MenuCheckboxItemIndicator.js\";\nexport { MenuRadioGroup as RadioGroup } from \"../menu/radio-group/MenuRadioGroup.js\";\nexport { MenuRadioItem as RadioItem } from \"../menu/radio-item/MenuRadioItem.js\";\nexport { MenuRadioItemIndicator as RadioItemIndicator } from \"../menu/radio-item-indicator/MenuRadioItemIndicator.js\";\nexport { MenuSubmenuRoot as SubmenuRoot } from \"../menu/submenu-root/MenuSubmenuRoot.js\";\nexport { MenuSubmenuTrigger as SubmenuTrigger } from \"../menu/submenu-trigger/MenuSubmenuTrigger.js\";\nexport { Separator } from \"../separator/Separator.js\";", "'use client';\n\nimport * as React from 'react';\nimport { useId } from '@base-ui/utils/useId';\nimport { ContextMenuRootContext } from \"./ContextMenuRootContext.js\";\nimport { Menu } from \"../../menu/index.js\";\nimport { MenuRootContext } from \"../../menu/root/MenuRootContext.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n/**\n * A component that creates a context menu activated by right clicking or long pressing.\n * Doesnt render its own HTML element.\n *\n * Documentation: [Base UI Context Menu](https://base-ui.com/react/components/context-menu)\n */\nexport function ContextMenuRoot(props) {\n  const [anchor, setAnchor] = React.useState({\n    getBoundingClientRect() {\n      return DOMRect.fromRect({\n        width: 0,\n        height: 0,\n        x: 0,\n        y: 0\n      });\n    }\n  });\n  const backdropRef = React.useRef(null);\n  const internalBackdropRef = React.useRef(null);\n  const actionsRef = React.useRef(null);\n  const positionerRef = React.useRef(null);\n  const allowMouseUpTriggerRef = React.useRef(true);\n  const initialCursorPointRef = React.useRef(null);\n  const id = useId();\n  const contextValue = React.useMemo(() => ({\n    anchor,\n    setAnchor,\n    actionsRef,\n    backdropRef,\n    internalBackdropRef,\n    positionerRef,\n    allowMouseUpTriggerRef,\n    initialCursorPointRef,\n    rootId: id\n  }), [anchor, id]);\n  return /*#__PURE__*/_jsx(ContextMenuRootContext.Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/_jsx(MenuRootContext.Provider, {\n      value: undefined,\n      children: /*#__PURE__*/_jsx(Menu.Root, {\n        ...props\n      })\n    })\n  });\n}", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const ContextMenuRootContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") ContextMenuRootContext.displayName = \"ContextMenuRootContext\";\nexport function useContextMenuRootContext(optional = true) {\n  const context = React.useContext(ContextMenuRootContext);\n  if (context === undefined && !optional) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: ContextMenuRootContext is missing. ContextMenu parts must be placed within <ContextMenu.Root>.' : _formatErrorMessage(25));\n  }\n  return context;\n}", "export { MenuArrow as Arrow } from \"./arrow/MenuArrow.js\";\nexport { MenuBackdrop as Backdrop } from \"./backdrop/MenuBackdrop.js\";\nexport { MenuCheckboxItem as CheckboxItem } from \"./checkbox-item/MenuCheckboxItem.js\";\nexport { MenuCheckboxItemIndicator as CheckboxItemIndicator } from \"./checkbox-item-indicator/MenuCheckboxItemIndicator.js\";\nexport { MenuGroup as Group } from \"./group/MenuGroup.js\";\nexport { MenuGroupLabel as GroupLabel } from \"./group-label/MenuGroupLabel.js\";\nexport { MenuItem as Item } from \"./item/MenuItem.js\";\nexport { MenuPopup as Popup } from \"./popup/MenuPopup.js\";\nexport { MenuPortal as Portal } from \"./portal/MenuPortal.js\";\nexport { MenuPositioner as Positioner } from \"./positioner/MenuPositioner.js\";\nexport { MenuRadioGroup as RadioGroup } from \"./radio-group/MenuRadioGroup.js\";\nexport { MenuRadioItem as RadioItem } from \"./radio-item/MenuRadioItem.js\";\nexport { MenuRadioItemIndicator as RadioItemIndicator } from \"./radio-item-indicator/MenuRadioItemIndicator.js\";\nexport { MenuRoot as Root } from \"./root/MenuRoot.js\";\nexport { MenuSubmenuRoot as SubmenuRoot } from \"./submenu-root/MenuSubmenuRoot.js\";\nexport { MenuTrigger as Trigger } from \"./trigger/MenuTrigger.js\";\nexport { Separator } from \"../separator/Separator.js\";\nexport { MenuSubmenuTrigger as SubmenuTrigger } from \"./submenu-trigger/MenuSubmenuTrigger.js\";\nexport { MenuHandle as Handle, createMenuHandle as createHandle } from \"./store/MenuHandle.js\";", "'use client';\n\nimport * as React from 'react';\nimport { useMenuPositionerContext } from \"../positioner/MenuPositionerContext.js\";\nimport { useMenuRootContext } from \"../root/MenuRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { popupStateMapping } from \"../../utils/popupStateMapping.js\";\n\n/**\n * Displays an element positioned against the menu anchor.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Menu](https://base-ui.com/react/components/menu)\n */\nexport const MenuArrow = /*#__PURE__*/React.forwardRef(function MenuArrow(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const {\n    store\n  } = useMenuRootContext();\n  const {\n    arrowRef,\n    side,\n    align,\n    arrowUncentered,\n    arrowStyles\n  } = useMenuPositionerContext();\n  const open = store.useState('open');\n  const state = React.useMemo(() => ({\n    open,\n    side,\n    align,\n    uncentered: arrowUncentered\n  }), [open, side, align, arrowUncentered]);\n  return useRenderElement('div', componentProps, {\n    ref: [arrowRef, forwardedRef],\n    stateAttributesMapping: popupStateMapping,\n    state,\n    props: {\n      style: arrowStyles,\n      'aria-hidden': true,\n      ...elementProps\n    }\n  });\n});\nif (process.env.NODE_ENV !== \"production\") MenuArrow.displayName = \"MenuArrow\";", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const MenuPositionerContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") MenuPositionerContext.displayName = \"MenuPositionerContext\";\nexport function useMenuPositionerContext(optional) {\n  const context = React.useContext(MenuPositionerContext);\n  if (context === undefined && !optional) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: MenuPositionerContext is missing. MenuPositioner parts must be placed within <Menu.Positioner>.' : _formatErrorMessage(33));\n  }\n  return context;\n}", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const MenuRootContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") MenuRootContext.displayName = \"MenuRootContext\";\nexport function useMenuRootContext(optional) {\n  const context = React.useContext(MenuRootContext);\n  if (context === undefined && !optional) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: MenuRootContext is missing. Menu parts must be placed within <Menu.Root>.' : _formatErrorMessage(36));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useMenuRootContext } from \"../root/MenuRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { popupStateMapping as baseMapping } from \"../../utils/popupStateMapping.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { useContextMenuRootContext } from \"../../context-menu/root/ContextMenuRootContext.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nconst stateAttributesMapping = {\n  ...baseMapping,\n  ...transitionStatusMapping\n};\n\n/**\n * An overlay displayed beneath the menu popup.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Menu](https://base-ui.com/react/components/menu)\n */\nexport const MenuBackdrop = /*#__PURE__*/React.forwardRef(function MenuBackdrop(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const {\n    store\n  } = useMenuRootContext();\n  const open = store.useState('open');\n  const mounted = store.useState('mounted');\n  const transitionStatus = store.useState('transitionStatus');\n  const lastOpenChangeReason = store.useState('lastOpenChangeReason');\n  const contextMenuContext = useContextMenuRootContext();\n  const state = React.useMemo(() => ({\n    open,\n    transitionStatus\n  }), [open, transitionStatus]);\n  return useRenderElement('div', componentProps, {\n    ref: contextMenuContext?.backdropRef ? [forwardedRef, contextMenuContext.backdropRef] : forwardedRef,\n    state,\n    stateAttributesMapping,\n    props: [{\n      role: 'presentation',\n      hidden: !mounted,\n      style: {\n        pointerEvents: lastOpenChangeReason === REASONS.triggerHover ? 'none' : undefined,\n        userSelect: 'none',\n        WebkitUserSelect: 'none'\n      }\n    }, elementProps]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") MenuBackdrop.displayName = \"MenuBackdrop\";", "'use client';\n\nimport * as React from 'react';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useControlled } from '@base-ui/utils/useControlled';\nimport { MenuCheckboxItemContext } from \"./MenuCheckboxItemContext.js\";\nimport { REGULAR_ITEM, useMenuItem } from \"../item/useMenuItem.js\";\nimport { useCompositeListItem } from \"../../composite/list/useCompositeListItem.js\";\nimport { useMenuRootContext } from \"../root/MenuRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { itemMapping } from \"../utils/stateAttributesMapping.js\";\nimport { useMenuPositionerContext } from \"../positioner/MenuPositionerContext.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n/**\n * A menu item that toggles a setting on or off.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Menu](https://base-ui.com/react/components/menu)\n */\nexport const MenuCheckboxItem = /*#__PURE__*/React.forwardRef(function MenuCheckboxItem(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    id: idProp,\n    label,\n    nativeButton = false,\n    disabled = false,\n    closeOnClick = false,\n    checked: checkedProp,\n    defaultChecked,\n    onCheckedChange,\n    ...elementProps\n  } = componentProps;\n  const listItem = useCompositeListItem({\n    label\n  });\n  const menuPositionerContext = useMenuPositionerContext(true);\n  const id = useBaseUiId(idProp);\n  const {\n    store\n  } = useMenuRootContext();\n  const highlighted = store.useState('isActive', listItem.index);\n  const itemProps = store.useState('itemProps');\n  const [checked, setChecked] = useControlled({\n    controlled: checkedProp,\n    default: defaultChecked ?? false,\n    name: 'MenuCheckboxItem',\n    state: 'checked'\n  });\n  const {\n    getItemProps,\n    itemRef\n  } = useMenuItem({\n    closeOnClick,\n    disabled,\n    highlighted,\n    id,\n    store,\n    nativeButton,\n    nodeId: menuPositionerContext?.nodeId,\n    itemMetadata: REGULAR_ITEM\n  });\n  const state = React.useMemo(() => ({\n    disabled,\n    highlighted,\n    checked\n  }), [disabled, highlighted, checked]);\n  const handleClick = useStableCallback(event => {\n    const details = {\n      ...createChangeEventDetails(REASONS.itemPress, event.nativeEvent),\n      preventUnmountOnClose: () => {}\n    };\n    onCheckedChange?.(!checked, details);\n    if (details.isCanceled) {\n      return;\n    }\n    setChecked(currentlyChecked => !currentlyChecked);\n  });\n  const element = useRenderElement('div', componentProps, {\n    state,\n    stateAttributesMapping: itemMapping,\n    props: [itemProps, {\n      role: 'menuitemcheckbox',\n      'aria-checked': checked,\n      onClick: handleClick\n    }, elementProps, getItemProps],\n    ref: [itemRef, forwardedRef, listItem.ref]\n  });\n  return /*#__PURE__*/_jsx(MenuCheckboxItemContext.Provider, {\n    value: state,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") MenuCheckboxItem.displayName = \"MenuCheckboxItem\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const MenuCheckboxItemContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") MenuCheckboxItemContext.displayName = \"MenuCheckboxItemContext\";\nexport function useMenuCheckboxItemContext() {\n  const context = React.useContext(MenuCheckboxItemContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: MenuCheckboxItemContext is missing. MenuCheckboxItem parts must be placed within <Menu.CheckboxItem>.' : _formatErrorMessage(30));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useMergedRefs } from '@base-ui/utils/useMergedRefs';\nimport { useButton } from \"../../use-button/index.js\";\nimport { mergeProps } from \"../../merge-props/index.js\";\nimport { useContextMenuRootContext } from \"../../context-menu/root/ContextMenuRootContext.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nexport const REGULAR_ITEM = {\n  type: 'regular-item'\n};\nexport function useMenuItem(params) {\n  const {\n    closeOnClick,\n    disabled = false,\n    highlighted,\n    id,\n    store,\n    nativeButton,\n    itemMetadata,\n    nodeId\n  } = params;\n  const itemRef = React.useRef(null);\n  const contextMenuContext = useContextMenuRootContext(true);\n  const isContextMenu = contextMenuContext !== undefined;\n  const {\n    events: menuEvents\n  } = store.useState('floatingTreeRoot');\n  const {\n    getButtonProps,\n    buttonRef\n  } = useButton({\n    disabled,\n    focusableWhenDisabled: true,\n    native: nativeButton\n  });\n  const getItemProps = React.useCallback(externalProps => {\n    return mergeProps({\n      id,\n      role: 'menuitem',\n      tabIndex: highlighted ? 0 : -1,\n      onMouseMove(event) {\n        if (!nodeId) {\n          return;\n        }\n\n        // Inform the floating tree that a menu item within this menu was hovered/moved over\n        // so unrelated descendant submenus can be closed.\n        menuEvents.emit('itemhover', {\n          nodeId,\n          target: event.currentTarget\n        });\n      },\n      onMouseEnter() {\n        if (itemMetadata.type !== 'submenu-trigger') {\n          return;\n        }\n        itemMetadata.setActive();\n      },\n      onKeyUp(event) {\n        if (event.key === ' ' && store.context.typingRef.current) {\n          event.preventBaseUIHandler();\n        }\n      },\n      onClick(event) {\n        if (closeOnClick) {\n          menuEvents.emit('close', {\n            domEvent: event,\n            reason: REASONS.itemPress\n          });\n        }\n      },\n      onMouseUp(event) {\n        if (contextMenuContext) {\n          const initialCursorPoint = contextMenuContext.initialCursorPointRef.current;\n          contextMenuContext.initialCursorPointRef.current = null;\n          if (isContextMenu && initialCursorPoint && Math.abs(event.clientX - initialCursorPoint.x) <= 1 && Math.abs(event.clientY - initialCursorPoint.y) <= 1) {\n            return;\n          }\n        }\n        if (itemRef.current && store.context.allowMouseUpTriggerRef.current && (!isContextMenu || event.button === 2)) {\n          // This fires whenever the user clicks on the trigger, moves the cursor, and releases it over the item.\n          // We trigger the click and override the `closeOnClick` preference to always close the menu.\n          if (itemMetadata.type === 'regular-item') {\n            itemRef.current.click();\n          }\n        }\n      }\n    }, externalProps, getButtonProps);\n  }, [id, highlighted, getButtonProps, closeOnClick, menuEvents, store, isContextMenu, contextMenuContext, itemMetadata, nodeId]);\n  const mergedRef = useMergedRefs(itemRef, buttonRef);\n  return React.useMemo(() => ({\n    getItemProps,\n    itemRef: mergedRef\n  }), [getItemProps, mergedRef]);\n}", "export let MenuCheckboxItemDataAttributes = /*#__PURE__*/function (MenuCheckboxItemDataAttributes) {\n  /**\n   * Present when the menu checkbox item is checked.\n   */\n  MenuCheckboxItemDataAttributes[\"checked\"] = \"data-checked\";\n  /**\n   * Present when the menu checkbox item is not checked.\n   */\n  MenuCheckboxItemDataAttributes[\"unchecked\"] = \"data-unchecked\";\n  /**\n   * Present when the menu checkbox item is disabled.\n   */\n  MenuCheckboxItemDataAttributes[\"disabled\"] = \"data-disabled\";\n  /**\n   * Present when the menu checkbox item is highlighted.\n   */\n  MenuCheckboxItemDataAttributes[\"highlighted\"] = \"data-highlighted\";\n  return MenuCheckboxItemDataAttributes;\n}({});", "import { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { MenuCheckboxItemDataAttributes } from \"../checkbox-item/MenuCheckboxItemDataAttributes.js\";\nexport const itemMapping = {\n  checked(value) {\n    if (value) {\n      return {\n        [MenuCheckboxItemDataAttributes.checked]: ''\n      };\n    }\n    return {\n      [MenuCheckboxItemDataAttributes.unchecked]: ''\n    };\n  },\n  ...transitionStatusMapping\n};", "'use client';\n\nimport * as React from 'react';\nimport { useMenuCheckboxItemContext } from \"../checkbox-item/MenuCheckboxItemContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { itemMapping } from \"../utils/stateAttributesMapping.js\";\nimport { useTransitionStatus } from \"../../utils/useTransitionStatus.js\";\nimport { useOpenChangeComplete } from \"../../utils/useOpenChangeComplete.js\";\n\n/**\n * Indicates whether the checkbox item is ticked.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Menu](https://base-ui.com/react/components/menu)\n */\nexport const MenuCheckboxItemIndicator = /*#__PURE__*/React.forwardRef(function MenuCheckboxItemIndicator(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    keepMounted = false,\n    ...elementProps\n  } = componentProps;\n  const item = useMenuCheckboxItemContext();\n  const indicatorRef = React.useRef(null);\n  const {\n    transitionStatus,\n    setMounted\n  } = useTransitionStatus(item.checked);\n  useOpenChangeComplete({\n    open: item.checked,\n    ref: indicatorRef,\n    onComplete() {\n      if (!item.checked) {\n        setMounted(false);\n      }\n    }\n  });\n  const state = React.useMemo(() => ({\n    checked: item.checked,\n    disabled: item.disabled,\n    highlighted: item.highlighted,\n    transitionStatus\n  }), [item.checked, item.disabled, item.highlighted, transitionStatus]);\n  const element = useRenderElement('span', componentProps, {\n    state,\n    ref: [forwardedRef, indicatorRef],\n    stateAttributesMapping: itemMapping,\n    props: {\n      'aria-hidden': true,\n      ...elementProps\n    },\n    enabled: keepMounted || item.checked\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") MenuCheckboxItemIndicator.displayName = \"MenuCheckboxItemIndicator\";", "'use client';\n\nimport * as React from 'react';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { MenuGroupContext } from \"./MenuGroupContext.js\";\n\n/**\n * Groups related menu items with the corresponding label.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Menu](https://base-ui.com/react/components/menu)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const MenuGroup = /*#__PURE__*/React.forwardRef(function MenuGroup(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const [labelId, setLabelId] = React.useState(undefined);\n  const context = React.useMemo(() => ({\n    setLabelId\n  }), [setLabelId]);\n  const element = useRenderElement('div', componentProps, {\n    ref: forwardedRef,\n    props: {\n      role: 'group',\n      'aria-labelledby': labelId,\n      ...elementProps\n    }\n  });\n  return /*#__PURE__*/_jsx(MenuGroupContext.Provider, {\n    value: context,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") MenuGroup.displayName = \"MenuGroup\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const MenuGroupContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") MenuGroupContext.displayName = \"MenuGroupContext\";\nexport function useMenuGroupRootContext() {\n  const context = React.useContext(MenuGroupContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: MenuGroupRootContext is missing. Menu group parts must be used within <Menu.Group>.' : _formatErrorMessage(31));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { useMenuGroupRootContext } from \"../group/MenuGroupContext.js\";\n\n/**\n * An accessible label that is automatically associated with its parent group.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Menu](https://base-ui.com/react/components/menu)\n */\nexport const MenuGroupLabel = /*#__PURE__*/React.forwardRef(function MenuGroupLabelComponent(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    id: idProp,\n    ...elementProps\n  } = componentProps;\n  const id = useBaseUiId(idProp);\n  const {\n    setLabelId\n  } = useMenuGroupRootContext();\n  useIsoLayoutEffect(() => {\n    setLabelId(id);\n    return () => {\n      setLabelId(undefined);\n    };\n  }, [setLabelId, id]);\n  return useRenderElement('div', componentProps, {\n    ref: forwardedRef,\n    props: {\n      id,\n      role: 'presentation',\n      ...elementProps\n    }\n  });\n});\nif (process.env.NODE_ENV !== \"production\") MenuGroupLabel.displayName = \"MenuGroupLabel\";", "'use client';\n\nimport * as React from 'react';\nimport { REGULAR_ITEM, useMenuItem } from \"./useMenuItem.js\";\nimport { useMenuRootContext } from \"../root/MenuRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { useCompositeListItem } from \"../../composite/list/useCompositeListItem.js\";\nimport { useMenuPositionerContext } from \"../positioner/MenuPositionerContext.js\";\n\n/**\n * An individual interactive item in the menu.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Menu](https://base-ui.com/react/components/menu)\n */\nexport const MenuItem = /*#__PURE__*/React.forwardRef(function MenuItem(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    id: idProp,\n    label,\n    nativeButton = false,\n    disabled = false,\n    closeOnClick = true,\n    ...elementProps\n  } = componentProps;\n  const listItem = useCompositeListItem({\n    label\n  });\n  const menuPositionerContext = useMenuPositionerContext(true);\n  const id = useBaseUiId(idProp);\n  const {\n    store\n  } = useMenuRootContext();\n  const highlighted = store.useState('isActive', listItem.index);\n  const itemProps = store.useState('itemProps');\n  const {\n    getItemProps,\n    itemRef\n  } = useMenuItem({\n    closeOnClick,\n    disabled,\n    highlighted,\n    id,\n    store,\n    nativeButton,\n    nodeId: menuPositionerContext?.nodeId,\n    itemMetadata: REGULAR_ITEM\n  });\n  const state = React.useMemo(() => ({\n    disabled,\n    highlighted\n  }), [disabled, highlighted]);\n  return useRenderElement('div', componentProps, {\n    state,\n    props: [itemProps, elementProps, getItemProps],\n    ref: [itemRef, forwardedRef, listItem.ref]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") MenuItem.displayName = \"MenuItem\";", "'use client';\n\nimport * as React from 'react';\nimport { FloatingFocusManager, useHoverFloatingInteraction } from \"../../floating-ui-react/index.js\";\nimport { useMenuRootContext } from \"../root/MenuRootContext.js\";\nimport { useMenuPositionerContext } from \"../positioner/MenuPositionerContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { popupStateMapping as baseMapping } from \"../../utils/popupStateMapping.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { useOpenChangeComplete } from \"../../utils/useOpenChangeComplete.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { useToolbarRootContext } from \"../../toolbar/root/ToolbarRootContext.js\";\nimport { COMPOSITE_KEYS } from \"../../composite/composite.js\";\nimport { getDisabledMountTransitionStyles } from \"../../utils/getDisabledMountTransitionStyles.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst stateAttributesMapping = {\n  ...baseMapping,\n  ...transitionStatusMapping\n};\n\n/**\n * A container for the menu items.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Menu](https://base-ui.com/react/components/menu)\n */\nexport const MenuPopup = /*#__PURE__*/React.forwardRef(function MenuPopup(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    finalFocus,\n    ...elementProps\n  } = componentProps;\n  const {\n    store\n  } = useMenuRootContext();\n  const {\n    side,\n    align\n  } = useMenuPositionerContext();\n  const insideToolbar = useToolbarRootContext(true) != null;\n  const open = store.useState('open');\n  const transitionStatus = store.useState('transitionStatus');\n  const popupProps = store.useState('popupProps');\n  const mounted = store.useState('mounted');\n  const instantType = store.useState('instantType');\n  const triggerElement = store.useState('activeTriggerElement');\n  const parent = store.useState('parent');\n  const lastOpenChangeReason = store.useState('lastOpenChangeReason');\n  const rootId = store.useState('rootId');\n  const floatingContext = store.useState('floatingRootContext');\n  const floatingTreeRoot = store.useState('floatingTreeRoot');\n  const closeDelay = store.useState('closeDelay');\n  const activeTriggerElement = store.useState('activeTriggerElement');\n  const isContextMenu = parent.type === 'context-menu';\n  useOpenChangeComplete({\n    open,\n    ref: store.context.popupRef,\n    onComplete() {\n      if (open) {\n        store.context.onOpenChangeComplete?.(true);\n      }\n    }\n  });\n  React.useEffect(() => {\n    function handleClose(event) {\n      store.setOpen(false, createChangeEventDetails(event.reason, event.domEvent));\n    }\n    floatingTreeRoot.events.on('close', handleClose);\n    return () => {\n      floatingTreeRoot.events.off('close', handleClose);\n    };\n  }, [floatingTreeRoot.events, store]);\n  const hoverEnabled = store.useState('hoverEnabled');\n  const disabled = store.useState('disabled');\n  useHoverFloatingInteraction(floatingContext, {\n    enabled: hoverEnabled && !disabled && !isContextMenu && parent.type !== 'menubar',\n    closeDelay\n  });\n  const state = React.useMemo(() => ({\n    transitionStatus,\n    side,\n    align,\n    open,\n    nested: parent.type === 'menu',\n    instant: instantType\n  }), [transitionStatus, side, align, open, parent.type, instantType]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: [forwardedRef, store.context.popupRef],\n    stateAttributesMapping,\n    props: [popupProps, {\n      onKeyDown(event) {\n        if (insideToolbar && COMPOSITE_KEYS.has(event.key)) {\n          event.stopPropagation();\n        }\n      }\n    }, getDisabledMountTransitionStyles(transitionStatus), elementProps, {\n      'data-rootownerid': rootId\n    }]\n  });\n  let returnFocus = parent.type === undefined || isContextMenu;\n  if (triggerElement || parent.type === 'menubar' && lastOpenChangeReason !== REASONS.outsidePress) {\n    returnFocus = true;\n  }\n  return /*#__PURE__*/_jsx(FloatingFocusManager, {\n    context: floatingContext,\n    modal: isContextMenu,\n    disabled: !mounted,\n    returnFocus: finalFocus === undefined ? returnFocus : finalFocus,\n    initialFocus: parent.type !== 'menu',\n    restoreFocus: true,\n    externalTree: parent.type !== 'menubar' ? floatingTreeRoot : undefined,\n    previousFocusableElement: activeTriggerElement,\n    nextFocusableElement: parent.type === undefined ? store.context.triggerFocusTargetRef : undefined,\n    beforeContentFocusGuardRef: parent.type === undefined ? store.context.beforeContentFocusGuardRef : undefined,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") MenuPopup.displayName = \"MenuPopup\";", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const ToolbarRootContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") ToolbarRootContext.displayName = \"ToolbarRootContext\";\nexport function useToolbarRootContext(optional) {\n  const context = React.useContext(ToolbarRootContext);\n  if (context === undefined && !optional) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: ToolbarRootContext is missing. Toolbar parts must be placed within <Toolbar.Root>.' : _formatErrorMessage(69));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nimport { FloatingPortal } from \"../../floating-ui-react/index.js\";\nimport { useMenuRootContext } from \"../root/MenuRootContext.js\";\nimport { MenuPortalContext } from \"./MenuPortalContext.js\";\n\n/**\n * A portal element that moves the popup to a different part of the DOM.\n * By default, the portal element is appended to `<body>`.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Menu](https://base-ui.com/react/components/menu)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const MenuPortal = /*#__PURE__*/React.forwardRef(function MenuPortal(props, forwardedRef) {\n  const {\n    keepMounted = false,\n    ...portalProps\n  } = props;\n  const {\n    store\n  } = useMenuRootContext();\n  const mounted = store.useState('mounted');\n  const shouldRender = mounted || keepMounted;\n  if (!shouldRender) {\n    return null;\n  }\n  return /*#__PURE__*/_jsx(MenuPortalContext.Provider, {\n    value: keepMounted,\n    children: /*#__PURE__*/_jsx(FloatingPortal, {\n      ref: forwardedRef,\n      ...portalProps\n    })\n  });\n});\nif (process.env.NODE_ENV !== \"production\") MenuPortal.displayName = \"MenuPortal\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const MenuPortalContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") MenuPortalContext.displayName = \"MenuPortalContext\";\nexport function useMenuPortalContext() {\n  const value = React.useContext(MenuPortalContext);\n  if (value === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: <Menu.Portal> is missing.' : _formatErrorMessage(32));\n  }\n  return value;\n}", "'use client';\n\nimport * as React from 'react';\nimport { inertValue } from '@base-ui/utils/inertValue';\nimport { FloatingNode } from \"../../floating-ui-react/index.js\";\nimport { MenuPositionerContext } from \"./MenuPositionerContext.js\";\nimport { useMenuRootContext } from \"../root/MenuRootContext.js\";\nimport { useAnchorPositioning } from \"../../utils/useAnchorPositioning.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { popupStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { CompositeList } from \"../../composite/list/CompositeList.js\";\nimport { InternalBackdrop } from \"../../utils/InternalBackdrop.js\";\nimport { useMenuPortalContext } from \"../portal/MenuPortalContext.js\";\nimport { DROPDOWN_COLLISION_AVOIDANCE, POPUP_COLLISION_AVOIDANCE } from \"../../utils/constants.js\";\nimport { useContextMenuRootContext } from \"../../context-menu/root/ContextMenuRootContext.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\n/**\n * Positions the menu popup against the trigger.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Menu](https://base-ui.com/react/components/menu)\n */\nexport const MenuPositioner = /*#__PURE__*/React.forwardRef(function MenuPositioner(componentProps, forwardedRef) {\n  const {\n    anchor: anchorProp,\n    positionMethod: positionMethodProp = 'absolute',\n    className,\n    render,\n    side,\n    align: alignProp,\n    sideOffset: sideOffsetProp = 0,\n    alignOffset: alignOffsetProp = 0,\n    collisionBoundary = 'clipping-ancestors',\n    collisionPadding = 5,\n    arrowPadding = 5,\n    sticky = false,\n    disableAnchorTracking = false,\n    collisionAvoidance: collisionAvoidanceProp = DROPDOWN_COLLISION_AVOIDANCE,\n    ...elementProps\n  } = componentProps;\n  const {\n    store\n  } = useMenuRootContext();\n  const keepMounted = useMenuPortalContext();\n  const contextMenuContext = useContextMenuRootContext(true);\n  const parent = store.useState('parent');\n  const floatingRootContext = store.useState('floatingRootContext');\n  const floatingTreeRoot = store.useState('floatingTreeRoot');\n  const mounted = store.useState('mounted');\n  const open = store.useState('open');\n  const modal = store.useState('modal');\n  const triggerElement = store.useState('activeTriggerElement');\n  const lastOpenChangeReason = store.useState('lastOpenChangeReason');\n  const floatingNodeId = store.useState('floatingNodeId');\n  const floatingParentNodeId = store.useState('floatingParentNodeId');\n  let anchor = anchorProp;\n  let sideOffset = sideOffsetProp;\n  let alignOffset = alignOffsetProp;\n  let align = alignProp;\n  let collisionAvoidance = collisionAvoidanceProp;\n  if (parent.type === 'context-menu') {\n    anchor = anchorProp ?? parent.context?.anchor;\n    align = align ?? 'start';\n    if (!side && align !== 'center') {\n      alignOffset = componentProps.alignOffset ?? 2;\n      sideOffset = componentProps.sideOffset ?? -5;\n    }\n  }\n  let computedSide = side;\n  let computedAlign = align;\n  if (parent.type === 'menu') {\n    computedSide = computedSide ?? 'inline-end';\n    computedAlign = computedAlign ?? 'start';\n    collisionAvoidance = componentProps.collisionAvoidance ?? POPUP_COLLISION_AVOIDANCE;\n  } else if (parent.type === 'menubar') {\n    computedSide = computedSide ?? 'bottom';\n    computedAlign = computedAlign ?? 'start';\n  }\n  const contextMenu = parent.type === 'context-menu';\n  const positioner = useAnchorPositioning({\n    anchor,\n    floatingRootContext,\n    positionMethod: contextMenuContext ? 'fixed' : positionMethodProp,\n    mounted,\n    side: computedSide,\n    sideOffset,\n    align: computedAlign,\n    alignOffset,\n    arrowPadding: contextMenu ? 0 : arrowPadding,\n    collisionBoundary,\n    collisionPadding,\n    sticky,\n    nodeId: floatingNodeId,\n    keepMounted,\n    disableAnchorTracking,\n    collisionAvoidance,\n    shiftCrossAxis: contextMenu,\n    externalTree: floatingTreeRoot\n  });\n  const positionerProps = React.useMemo(() => {\n    const hiddenStyles = {};\n    if (!open) {\n      hiddenStyles.pointerEvents = 'none';\n    }\n    return {\n      role: 'presentation',\n      hidden: !mounted,\n      style: {\n        ...positioner.positionerStyles,\n        ...hiddenStyles\n      }\n    };\n  }, [open, mounted, positioner.positionerStyles]);\n  React.useEffect(() => {\n    function onMenuOpenChange(details) {\n      if (details.open) {\n        if (details.parentNodeId === floatingNodeId) {\n          store.set('hoverEnabled', false);\n        }\n        if (details.nodeId !== floatingNodeId && details.parentNodeId === store.select('floatingParentNodeId')) {\n          store.setOpen(false, createChangeEventDetails(REASONS.siblingOpen));\n        }\n      } else if (details.parentNodeId === floatingNodeId) {\n        // Re-enable hover on the parent when a child closes, except when the child\n        // closed due to hovering a different sibling item in this parent (sibling-open).\n        // Keeping hover disabled in that scenario prevents the parent from closing\n        // immediately when the pointer then leaves it.\n        if (details.reason !== REASONS.siblingOpen) {\n          store.set('hoverEnabled', true);\n        }\n      }\n    }\n    floatingTreeRoot.events.on('menuopenchange', onMenuOpenChange);\n    return () => {\n      floatingTreeRoot.events.off('menuopenchange', onMenuOpenChange);\n    };\n  }, [store, floatingTreeRoot.events, floatingNodeId]);\n  React.useEffect(() => {\n    if (store.select('floatingParentNodeId') == null) {\n      return undefined;\n    }\n    function onParentClose(details) {\n      if (details.open || details.nodeId !== store.select('floatingParentNodeId')) {\n        return;\n      }\n      const reason = details.reason ?? REASONS.siblingOpen;\n      store.setOpen(false, createChangeEventDetails(reason));\n    }\n    floatingTreeRoot.events.on('menuopenchange', onParentClose);\n    return () => {\n      floatingTreeRoot.events.off('menuopenchange', onParentClose);\n    };\n  }, [floatingTreeRoot.events, store]);\n\n  // Close unrelated child submenus when hovering a different item in the parent menu.\n  React.useEffect(() => {\n    function onItemHover(event) {\n      // If an item within our parent menu is hovered, and this menu's trigger is not that item,\n      // close this submenu. This ensures hovering a different item in the parent closes other branches.\n      if (!open || event.nodeId !== store.select('floatingParentNodeId')) {\n        return;\n      }\n      if (event.target && triggerElement && triggerElement !== event.target) {\n        store.setOpen(false, createChangeEventDetails(REASONS.siblingOpen));\n      }\n    }\n    floatingTreeRoot.events.on('itemhover', onItemHover);\n    return () => {\n      floatingTreeRoot.events.off('itemhover', onItemHover);\n    };\n  }, [floatingTreeRoot.events, open, triggerElement, store]);\n  React.useEffect(() => {\n    const eventDetails = {\n      open,\n      nodeId: floatingNodeId,\n      parentNodeId: floatingParentNodeId,\n      reason: store.select('lastOpenChangeReason')\n    };\n    floatingTreeRoot.events.emit('menuopenchange', eventDetails);\n  }, [floatingTreeRoot.events, open, store, floatingNodeId, floatingParentNodeId]);\n  const state = React.useMemo(() => ({\n    open,\n    side: positioner.side,\n    align: positioner.align,\n    anchorHidden: positioner.anchorHidden,\n    nested: parent.type === 'menu'\n  }), [open, positioner.side, positioner.align, positioner.anchorHidden, parent.type]);\n  const contextValue = React.useMemo(() => ({\n    side: positioner.side,\n    align: positioner.align,\n    arrowRef: positioner.arrowRef,\n    arrowUncentered: positioner.arrowUncentered,\n    arrowStyles: positioner.arrowStyles,\n    nodeId: positioner.context.nodeId\n  }), [positioner.side, positioner.align, positioner.arrowRef, positioner.arrowUncentered, positioner.arrowStyles, positioner.context.nodeId]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    stateAttributesMapping: popupStateMapping,\n    ref: [forwardedRef, store.useStateSetter('positionerElement')],\n    props: [positionerProps, elementProps]\n  });\n  const shouldRenderBackdrop = mounted && parent.type !== 'menu' && (parent.type !== 'menubar' && modal && lastOpenChangeReason !== REASONS.triggerHover || parent.type === 'menubar' && parent.context.modal);\n\n  // cuts a hole in the backdrop to allow pointer interaction with the menubar or dropdown menu trigger element\n  let backdropCutout = null;\n  if (parent.type === 'menubar') {\n    backdropCutout = parent.context.contentElement;\n  } else if (parent.type === undefined) {\n    backdropCutout = triggerElement;\n  }\n  return /*#__PURE__*/_jsxs(MenuPositionerContext.Provider, {\n    value: contextValue,\n    children: [shouldRenderBackdrop && /*#__PURE__*/_jsx(InternalBackdrop, {\n      ref: parent.type === 'context-menu' || parent.type === 'nested-context-menu' ? parent.context.internalBackdropRef : null,\n      inert: inertValue(!open),\n      cutout: backdropCutout\n    }), /*#__PURE__*/_jsx(FloatingNode, {\n      id: floatingNodeId,\n      children: /*#__PURE__*/_jsx(CompositeList, {\n        elementsRef: store.context.itemDomElements,\n        labelsRef: store.context.itemLabels,\n        children: element\n      })\n    })]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") MenuPositioner.displayName = \"MenuPositioner\";", "'use client';\n\nimport * as React from 'react';\nimport { useControlled } from '@base-ui/utils/useControlled';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { MenuRadioGroupContext } from \"./MenuRadioGroupContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n/**\n * Groups related radio items.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Menu](https://base-ui.com/react/components/menu)\n */\nexport const MenuRadioGroup = /*#__PURE__*/React.memo(/*#__PURE__*/React.forwardRef(function MenuRadioGroup(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    value: valueProp,\n    defaultValue,\n    onValueChange: onValueChangeProp,\n    disabled = false,\n    ...elementProps\n  } = componentProps;\n  const [value, setValueUnwrapped] = useControlled({\n    controlled: valueProp,\n    default: defaultValue,\n    name: 'MenuRadioGroup'\n  });\n  const onValueChange = useStableCallback(onValueChangeProp);\n  const setValue = useStableCallback((newValue, eventDetails) => {\n    onValueChange?.(newValue, eventDetails);\n    if (eventDetails.isCanceled) {\n      return;\n    }\n    setValueUnwrapped(newValue);\n  });\n  const state = React.useMemo(() => ({\n    disabled\n  }), [disabled]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: {\n      role: 'group',\n      'aria-disabled': disabled || undefined,\n      ...elementProps\n    }\n  });\n  const context = React.useMemo(() => ({\n    value,\n    setValue,\n    disabled\n  }), [value, setValue, disabled]);\n  return /*#__PURE__*/_jsx(MenuRadioGroupContext.Provider, {\n    value: context,\n    children: element\n  });\n}));\nif (process.env.NODE_ENV !== \"production\") MenuRadioGroup.displayName = \"MenuRadioGroup\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const MenuRadioGroupContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") MenuRadioGroupContext.displayName = \"MenuRadioGroupContext\";\nexport function useMenuRadioGroupContext() {\n  const context = React.useContext(MenuRadioGroupContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: MenuRadioGroupContext is missing. MenuRadioGroup parts must be placed within <Menu.RadioGroup>.' : _formatErrorMessage(34));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useMenuRootContext } from \"../root/MenuRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { useMenuRadioGroupContext } from \"../radio-group/MenuRadioGroupContext.js\";\nimport { MenuRadioItemContext } from \"./MenuRadioItemContext.js\";\nimport { itemMapping } from \"../utils/stateAttributesMapping.js\";\nimport { useCompositeListItem } from \"../../composite/list/useCompositeListItem.js\";\nimport { REGULAR_ITEM, useMenuItem } from \"../item/useMenuItem.js\";\nimport { useMenuPositionerContext } from \"../positioner/MenuPositionerContext.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\n\n/**\n * A menu item that works like a radio button in a given group.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Menu](https://base-ui.com/react/components/menu)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const MenuRadioItem = /*#__PURE__*/React.forwardRef(function MenuRadioItem(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    id: idProp,\n    label,\n    nativeButton = false,\n    disabled: disabledProp = false,\n    closeOnClick = false,\n    value,\n    ...elementProps\n  } = componentProps;\n  const listItem = useCompositeListItem({\n    label\n  });\n  const menuPositionerContext = useMenuPositionerContext(true);\n  const id = useBaseUiId(idProp);\n  const {\n    store\n  } = useMenuRootContext();\n  const highlighted = store.useState('isActive', listItem.index);\n  const itemProps = store.useState('itemProps');\n  const {\n    value: selectedValue,\n    setValue: setSelectedValue,\n    disabled: groupDisabled\n  } = useMenuRadioGroupContext();\n  const disabled = groupDisabled || disabledProp;\n  const checked = selectedValue === value;\n  const {\n    getItemProps,\n    itemRef\n  } = useMenuItem({\n    closeOnClick,\n    disabled,\n    highlighted,\n    id,\n    store,\n    nativeButton,\n    nodeId: menuPositionerContext?.nodeId,\n    itemMetadata: REGULAR_ITEM\n  });\n  const state = React.useMemo(() => ({\n    disabled,\n    highlighted,\n    checked\n  }), [disabled, highlighted, checked]);\n  const handleClick = useStableCallback(event => {\n    const details = {\n      ...createChangeEventDetails(REASONS.itemPress, event.nativeEvent),\n      preventUnmountOnClose: () => {}\n    };\n    setSelectedValue(value, details);\n  });\n  const element = useRenderElement('div', componentProps, {\n    state,\n    stateAttributesMapping: itemMapping,\n    props: [itemProps, {\n      role: 'menuitemradio',\n      'aria-checked': checked,\n      onClick: handleClick\n    }, elementProps, getItemProps],\n    ref: [itemRef, forwardedRef, listItem.ref]\n  });\n  return /*#__PURE__*/_jsx(MenuRadioItemContext.Provider, {\n    value: state,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") MenuRadioItem.displayName = \"MenuRadioItem\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const MenuRadioItemContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") MenuRadioItemContext.displayName = \"MenuRadioItemContext\";\nexport function useMenuRadioItemContext() {\n  const context = React.useContext(MenuRadioItemContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: MenuRadioItemContext is missing. MenuRadioItem parts must be placed within <Menu.RadioItem>.' : _formatErrorMessage(35));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useMenuRadioItemContext } from \"../radio-item/MenuRadioItemContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { itemMapping } from \"../utils/stateAttributesMapping.js\";\nimport { useTransitionStatus } from \"../../utils/useTransitionStatus.js\";\nimport { useOpenChangeComplete } from \"../../utils/useOpenChangeComplete.js\";\n\n/**\n * Indicates whether the radio item is selected.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Menu](https://base-ui.com/react/components/menu)\n */\nexport const MenuRadioItemIndicator = /*#__PURE__*/React.forwardRef(function MenuRadioItemIndicator(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    keepMounted = false,\n    ...elementProps\n  } = componentProps;\n  const item = useMenuRadioItemContext();\n  const indicatorRef = React.useRef(null);\n  const {\n    transitionStatus,\n    setMounted\n  } = useTransitionStatus(item.checked);\n  useOpenChangeComplete({\n    open: item.checked,\n    ref: indicatorRef,\n    onComplete() {\n      if (!item.checked) {\n        setMounted(false);\n      }\n    }\n  });\n  const state = React.useMemo(() => ({\n    checked: item.checked,\n    disabled: item.disabled,\n    highlighted: item.highlighted,\n    transitionStatus\n  }), [item.checked, item.disabled, item.highlighted, transitionStatus]);\n  const element = useRenderElement('span', componentProps, {\n    state,\n    stateAttributesMapping: itemMapping,\n    ref: [forwardedRef, indicatorRef],\n    props: {\n      'aria-hidden': true,\n      ...elementProps\n    },\n    enabled: keepMounted || item.checked\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") MenuRadioItemIndicator.displayName = \"MenuRadioItemIndicator\";", "'use client';\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { useTimeout } from '@base-ui/utils/useTimeout';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useId } from '@base-ui/utils/useId';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useAnimationFrame } from '@base-ui/utils/useAnimationFrame';\nimport { useScrollLock } from '@base-ui/utils/useScrollLock';\nimport { EMPTY_ARRAY } from '@base-ui/utils/empty';\nimport { FloatingTree, useDismiss, useFloatingNodeId, useFloatingParentNodeId, useInteractions, useListNavigation, useRole, useTypeahead, useSyncedFloatingRootContext } from \"../../floating-ui-react/index.js\";\nimport { MenuRootContext, useMenuRootContext } from \"./MenuRootContext.js\";\nimport { useMenubarContext } from \"../../menubar/MenubarContext.js\";\nimport { TYPEAHEAD_RESET_MS } from \"../../utils/constants.js\";\nimport { useDirection } from \"../../direction-provider/DirectionContext.js\";\nimport { useOpenInteractionType } from \"../../utils/useOpenInteractionType.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { useContextMenuRootContext } from \"../../context-menu/root/ContextMenuRootContext.js\";\nimport { mergeProps } from \"../../merge-props/index.js\";\nimport { MenuStore } from \"../store/MenuStore.js\";\nimport { useImplicitActiveTrigger, useOpenStateTransitions } from \"../../utils/popups/index.js\";\nimport { useMenuSubmenuRootContext } from \"../submenu-root/MenuSubmenuRootContext.js\";\n\n/**\n * Groups all parts of the menu.\n * Doesnt render its own HTML element.\n *\n * Documentation: [Base UI Menu](https://base-ui.com/react/components/menu)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function MenuRoot(props) {\n  const {\n    children,\n    open: openProp,\n    onOpenChange,\n    onOpenChangeComplete,\n    defaultOpen = false,\n    disabled: disabledProp = false,\n    modal: modalProp,\n    loopFocus = true,\n    orientation = 'vertical',\n    actionsRef,\n    closeParentOnEsc = false,\n    handle,\n    triggerId: triggerIdProp,\n    defaultTriggerId: defaultTriggerIdProp = null,\n    highlightItemOnHover = true\n  } = props;\n  const contextMenuContext = useContextMenuRootContext(true);\n  const parentMenuRootContext = useMenuRootContext(true);\n  const menubarContext = useMenubarContext(true);\n  const isSubmenu = useMenuSubmenuRootContext();\n  const parentFromContext = React.useMemo(() => {\n    if (isSubmenu && parentMenuRootContext) {\n      return {\n        type: 'menu',\n        store: parentMenuRootContext.store\n      };\n    }\n    if (menubarContext) {\n      return {\n        type: 'menubar',\n        context: menubarContext\n      };\n    }\n\n    // Ensure this is not a Menu nested inside ContextMenu.Trigger.\n    // ContextMenu parentContext is always undefined as ContextMenu.Root is instantiated with\n    // <MenuRootContext.Provider value={undefined}>\n    if (contextMenuContext && !parentMenuRootContext) {\n      return {\n        type: 'context-menu',\n        context: contextMenuContext\n      };\n    }\n    return {\n      type: undefined\n    };\n  }, [contextMenuContext, parentMenuRootContext, menubarContext, isSubmenu]);\n  const store = MenuStore.useStore(handle?.store, {\n    parent: parentFromContext\n  });\n  const floatingTreeRoot = store.useState('floatingTreeRoot');\n  const floatingNodeIdFromContext = useFloatingNodeId(floatingTreeRoot);\n  const floatingParentNodeIdFromContext = useFloatingParentNodeId();\n  useIsoLayoutEffect(() => {\n    if (contextMenuContext && !parentMenuRootContext) {\n      // This is a context menu root.\n      // It doesn't support detached triggers yet, so we have to sync the parent context manually.\n      store.update({\n        parent: {\n          type: 'context-menu',\n          context: contextMenuContext\n        },\n        floatingNodeId: floatingNodeIdFromContext,\n        floatingParentNodeId: floatingParentNodeIdFromContext\n      });\n    } else if (parentMenuRootContext) {\n      store.update({\n        floatingNodeId: floatingNodeIdFromContext,\n        floatingParentNodeId: floatingParentNodeIdFromContext\n      });\n    }\n  }, [contextMenuContext, parentMenuRootContext, floatingNodeIdFromContext, floatingParentNodeIdFromContext, store]);\n  store.useControlledProp('open', openProp, defaultOpen);\n  store.useControlledProp('activeTriggerId', triggerIdProp, defaultTriggerIdProp);\n  store.useContextCallback('onOpenChangeComplete', onOpenChangeComplete);\n  const open = store.useState('open');\n  const activeTriggerElement = store.useState('activeTriggerElement');\n  const positionerElement = store.useState('positionerElement');\n  const hoverEnabled = store.useState('hoverEnabled');\n  const modal = store.useState('modal');\n  const disabled = store.useState('disabled');\n  const lastOpenChangeReason = store.useState('lastOpenChangeReason');\n  const parent = store.useState('parent');\n  const activeIndex = store.useState('activeIndex');\n  const payload = store.useState('payload');\n  const floatingParentNodeId = store.useState('floatingParentNodeId');\n  const openEventRef = React.useRef(null);\n  const nested = floatingParentNodeId != null;\n  let floatingEvents;\n  if (process.env.NODE_ENV !== 'production') {\n    if (parent.type !== undefined && modalProp !== undefined) {\n      console.warn('Base UI: The `modal` prop is not supported on nested menus. It will be ignored.');\n    }\n  }\n  store.useSyncedValues({\n    disabled: disabledProp,\n    modal: parent.type === undefined ? modalProp : undefined,\n    rootId: useId()\n  });\n  const {\n    openMethod,\n    triggerProps: interactionTypeProps,\n    reset: resetOpenInteractionType\n  } = useOpenInteractionType(open);\n  useImplicitActiveTrigger(store);\n  const {\n    forceUnmount\n  } = useOpenStateTransitions(open, store, () => {\n    store.update({\n      allowMouseEnter: false,\n      stickIfOpen: true\n    });\n    resetOpenInteractionType();\n  });\n  const allowOutsidePressDismissalRef = React.useRef(parent.type !== 'context-menu');\n  const allowOutsidePressDismissalTimeout = useTimeout();\n  React.useEffect(() => {\n    if (!open) {\n      openEventRef.current = null;\n    }\n    if (parent.type !== 'context-menu') {\n      return;\n    }\n    if (!open) {\n      allowOutsidePressDismissalTimeout.clear();\n      allowOutsidePressDismissalRef.current = false;\n      return;\n    }\n\n    // With `mousedown` outside press events and long press touch input, there\n    // needs to be a grace period after opening to ensure the dismissal event\n    // doesn't fire immediately after open.\n    allowOutsidePressDismissalTimeout.start(500, () => {\n      allowOutsidePressDismissalRef.current = true;\n    });\n  }, [allowOutsidePressDismissalTimeout, open, parent.type]);\n  useScrollLock(open && modal && lastOpenChangeReason !== REASONS.triggerHover && openMethod !== 'touch', positionerElement);\n  useIsoLayoutEffect(() => {\n    if (!open && !hoverEnabled) {\n      store.set('hoverEnabled', true);\n    }\n  }, [open, hoverEnabled, store]);\n  const allowTouchToCloseRef = React.useRef(true);\n  const allowTouchToCloseTimeout = useTimeout();\n  const setOpen = useStableCallback((nextOpen, eventDetails) => {\n    const reason = eventDetails.reason;\n    if (open === nextOpen && eventDetails.trigger === activeTriggerElement && lastOpenChangeReason === reason) {\n      return;\n    }\n    eventDetails.preventUnmountOnClose = () => {\n      store.set('preventUnmountingOnClose', true);\n    };\n\n    // Do not immediately reset the activeTriggerId to allow\n    // exit animations to play and focus to be returned correctly.\n    if (!nextOpen && eventDetails.trigger == null) {\n      eventDetails.trigger = activeTriggerElement ?? undefined;\n    }\n    onOpenChange?.(nextOpen, eventDetails);\n    if (eventDetails.isCanceled) {\n      return;\n    }\n    const details = {\n      open: nextOpen,\n      nativeEvent: eventDetails.event,\n      reason: eventDetails.reason,\n      nested\n    };\n    floatingEvents?.emit('openchange', details);\n    const nativeEvent = eventDetails.event;\n    if (nextOpen === false && nativeEvent?.type === 'click' && nativeEvent.pointerType === 'touch' && !allowTouchToCloseRef.current) {\n      return;\n    }\n\n    // Workaround `enableFocusInside` in Floating UI setting `tabindex=0` of a non-highlighted\n    // option upon close when tabbing out due to `keepMounted=true`:\n    // https://github.com/floating-ui/floating-ui/pull/3004/files#diff-962a7439cdeb09ea98d4b622a45d517bce07ad8c3f866e089bda05f4b0bbd875R194-R199\n    // This otherwise causes options to retain `tabindex=0` incorrectly when the popup is closed\n    // when tabbing outside.\n    if (!nextOpen && activeIndex !== null) {\n      const activeOption = store.context.itemDomElements.current[activeIndex];\n      // Wait for Floating UI's focus effect to have fired\n      queueMicrotask(() => {\n        activeOption?.setAttribute('tabindex', '-1');\n      });\n    }\n\n    // Prevent the menu from closing on mobile devices that have a delayed click event.\n    // In some cases the menu, when tapped, will fire the focus event first and then the click event.\n    // Without this guard, the menu will close immediately after opening.\n    if (nextOpen && reason === REASONS.triggerFocus) {\n      allowTouchToCloseRef.current = false;\n      allowTouchToCloseTimeout.start(300, () => {\n        allowTouchToCloseRef.current = true;\n      });\n    } else {\n      allowTouchToCloseRef.current = true;\n      allowTouchToCloseTimeout.clear();\n    }\n    const isKeyboardClick = (reason === REASONS.triggerPress || reason === REASONS.itemPress) && nativeEvent.detail === 0 && nativeEvent?.isTrusted;\n    const isDismissClose = !nextOpen && (reason === REASONS.escapeKey || reason == null);\n    function changeState() {\n      const updatedState = {\n        open: nextOpen,\n        openChangeReason: reason\n      };\n      openEventRef.current = eventDetails.event ?? null;\n\n      // If a popup is closing, the `trigger` may be null.\n      // We want to keep the previous value so that exit animations are played and focus is returned correctly.\n      const newTriggerId = eventDetails.trigger?.id ?? null;\n      if (newTriggerId || nextOpen) {\n        updatedState.activeTriggerId = newTriggerId;\n        updatedState.activeTriggerElement = eventDetails.trigger ?? null;\n      }\n      store.update(updatedState);\n    }\n    if (reason === REASONS.triggerHover) {\n      ReactDOM.flushSync(changeState);\n    } else {\n      changeState();\n    }\n    if (parent.type === 'menubar' && (reason === REASONS.triggerFocus || reason === REASONS.focusOut || reason === REASONS.triggerHover || reason === REASONS.listNavigation || reason === REASONS.siblingOpen)) {\n      store.set('instantType', 'group');\n    } else if (isKeyboardClick || isDismissClose) {\n      store.set('instantType', isKeyboardClick ? 'click' : 'dismiss');\n    } else {\n      store.set('instantType', undefined);\n    }\n  });\n  const createMenuEventDetails = React.useCallback(reason => {\n    const details = createChangeEventDetails(reason);\n    details.preventUnmountOnClose = () => {\n      store.set('preventUnmountingOnClose', true);\n    };\n    return details;\n  }, [store]);\n  const handleImperativeClose = React.useCallback(() => {\n    store.setOpen(false, createMenuEventDetails(REASONS.imperativeAction));\n  }, [store, createMenuEventDetails]);\n  React.useImperativeHandle(actionsRef, () => ({\n    unmount: forceUnmount,\n    close: handleImperativeClose\n  }), [forceUnmount, handleImperativeClose]);\n  let ctx;\n  if (parent.type === 'context-menu') {\n    ctx = parent.context;\n  }\n  React.useImperativeHandle(ctx?.positionerRef, () => positionerElement, [positionerElement]);\n  React.useImperativeHandle(ctx?.actionsRef, () => ({\n    setOpen\n  }), [setOpen]);\n  const floatingRootContext = useSyncedFloatingRootContext({\n    popupStore: store,\n    onOpenChange: setOpen\n  });\n  floatingEvents = floatingRootContext.context.events;\n  React.useEffect(() => {\n    const handleSetOpenEvent = ({\n      open: nextOpen,\n      eventDetails\n    }) => setOpen(nextOpen, eventDetails);\n    floatingEvents.on('setOpen', handleSetOpenEvent);\n    return () => {\n      floatingEvents?.off('setOpen', handleSetOpenEvent);\n    };\n  }, [floatingEvents, setOpen]);\n  const dismiss = useDismiss(floatingRootContext, {\n    enabled: !disabled,\n    bubbles: {\n      escapeKey: closeParentOnEsc && parent.type === 'menu'\n    },\n    outsidePress() {\n      if (parent.type !== 'context-menu' || openEventRef.current?.type === 'contextmenu') {\n        return true;\n      }\n      return allowOutsidePressDismissalRef.current;\n    },\n    externalTree: nested ? floatingTreeRoot : undefined\n  });\n  const role = useRole(floatingRootContext, {\n    role: 'menu'\n  });\n  const direction = useDirection();\n  const setActiveIndex = React.useCallback(index => {\n    if (store.select('activeIndex') === index) {\n      return;\n    }\n    store.set('activeIndex', index);\n  }, [store]);\n  const listNavigation = useListNavigation(floatingRootContext, {\n    enabled: !disabled,\n    listRef: store.context.itemDomElements,\n    activeIndex,\n    nested: parent.type !== undefined,\n    loopFocus,\n    orientation,\n    parentOrientation: parent.type === 'menubar' ? parent.context.orientation : undefined,\n    rtl: direction === 'rtl',\n    disabledIndices: EMPTY_ARRAY,\n    onNavigate: setActiveIndex,\n    openOnArrowKeyDown: parent.type !== 'context-menu',\n    externalTree: nested ? floatingTreeRoot : undefined,\n    focusItemOnHover: highlightItemOnHover\n  });\n  const onTypingChange = React.useCallback(nextTyping => {\n    store.context.typingRef.current = nextTyping;\n  }, [store]);\n  const typeahead = useTypeahead(floatingRootContext, {\n    listRef: store.context.itemLabels,\n    activeIndex,\n    resetMs: TYPEAHEAD_RESET_MS,\n    onMatch: index => {\n      if (open && index !== activeIndex) {\n        store.set('activeIndex', index);\n      }\n    },\n    onTypingChange\n  });\n  const {\n    getReferenceProps,\n    getFloatingProps,\n    getItemProps,\n    getTriggerProps\n  } = useInteractions([dismiss, role, listNavigation, typeahead]);\n  const activeTriggerProps = React.useMemo(() => {\n    const mergedProps = mergeProps(getReferenceProps(), {\n      onMouseEnter() {\n        store.set('hoverEnabled', true);\n      },\n      onMouseMove() {\n        store.set('allowMouseEnter', true);\n      }\n    }, interactionTypeProps);\n    delete mergedProps.role;\n    return mergedProps;\n  }, [getReferenceProps, store, interactionTypeProps]);\n  const inactiveTriggerProps = React.useMemo(() => {\n    const triggerProps = getTriggerProps();\n    if (!triggerProps) {\n      return triggerProps;\n    }\n    const mergedProps = mergeProps(triggerProps, interactionTypeProps);\n    delete mergedProps.role;\n    delete mergedProps['aria-controls'];\n    return mergedProps;\n  }, [getTriggerProps, interactionTypeProps]);\n  const disableHoverTimeout = useAnimationFrame();\n  const popupProps = React.useMemo(() => getFloatingProps({\n    onMouseEnter() {\n      if (parent.type === 'menu') {\n        disableHoverTimeout.request(() => store.set('hoverEnabled', false));\n      }\n    },\n    onMouseMove() {\n      store.set('allowMouseEnter', true);\n    },\n    onClick() {\n      if (store.select('hoverEnabled')) {\n        store.set('hoverEnabled', false);\n      }\n    },\n    onKeyDown(event) {\n      // The Menubar's CompositeRoot captures keyboard events via\n      // event delegation. This works well when Menu.Root is nested inside Menubar,\n      // but with detached triggers we need to manually forward the event to the CompositeRoot.\n      const relay = store.select('keyboardEventRelay');\n      if (relay && !event.isPropagationStopped()) {\n        relay(event);\n      }\n    }\n  }), [getFloatingProps, parent.type, disableHoverTimeout, store]);\n  const itemProps = React.useMemo(() => getItemProps(), [getItemProps]);\n  store.useSyncedValues({\n    floatingRootContext,\n    activeTriggerProps,\n    inactiveTriggerProps,\n    popupProps,\n    itemProps\n  });\n  const context = React.useMemo(() => ({\n    store,\n    parent: parentFromContext\n  }), [store, parentFromContext]);\n  const content = /*#__PURE__*/_jsx(MenuRootContext.Provider, {\n    value: context,\n    children: typeof children === 'function' ? children({\n      payload\n    }) : children\n  });\n  if (parent.type === undefined || parent.type === 'context-menu') {\n    // set up a FloatingTree to provide the context to nested menus\n    return /*#__PURE__*/_jsx(FloatingTree, {\n      externalTree: floatingTreeRoot,\n      children: content\n    });\n  }\n  return content;\n}", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const MenubarContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") MenubarContext.displayName = \"MenubarContext\";\nexport function useMenubarContext(optional) {\n  const context = React.useContext(MenubarContext);\n  if (context === null && !optional) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: MenubarContext is missing. Menubar parts must be placed within <Menubar>.' : _formatErrorMessage(5));\n  }\n  return context;\n}", "import * as React from 'react';\nimport { createSelector, ReactStore } from '@base-ui/utils/store';\nimport { EMPTY_OBJECT } from '@base-ui/utils/empty';\nimport { useRefWithInit } from '@base-ui/utils/useRefWithInit';\nimport { FloatingTreeStore } from \"../../floating-ui-react/components/FloatingTreeStore.js\";\nimport { createInitialPopupStoreState, popupStoreSelectors, PopupTriggerMap } from \"../../utils/popups/index.js\";\nconst selectors = {\n  ...popupStoreSelectors,\n  disabled: createSelector(state => state.parent.type === 'menubar' ? state.parent.context.disabled || state.disabled : state.disabled),\n  modal: createSelector(state => (state.parent.type === undefined || state.parent.type === 'context-menu') && (state.modal ?? true)),\n  allowMouseEnter: createSelector(state => state.parent.type === 'menu' ? state.parent.store.select('allowMouseEnter') : state.allowMouseEnter),\n  stickIfOpen: createSelector(state => state.stickIfOpen),\n  parent: createSelector(state => state.parent),\n  rootId: createSelector(state => {\n    if (state.parent.type === 'menu') {\n      return state.parent.store.select('rootId');\n    }\n    return state.parent.type !== undefined ? state.parent.context.rootId : state.rootId;\n  }),\n  activeIndex: createSelector(state => state.activeIndex),\n  isActive: createSelector((state, itemIndex) => state.activeIndex === itemIndex),\n  hoverEnabled: createSelector(state => state.hoverEnabled),\n  instantType: createSelector(state => state.instantType),\n  lastOpenChangeReason: createSelector(state => state.openChangeReason),\n  floatingTreeRoot: createSelector(state => {\n    if (state.parent.type === 'menu') {\n      return state.parent.store.select('floatingTreeRoot');\n    }\n    return state.floatingTreeRoot;\n  }),\n  floatingNodeId: createSelector(state => state.floatingNodeId),\n  floatingParentNodeId: createSelector(state => state.floatingParentNodeId),\n  itemProps: createSelector(state => state.itemProps),\n  closeDelay: createSelector(state => state.closeDelay),\n  keyboardEventRelay: createSelector(state => {\n    if (state.keyboardEventRelay) {\n      return state.keyboardEventRelay;\n    }\n    if (state.parent.type === 'menu') {\n      return state.parent.store.select('keyboardEventRelay');\n    }\n    return undefined;\n  })\n};\nexport class MenuStore extends ReactStore {\n  constructor(initialState) {\n    super({\n      ...createInitialState(),\n      ...initialState\n    }, {\n      positionerRef: /*#__PURE__*/React.createRef(),\n      popupRef: /*#__PURE__*/React.createRef(),\n      typingRef: {\n        current: false\n      },\n      itemDomElements: {\n        current: []\n      },\n      itemLabels: {\n        current: []\n      },\n      allowMouseUpTriggerRef: {\n        current: false\n      },\n      triggerFocusTargetRef: /*#__PURE__*/React.createRef(),\n      beforeContentFocusGuardRef: /*#__PURE__*/React.createRef(),\n      onOpenChangeComplete: undefined,\n      triggerElements: new PopupTriggerMap()\n    }, selectors);\n\n    // Sync `allowMouseEnter` with parent menu if applicable.\n    this.observe(createSelector(state => state.allowMouseEnter), (allowMouseEnter, oldValue) => {\n      // The allowMouseEnter !== oldValue check prevent calling parent store's set\n      // on intialization. Without it, React might complain about updating one component during rendering another.\n      if (this.state.parent.type === 'menu' && allowMouseEnter !== oldValue) {\n        this.state.parent.store.set('allowMouseEnter', allowMouseEnter);\n      }\n    });\n\n    // Set up propagation of state from parent menu if applicable.\n    this.unsubscribeParentListener = this.observe('parent', parent => {\n      this.unsubscribeParentListener?.();\n      if (parent.type === 'menu') {\n        this.unsubscribeParentListener = parent.store.subscribe(() => {\n          this.notifyAll();\n        });\n        this.context.allowMouseUpTriggerRef = parent.store.context.allowMouseUpTriggerRef;\n        return;\n      }\n      if (parent.type !== undefined) {\n        this.context.allowMouseUpTriggerRef = parent.context.allowMouseUpTriggerRef;\n      }\n      this.unsubscribeParentListener = null;\n    });\n  }\n  setOpen(open, eventDetails) {\n    this.state.floatingRootContext.context.events.emit('setOpen', {\n      open,\n      eventDetails\n    });\n  }\n  static useStore(externalStore, initialState) {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const internalStore = useRefWithInit(() => {\n      return new MenuStore(initialState);\n    }).current;\n    return externalStore ?? internalStore;\n  }\n  unsubscribeParentListener = null;\n}\nfunction createInitialState() {\n  return {\n    ...createInitialPopupStoreState(),\n    disabled: false,\n    modal: true,\n    allowMouseEnter: true,\n    stickIfOpen: true,\n    parent: {\n      type: undefined\n    },\n    rootId: undefined,\n    activeIndex: null,\n    hoverEnabled: true,\n    instantType: undefined,\n    openChangeReason: null,\n    floatingTreeRoot: new FloatingTreeStore(),\n    floatingNodeId: undefined,\n    floatingParentNodeId: null,\n    itemProps: EMPTY_OBJECT,\n    keyboardEventRelay: undefined,\n    closeDelay: 0\n  };\n}", "import * as React from 'react';\nexport const MenuSubmenuRootContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") MenuSubmenuRootContext.displayName = \"MenuSubmenuRootContext\";\nexport function useMenuSubmenuRootContext() {\n  return React.useContext(MenuSubmenuRootContext);\n}", "'use client';\n\nimport * as React from 'react';\nimport { MenuRoot } from \"../root/MenuRoot.js\";\nimport { useMenuRootContext } from \"../root/MenuRootContext.js\";\nimport { MenuSubmenuRootContext } from \"./MenuSubmenuRootContext.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport { useMenuSubmenuRootContext } from \"./MenuSubmenuRootContext.js\";\n\n/**\n * Groups all parts of a submenu.\n * Doesnt render its own HTML element.\n *\n * Documentation: [Base UI Menu](https://base-ui.com/react/components/menu)\n */\nexport function MenuSubmenuRoot(props) {\n  const parentMenu = useMenuRootContext().store;\n  const contextValue = React.useMemo(() => ({\n    parentMenu\n  }), [parentMenu]);\n  return /*#__PURE__*/_jsx(MenuSubmenuRootContext.Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/_jsx(MenuRoot, {\n      ...props\n    })\n  });\n}", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { useTimeout } from '@base-ui/utils/useTimeout';\nimport { ownerDocument } from '@base-ui/utils/owner';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { EMPTY_OBJECT } from '@base-ui/utils/empty';\nimport { safePolygon, useClick, useFloatingTree, useFocus, useHoverReferenceInteraction, useInteractions, useFloatingNodeId, useFloatingParentNodeId } from \"../../floating-ui-react/index.js\";\nimport { FloatingTreeStore } from \"../../floating-ui-react/components/FloatingTreeStore.js\";\nimport { contains, getNextTabbable, getTabbableAfterElement, getTabbableBeforeElement, isOutsideEvent } from \"../../floating-ui-react/utils.js\";\nimport { useMenuRootContext } from \"../root/MenuRootContext.js\";\nimport { pressableTriggerOpenStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useButton } from \"../../use-button/useButton.js\";\nimport { getPseudoElementBounds } from \"../../utils/getPseudoElementBounds.js\";\nimport { CompositeItem } from \"../../composite/item/CompositeItem.js\";\nimport { useCompositeRootContext } from \"../../composite/root/CompositeRootContext.js\";\nimport { findRootOwnerId } from \"../utils/findRootOwnerId.js\";\nimport { useTriggerDataForwarding } from \"../../utils/popups/index.js\";\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { useMixedToggleClickHandler } from \"../../utils/useMixedToggleClickHandler.js\";\nimport { useContextMenuRootContext } from \"../../context-menu/root/ContextMenuRootContext.js\";\nimport { useMenubarContext } from \"../../menubar/MenubarContext.js\";\nimport { PATIENT_CLICK_THRESHOLD } from \"../../utils/constants.js\";\nimport { FocusGuard } from \"../../utils/FocusGuard.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst BOUNDARY_OFFSET = 2;\n\n/**\n * A button that opens the menu.\n * Renders a `<button>` element.\n *\n * Documentation: [Base UI Menu](https://base-ui.com/react/components/menu)\n */\nexport const MenuTrigger = /*#__PURE__*/React.forwardRef(function MenuTrigger(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    disabled: disabledProp = false,\n    nativeButton = true,\n    id: idProp,\n    openOnHover: openOnHoverProp,\n    delay = 100,\n    closeDelay = 0,\n    handle,\n    payload,\n    ...elementProps\n  } = componentProps;\n  const rootContext = useMenuRootContext(true);\n  const store = handle?.store ?? rootContext?.store;\n  if (!store) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: <Menu.Trigger> must be either used within a <Menu.Root> component or provided with a handle.' : _formatErrorMessage(85));\n  }\n  const thisTriggerId = useBaseUiId(idProp);\n  const isTriggerActive = store.useState('isTriggerActive', thisTriggerId);\n  const floatingRootContext = store.useState('floatingRootContext');\n  const isOpenedByThisTrigger = store.useState('isOpenedByTrigger', thisTriggerId);\n  const triggerElementRef = React.useRef(null);\n  const parent = useMenuParent();\n  const compositeRootContext = useCompositeRootContext(true);\n  const floatingTreeRootFromContext = useFloatingTree();\n  const floatingTreeRoot = React.useMemo(() => {\n    return floatingTreeRootFromContext ?? new FloatingTreeStore();\n  }, [floatingTreeRootFromContext]);\n  const floatingNodeId = useFloatingNodeId(floatingTreeRoot);\n  const floatingParentNodeId = useFloatingParentNodeId();\n  const {\n    registerTrigger,\n    isMountedByThisTrigger\n  } = useTriggerDataForwarding(thisTriggerId, triggerElementRef, store, {\n    payload,\n    closeDelay,\n    parent,\n    floatingTreeRoot,\n    floatingNodeId,\n    floatingParentNodeId,\n    keyboardEventRelay: compositeRootContext?.relayKeyboardEvent\n  });\n  const isInMenubar = parent.type === 'menubar';\n  const rootDisabled = store.useState('disabled');\n  const disabled = disabledProp || rootDisabled || isInMenubar && parent.context.disabled;\n  const {\n    getButtonProps,\n    buttonRef\n  } = useButton({\n    disabled,\n    native: nativeButton\n  });\n  React.useEffect(() => {\n    if (!isOpenedByThisTrigger && parent.type === undefined) {\n      store.context.allowMouseUpTriggerRef.current = false;\n    }\n  }, [store, isOpenedByThisTrigger, parent.type]);\n  const triggerRef = React.useRef(null);\n  const allowMouseUpTriggerTimeout = useTimeout();\n  const handleDocumentMouseUp = useStableCallback(mouseEvent => {\n    if (!triggerRef.current) {\n      return;\n    }\n    allowMouseUpTriggerTimeout.clear();\n    store.context.allowMouseUpTriggerRef.current = false;\n    const mouseUpTarget = mouseEvent.target;\n    if (contains(triggerRef.current, mouseUpTarget) || contains(store.select('positionerElement'), mouseUpTarget) || mouseUpTarget === triggerRef.current) {\n      return;\n    }\n    if (mouseUpTarget != null && findRootOwnerId(mouseUpTarget) === store.select('rootId')) {\n      return;\n    }\n    const bounds = getPseudoElementBounds(triggerRef.current);\n    if (mouseEvent.clientX >= bounds.left - BOUNDARY_OFFSET && mouseEvent.clientX <= bounds.right + BOUNDARY_OFFSET && mouseEvent.clientY >= bounds.top - BOUNDARY_OFFSET && mouseEvent.clientY <= bounds.bottom + BOUNDARY_OFFSET) {\n      return;\n    }\n    floatingTreeRoot.events.emit('close', {\n      domEvent: mouseEvent,\n      reason: REASONS.cancelOpen\n    });\n  });\n  React.useEffect(() => {\n    if (isOpenedByThisTrigger && store.select('lastOpenChangeReason') === REASONS.triggerHover) {\n      const doc = ownerDocument(triggerRef.current);\n      doc.addEventListener('mouseup', handleDocumentMouseUp, {\n        once: true\n      });\n    }\n  }, [isOpenedByThisTrigger, handleDocumentMouseUp, store]);\n  const parentMenubarHasSubmenuOpen = isInMenubar && parent.context.hasSubmenuOpen;\n  const openOnHover = openOnHoverProp ?? parentMenubarHasSubmenuOpen;\n  const hoverProps = useHoverReferenceInteraction(floatingRootContext, {\n    enabled: openOnHover && !disabled && parent.type !== 'context-menu' && (!isInMenubar || parentMenubarHasSubmenuOpen && !isMountedByThisTrigger),\n    handleClose: safePolygon({\n      blockPointerEvents: !isInMenubar\n    }),\n    mouseOnly: true,\n    move: false,\n    restMs: parent.type === undefined ? delay : undefined,\n    delay: {\n      close: closeDelay\n    },\n    triggerElementRef,\n    externalTree: floatingTreeRoot,\n    isActiveTrigger: isTriggerActive\n  });\n\n  // Whether to ignore clicks to open the menu.\n  // `lastOpenChangeReason` doesn't need to be reactive here, as we need to run this\n  // only when `isOpenedByThisTrigger` changes.\n  const stickIfOpen = useStickIfOpen(isOpenedByThisTrigger, store.select('lastOpenChangeReason'));\n  const click = useClick(floatingRootContext, {\n    enabled: !disabled && parent.type !== 'context-menu',\n    event: isOpenedByThisTrigger && isInMenubar ? 'click' : 'mousedown',\n    toggle: true,\n    ignoreMouse: false,\n    stickIfOpen: parent.type === undefined ? stickIfOpen : false\n  });\n  const focus = useFocus(floatingRootContext, {\n    enabled: !disabled && parentMenubarHasSubmenuOpen\n  });\n  const mixedToggleHandlers = useMixedToggleClickHandler({\n    open: isOpenedByThisTrigger,\n    enabled: isInMenubar,\n    mouseDownAction: 'open'\n  });\n  const localInteractionProps = useInteractions([click, focus]);\n  const state = React.useMemo(() => ({\n    disabled,\n    open: isOpenedByThisTrigger\n  }), [disabled, isOpenedByThisTrigger]);\n  const rootTriggerProps = store.useState('triggerProps', isMountedByThisTrigger);\n  const ref = [triggerRef, forwardedRef, buttonRef, registerTrigger, triggerElementRef];\n  const props = [localInteractionProps.getReferenceProps(), hoverProps ?? EMPTY_OBJECT, rootTriggerProps, {\n    'aria-haspopup': 'menu',\n    id: thisTriggerId,\n    onMouseDown: event => {\n      if (store.select('open')) {\n        return;\n      }\n\n      // mousedown -> mouseup on menu item should not trigger it within 200ms.\n      allowMouseUpTriggerTimeout.start(200, () => {\n        store.context.allowMouseUpTriggerRef.current = true;\n      });\n      const doc = ownerDocument(event.currentTarget);\n      doc.addEventListener('mouseup', handleDocumentMouseUp, {\n        once: true\n      });\n    }\n  }, isInMenubar ? {\n    role: 'menuitem'\n  } : {}, mixedToggleHandlers, elementProps, getButtonProps];\n  const preFocusGuardRef = React.useRef(null);\n  const handlePreFocusGuardFocus = useStableCallback(event => {\n    ReactDOM.flushSync(() => {\n      store.setOpen(false, createChangeEventDetails(REASONS.focusOut, event.nativeEvent, event.currentTarget));\n    });\n    const previousTabbable = getTabbableBeforeElement(preFocusGuardRef.current);\n    previousTabbable?.focus();\n  });\n  const handleFocusTargetFocus = useStableCallback(event => {\n    const currentPositionerElement = store.select('positionerElement');\n    if (currentPositionerElement && isOutsideEvent(event, currentPositionerElement)) {\n      store.context.beforeContentFocusGuardRef.current?.focus();\n    } else {\n      ReactDOM.flushSync(() => {\n        store.setOpen(false, createChangeEventDetails(REASONS.focusOut, event.nativeEvent, event.currentTarget));\n      });\n      let nextTabbable = getTabbableAfterElement(store.context.triggerFocusTargetRef.current || triggerElementRef.current);\n      while (nextTabbable !== null && contains(currentPositionerElement, nextTabbable)) {\n        const prevTabbable = nextTabbable;\n        nextTabbable = getNextTabbable(nextTabbable);\n        if (nextTabbable === prevTabbable) {\n          break;\n        }\n      }\n      nextTabbable?.focus();\n    }\n  });\n  const element = useRenderElement('button', componentProps, {\n    enabled: !isInMenubar,\n    stateAttributesMapping: pressableTriggerOpenStateMapping,\n    state,\n    ref,\n    props\n  });\n  if (isInMenubar) {\n    return /*#__PURE__*/_jsx(CompositeItem, {\n      tag: \"button\",\n      render: render,\n      className: className,\n      state: state,\n      refs: ref,\n      props: props,\n      stateAttributesMapping: pressableTriggerOpenStateMapping\n    });\n  }\n\n  // A fragment with key is required to ensure that the `element` is mounted to the same DOM node\n  // regardless of whether the focus guards are rendered or not.\n\n  if (isOpenedByThisTrigger) {\n    return /*#__PURE__*/_jsxs(React.Fragment, {\n      children: [/*#__PURE__*/_jsx(FocusGuard, {\n        ref: preFocusGuardRef,\n        onFocus: handlePreFocusGuardFocus\n      }, `${thisTriggerId}-pre-focus-guard`), /*#__PURE__*/_jsx(React.Fragment, {\n        children: element\n      }, thisTriggerId), /*#__PURE__*/_jsx(FocusGuard, {\n        ref: store.context.triggerFocusTargetRef,\n        onFocus: handleFocusTargetFocus\n      }, `${thisTriggerId}-post-focus-guard`)]\n    });\n  }\n  return /*#__PURE__*/_jsx(React.Fragment, {\n    children: element\n  }, thisTriggerId);\n});\nif (process.env.NODE_ENV !== \"production\") MenuTrigger.displayName = \"MenuTrigger\";\n/**\n * Determines whether to ignore clicks after a hover-open.\n */\nfunction useStickIfOpen(open, openReason) {\n  const stickIfOpenTimeout = useTimeout();\n  const [stickIfOpen, setStickIfOpen] = React.useState(false);\n  useIsoLayoutEffect(() => {\n    if (open && openReason === 'trigger-hover') {\n      // Only allow \"patient\" clicks to close the menu if it's open.\n      // If they clicked within 500ms of the menu opening, keep it open.\n      setStickIfOpen(true);\n      stickIfOpenTimeout.start(PATIENT_CLICK_THRESHOLD, () => {\n        setStickIfOpen(false);\n      });\n    } else if (!open) {\n      stickIfOpenTimeout.clear();\n      setStickIfOpen(false);\n    }\n  }, [open, openReason, stickIfOpenTimeout]);\n  return stickIfOpen;\n}\nfunction useMenuParent() {\n  const contextMenuContext = useContextMenuRootContext(true);\n  const parentContext = useMenuRootContext(true);\n  const menubarContext = useMenubarContext(true);\n  const parent = React.useMemo(() => {\n    if (menubarContext) {\n      return {\n        type: 'menubar',\n        context: menubarContext\n      };\n    }\n\n    // Ensure this is not a Menu nested inside ContextMenu.Trigger.\n    // ContextMenu parentContext is always undefined as ContextMenu.Root is instantiated with\n    // <MenuRootContext.Provider value={undefined}>\n    if (contextMenuContext && !parentContext) {\n      return {\n        type: 'context-menu',\n        context: contextMenuContext\n      };\n    }\n    return {\n      type: undefined\n    };\n  }, [contextMenuContext, parentContext, menubarContext]);\n  return parent;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useMergedRefs } from '@base-ui/utils/useMergedRefs';\nimport { useCompositeRootContext } from \"../root/CompositeRootContext.js\";\nimport { useCompositeListItem } from \"../list/useCompositeListItem.js\";\nexport function useCompositeItem(params = {}) {\n  const {\n    highlightItemOnHover,\n    highlightedIndex,\n    onHighlightedIndexChange\n  } = useCompositeRootContext();\n  const {\n    ref,\n    index\n  } = useCompositeListItem(params);\n  const isHighlighted = highlightedIndex === index;\n  const itemRef = React.useRef(null);\n  const mergedRef = useMergedRefs(ref, itemRef);\n  const compositeProps = React.useMemo(() => ({\n    tabIndex: isHighlighted ? 0 : -1,\n    onFocus() {\n      onHighlightedIndexChange(index);\n    },\n    onMouseMove() {\n      const item = itemRef.current;\n      if (!highlightItemOnHover || !item) {\n        return;\n      }\n      const disabled = item.hasAttribute('disabled') || item.ariaDisabled === 'true';\n      if (!isHighlighted && !disabled) {\n        item.focus();\n      }\n    }\n  }), [isHighlighted, onHighlightedIndexChange, index, highlightItemOnHover]);\n  return {\n    compositeProps,\n    compositeRef: mergedRef,\n    index\n  };\n}", "'use client';\n\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useCompositeItem } from \"./useCompositeItem.js\";\nimport { EMPTY_OBJECT, EMPTY_ARRAY } from \"../../utils/constants.js\";\n/**\n * @internal\n */\nexport function CompositeItem(componentProps) {\n  const {\n    render,\n    className,\n    state = EMPTY_OBJECT,\n    props = EMPTY_ARRAY,\n    refs = EMPTY_ARRAY,\n    metadata,\n    stateAttributesMapping,\n    tag = 'div',\n    ...elementProps\n  } = componentProps;\n  const {\n    compositeProps,\n    compositeRef\n  } = useCompositeItem({\n    metadata\n  });\n  return useRenderElement(tag, componentProps, {\n    state,\n    ref: [...refs, compositeRef],\n    props: [compositeProps, ...props, elementProps],\n    stateAttributesMapping\n  });\n}", "import { getParentNode, isHTMLElement, isLastTraversableNode } from '@floating-ui/utils/dom';\nexport function findRootOwnerId(node) {\n  if (isHTMLElement(node) && node.hasAttribute('data-rootownerid')) {\n    return node.getAttribute('data-rootownerid') ?? undefined;\n  }\n  if (isLastTraversableNode(node)) {\n    return undefined;\n  }\n  return findRootOwnerId(getParentNode(node));\n}", "import * as React from 'react';\nimport { ownerDocument } from '@base-ui/utils/owner';\nimport { EMPTY_OBJECT } from \"./constants.js\";\n\n/**\n * Returns `click` and `mousedown` handlers that fix the behavior of triggers of popups that are toggled by different events.\n * For example, a button that opens a popup on mousedown and closes it on click.\n * This hook prevents the popup from closing immediately after the mouse button is released.\n */\nexport function useMixedToggleClickHandler(params) {\n  const {\n    enabled = true,\n    mouseDownAction,\n    open\n  } = params;\n  const ignoreClickRef = React.useRef(false);\n  return React.useMemo(() => {\n    if (!enabled) {\n      return EMPTY_OBJECT;\n    }\n    return {\n      onMouseDown: event => {\n        if (mouseDownAction === 'open' && !open || mouseDownAction === 'close' && open) {\n          ignoreClickRef.current = true;\n          ownerDocument(event.currentTarget).addEventListener('click', () => {\n            ignoreClickRef.current = false;\n          }, {\n            once: true\n          });\n        }\n      },\n      onClick: event => {\n        if (ignoreClickRef.current) {\n          ignoreClickRef.current = false;\n          event.preventBaseUIHandler();\n        }\n      }\n    };\n  }, [enabled, mouseDownAction, open]);\n}", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nimport { safePolygon, useClick, useHoverReferenceInteraction, useInteractions } from \"../../floating-ui-react/index.js\";\nimport { useMenuRootContext } from \"../root/MenuRootContext.js\";\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { triggerOpenStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { useCompositeListItem } from \"../../composite/list/useCompositeListItem.js\";\nimport { useMenuItem } from \"../item/useMenuItem.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useMenuPositionerContext } from \"../positioner/MenuPositionerContext.js\";\nimport { useTriggerRegistration } from \"../../utils/popups/index.js\";\nimport { useMenuSubmenuRootContext } from \"../submenu-root/MenuSubmenuRootContext.js\";\n\n/**\n * A menu item that opens a submenu.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Menu](https://base-ui.com/react/components/menu)\n */\nexport const MenuSubmenuTrigger = /*#__PURE__*/React.forwardRef(function SubmenuTriggerComponent(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    label,\n    id: idProp,\n    nativeButton = false,\n    openOnHover = true,\n    delay = 100,\n    closeDelay = 0,\n    disabled: disabledProp = false,\n    ...elementProps\n  } = componentProps;\n  const listItem = useCompositeListItem();\n  const menuPositionerContext = useMenuPositionerContext();\n  const {\n    store\n  } = useMenuRootContext();\n  const thisTriggerId = useBaseUiId(idProp);\n  const open = store.useState('open');\n  const floatingRootContext = store.useState('floatingRootContext');\n  const floatingTreeRoot = store.useState('floatingTreeRoot');\n  const baseRegisterTrigger = useTriggerRegistration(thisTriggerId, store);\n  const registerTrigger = React.useCallback(element => {\n    const cleanup = baseRegisterTrigger(element);\n    if (element !== null && store.select('open') && store.select('activeTriggerId') == null) {\n      store.update({\n        activeTriggerId: thisTriggerId,\n        activeTriggerElement: element,\n        closeDelay\n      });\n    }\n    return cleanup;\n  }, [baseRegisterTrigger, closeDelay, store, thisTriggerId]);\n  const triggerElementRef = React.useRef(null);\n  const handleTriggerElementRef = React.useCallback(el => {\n    triggerElementRef.current = el;\n    store.set('activeTriggerElement', el);\n  }, [store]);\n  const submenuRootContext = useMenuSubmenuRootContext();\n  if (!submenuRootContext?.parentMenu) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: <Menu.SubmenuTrigger> must be placed in <Menu.SubmenuRoot>.' : _formatErrorMessage(37));\n  }\n  store.useSyncedValue('closeDelay', closeDelay);\n  const parentMenuStore = submenuRootContext.parentMenu;\n  const itemProps = parentMenuStore.useState('itemProps');\n  const highlighted = parentMenuStore.useState('isActive', listItem.index);\n  const itemMetadata = React.useMemo(() => ({\n    type: 'submenu-trigger',\n    setActive: () => parentMenuStore.set('activeIndex', listItem.index)\n  }), [parentMenuStore, listItem.index]);\n  const rootDisabled = store.useState('disabled');\n  const disabled = disabledProp || rootDisabled;\n  const {\n    getItemProps,\n    itemRef\n  } = useMenuItem({\n    closeOnClick: false,\n    disabled,\n    highlighted,\n    id: thisTriggerId,\n    store,\n    nativeButton,\n    itemMetadata,\n    nodeId: menuPositionerContext?.nodeId\n  });\n  const hoverEnabled = store.useState('hoverEnabled');\n  const allowMouseEnter = store.useState('allowMouseEnter');\n  const hoverProps = useHoverReferenceInteraction(floatingRootContext, {\n    enabled: hoverEnabled && openOnHover && !disabled && allowMouseEnter,\n    handleClose: safePolygon({\n      blockPointerEvents: true\n    }),\n    mouseOnly: true,\n    move: true,\n    restMs: delay,\n    delay: {\n      open: delay,\n      close: closeDelay\n    },\n    triggerElementRef,\n    externalTree: floatingTreeRoot\n  });\n  const click = useClick(floatingRootContext, {\n    enabled: !disabled,\n    event: 'mousedown',\n    toggle: !openOnHover,\n    ignoreMouse: openOnHover,\n    stickIfOpen: false\n  });\n  const localInteractionProps = useInteractions([click]);\n  const rootTriggerProps = store.useState('triggerProps', true);\n  delete rootTriggerProps.id;\n  const state = React.useMemo(() => ({\n    disabled,\n    highlighted,\n    open\n  }), [disabled, highlighted, open]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    stateAttributesMapping: triggerOpenStateMapping,\n    props: [localInteractionProps.getReferenceProps(), hoverProps, rootTriggerProps, itemProps, {\n      tabIndex: open || highlighted ? 0 : -1,\n      onBlur() {\n        if (highlighted) {\n          parentMenuStore.set('activeIndex', null);\n        }\n      }\n    }, elementProps, getItemProps],\n    ref: [forwardedRef, listItem.ref, itemRef, registerTrigger, handleTriggerElementRef]\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") MenuSubmenuTrigger.displayName = \"MenuSubmenuTrigger\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { MenuStore } from \"./MenuStore.js\";\nexport class MenuHandle {\n  /**\n   * Internal store holding the menu's state.\n   * @internal\n   */\n\n  constructor() {\n    this.store = new MenuStore();\n  }\n\n  /**\n   * Opens the menu and associates it with the trigger with the given id.\n   * The trigger must be a Menu.Trigger component with this handle passed as a prop.\n   *\n   * @param triggerId ID of the trigger to associate with the menu.\n   */\n  open(triggerId) {\n    const triggerElement = triggerId ? this.store.context.triggerElements.getById(triggerId) : undefined;\n    if (triggerId && !triggerElement) {\n      throw new Error(process.env.NODE_ENV !== \"production\" ? `Base UI: MenuHandle.open: No trigger found with id \"${triggerId}\".` : _formatErrorMessage(83, triggerId));\n    }\n    this.store.setOpen(true, createChangeEventDetails('imperative-action', undefined, triggerElement));\n  }\n\n  /**\n   * Closes the menu.\n   */\n  close() {\n    this.store.setOpen(false, createChangeEventDetails('imperative-action', undefined, undefined));\n  }\n\n  /**\n   * Indicates whether the menu is currently open.\n   */\n  get isOpen() {\n    return this.store.state.open;\n  }\n}\n\n/**\n * Creates a new handle to connect a Menu.Root with detached Menu.Trigger components.\n */\nexport function createMenuHandle() {\n  return new MenuHandle();\n}", "'use client';\n\nimport * as React from 'react';\nimport { ownerDocument } from '@base-ui/utils/owner';\nimport { useTimeout } from '@base-ui/utils/useTimeout';\nimport { contains, getTarget, stopEvent } from \"../../floating-ui-react/utils.js\";\nimport { useContextMenuRootContext } from \"../root/ContextMenuRootContext.js\";\nimport { useMenuRootContext } from \"../../menu/root/MenuRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { pressableTriggerOpenStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { findRootOwnerId } from \"../../menu/utils/findRootOwnerId.js\";\nconst LONG_PRESS_DELAY = 500;\n\n/**\n * An area that opens the menu on right click or long press.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Context Menu](https://base-ui.com/react/components/context-menu)\n */\nexport const ContextMenuTrigger = /*#__PURE__*/React.forwardRef(function ContextMenuTrigger(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const {\n    setAnchor,\n    actionsRef,\n    internalBackdropRef,\n    backdropRef,\n    positionerRef,\n    allowMouseUpTriggerRef,\n    initialCursorPointRef,\n    rootId\n  } = useContextMenuRootContext(false);\n  const {\n    store\n  } = useMenuRootContext(false);\n  const open = store.useState('open');\n  const triggerRef = React.useRef(null);\n  const touchPositionRef = React.useRef(null);\n  const longPressTimeout = useTimeout();\n  const allowMouseUpTimeout = useTimeout();\n  const allowMouseUpRef = React.useRef(false);\n  function handleLongPress(x, y, event) {\n    const isTouchEvent = event.type.startsWith('touch');\n    initialCursorPointRef.current = {\n      x,\n      y\n    };\n    setAnchor({\n      getBoundingClientRect() {\n        return DOMRect.fromRect({\n          width: isTouchEvent ? 10 : 0,\n          height: isTouchEvent ? 10 : 0,\n          x,\n          y\n        });\n      }\n    });\n    allowMouseUpRef.current = false;\n    actionsRef.current?.setOpen(true, createChangeEventDetails(REASONS.triggerPress, event));\n    allowMouseUpTimeout.start(LONG_PRESS_DELAY, () => {\n      allowMouseUpRef.current = true;\n    });\n  }\n  function handleContextMenu(event) {\n    allowMouseUpTriggerRef.current = true;\n    stopEvent(event);\n    handleLongPress(event.clientX, event.clientY, event.nativeEvent);\n    const doc = ownerDocument(triggerRef.current);\n    doc.addEventListener('mouseup', mouseEvent => {\n      allowMouseUpTriggerRef.current = false;\n      if (!allowMouseUpRef.current) {\n        return;\n      }\n      allowMouseUpTimeout.clear();\n      allowMouseUpRef.current = false;\n      const mouseUpTarget = getTarget(mouseEvent);\n      if (contains(positionerRef.current, mouseUpTarget)) {\n        return;\n      }\n      if (rootId && mouseUpTarget && findRootOwnerId(mouseUpTarget) === rootId) {\n        return;\n      }\n      actionsRef.current?.setOpen(false, createChangeEventDetails(REASONS.cancelOpen, mouseEvent));\n    }, {\n      once: true\n    });\n  }\n  function handleTouchStart(event) {\n    allowMouseUpTriggerRef.current = false;\n    if (event.touches.length === 1) {\n      event.stopPropagation();\n      const touch = event.touches[0];\n      touchPositionRef.current = {\n        x: touch.clientX,\n        y: touch.clientY\n      };\n      longPressTimeout.start(LONG_PRESS_DELAY, () => {\n        if (touchPositionRef.current) {\n          handleLongPress(touchPositionRef.current.x, touchPositionRef.current.y, event.nativeEvent);\n        }\n      });\n    }\n  }\n  function handleTouchMove(event) {\n    if (longPressTimeout.isStarted() && touchPositionRef.current && event.touches.length === 1) {\n      const touch = event.touches[0];\n      const moveThreshold = 10;\n      const deltaX = Math.abs(touch.clientX - touchPositionRef.current.x);\n      const deltaY = Math.abs(touch.clientY - touchPositionRef.current.y);\n      if (deltaX > moveThreshold || deltaY > moveThreshold) {\n        longPressTimeout.clear();\n      }\n    }\n  }\n  function handleTouchEnd() {\n    longPressTimeout.clear();\n    touchPositionRef.current = null;\n  }\n  React.useEffect(() => {\n    function handleDocumentContextMenu(event) {\n      const target = getTarget(event);\n      const targetElement = target;\n      if (contains(triggerRef.current, targetElement) || contains(internalBackdropRef.current, targetElement) || contains(backdropRef.current, targetElement)) {\n        event.preventDefault();\n      }\n    }\n    const doc = ownerDocument(triggerRef.current);\n    doc.addEventListener('contextmenu', handleDocumentContextMenu);\n    return () => {\n      doc.removeEventListener('contextmenu', handleDocumentContextMenu);\n    };\n  }, [backdropRef, internalBackdropRef]);\n  const state = React.useMemo(() => ({\n    open\n  }), [open]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: [triggerRef, forwardedRef],\n    props: [{\n      onContextMenu: handleContextMenu,\n      onTouchStart: handleTouchStart,\n      onTouchMove: handleTouchMove,\n      onTouchEnd: handleTouchEnd,\n      onTouchCancel: handleTouchEnd,\n      style: {\n        WebkitTouchCallout: 'none'\n      }\n    }, elementProps],\n    stateAttributesMapping: pressableTriggerOpenStateMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") ContextMenuTrigger.displayName = \"ContextMenuTrigger\";", "'use client';\n\nimport * as React from 'react';\nimport { CSPContext } from \"./CSPContext.js\";\n\n/**\n * Provides a default Content Security Policy (CSP) configuration for Base UI components that\n * require inline `<style>` or `<script>` tags.\n *\n * Documentation: [Base UI CSP Provider](https://base-ui.com/react/utils/csp-provider)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function CSPProvider(props) {\n  const {\n    children,\n    nonce,\n    disableStyleElements\n  } = props;\n  const contextValue = React.useMemo(() => ({\n    nonce,\n    disableStyleElements\n  }), [nonce, disableStyleElements]);\n  return /*#__PURE__*/_jsx(CSPContext.Provider, {\n    value: contextValue,\n    children: children\n  });\n}", "'use client';\n\nimport * as React from 'react';\n/**\n * @internal\n */\nexport const CSPContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") CSPContext.displayName = \"CSPContext\";\nconst DEFAULT_CSP_CONTEXT_VALUE = {\n  disableStyleElements: false\n};\n\n/**\n * @internal\n */\nexport function useCSPContext() {\n  return React.useContext(CSPContext) ?? DEFAULT_CSP_CONTEXT_VALUE;\n}", "export { DialogBackdrop as Backdrop } from \"./backdrop/DialogBackdrop.js\";\nexport { DialogClose as Close } from \"./close/DialogClose.js\";\nexport { DialogDescription as Description } from \"./description/DialogDescription.js\";\nexport { DialogPopup as Popup } from \"./popup/DialogPopup.js\";\nexport { DialogPortal as Portal } from \"./portal/DialogPortal.js\";\nexport { DialogRoot as Root } from \"./root/DialogRoot.js\";\nexport { DialogViewport as Viewport } from \"./viewport/DialogViewport.js\";\nexport { DialogTitle as Title } from \"./title/DialogTitle.js\";\nexport { DialogTrigger as Trigger } from \"./trigger/DialogTrigger.js\";\nexport { createDialogHandle as createHandle, DialogHandle as Handle } from \"./store/DialogHandle.js\";", "'use client';\n\nimport * as React from 'react';\nimport { useRefWithInit } from '@base-ui/utils/useRefWithInit';\nimport { useDialogRoot } from \"./useDialogRoot.js\";\nimport { DialogRootContext, useDialogRootContext } from \"./DialogRootContext.js\";\nimport { DialogStore } from \"../store/DialogStore.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n/**\n * Groups all parts of the dialog.\n * Doesnt render its own HTML element.\n *\n * Documentation: [Base UI Dialog](https://base-ui.com/react/components/dialog)\n */\nexport function DialogRoot(props) {\n  const {\n    children,\n    open: openProp,\n    defaultOpen = false,\n    onOpenChange,\n    onOpenChangeComplete,\n    disablePointerDismissal = false,\n    modal = true,\n    actionsRef,\n    handle,\n    triggerId: triggerIdProp,\n    defaultTriggerId: defaultTriggerIdProp = null\n  } = props;\n  const parentDialogRootContext = useDialogRootContext(true);\n  const nested = Boolean(parentDialogRootContext);\n  const store = useRefWithInit(() => {\n    return handle?.store ?? new DialogStore({\n      open: openProp ?? defaultOpen,\n      activeTriggerId: triggerIdProp !== undefined ? triggerIdProp : defaultTriggerIdProp,\n      modal,\n      disablePointerDismissal,\n      nested\n    });\n  }).current;\n  store.useControlledProp('open', openProp, defaultOpen);\n  store.useControlledProp('activeTriggerId', triggerIdProp, defaultTriggerIdProp);\n  store.useSyncedValues({\n    disablePointerDismissal,\n    nested,\n    modal\n  });\n  store.useContextCallback('onOpenChange', onOpenChange);\n  store.useContextCallback('onOpenChangeComplete', onOpenChangeComplete);\n  const payload = store.useState('payload');\n  useDialogRoot({\n    store,\n    actionsRef,\n    parentContext: parentDialogRootContext?.store.context,\n    onOpenChange,\n    triggerIdProp\n  });\n  const contextValue = React.useMemo(() => ({\n    store\n  }), [store]);\n  return /*#__PURE__*/_jsx(DialogRootContext.Provider, {\n    value: contextValue,\n    children: typeof children === 'function' ? children({\n      payload\n    }) : children\n  });\n}", "'use client';\n\nimport * as React from 'react';\nimport { DirectionContext } from \"./DirectionContext.js\";\n\n/**\n * Enables RTL behavior for Base UI components.\n *\n * Documentation: [Base UI Direction Provider](https://base-ui.com/react/utils/direction-provider)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const DirectionProvider = function DirectionProvider(props) {\n  const {\n    direction = 'ltr'\n  } = props;\n  const contextValue = React.useMemo(() => ({\n    direction\n  }), [direction]);\n  return /*#__PURE__*/_jsx(DirectionContext.Provider, {\n    value: contextValue,\n    children: props.children\n  });\n};\nif (process.env.NODE_ENV !== \"production\") DirectionProvider.displayName = \"DirectionProvider\";", "export { FieldRoot as Root } from \"./root/FieldRoot.js\";\nexport { FieldLabel as Label } from \"./label/FieldLabel.js\";\nexport { FieldError as Error } from \"./error/FieldError.js\";\nexport { FieldDescription as Description } from \"./description/FieldDescription.js\";\nexport { FieldControl as Control } from \"./control/FieldControl.js\";\nexport { FieldValidity as Validity } from \"./validity/FieldValidity.js\";\nexport { FieldItem as Item } from \"./item/FieldItem.js\";", "'use client';\n\nimport * as React from 'react';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { FieldRootContext } from \"./FieldRootContext.js\";\nimport { DEFAULT_VALIDITY_STATE, fieldValidityMapping } from \"../utils/constants.js\";\nimport { useFieldsetRootContext } from \"../../fieldset/root/FieldsetRootContext.js\";\nimport { useFormContext } from \"../../form/FormContext.js\";\nimport { LabelableProvider } from \"../../labelable-provider/index.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useFieldValidation } from \"./useFieldValidation.js\";\n\n/**\n * @internal\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst FieldRootInner = /*#__PURE__*/React.forwardRef(function FieldRootInner(componentProps, forwardedRef) {\n  const {\n    errors,\n    validationMode: formValidationMode,\n    submitAttemptedRef\n  } = useFormContext();\n  const {\n    render,\n    className,\n    validate: validateProp,\n    validationDebounceTime = 0,\n    validationMode = formValidationMode,\n    name,\n    disabled: disabledProp = false,\n    invalid: invalidProp,\n    dirty: dirtyProp,\n    touched: touchedProp,\n    actionsRef,\n    ...elementProps\n  } = componentProps;\n  const {\n    disabled: disabledFieldset\n  } = useFieldsetRootContext();\n  const validate = useStableCallback(validateProp || (() => null));\n  const disabled = disabledFieldset || disabledProp;\n  const [touchedState, setTouchedUnwrapped] = React.useState(false);\n  const [dirtyState, setDirtyUnwrapped] = React.useState(false);\n  const [filled, setFilled] = React.useState(false);\n  const [focused, setFocused] = React.useState(false);\n  const dirty = dirtyProp ?? dirtyState;\n  const touched = touchedProp ?? touchedState;\n  const markedDirtyRef = React.useRef(false);\n  const setDirty = useStableCallback(value => {\n    if (dirtyProp !== undefined) {\n      return;\n    }\n    if (value) {\n      markedDirtyRef.current = true;\n    }\n    setDirtyUnwrapped(value);\n  });\n  const setTouched = useStableCallback(value => {\n    if (touchedProp !== undefined) {\n      return;\n    }\n    setTouchedUnwrapped(value);\n  });\n  const shouldValidateOnChange = useStableCallback(() => validationMode === 'onChange' || validationMode === 'onSubmit' && submitAttemptedRef.current);\n  const invalid = Boolean(invalidProp || name && {}.hasOwnProperty.call(errors, name) && errors[name] !== undefined);\n  const [validityData, setValidityData] = React.useState({\n    state: DEFAULT_VALIDITY_STATE,\n    error: '',\n    errors: [],\n    value: null,\n    initialValue: null\n  });\n  const valid = !invalid && validityData.state.valid;\n  const state = React.useMemo(() => ({\n    disabled,\n    touched,\n    dirty,\n    valid,\n    filled,\n    focused\n  }), [disabled, touched, dirty, valid, filled, focused]);\n  const validation = useFieldValidation({\n    setValidityData,\n    validate,\n    validityData,\n    validationDebounceTime,\n    invalid,\n    markedDirtyRef,\n    state,\n    name,\n    shouldValidateOnChange\n  });\n  const handleImperativeValidate = React.useCallback(() => {\n    markedDirtyRef.current = true;\n    validation.commit(validityData.value);\n  }, [validation, validityData]);\n  React.useImperativeHandle(actionsRef, () => ({\n    validate: handleImperativeValidate\n  }), [handleImperativeValidate]);\n  const contextValue = React.useMemo(() => ({\n    invalid,\n    name,\n    validityData,\n    setValidityData,\n    disabled,\n    touched,\n    setTouched,\n    dirty,\n    setDirty,\n    filled,\n    setFilled,\n    focused,\n    setFocused,\n    validate,\n    validationMode,\n    validationDebounceTime,\n    shouldValidateOnChange,\n    state,\n    markedDirtyRef,\n    validation\n  }), [invalid, name, validityData, disabled, touched, setTouched, dirty, setDirty, filled, setFilled, focused, setFocused, validate, validationMode, validationDebounceTime, shouldValidateOnChange, state, validation]);\n  const element = useRenderElement('div', componentProps, {\n    ref: forwardedRef,\n    state,\n    props: elementProps,\n    stateAttributesMapping: fieldValidityMapping\n  });\n  return /*#__PURE__*/_jsx(FieldRootContext.Provider, {\n    value: contextValue,\n    children: element\n  });\n});\n\n/**\n * Groups all parts of the field.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Field](https://base-ui.com/react/components/field)\n */\nif (process.env.NODE_ENV !== \"production\") FieldRootInner.displayName = \"FieldRootInner\";\nexport const FieldRoot = /*#__PURE__*/React.forwardRef(function FieldRoot(componentProps, forwardedRef) {\n  return /*#__PURE__*/_jsx(LabelableProvider, {\n    children: /*#__PURE__*/_jsx(FieldRootInner, {\n      ...componentProps,\n      ref: forwardedRef\n    })\n  });\n});\nif (process.env.NODE_ENV !== \"production\") FieldRoot.displayName = \"FieldRoot\";", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const FieldsetRootContext = /*#__PURE__*/React.createContext({\n  legendId: undefined,\n  setLegendId: () => {},\n  disabled: undefined\n});\nif (process.env.NODE_ENV !== \"production\") FieldsetRootContext.displayName = \"FieldsetRootContext\";\nexport function useFieldsetRootContext(optional = false) {\n  const context = React.useContext(FieldsetRootContext);\n  if (!context && !optional) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: FieldsetRootContext is missing. Fieldset parts must be placed within <Fieldset.Root>.' : _formatErrorMessage(86));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nimport { mergeProps } from \"../merge-props/index.js\";\nimport { useBaseUiId } from \"../utils/useBaseUiId.js\";\nimport { LabelableContext, useLabelableContext } from \"./LabelableContext.js\";\n\n/**\n * @internal\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const LabelableProvider = function LabelableProvider(props) {\n  const defaultId = useBaseUiId();\n  const [controlId, setControlId] = React.useState(props.initialControlId === undefined ? defaultId : props.initialControlId);\n  const [labelId, setLabelId] = React.useState(undefined);\n  const [messageIds, setMessageIds] = React.useState([]);\n  const {\n    messageIds: parentMessageIds\n  } = useLabelableContext();\n  const getDescriptionProps = React.useCallback(externalProps => {\n    return mergeProps({\n      'aria-describedby': parentMessageIds.concat(messageIds).join(' ') || undefined\n    }, externalProps);\n  }, [parentMessageIds, messageIds]);\n  const contextValue = React.useMemo(() => ({\n    controlId,\n    setControlId,\n    labelId,\n    setLabelId,\n    messageIds,\n    setMessageIds,\n    getDescriptionProps\n  }), [controlId, setControlId, labelId, setLabelId, messageIds, setMessageIds, getDescriptionProps]);\n  return /*#__PURE__*/_jsx(LabelableContext.Provider, {\n    value: contextValue,\n    children: props.children\n  });\n};\nif (process.env.NODE_ENV !== \"production\") LabelableProvider.displayName = \"LabelableProvider\";", "'use client';\n\nimport * as React from 'react';\nimport { EMPTY_OBJECT } from '@base-ui/utils/empty';\nimport { useTimeout } from '@base-ui/utils/useTimeout';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useLabelableContext } from \"../../labelable-provider/LabelableContext.js\";\nimport { mergeProps } from \"../../merge-props/index.js\";\nimport { DEFAULT_VALIDITY_STATE } from \"../utils/constants.js\";\nimport { useFormContext } from \"../../form/FormContext.js\";\nimport { getCombinedFieldValidityData } from \"../utils/getCombinedFieldValidityData.js\";\nconst validityKeys = Object.keys(DEFAULT_VALIDITY_STATE);\nfunction isOnlyValueMissing(state) {\n  if (!state || state.valid || !state.valueMissing) {\n    return false;\n  }\n  let onlyValueMissing = false;\n  for (const key of validityKeys) {\n    if (key === 'valid') {\n      continue;\n    }\n    if (key === 'valueMissing') {\n      onlyValueMissing = state[key];\n    }\n    if (state[key]) {\n      onlyValueMissing = false;\n    }\n  }\n  return onlyValueMissing;\n}\nexport function useFieldValidation(params) {\n  const {\n    formRef,\n    clearErrors\n  } = useFormContext();\n  const {\n    setValidityData,\n    validate,\n    validityData,\n    validationDebounceTime,\n    invalid,\n    markedDirtyRef,\n    state,\n    name,\n    shouldValidateOnChange\n  } = params;\n  const {\n    controlId,\n    getDescriptionProps\n  } = useLabelableContext();\n  const timeout = useTimeout();\n  const inputRef = React.useRef(null);\n  const commit = useStableCallback(async (value, revalidate = false) => {\n    const element = inputRef.current;\n    if (!element) {\n      return;\n    }\n    if (revalidate) {\n      if (state.valid !== false) {\n        return;\n      }\n      const currentNativeValidity = element.validity;\n      if (!currentNativeValidity.valueMissing) {\n        // The 'valueMissing' (required) condition has been resolved by the user typing.\n        // Temporarily mark the field as valid for this onChange event.\n        // Other native errors (e.g., typeMismatch) will be caught by full validation on blur or submit.\n        const nextValidityData = {\n          value,\n          state: {\n            ...DEFAULT_VALIDITY_STATE,\n            valid: true\n          },\n          error: '',\n          errors: [],\n          initialValue: validityData.initialValue\n        };\n        element.setCustomValidity('');\n        if (controlId) {\n          const currentFieldData = formRef.current.fields.get(controlId);\n          if (currentFieldData) {\n            formRef.current.fields.set(controlId, {\n              ...currentFieldData,\n              ...getCombinedFieldValidityData(nextValidityData, false) // invalid = false\n            });\n          }\n        }\n        setValidityData(nextValidityData);\n        return;\n      }\n\n      // Value is still missing, or other conditions apply.\n      // Let's use a representation of current validity for isOnlyValueMissing.\n      const currentNativeValidityObject = validityKeys.reduce((acc, key) => {\n        acc[key] = currentNativeValidity[key];\n        return acc;\n      }, {});\n\n      // If it's (still) natively invalid due to something other than just valueMissing,\n      // then bail from this revalidation on change to avoid \"scolding\" for other errors.\n      if (!currentNativeValidityObject.valid && !isOnlyValueMissing(currentNativeValidityObject)) {\n        return;\n      }\n\n      // If valueMissing is still true AND it's the only issue, or if the field is now natively valid,\n      // let it fall through to the main validation logic below.\n    }\n    function getState(el) {\n      const computedState = validityKeys.reduce((acc, key) => {\n        acc[key] = el.validity[key];\n        return acc;\n      }, {});\n      let hasOnlyValueMissingError = false;\n      for (const key of validityKeys) {\n        if (key === 'valid') {\n          continue;\n        }\n        if (key === 'valueMissing' && computedState[key]) {\n          hasOnlyValueMissingError = true;\n        } else if (computedState[key]) {\n          return computedState;\n        }\n      }\n\n      // Only make `valueMissing` mark the field invalid if it's been changed\n      // to reduce error noise.\n      if (hasOnlyValueMissingError && !markedDirtyRef.current) {\n        computedState.valid = true;\n        computedState.valueMissing = false;\n      }\n      return computedState;\n    }\n    timeout.clear();\n    let result = null;\n    let validationErrors = [];\n    const nextState = getState(element);\n    let defaultValidationMessage;\n    const validateOnChange = shouldValidateOnChange();\n    if (element.validationMessage && !validateOnChange) {\n      // not validating on change, if there is a `validationMessage` from\n      // native validity, set errors and skip calling the custom validate fn\n      defaultValidationMessage = element.validationMessage;\n      validationErrors = [element.validationMessage];\n    } else {\n      // call the validate function because either\n      // - validating on change, or\n      // - native constraint validations passed, custom validity check is next\n      const formValues = Array.from(formRef.current.fields.values()).reduce((acc, field) => {\n        if (field.name) {\n          acc[field.name] = field.getValue();\n        }\n        return acc;\n      }, {});\n      const resultOrPromise = validate(value, formValues);\n      if (typeof resultOrPromise === 'object' && resultOrPromise !== null && 'then' in resultOrPromise) {\n        result = await resultOrPromise;\n      } else {\n        result = resultOrPromise;\n      }\n      if (result !== null) {\n        nextState.valid = false;\n        nextState.customError = true;\n        if (Array.isArray(result)) {\n          validationErrors = result;\n          element.setCustomValidity(result.join('\\n'));\n        } else if (result) {\n          validationErrors = [result];\n          element.setCustomValidity(result);\n        }\n      } else if (validateOnChange) {\n        // validate function returned no errors, if validating on change\n        // we need to clear the custom validity state\n        element.setCustomValidity('');\n        nextState.customError = false;\n        if (element.validationMessage) {\n          defaultValidationMessage = element.validationMessage;\n          validationErrors = [element.validationMessage];\n        } else if (element.validity.valid && !nextState.valid) {\n          nextState.valid = true;\n        }\n      }\n    }\n    const nextValidityData = {\n      value,\n      state: nextState,\n      error: defaultValidationMessage ?? (Array.isArray(result) ? result[0] : result ?? ''),\n      errors: validationErrors,\n      initialValue: validityData.initialValue\n    };\n    if (controlId) {\n      const currentFieldData = formRef.current.fields.get(controlId);\n      if (currentFieldData) {\n        formRef.current.fields.set(controlId, {\n          ...currentFieldData,\n          ...getCombinedFieldValidityData(nextValidityData, invalid)\n        });\n      }\n    }\n    setValidityData(nextValidityData);\n  });\n  const getValidationProps = React.useCallback((externalProps = {}) => mergeProps(getDescriptionProps, state.valid === false ? {\n    'aria-invalid': true\n  } : EMPTY_OBJECT, externalProps), [getDescriptionProps, state.valid]);\n  const getInputValidationProps = React.useCallback((externalProps = {}) => mergeProps({\n    onChange(event) {\n      // Workaround for https://github.com/facebook/react/issues/9023\n      if (event.nativeEvent.defaultPrevented) {\n        return;\n      }\n      clearErrors(name);\n      if (!shouldValidateOnChange()) {\n        commit(event.currentTarget.value, true);\n        return;\n      }\n      if (invalid) {\n        return;\n      }\n      const element = event.currentTarget;\n      if (element.value === '') {\n        // Ignore the debounce time for empty values.\n        commit(element.value);\n        return;\n      }\n      timeout.clear();\n      if (validationDebounceTime) {\n        timeout.start(validationDebounceTime, () => {\n          commit(element.value);\n        });\n      } else {\n        commit(element.value);\n      }\n    }\n  }, getValidationProps(externalProps)), [getValidationProps, clearErrors, name, timeout, commit, invalid, validationDebounceTime, shouldValidateOnChange]);\n  return React.useMemo(() => ({\n    getValidationProps,\n    getInputValidationProps,\n    inputRef,\n    commit\n  }), [getValidationProps, getInputValidationProps, commit]);\n}", "'use client';\n\nimport * as React from 'react';\nimport { error } from '@base-ui/utils/error';\nimport { isHTMLElement } from '@floating-ui/utils/dom';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { ownerDocument } from '@base-ui/utils/owner';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { getTarget } from \"../../floating-ui-react/utils.js\";\nimport { useFieldRootContext } from \"../root/FieldRootContext.js\";\nimport { useLabelableContext } from \"../../labelable-provider/LabelableContext.js\";\nimport { fieldValidityMapping } from \"../utils/constants.js\";\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * An accessible label that is automatically associated with the field control.\n * Renders a `<label>` element.\n *\n * Documentation: [Base UI Field](https://base-ui.com/react/components/field)\n */\nexport const FieldLabel = /*#__PURE__*/React.forwardRef(function FieldLabel(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    id: idProp,\n    nativeLabel = true,\n    ...elementProps\n  } = componentProps;\n  const fieldRootContext = useFieldRootContext(false);\n  const {\n    controlId,\n    setLabelId,\n    labelId\n  } = useLabelableContext();\n  const id = useBaseUiId(idProp);\n  const labelRef = React.useRef(null);\n  const handleInteraction = useStableCallback(event => {\n    const target = getTarget(event.nativeEvent);\n    if (target?.closest('button,input,select,textarea')) {\n      return;\n    }\n\n    // Prevent text selection when double clicking label.\n    if (!event.defaultPrevented && event.detail > 1) {\n      event.preventDefault();\n    }\n    if (nativeLabel || !controlId) {\n      return;\n    }\n    const controlElement = ownerDocument(event.currentTarget).getElementById(controlId);\n    if (isHTMLElement(controlElement)) {\n      controlElement.focus({\n        // Available from Chrome 144+ (January 2026).\n        // Safari and Firefox already support it.\n        // @ts-expect-error not available in types yet\n        focusVisible: true\n      });\n    }\n  });\n  if (process.env.NODE_ENV !== 'production') {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    React.useEffect(() => {\n      if (!labelRef.current) {\n        return;\n      }\n      const isLabelTag = labelRef.current.tagName === 'LABEL';\n      if (nativeLabel) {\n        if (!isLabelTag) {\n          error('<Field.Label> was not rendered as a <label> element, which does not match the `nativeLabel` prop on the component. Ensure that the element passed to the `render` prop of <Field.Label> is a real <label>, or set the `nativeLabel` prop on the component to `false`.');\n        }\n      } else if (isLabelTag) {\n        error('<Field.Label> was rendered as a <label> element, which does not match the `nativeLabel` prop on the component. Ensure that the element passed to the `render` prop of <Field.Label> is not a real <label>, or set the `nativeLabel` prop on the component to `true`.');\n      }\n    }, [nativeLabel]);\n  }\n  useIsoLayoutEffect(() => {\n    if (id) {\n      setLabelId(id);\n    }\n    return () => {\n      setLabelId(undefined);\n    };\n  }, [id, setLabelId]);\n  const element = useRenderElement('label', componentProps, {\n    ref: [forwardedRef, labelRef],\n    state: fieldRootContext.state,\n    props: [{\n      id: labelId\n    }, nativeLabel ? {\n      htmlFor: controlId ?? undefined,\n      onMouseDown: handleInteraction\n    } : {\n      onClick: handleInteraction,\n      onPointerDown(event) {\n        event.preventDefault();\n      }\n    }, elementProps],\n    stateAttributesMapping: fieldValidityMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") FieldLabel.displayName = \"FieldLabel\";", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useFieldRootContext } from \"../root/FieldRootContext.js\";\nimport { useLabelableContext } from \"../../labelable-provider/LabelableContext.js\";\nimport { fieldValidityMapping } from \"../utils/constants.js\";\nimport { useFormContext } from \"../../form/FormContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\n\n/**\n * An error message displayed if the field control fails validation.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Field](https://base-ui.com/react/components/field)\n */\nexport const FieldError = /*#__PURE__*/React.forwardRef(function FieldError(componentProps, forwardedRef) {\n  const {\n    render,\n    id: idProp,\n    className,\n    match,\n    ...elementProps\n  } = componentProps;\n  const id = useBaseUiId(idProp);\n  const {\n    validityData,\n    state,\n    name\n  } = useFieldRootContext(false);\n  const {\n    setMessageIds\n  } = useLabelableContext();\n  const {\n    errors\n  } = useFormContext();\n  const formError = name ? errors[name] : null;\n  let rendered = false;\n  if (formError || match === true) {\n    rendered = true;\n  } else if (match) {\n    rendered = Boolean(validityData.state[match]);\n  } else {\n    rendered = validityData.state.valid === false;\n  }\n  useIsoLayoutEffect(() => {\n    if (!rendered || !id) {\n      return undefined;\n    }\n    setMessageIds(v => v.concat(id));\n    return () => {\n      setMessageIds(v => v.filter(item => item !== id));\n    };\n  }, [rendered, id, setMessageIds]);\n  const element = useRenderElement('div', componentProps, {\n    ref: forwardedRef,\n    state,\n    props: [{\n      id,\n      children: formError || (validityData.errors.length > 1 ? /*#__PURE__*/React.createElement('ul', {}, validityData.errors.map(message => /*#__PURE__*/React.createElement('li', {\n        key: message\n      }, message))) : validityData.error)\n    }, elementProps],\n    stateAttributesMapping: fieldValidityMapping\n  });\n  if (!rendered) {\n    return null;\n  }\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") FieldError.displayName = \"FieldError\";", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useFieldRootContext } from \"../root/FieldRootContext.js\";\nimport { useLabelableContext } from \"../../labelable-provider/LabelableContext.js\";\nimport { fieldValidityMapping } from \"../utils/constants.js\";\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * A paragraph with additional information about the field.\n * Renders a `<p>` element.\n *\n * Documentation: [Base UI Field](https://base-ui.com/react/components/field)\n */\nexport const FieldDescription = /*#__PURE__*/React.forwardRef(function FieldDescription(componentProps, forwardedRef) {\n  const {\n    render,\n    id: idProp,\n    className,\n    ...elementProps\n  } = componentProps;\n  const id = useBaseUiId(idProp);\n  const fieldRootContext = useFieldRootContext(false);\n  const {\n    setMessageIds\n  } = useLabelableContext();\n  useIsoLayoutEffect(() => {\n    if (!id) {\n      return undefined;\n    }\n    setMessageIds(v => v.concat(id));\n    return () => {\n      setMessageIds(v => v.filter(item => item !== id));\n    };\n  }, [id, setMessageIds]);\n  const element = useRenderElement('p', componentProps, {\n    ref: forwardedRef,\n    state: fieldRootContext.state,\n    props: [{\n      id\n    }, elementProps],\n    stateAttributesMapping: fieldValidityMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") FieldDescription.displayName = \"FieldDescription\";", "'use client';\n\nimport * as React from 'react';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useControlled } from '@base-ui/utils/useControlled';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useFieldRootContext } from \"../root/FieldRootContext.js\";\nimport { useLabelableContext } from \"../../labelable-provider/LabelableContext.js\";\nimport { useLabelableId } from \"../../labelable-provider/useLabelableId.js\";\nimport { fieldValidityMapping } from \"../utils/constants.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useField } from \"../useField.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\n/**\n * The form control to label and validate.\n * Renders an `<input>` element.\n *\n * You can omit this part and use any Base UI input component instead. For example,\n * [Input](https://base-ui.com/react/components/input), [Checkbox](https://base-ui.com/react/components/checkbox),\n * or [Select](https://base-ui.com/react/components/select), among others, will work with Field out of the box.\n *\n * Documentation: [Base UI Field](https://base-ui.com/react/components/field)\n */\nexport const FieldControl = /*#__PURE__*/React.forwardRef(function FieldControl(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    id: idProp,\n    name: nameProp,\n    value: valueProp,\n    disabled: disabledProp = false,\n    onValueChange,\n    defaultValue,\n    ...elementProps\n  } = componentProps;\n  const {\n    state: fieldState,\n    name: fieldName,\n    disabled: fieldDisabled\n  } = useFieldRootContext();\n  const disabled = fieldDisabled || disabledProp;\n  const name = fieldName ?? nameProp;\n  const state = React.useMemo(() => ({\n    ...fieldState,\n    disabled\n  }), [fieldState, disabled]);\n  const {\n    setTouched,\n    setDirty,\n    validityData,\n    setFocused,\n    setFilled,\n    validationMode,\n    validation\n  } = useFieldRootContext();\n  const {\n    labelId\n  } = useLabelableContext();\n  const id = useLabelableId({\n    id: idProp\n  });\n  useIsoLayoutEffect(() => {\n    const hasExternalValue = valueProp != null;\n    if (validation.inputRef.current?.value || hasExternalValue && valueProp !== '') {\n      setFilled(true);\n    } else if (hasExternalValue && valueProp === '') {\n      setFilled(false);\n    }\n  }, [validation.inputRef, setFilled, valueProp]);\n  const [value, setValueUnwrapped] = useControlled({\n    controlled: valueProp,\n    default: defaultValue,\n    name: 'FieldControl',\n    state: 'value'\n  });\n  const isControlled = valueProp !== undefined;\n  const setValue = useStableCallback((nextValue, eventDetails) => {\n    onValueChange?.(nextValue, eventDetails);\n    if (eventDetails.isCanceled) {\n      return;\n    }\n    setValueUnwrapped(nextValue);\n  });\n  useField({\n    id,\n    name,\n    commit: validation.commit,\n    value,\n    getValue: () => validation.inputRef.current?.value,\n    controlRef: validation.inputRef\n  });\n  const element = useRenderElement('input', componentProps, {\n    ref: forwardedRef,\n    state,\n    props: [{\n      id,\n      disabled,\n      name,\n      ref: validation.inputRef,\n      'aria-labelledby': labelId,\n      ...(isControlled ? {\n        value\n      } : {\n        defaultValue\n      }),\n      onChange(event) {\n        const inputValue = event.currentTarget.value;\n        setValue(inputValue, createChangeEventDetails(REASONS.none, event.nativeEvent));\n        setDirty(inputValue !== validityData.initialValue);\n        setFilled(inputValue !== '');\n      },\n      onFocus() {\n        setFocused(true);\n      },\n      onBlur(event) {\n        setTouched(true);\n        setFocused(false);\n        if (validationMode === 'onBlur') {\n          validation.commit(event.currentTarget.value);\n        }\n      },\n      onKeyDown(event) {\n        if (event.currentTarget.tagName === 'INPUT' && event.key === 'Enter') {\n          setTouched(true);\n          validation.commit(event.currentTarget.value);\n        }\n      }\n    }, validation.getInputValidationProps(), elementProps],\n    stateAttributesMapping: fieldValidityMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") FieldControl.displayName = \"FieldControl\";", "'use client';\n\nimport * as React from 'react';\nimport { useFieldRootContext } from \"../root/FieldRootContext.js\";\nimport { getCombinedFieldValidityData } from \"../utils/getCombinedFieldValidityData.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n/**\n * Used to display a custom message based on the fields validity.\n * Requires `children` to be a function that accepts field validity state as an argument.\n *\n * Documentation: [Base UI Field](https://base-ui.com/react/components/field)\n */\nexport const FieldValidity = function FieldValidity(props) {\n  const {\n    children\n  } = props;\n  const {\n    validityData,\n    invalid\n  } = useFieldRootContext(false);\n  const fieldValidityState = React.useMemo(() => {\n    const combinedFieldValidityData = getCombinedFieldValidityData(validityData, invalid);\n    return {\n      ...combinedFieldValidityData,\n      validity: combinedFieldValidityData.state\n    };\n  }, [validityData, invalid]);\n  return /*#__PURE__*/_jsx(React.Fragment, {\n    children: children(fieldValidityState)\n  });\n};\nif (process.env.NODE_ENV !== \"production\") FieldValidity.displayName = \"FieldValidity\";", "'use client';\n\nimport * as React from 'react';\nimport { useFieldRootContext } from \"../root/FieldRootContext.js\";\nimport { fieldValidityMapping } from \"../utils/constants.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { FieldItemContext } from \"./FieldItemContext.js\";\nimport { LabelableProvider } from \"../../labelable-provider/index.js\";\nimport { useCheckboxGroupContext } from \"../../checkbox-group/CheckboxGroupContext.js\";\n\n/**\n * Groups individual items in a checkbox group or radio group with a label and description.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Field](https://base-ui.com/react/components/field)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const FieldItem = /*#__PURE__*/React.forwardRef(function FieldItem(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    disabled: disabledProp = false,\n    ...elementProps\n  } = componentProps;\n  const {\n    state,\n    disabled: rootDisabled\n  } = useFieldRootContext(false);\n  const disabled = rootDisabled || disabledProp;\n  const checkboxGroupContext = useCheckboxGroupContext();\n  // checkboxGroupContext.parent is truthy even if no parent checkbox is involved\n  const parentId = checkboxGroupContext?.parent.id;\n  // this a more reliable check\n  const hasParentCheckbox = checkboxGroupContext?.allValues !== undefined;\n  const initialControlId = hasParentCheckbox ? parentId : undefined;\n  const fieldItemContext = React.useMemo(() => ({\n    disabled\n  }), [disabled]);\n  const element = useRenderElement('div', componentProps, {\n    ref: forwardedRef,\n    state,\n    props: elementProps,\n    stateAttributesMapping: fieldValidityMapping\n  });\n  return /*#__PURE__*/_jsx(LabelableProvider, {\n    initialControlId: initialControlId,\n    children: /*#__PURE__*/_jsx(FieldItemContext.Provider, {\n      value: fieldItemContext,\n      children: element\n    })\n  });\n});\nif (process.env.NODE_ENV !== \"production\") FieldItem.displayName = \"FieldItem\";", "export { FieldsetRoot as Root } from \"./root/FieldsetRoot.js\";\nexport { FieldsetLegend as Legend } from \"./legend/FieldsetLegend.js\";", "'use client';\n\nimport * as React from 'react';\nimport { FieldsetRootContext } from \"./FieldsetRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * Groups the fieldset legend and the associated fields.\n * Renders a `<fieldset>` element.\n *\n * Documentation: [Base UI Fieldset](https://base-ui.com/react/components/fieldset)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const FieldsetRoot = /*#__PURE__*/React.forwardRef(function FieldsetRoot(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    disabled = false,\n    ...elementProps\n  } = componentProps;\n  const [legendId, setLegendId] = React.useState(undefined);\n  const state = React.useMemo(() => ({\n    disabled\n  }), [disabled]);\n  const element = useRenderElement('fieldset', componentProps, {\n    ref: forwardedRef,\n    state,\n    props: [{\n      'aria-labelledby': legendId\n    }, elementProps]\n  });\n  const contextValue = React.useMemo(() => ({\n    legendId,\n    setLegendId,\n    disabled\n  }), [legendId, setLegendId, disabled]);\n  return /*#__PURE__*/_jsx(FieldsetRootContext.Provider, {\n    value: contextValue,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") FieldsetRoot.displayName = \"FieldsetRoot\";", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useFieldsetRootContext } from \"../root/FieldsetRootContext.js\";\n/**\n * An accessible label that is automatically associated with the fieldset.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Fieldset](https://base-ui.com/react/components/fieldset)\n */\nexport const FieldsetLegend = /*#__PURE__*/React.forwardRef(function FieldsetLegend(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    id: idProp,\n    ...elementProps\n  } = componentProps;\n  const {\n    disabled,\n    setLegendId\n  } = useFieldsetRootContext();\n  const id = useBaseUiId(idProp);\n  useIsoLayoutEffect(() => {\n    setLegendId(id);\n    return () => {\n      setLegendId(undefined);\n    };\n  }, [setLegendId, id]);\n  const state = React.useMemo(() => ({\n    disabled: disabled ?? false\n  }), [disabled]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: [{\n      id\n    }, elementProps]\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") FieldsetLegend.displayName = \"FieldsetLegend\";", "'use client';\n\nimport * as React from 'react';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { createGenericEventDetails } from \"../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../utils/reasons.js\";\nimport { FormContext } from \"./FormContext.js\";\nimport { useRenderElement } from \"../utils/useRenderElement.js\";\nimport { EMPTY_OBJECT } from \"../utils/constants.js\";\nimport { useValueChanged } from \"../utils/useValueChanged.js\";\n\n/**\n * A native form element with consolidated error handling.\n * Renders a `<form>` element.\n *\n * Documentation: [Base UI Form](https://base-ui.com/react/components/form)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const Form = /*#__PURE__*/React.forwardRef(function Form(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    validationMode = 'onSubmit',\n    errors: externalErrors,\n    onSubmit,\n    onFormSubmit,\n    actionsRef,\n    ...elementProps\n  } = componentProps;\n  const formRef = React.useRef({\n    fields: new Map()\n  });\n  const submittedRef = React.useRef(false);\n  const submitAttemptedRef = React.useRef(false);\n  const focusControl = useStableCallback(control => {\n    if (!control) {\n      return;\n    }\n    control.focus();\n    if (control.tagName === 'INPUT') {\n      control.select();\n    }\n  });\n  const [errors, setErrors] = React.useState(externalErrors);\n  useValueChanged(externalErrors, () => {\n    setErrors(externalErrors);\n  });\n  React.useEffect(() => {\n    if (!submittedRef.current) {\n      return;\n    }\n    submittedRef.current = false;\n    const invalidFields = Array.from(formRef.current.fields.values()).filter(field => field.validityData.state.valid === false);\n    if (invalidFields.length) {\n      focusControl(invalidFields[0].controlRef.current);\n    }\n  }, [errors, focusControl]);\n  const handleImperativeValidate = React.useCallback(fieldName => {\n    const values = Array.from(formRef.current.fields.values());\n    if (fieldName) {\n      const namedField = values.find(field => field.name === fieldName);\n      if (namedField) {\n        namedField.validate(false);\n      }\n    } else {\n      values.forEach(field => {\n        field.validate(false);\n      });\n    }\n  }, []);\n  React.useImperativeHandle(actionsRef, () => ({\n    validate: handleImperativeValidate\n  }), [handleImperativeValidate]);\n  const element = useRenderElement('form', componentProps, {\n    ref: forwardedRef,\n    props: [{\n      noValidate: true,\n      onSubmit(event) {\n        submitAttemptedRef.current = true;\n        let values = Array.from(formRef.current.fields.values());\n\n        // Async validation isn't supported to stop the submit event.\n        values.forEach(field => {\n          field.validate();\n        });\n        values = Array.from(formRef.current.fields.values());\n        const invalidFields = values.filter(field => !field.validityData.state.valid);\n        if (invalidFields.length) {\n          event.preventDefault();\n          focusControl(invalidFields[0].controlRef.current);\n        } else {\n          submittedRef.current = true;\n          onSubmit?.(event);\n          if (onFormSubmit) {\n            event.preventDefault();\n            const formValues = values.reduce((acc, field) => {\n              if (field.name) {\n                acc[field.name] = field.getValue();\n              }\n              return acc;\n            }, {});\n            onFormSubmit(formValues, createGenericEventDetails(REASONS.none, event.nativeEvent));\n          }\n        }\n      }\n    }, elementProps]\n  });\n  const clearErrors = useStableCallback(name => {\n    if (name && errors && EMPTY_OBJECT.hasOwnProperty.call(errors, name)) {\n      const nextErrors = {\n        ...errors\n      };\n      delete nextErrors[name];\n      setErrors(nextErrors);\n    }\n  });\n  const contextValue = React.useMemo(() => ({\n    formRef,\n    validationMode,\n    errors: errors ?? EMPTY_OBJECT,\n    clearErrors,\n    submitAttemptedRef\n  }), [formRef, validationMode, errors, clearErrors]);\n  return /*#__PURE__*/_jsx(FormContext.Provider, {\n    value: contextValue,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") Form.displayName = \"Form\";", "'use client';\n\nimport * as React from 'react';\nimport { Field } from \"../field/index.js\";\n\n/**\n * A native input element that automatically works with [Field](https://base-ui.com/react/components/field).\n * Renders an `<input>` element.\n *\n * Documentation: [Base UI Input](https://base-ui.com/react/components/input)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const Input = /*#__PURE__*/React.forwardRef(function Input(props, forwardedRef) {\n  return /*#__PURE__*/_jsx(Field.Control, {\n    ref: forwardedRef,\n    ...props\n  });\n});\nif (process.env.NODE_ENV !== \"production\") Input.displayName = \"Input\";", "'use client';\n\nimport * as React from 'react';\nimport { useScrollLock } from '@base-ui/utils/useScrollLock';\nimport { FloatingNode, FloatingTree, useFloatingNodeId, useFloatingTree } from \"../floating-ui-react/index.js\";\nimport { MenubarContext, useMenubarContext } from \"./MenubarContext.js\";\nimport { useOpenInteractionType } from \"../utils/useOpenInteractionType.js\";\nimport { CompositeRoot } from \"../composite/root/CompositeRoot.js\";\nimport { useBaseUiId } from \"../utils/useBaseUiId.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst menubarStateAttributesMapping = {\n  hasSubmenuOpen(value) {\n    return {\n      'data-has-submenu-open': value ? 'true' : 'false'\n    };\n  }\n};\n\n/**\n * The container for menus.\n *\n * Documentation: [Base UI Menubar](https://base-ui.com/react/components/menubar)\n */\nexport const Menubar = /*#__PURE__*/React.forwardRef(function Menubar(props, forwardedRef) {\n  const {\n    orientation = 'horizontal',\n    loopFocus = true,\n    render,\n    className,\n    modal = true,\n    disabled = false,\n    id: idProp,\n    ...elementProps\n  } = props;\n  const [contentElement, setContentElement] = React.useState(null);\n  const [hasSubmenuOpen, setHasSubmenuOpen] = React.useState(false);\n  const {\n    openMethod,\n    triggerProps: interactionTypeProps,\n    reset: resetOpenInteractionType\n  } = useOpenInteractionType(hasSubmenuOpen);\n  React.useEffect(() => {\n    if (!hasSubmenuOpen) {\n      resetOpenInteractionType();\n    }\n  }, [hasSubmenuOpen, resetOpenInteractionType]);\n  useScrollLock(modal && hasSubmenuOpen && openMethod !== 'touch', contentElement);\n  const id = useBaseUiId(idProp);\n  const state = React.useMemo(() => ({\n    orientation,\n    modal,\n    hasSubmenuOpen\n  }), [orientation, modal, hasSubmenuOpen]);\n  const contentRef = React.useRef(null);\n  const allowMouseUpTriggerRef = React.useRef(false);\n  const context = React.useMemo(() => ({\n    contentElement,\n    setContentElement,\n    setHasSubmenuOpen,\n    hasSubmenuOpen,\n    modal,\n    disabled,\n    orientation,\n    allowMouseUpTriggerRef,\n    rootId: id\n  }), [contentElement, hasSubmenuOpen, modal, disabled, orientation, id]);\n  return /*#__PURE__*/_jsx(MenubarContext.Provider, {\n    value: context,\n    children: /*#__PURE__*/_jsx(FloatingTree, {\n      children: /*#__PURE__*/_jsx(MenubarContent, {\n        children: /*#__PURE__*/_jsx(CompositeRoot, {\n          render: render,\n          className: className,\n          state: state,\n          stateAttributesMapping: menubarStateAttributesMapping,\n          refs: [forwardedRef, setContentElement, contentRef],\n          props: [{\n            role: 'menubar',\n            id\n          }, interactionTypeProps, elementProps],\n          orientation: orientation,\n          loopFocus: loopFocus,\n          highlightItemOnHover: hasSubmenuOpen\n        })\n      })\n    })\n  });\n});\nif (process.env.NODE_ENV !== \"production\") Menubar.displayName = \"Menubar\";\nfunction MenubarContent(props) {\n  const nodeId = useFloatingNodeId();\n  const {\n    events: menuEvents\n  } = useFloatingTree();\n  const rootContext = useMenubarContext();\n  React.useEffect(() => {\n    function onSubmenuOpenChange(details) {\n      if (!details.nodeId || details.parentNodeId !== nodeId) {\n        return;\n      }\n      if (details.open) {\n        if (!rootContext.hasSubmenuOpen) {\n          rootContext.setHasSubmenuOpen(true);\n        }\n      } else if (details.reason !== 'sibling-open' && details.reason !== 'list-navigation') {\n        rootContext.setHasSubmenuOpen(false);\n      }\n    }\n    menuEvents.on('menuopenchange', onSubmenuOpenChange);\n    return () => {\n      menuEvents.off('menuopenchange', onSubmenuOpenChange);\n    };\n  }, [menuEvents, nodeId, rootContext]);\n  return /*#__PURE__*/_jsx(FloatingNode, {\n    id: nodeId,\n    children: props.children\n  });\n}", "'use client';\n\nimport * as React from 'react';\nimport { CompositeList } from \"../list/CompositeList.js\";\nimport { useCompositeRoot } from \"./useCompositeRoot.js\";\nimport { CompositeRootContext } from \"./CompositeRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useDirection } from \"../../direction-provider/DirectionContext.js\";\nimport { EMPTY_ARRAY, EMPTY_OBJECT } from \"../../utils/constants.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n/**\n * @internal\n */\nexport function CompositeRoot(componentProps) {\n  const {\n    render,\n    className,\n    refs = EMPTY_ARRAY,\n    props = EMPTY_ARRAY,\n    state = EMPTY_OBJECT,\n    stateAttributesMapping,\n    highlightedIndex: highlightedIndexProp,\n    onHighlightedIndexChange: onHighlightedIndexChangeProp,\n    orientation,\n    dense,\n    itemSizes,\n    loopFocus,\n    cols,\n    enableHomeAndEndKeys,\n    onMapChange: onMapChangeProp,\n    stopEventPropagation = true,\n    rootRef,\n    disabledIndices,\n    modifierKeys,\n    highlightItemOnHover = false,\n    tag = 'div',\n    ...elementProps\n  } = componentProps;\n  const direction = useDirection();\n  const {\n    props: defaultProps,\n    highlightedIndex,\n    onHighlightedIndexChange,\n    elementsRef,\n    onMapChange: onMapChangeUnwrapped,\n    relayKeyboardEvent\n  } = useCompositeRoot({\n    itemSizes,\n    cols,\n    loopFocus,\n    dense,\n    orientation,\n    highlightedIndex: highlightedIndexProp,\n    onHighlightedIndexChange: onHighlightedIndexChangeProp,\n    rootRef,\n    stopEventPropagation,\n    enableHomeAndEndKeys,\n    direction,\n    disabledIndices,\n    modifierKeys\n  });\n  const element = useRenderElement(tag, componentProps, {\n    state,\n    ref: refs,\n    props: [defaultProps, ...props, elementProps],\n    stateAttributesMapping\n  });\n  const contextValue = React.useMemo(() => ({\n    highlightedIndex,\n    onHighlightedIndexChange,\n    highlightItemOnHover,\n    relayKeyboardEvent\n  }), [highlightedIndex, onHighlightedIndexChange, highlightItemOnHover, relayKeyboardEvent]);\n  return /*#__PURE__*/_jsx(CompositeRootContext.Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/_jsx(CompositeList, {\n      elementsRef: elementsRef,\n      onMapChange: newMap => {\n        onMapChangeProp?.(newMap);\n        onMapChangeUnwrapped(newMap);\n      },\n      children: element\n    })\n  });\n}", "'use client';\n\nimport * as React from 'react';\nimport { isElementDisabled } from '@base-ui/utils/isElementDisabled';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useMergedRefs } from '@base-ui/utils/useMergedRefs';\nimport { ALL_KEYS, ARROW_DOWN, ARROW_KEYS, ARROW_LEFT, ARROW_RIGHT, ARROW_UP, END, HOME, HORIZONTAL_KEYS, HORIZONTAL_KEYS_WITH_EXTRA_KEYS, MODIFIER_KEYS, VERTICAL_KEYS, VERTICAL_KEYS_WITH_EXTRA_KEYS, createGridCellMap, findNonDisabledListIndex, getGridCellIndexOfCorner, getGridCellIndices, getGridNavigatedIndex, getMaxListIndex, getMinListIndex, isListIndexDisabled, isIndexOutOfListBounds, isNativeInput, scrollIntoViewIfNeeded } from \"../composite.js\";\nimport { ACTIVE_COMPOSITE_ITEM } from \"../constants.js\";\nconst EMPTY_ARRAY = [];\nexport function useCompositeRoot(params) {\n  const {\n    itemSizes,\n    cols = 1,\n    loopFocus = true,\n    dense = false,\n    orientation = 'both',\n    direction,\n    highlightedIndex: externalHighlightedIndex,\n    onHighlightedIndexChange: externalSetHighlightedIndex,\n    rootRef: externalRef,\n    enableHomeAndEndKeys = false,\n    stopEventPropagation = false,\n    disabledIndices,\n    modifierKeys = EMPTY_ARRAY\n  } = params;\n  const [internalHighlightedIndex, internalSetHighlightedIndex] = React.useState(0);\n  const isGrid = cols > 1;\n  const rootRef = React.useRef(null);\n  const mergedRef = useMergedRefs(rootRef, externalRef);\n  const elementsRef = React.useRef([]);\n  const hasSetDefaultIndexRef = React.useRef(false);\n  const highlightedIndex = externalHighlightedIndex ?? internalHighlightedIndex;\n  const onHighlightedIndexChange = useStableCallback((index, shouldScrollIntoView = false) => {\n    (externalSetHighlightedIndex ?? internalSetHighlightedIndex)(index);\n    if (shouldScrollIntoView) {\n      const newActiveItem = elementsRef.current[index];\n      scrollIntoViewIfNeeded(rootRef.current, newActiveItem, direction, orientation);\n    }\n  });\n  const onMapChange = useStableCallback(map => {\n    if (map.size === 0 || hasSetDefaultIndexRef.current) {\n      return;\n    }\n    hasSetDefaultIndexRef.current = true;\n    const sortedElements = Array.from(map.keys());\n    const activeItem = sortedElements.find(compositeElement => compositeElement?.hasAttribute(ACTIVE_COMPOSITE_ITEM)) ?? null;\n    // Set the default highlighted index of an arbitrary composite item.\n    const activeIndex = activeItem ? sortedElements.indexOf(activeItem) : -1;\n    if (activeIndex !== -1) {\n      onHighlightedIndexChange(activeIndex);\n    }\n    scrollIntoViewIfNeeded(rootRef.current, activeItem, direction, orientation);\n  });\n  const props = React.useMemo(() => ({\n    'aria-orientation': orientation === 'both' ? undefined : orientation,\n    ref: mergedRef,\n    onFocus(event) {\n      const element = rootRef.current;\n      if (!element || !isNativeInput(event.target)) {\n        return;\n      }\n      event.target.setSelectionRange(0, event.target.value.length ?? 0);\n    },\n    onKeyDown(event) {\n      const RELEVANT_KEYS = enableHomeAndEndKeys ? ALL_KEYS : ARROW_KEYS;\n      if (!RELEVANT_KEYS.has(event.key)) {\n        return;\n      }\n      if (isModifierKeySet(event, modifierKeys)) {\n        return;\n      }\n      const element = rootRef.current;\n      if (!element) {\n        return;\n      }\n      const isRtl = direction === 'rtl';\n      const horizontalForwardKey = isRtl ? ARROW_LEFT : ARROW_RIGHT;\n      const forwardKey = {\n        horizontal: horizontalForwardKey,\n        vertical: ARROW_DOWN,\n        both: horizontalForwardKey\n      }[orientation];\n      const horizontalBackwardKey = isRtl ? ARROW_RIGHT : ARROW_LEFT;\n      const backwardKey = {\n        horizontal: horizontalBackwardKey,\n        vertical: ARROW_UP,\n        both: horizontalBackwardKey\n      }[orientation];\n      if (isNativeInput(event.target) && !isElementDisabled(event.target)) {\n        const selectionStart = event.target.selectionStart;\n        const selectionEnd = event.target.selectionEnd;\n        const textContent = event.target.value ?? '';\n        // return to native textbox behavior when\n        // 1 - Shift is held to make a text selection, or if there already is a text selection\n        if (selectionStart == null || event.shiftKey || selectionStart !== selectionEnd) {\n          return;\n        }\n        // 2 - arrow-ing forward and not in the last position of the text\n        if (event.key !== backwardKey && selectionStart < textContent.length) {\n          return;\n        }\n        // 3 -arrow-ing backward and not in the first position of the text\n        if (event.key !== forwardKey && selectionStart > 0) {\n          return;\n        }\n      }\n      let nextIndex = highlightedIndex;\n      const minIndex = getMinListIndex(elementsRef, disabledIndices);\n      const maxIndex = getMaxListIndex(elementsRef, disabledIndices);\n      if (isGrid) {\n        const sizes = itemSizes || Array.from({\n          length: elementsRef.current.length\n        }, () => ({\n          width: 1,\n          height: 1\n        }));\n        // To calculate movements on the grid, we use hypothetical cell indices\n        // as if every item was 1x1, then convert back to real indices.\n        const cellMap = createGridCellMap(sizes, cols, dense);\n        const minGridIndex = cellMap.findIndex(index => index != null && !isListIndexDisabled(elementsRef, index, disabledIndices));\n        // last enabled index\n        const maxGridIndex = cellMap.reduce((foundIndex, index, cellIndex) => index != null && !isListIndexDisabled(elementsRef, index, disabledIndices) ? cellIndex : foundIndex, -1);\n        nextIndex = cellMap[getGridNavigatedIndex({\n          current: cellMap.map(itemIndex => itemIndex ? elementsRef.current[itemIndex] : null)\n        }, {\n          event,\n          orientation,\n          loopFocus,\n          cols,\n          // treat undefined (empty grid spaces) as disabled indices so we\n          // don't end up in them\n          disabledIndices: getGridCellIndices([...(disabledIndices || elementsRef.current.map((_, index) => isListIndexDisabled(elementsRef, index) ? index : undefined)), undefined], cellMap),\n          minIndex: minGridIndex,\n          maxIndex: maxGridIndex,\n          prevIndex: getGridCellIndexOfCorner(highlightedIndex > maxIndex ? minIndex : highlightedIndex, sizes, cellMap, cols,\n          // use a corner matching the edge closest to the direction we're\n          // moving in so we don't end up in the same item. Prefer\n          // top/left over bottom/right.\n          // eslint-disable-next-line no-nested-ternary\n          event.key === ARROW_DOWN ? 'bl' : event.key === ARROW_RIGHT ? 'tr' : 'tl'),\n          rtl: isRtl\n        })]; // navigated cell will never be nullish\n      }\n      const forwardKeys = {\n        horizontal: [horizontalForwardKey],\n        vertical: [ARROW_DOWN],\n        both: [horizontalForwardKey, ARROW_DOWN]\n      }[orientation];\n      const backwardKeys = {\n        horizontal: [horizontalBackwardKey],\n        vertical: [ARROW_UP],\n        both: [horizontalBackwardKey, ARROW_UP]\n      }[orientation];\n      const preventedKeys = isGrid ? RELEVANT_KEYS : {\n        horizontal: enableHomeAndEndKeys ? HORIZONTAL_KEYS_WITH_EXTRA_KEYS : HORIZONTAL_KEYS,\n        vertical: enableHomeAndEndKeys ? VERTICAL_KEYS_WITH_EXTRA_KEYS : VERTICAL_KEYS,\n        both: RELEVANT_KEYS\n      }[orientation];\n      if (enableHomeAndEndKeys) {\n        if (event.key === HOME) {\n          nextIndex = minIndex;\n        } else if (event.key === END) {\n          nextIndex = maxIndex;\n        }\n      }\n      if (nextIndex === highlightedIndex && (forwardKeys.includes(event.key) || backwardKeys.includes(event.key))) {\n        if (loopFocus && nextIndex === maxIndex && forwardKeys.includes(event.key)) {\n          nextIndex = minIndex;\n        } else if (loopFocus && nextIndex === minIndex && backwardKeys.includes(event.key)) {\n          nextIndex = maxIndex;\n        } else {\n          nextIndex = findNonDisabledListIndex(elementsRef, {\n            startingIndex: nextIndex,\n            decrement: backwardKeys.includes(event.key),\n            disabledIndices\n          });\n        }\n      }\n      if (nextIndex !== highlightedIndex && !isIndexOutOfListBounds(elementsRef, nextIndex)) {\n        if (stopEventPropagation) {\n          event.stopPropagation();\n        }\n        if (preventedKeys.has(event.key)) {\n          event.preventDefault();\n        }\n        onHighlightedIndexChange(nextIndex, true);\n\n        // Wait for FocusManager `returnFocus` to execute.\n        queueMicrotask(() => {\n          elementsRef.current[nextIndex]?.focus();\n        });\n      }\n    }\n  }), [cols, dense, direction, disabledIndices, elementsRef, enableHomeAndEndKeys, highlightedIndex, isGrid, itemSizes, loopFocus, mergedRef, modifierKeys, onHighlightedIndexChange, orientation, stopEventPropagation]);\n  return React.useMemo(() => ({\n    props,\n    highlightedIndex,\n    onHighlightedIndexChange,\n    elementsRef,\n    disabledIndices,\n    onMapChange,\n    relayKeyboardEvent: props.onKeyDown\n  }), [props, highlightedIndex, onHighlightedIndexChange, elementsRef, disabledIndices, onMapChange]);\n}\nfunction isModifierKeySet(event, ignoredModifierKeys) {\n  for (const key of MODIFIER_KEYS.values()) {\n    if (ignoredModifierKeys.includes(key)) {\n      continue;\n    }\n    if (event.getModifierState(key)) {\n      return true;\n    }\n  }\n  return false;\n}", "export const ACTIVE_COMPOSITE_ITEM = 'data-composite-item-active';", "export { MeterRoot as Root } from \"./root/MeterRoot.js\";\nexport { MeterTrack as Track } from \"./track/MeterTrack.js\";\nexport { MeterIndicator as Indicator } from \"./indicator/MeterIndicator.js\";\nexport { MeterValue as Value } from \"./value/MeterValue.js\";\nexport { MeterLabel as Label } from \"./label/MeterLabel.js\";", "'use client';\n\nimport * as React from 'react';\nimport { MeterRootContext } from \"./MeterRootContext.js\";\nimport { formatNumber } from \"../../utils/formatNumber.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nfunction formatValue(value, locale, format) {\n  if (!format) {\n    return formatNumber(value / 100, locale, {\n      style: 'percent'\n    });\n  }\n  return formatNumber(value, locale, format);\n}\n\n/**\n * Groups all parts of the meter and provides the value for screen readers.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Meter](https://base-ui.com/react/components/meter)\n */\nexport const MeterRoot = /*#__PURE__*/React.forwardRef(function MeterRoot(componentProps, forwardedRef) {\n  const {\n    format,\n    getAriaValueText,\n    locale,\n    max = 100,\n    min = 0,\n    value: valueProp,\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const [labelId, setLabelId] = React.useState();\n  const formattedValue = formatValue(valueProp, locale, format);\n  let ariaValuetext = `${valueProp}%`;\n  if (getAriaValueText) {\n    ariaValuetext = getAriaValueText(formattedValue, valueProp);\n  } else if (format) {\n    ariaValuetext = formattedValue;\n  }\n  const defaultProps = {\n    'aria-labelledby': labelId,\n    'aria-valuemax': max,\n    'aria-valuemin': min,\n    'aria-valuenow': valueProp,\n    'aria-valuetext': ariaValuetext,\n    role: 'meter'\n  };\n  const contextValue = React.useMemo(() => ({\n    formattedValue,\n    max,\n    min,\n    setLabelId,\n    value: valueProp\n  }), [formattedValue, max, min, setLabelId, valueProp]);\n  const element = useRenderElement('div', componentProps, {\n    ref: forwardedRef,\n    props: [defaultProps, elementProps]\n  });\n  return /*#__PURE__*/_jsx(MeterRootContext.Provider, {\n    value: contextValue,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") MeterRoot.displayName = \"MeterRoot\";", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const MeterRootContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") MeterRootContext.displayName = \"MeterRootContext\";\nexport function useMeterRootContext() {\n  const context = React.useContext(MeterRootContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: MeterRootContext is missing. Meter parts must be placed within <Meter.Root>.' : _formatErrorMessage(38));\n  }\n  return context;\n}", "export const cache = new Map();\nexport function getFormatter(locale, options) {\n  const optionsString = JSON.stringify({\n    locale,\n    options\n  });\n  const cachedFormatter = cache.get(optionsString);\n  if (cachedFormatter) {\n    return cachedFormatter;\n  }\n  const formatter = new Intl.NumberFormat(locale, options);\n  cache.set(optionsString, formatter);\n  return formatter;\n}\nexport function formatNumber(value, locale, options) {\n  if (value == null) {\n    return '';\n  }\n  return getFormatter(locale, options).format(value);\n}\nexport function formatNumberMaxPrecision(value, locale, options) {\n  return formatNumber(value, locale, {\n    ...options,\n    maximumFractionDigits: 20\n  });\n}", "'use client';\n\nimport * as React from 'react';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * Contains the meter indicator and represents the entire range of the meter.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Meter](https://base-ui.com/react/components/meter)\n */\nexport const MeterTrack = /*#__PURE__*/React.forwardRef(function MeterTrack(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  return useRenderElement('div', componentProps, {\n    ref: forwardedRef,\n    props: elementProps\n  });\n});\nif (process.env.NODE_ENV !== \"production\") MeterTrack.displayName = \"MeterTrack\";", "'use client';\n\nimport * as React from 'react';\nimport { valueToPercent } from \"../../utils/valueToPercent.js\";\nimport { useMeterRootContext } from \"../root/MeterRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * Visualizes the position of the value along the range.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Meter](https://base-ui.com/react/components/meter)\n */\nexport const MeterIndicator = /*#__PURE__*/React.forwardRef(function MeterIndicator(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const context = useMeterRootContext();\n  const percentageWidth = valueToPercent(context.value, context.min, context.max);\n  return useRenderElement('div', componentProps, {\n    ref: forwardedRef,\n    props: [{\n      style: {\n        insetInlineStart: 0,\n        height: 'inherit',\n        width: `${percentageWidth}%`\n      }\n    }, elementProps]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") MeterIndicator.displayName = \"MeterIndicator\";", "export function valueToPercent(value, min, max) {\n  return (value - min) * 100 / (max - min);\n}", "'use client';\n\nimport * as React from 'react';\nimport { useMeterRootContext } from \"../root/MeterRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * A text element displaying the current value.\n * Renders a `<span>` element.\n *\n * Documentation: [Base UI Meter](https://base-ui.com/react/components/meter)\n */\nexport const MeterValue = /*#__PURE__*/React.forwardRef(function MeterValue(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    children,\n    ...elementProps\n  } = componentProps;\n  const {\n    value,\n    formattedValue\n  } = useMeterRootContext();\n  return useRenderElement('span', componentProps, {\n    ref: forwardedRef,\n    props: [{\n      'aria-hidden': true,\n      children: typeof children === 'function' ? children(formattedValue, value) : (formattedValue || value) ?? ''\n    }, elementProps]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") MeterValue.displayName = \"MeterValue\";", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { useMeterRootContext } from \"../root/MeterRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * An accessible label for the meter.\n * Renders a `<span>` element.\n *\n * Documentation: [Base UI Meter](https://base-ui.com/react/components/meter)\n */\nexport const MeterLabel = /*#__PURE__*/React.forwardRef(function MeterLabel(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    id: idProp,\n    ...elementProps\n  } = componentProps;\n  const id = useBaseUiId(idProp);\n  const {\n    setLabelId\n  } = useMeterRootContext();\n  useIsoLayoutEffect(() => {\n    setLabelId(id);\n    return () => setLabelId(undefined);\n  }, [id, setLabelId]);\n  return useRenderElement('span', componentProps, {\n    ref: forwardedRef,\n    props: [{\n      id\n    }, elementProps]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") MeterLabel.displayName = \"MeterLabel\";", "export { NavigationMenuRoot as Root } from \"./root/NavigationMenuRoot.js\";\nexport { NavigationMenuList as List } from \"./list/NavigationMenuList.js\";\nexport { NavigationMenuItem as Item } from \"./item/NavigationMenuItem.js\";\nexport { NavigationMenuContent as Content } from \"./content/NavigationMenuContent.js\";\nexport { NavigationMenuTrigger as Trigger } from \"./trigger/NavigationMenuTrigger.js\";\nexport { NavigationMenuPortal as Portal } from \"./portal/NavigationMenuPortal.js\";\nexport { NavigationMenuPositioner as Positioner } from \"./positioner/NavigationMenuPositioner.js\";\nexport { NavigationMenuViewport as Viewport } from \"./viewport/NavigationMenuViewport.js\";\nexport { NavigationMenuBackdrop as Backdrop } from \"./backdrop/NavigationMenuBackdrop.js\";\nexport { NavigationMenuPopup as Popup } from \"./popup/NavigationMenuPopup.js\";\nexport { NavigationMenuArrow as Arrow } from \"./arrow/NavigationMenuArrow.js\";\nexport { NavigationMenuLink as Link } from \"./link/NavigationMenuLink.js\";\nexport { NavigationMenuIcon as Icon } from \"./icon/NavigationMenuIcon.js\";", "'use client';\n\nimport * as React from 'react';\nimport { isHTMLElement } from '@floating-ui/utils/dom';\nimport { useControlled } from '@base-ui/utils/useControlled';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { ownerDocument } from '@base-ui/utils/owner';\nimport { FloatingTree, useFloatingNodeId, useFloatingParentNodeId } from \"../../floating-ui-react/index.js\";\nimport { activeElement, contains } from \"../../floating-ui-react/utils.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { NavigationMenuRootContext, NavigationMenuTreeContext, useNavigationMenuRootContext } from \"./NavigationMenuRootContext.js\";\nimport { useOpenChangeComplete } from \"../../utils/useOpenChangeComplete.js\";\nimport { useTransitionStatus } from \"../../utils/useTransitionStatus.js\";\nimport { setFixedSize } from \"../utils/setFixedSize.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst blockedReturnFocusReasons = new Set([REASONS.triggerHover, REASONS.outsidePress, REASONS.focusOut]);\n\n/**\n * Groups all parts of the navigation menu.\n * Renders a `<nav>` element at the root, or `<div>` element when nested.\n *\n * Documentation: [Base UI Navigation Menu](https://base-ui.com/react/components/navigation-menu)\n */\nexport const NavigationMenuRoot = /*#__PURE__*/React.forwardRef(function NavigationMenuRoot(componentProps, forwardedRef) {\n  const {\n    defaultValue = null,\n    value: valueParam,\n    onValueChange,\n    actionsRef,\n    delay = 50,\n    closeDelay = 50,\n    orientation = 'horizontal',\n    onOpenChangeComplete\n  } = componentProps;\n  const nested = useFloatingParentNodeId() != null;\n  const [value, setValueUnwrapped] = useControlled({\n    controlled: valueParam,\n    default: defaultValue,\n    name: 'NavigationMenu',\n    state: 'value'\n  });\n\n  // Derive open state from value being non-nullish\n  const open = value != null;\n  const closeReasonRef = React.useRef(undefined);\n  const rootRef = React.useRef(null);\n  const [positionerElement, setPositionerElement] = React.useState(null);\n  const [popupElement, setPopupElement] = React.useState(null);\n  const [viewportElement, setViewportElement] = React.useState(null);\n  const [viewportTargetElement, setViewportTargetElement] = React.useState(null);\n  const [activationDirection, setActivationDirection] = React.useState(null);\n  const [floatingRootContext, setFloatingRootContext] = React.useState(undefined);\n  const [viewportInert, setViewportInert] = React.useState(false);\n  const prevTriggerElementRef = React.useRef(null);\n  const currentContentRef = React.useRef(null);\n  const beforeInsideRef = React.useRef(null);\n  const afterInsideRef = React.useRef(null);\n  const beforeOutsideRef = React.useRef(null);\n  const afterOutsideRef = React.useRef(null);\n  const {\n    mounted,\n    setMounted,\n    transitionStatus\n  } = useTransitionStatus(open);\n  React.useEffect(() => {\n    setViewportInert(false);\n  }, [value]);\n  const setValue = useStableCallback((nextValue, eventDetails) => {\n    if (!nextValue) {\n      closeReasonRef.current = eventDetails.reason;\n      setActivationDirection(null);\n      setFloatingRootContext(undefined);\n      if (positionerElement && popupElement) {\n        setFixedSize(popupElement, 'popup');\n        setFixedSize(positionerElement, 'positioner');\n      }\n    }\n    if (nextValue !== value) {\n      onValueChange?.(nextValue, eventDetails);\n    }\n    if (eventDetails.isCanceled) {\n      return;\n    }\n    setValueUnwrapped(nextValue);\n  });\n  const handleUnmount = useStableCallback(() => {\n    const doc = ownerDocument(rootRef.current);\n    const activeEl = activeElement(doc);\n    const isReturnFocusBlocked = closeReasonRef.current ? blockedReturnFocusReasons.has(closeReasonRef.current) : false;\n    if (!isReturnFocusBlocked && isHTMLElement(prevTriggerElementRef.current) && (activeEl === ownerDocument(popupElement).body || contains(popupElement, activeEl)) && popupElement) {\n      prevTriggerElementRef.current.focus({\n        preventScroll: true\n      });\n      prevTriggerElementRef.current = undefined;\n    }\n    setMounted(false);\n    onOpenChangeComplete?.(false);\n    setActivationDirection(null);\n    setFloatingRootContext(undefined);\n    currentContentRef.current = null;\n    closeReasonRef.current = undefined;\n  });\n  useOpenChangeComplete({\n    enabled: !actionsRef,\n    open,\n    ref: {\n      current: popupElement\n    },\n    onComplete() {\n      if (!open) {\n        handleUnmount();\n      }\n    }\n  });\n  useOpenChangeComplete({\n    enabled: !actionsRef,\n    open,\n    ref: {\n      current: viewportTargetElement\n    },\n    onComplete() {\n      if (!open) {\n        handleUnmount();\n      }\n    }\n  });\n  const contextValue = React.useMemo(() => ({\n    open,\n    value,\n    setValue,\n    mounted,\n    transitionStatus,\n    positionerElement,\n    setPositionerElement,\n    popupElement,\n    setPopupElement,\n    viewportElement,\n    setViewportElement,\n    viewportTargetElement,\n    setViewportTargetElement,\n    activationDirection,\n    setActivationDirection,\n    floatingRootContext,\n    setFloatingRootContext,\n    currentContentRef,\n    nested,\n    rootRef,\n    beforeInsideRef,\n    afterInsideRef,\n    beforeOutsideRef,\n    afterOutsideRef,\n    prevTriggerElementRef,\n    delay,\n    closeDelay,\n    orientation,\n    viewportInert,\n    setViewportInert\n  }), [open, value, setValue, mounted, transitionStatus, positionerElement, popupElement, viewportElement, viewportTargetElement, activationDirection, floatingRootContext, nested, delay, closeDelay, orientation, viewportInert]);\n  const jsx = /*#__PURE__*/_jsx(NavigationMenuRootContext.Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/_jsx(TreeContext, {\n      componentProps: componentProps,\n      forwardedRef: forwardedRef,\n      children: componentProps.children\n    })\n  });\n  if (!nested) {\n    // FloatingTree provides context to nested menus\n    return /*#__PURE__*/_jsx(FloatingTree, {\n      children: jsx\n    });\n  }\n  return jsx;\n});\nif (process.env.NODE_ENV !== \"production\") NavigationMenuRoot.displayName = \"NavigationMenuRoot\";\nfunction TreeContext(props) {\n  const {\n    className,\n    render,\n    defaultValue,\n    value: valueParam,\n    onValueChange,\n    actionsRef,\n    delay,\n    closeDelay,\n    orientation,\n    onOpenChangeComplete,\n    ...elementProps\n  } = props.componentProps;\n  const nodeId = useFloatingNodeId();\n  const {\n    rootRef,\n    nested\n  } = useNavigationMenuRootContext();\n  const {\n    open\n  } = useNavigationMenuRootContext();\n  const state = React.useMemo(() => ({\n    open,\n    nested\n  }), [open, nested]);\n  const element = useRenderElement(nested ? 'div' : 'nav', props.componentProps, {\n    state,\n    ref: [props.forwardedRef, rootRef],\n    props: [{\n      'aria-orientation': orientation\n    }, elementProps]\n  });\n  return /*#__PURE__*/_jsx(NavigationMenuTreeContext.Provider, {\n    value: nodeId,\n    children: element\n  });\n}", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const NavigationMenuRootContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") NavigationMenuRootContext.displayName = \"NavigationMenuRootContext\";\nif (process.env.NODE_ENV !== 'production') {\n  NavigationMenuRootContext.displayName = 'NavigationMenuRootContext';\n}\nfunction useNavigationMenuRootContext(optional) {\n  const context = React.useContext(NavigationMenuRootContext);\n  if (context === undefined && !optional) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: NavigationMenuRootContext is missing. Navigation Menu parts must be placed within <NavigationMenu.Root>.' : _formatErrorMessage(41));\n  }\n  return context;\n}\nexport const NavigationMenuTreeContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") NavigationMenuTreeContext.displayName = \"NavigationMenuTreeContext\";\nfunction useNavigationMenuTreeContext() {\n  return React.useContext(NavigationMenuTreeContext);\n}\nexport { useNavigationMenuRootContext, useNavigationMenuTreeContext };", "import { round } from '@floating-ui/utils';\nimport { getComputedStyle, isHTMLElement } from '@floating-ui/utils/dom';\nexport function getCssDimensions(element) {\n  const css = getComputedStyle(element);\n  // In testing environments, the `width` and `height` properties are empty\n  // strings for SVG elements, returning NaN. Fallback to `0` in this case.\n  let width = parseFloat(css.width) || 0;\n  let height = parseFloat(css.height) || 0;\n  const hasOffset = isHTMLElement(element);\n  const offsetWidth = hasOffset ? element.offsetWidth : width;\n  const offsetHeight = hasOffset ? element.offsetHeight : height;\n  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;\n  if (shouldFallback) {\n    width = offsetWidth;\n    height = offsetHeight;\n  }\n  return {\n    width,\n    height\n  };\n}", "export let NavigationMenuPopupCssVars = /*#__PURE__*/function (NavigationMenuPopupCssVars) {\n  /**\n   * The fixed width of the popup element.\n   * @type {number}\n   */\n  NavigationMenuPopupCssVars[\"popupWidth\"] = \"--popup-width\";\n  /**\n   * The fixed height of the popup element.\n   * @type {number}\n   */\n  NavigationMenuPopupCssVars[\"popupHeight\"] = \"--popup-height\";\n  return NavigationMenuPopupCssVars;\n}({});", "export let NavigationMenuPositionerCssVars = /*#__PURE__*/function (NavigationMenuPositionerCssVars) {\n  /**\n   * The available width between the trigger and the edge of the viewport.\n   * @type {number}\n   */\n  NavigationMenuPositionerCssVars[\"availableWidth\"] = \"--available-width\";\n  /**\n   * The available height between the trigger and the edge of the viewport.\n   * @type {number}\n   */\n  NavigationMenuPositionerCssVars[\"availableHeight\"] = \"--available-height\";\n  /**\n   * The anchor's width.\n   * @type {number}\n   */\n  NavigationMenuPositionerCssVars[\"anchorWidth\"] = \"--anchor-width\";\n  /**\n   * The anchor's height.\n   * @type {number}\n   */\n  NavigationMenuPositionerCssVars[\"anchorHeight\"] = \"--anchor-height\";\n  /**\n   * The coordinates that this element is anchored to. Used for animations and transitions.\n   * @type {string}\n   */\n  NavigationMenuPositionerCssVars[\"transformOrigin\"] = \"--transform-origin\";\n  /**\n   * The fixed width of the positioner element.\n   * @type {number}\n   */\n  NavigationMenuPositionerCssVars[\"positionerWidth\"] = \"--positioner-width\";\n  /**\n   * The fixed height of the positioner element.\n   * @type {number}\n   */\n  NavigationMenuPositionerCssVars[\"positionerHeight\"] = \"--positioner-height\";\n  return NavigationMenuPositionerCssVars;\n}({});", "import { getCssDimensions } from \"../../utils/getCssDimensions.js\";\nimport { NavigationMenuPopupCssVars } from \"../popup/NavigationMenuPopupCssVars.js\";\nimport { NavigationMenuPositionerCssVars } from \"../positioner/NavigationMenuPositionerCssVars.js\";\nexport function setFixedSize(element, type) {\n  const {\n    width,\n    height\n  } = getCssDimensions(element);\n  element.style.setProperty(type === 'popup' ? NavigationMenuPopupCssVars.popupWidth : NavigationMenuPositionerCssVars.positionerWidth, `${width}px`);\n  element.style.setProperty(type === 'popup' ? NavigationMenuPopupCssVars.popupHeight : NavigationMenuPositionerCssVars.positionerHeight, `${height}px`);\n}", "'use client';\n\nimport * as React from 'react';\nimport { useDismiss } from \"../../floating-ui-react/index.js\";\nimport { getTarget } from \"../../floating-ui-react/utils.js\";\nimport { CompositeRoot } from \"../../composite/root/CompositeRoot.js\";\nimport { useNavigationMenuRootContext } from \"../root/NavigationMenuRootContext.js\";\nimport { EMPTY_OBJECT } from \"../../utils/constants.js\";\nimport { NAVIGATION_MENU_TRIGGER_IDENTIFIER } from \"../utils/constants.js\";\nimport { NavigationMenuDismissContext } from \"./NavigationMenuDismissContext.js\";\nimport { getEmptyRootContext } from \"../../floating-ui-react/utils/getEmptyRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * Contains a list of navigation menu items.\n * Renders a `<ul>` element.\n *\n * Documentation: [Base UI Navigation Menu](https://base-ui.com/react/components/navigation-menu)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const NavigationMenuList = /*#__PURE__*/React.forwardRef(function NavigationMenuList(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const {\n    orientation,\n    open,\n    floatingRootContext,\n    positionerElement,\n    value,\n    nested\n  } = useNavigationMenuRootContext();\n  const fallbackContext = React.useMemo(() => getEmptyRootContext(), []);\n  const context = floatingRootContext || fallbackContext;\n  const interactionsEnabled = positionerElement ? true : !value;\n  const dismiss = useDismiss(context, {\n    enabled: interactionsEnabled,\n    outsidePressEvent: 'intentional',\n    outsidePress(event) {\n      const target = getTarget(event);\n      const closestNavigationMenuTrigger = target?.closest(`[${NAVIGATION_MENU_TRIGGER_IDENTIFIER}]`);\n      return closestNavigationMenuTrigger === null;\n    }\n  });\n  const dismissProps = floatingRootContext ? dismiss : undefined;\n  const state = React.useMemo(() => ({\n    open\n  }), [open]);\n\n  // `stopEventPropagation` won't stop the propagation if the end of the list is reached,\n  // but we want to block it in this case.\n  // When nested, skip this handler so arrow keys can reach the parent CompositeRoot.\n  const defaultProps = nested ? {} : {\n    onKeyDown(event) {\n      const shouldStop = orientation === 'horizontal' && (event.key === 'ArrowLeft' || event.key === 'ArrowRight') || orientation === 'vertical' && (event.key === 'ArrowUp' || event.key === 'ArrowDown');\n      if (shouldStop) {\n        event.stopPropagation();\n      }\n    }\n  };\n  const props = [dismissProps?.floating || EMPTY_OBJECT, defaultProps, elementProps];\n\n  // When nested, skip the CompositeRoot wrapper so that triggers can participate\n  // in the parent Content's composite navigation context. Also skip the onKeyDown\n  // handler that blocks propagation so arrow keys can reach the parent CompositeRoot.\n  const element = useRenderElement('ul', componentProps, {\n    state,\n    ref: forwardedRef,\n    props,\n    enabled: nested\n  });\n  if (nested) {\n    return /*#__PURE__*/_jsx(NavigationMenuDismissContext.Provider, {\n      value: dismissProps,\n      children: element\n    });\n  }\n  return /*#__PURE__*/_jsx(NavigationMenuDismissContext.Provider, {\n    value: dismissProps,\n    children: /*#__PURE__*/_jsx(CompositeRoot, {\n      render: render,\n      className: className,\n      state: state,\n      refs: [forwardedRef],\n      props: props,\n      loopFocus: false,\n      orientation: orientation,\n      tag: \"ul\"\n    })\n  });\n});\nif (process.env.NODE_ENV !== \"production\") NavigationMenuList.displayName = \"NavigationMenuList\";", "export const OPEN_DELAY = 50;\nexport const CLOSE_DELAY = 50;\nexport const NAVIGATION_MENU_TRIGGER_IDENTIFIER = 'data-base-ui-navigation-menu-trigger';", "import * as React from 'react';\nexport const NavigationMenuDismissContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") NavigationMenuDismissContext.displayName = \"NavigationMenuDismissContext\";\nexport function useNavigationMenuDismissContext() {\n  return React.useContext(NavigationMenuDismissContext);\n}", "'use client';\n\nimport * as React from 'react';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { NavigationMenuItemContext } from \"./NavigationMenuItemContext.js\";\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\n\n/**\n * An individual navigation menu item.\n * Renders a `<li>` element.\n *\n * Documentation: [Base UI Navigation Menu](https://base-ui.com/react/components/navigation-menu)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const NavigationMenuItem = /*#__PURE__*/React.forwardRef(function NavigationMenuItem(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    value: valueProp,\n    ...elementProps\n  } = componentProps;\n  const fallbackValue = useBaseUiId();\n  const value = valueProp ?? fallbackValue;\n  const element = useRenderElement('li', componentProps, {\n    ref: forwardedRef,\n    props: elementProps\n  });\n  const contextValue = React.useMemo(() => ({\n    value\n  }), [value]);\n  return /*#__PURE__*/_jsx(NavigationMenuItemContext.Provider, {\n    value: contextValue,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") NavigationMenuItem.displayName = \"NavigationMenuItem\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const NavigationMenuItemContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") NavigationMenuItemContext.displayName = \"NavigationMenuItemContext\";\nexport function useNavigationMenuItemContext() {\n  const value = React.useContext(NavigationMenuItemContext);\n  if (!value) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: NavigationMenuItem parts must be used within a <NavigationMenu.Item>.' : _formatErrorMessage(39));\n  }\n  return value;\n}", "'use client';\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { inertValue } from '@base-ui/utils/inertValue';\nimport { FloatingNode } from \"../../floating-ui-react/index.js\";\nimport { contains, getTarget } from \"../../floating-ui-react/utils.js\";\nimport { useNavigationMenuRootContext, useNavigationMenuTreeContext } from \"../root/NavigationMenuRootContext.js\";\nimport { useNavigationMenuItemContext } from \"../item/NavigationMenuItemContext.js\";\nimport { useTransitionStatus } from \"../../utils/useTransitionStatus.js\";\nimport { useOpenChangeComplete } from \"../../utils/useOpenChangeComplete.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { CompositeRoot } from \"../../composite/root/CompositeRoot.js\";\nimport { popupStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst stateAttributesMapping = {\n  ...popupStateMapping,\n  ...transitionStatusMapping,\n  activationDirection(value) {\n    if (!value) {\n      return null;\n    }\n    return {\n      'data-activation-direction': value\n    };\n  }\n};\n\n/**\n * A container for the content of the navigation menu item that is moved into the popup\n * when the item is active.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Navigation Menu](https://base-ui.com/react/components/navigation-menu)\n */\nexport const NavigationMenuContent = /*#__PURE__*/React.forwardRef(function NavigationMenuContent(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const {\n    mounted: popupMounted,\n    viewportElement,\n    value,\n    activationDirection,\n    currentContentRef,\n    viewportTargetElement\n  } = useNavigationMenuRootContext();\n  const {\n    value: itemValue\n  } = useNavigationMenuItemContext();\n  const nodeId = useNavigationMenuTreeContext();\n  const open = popupMounted && value === itemValue;\n  const ref = React.useRef(null);\n  const [focusInside, setFocusInside] = React.useState(false);\n  const {\n    mounted,\n    setMounted,\n    transitionStatus\n  } = useTransitionStatus(open);\n\n  // If the popup unmounts before the content's exit animation completes, reset the internal\n  // mounted state so the next open can re-enter via `transitionStatus=\"starting\"`.\n  if (mounted && !popupMounted) {\n    setMounted(false);\n  }\n  useOpenChangeComplete({\n    ref,\n    open,\n    onComplete() {\n      if (!open) {\n        setMounted(false);\n      }\n    }\n  });\n  const state = React.useMemo(() => ({\n    open,\n    transitionStatus,\n    activationDirection\n  }), [open, transitionStatus, activationDirection]);\n  const handleCurrentContentRef = React.useCallback(node => {\n    if (node) {\n      currentContentRef.current = node;\n    }\n  }, [currentContentRef]);\n  const commonProps = {\n    onFocus(event) {\n      const target = getTarget(event.nativeEvent);\n      if (target?.hasAttribute('data-base-ui-focus-guard')) {\n        return;\n      }\n      setFocusInside(true);\n    },\n    onBlur(event) {\n      if (!contains(event.currentTarget, event.relatedTarget)) {\n        setFocusInside(false);\n      }\n    }\n  };\n  const defaultProps = !open && mounted ? {\n    style: {\n      position: 'absolute',\n      top: 0,\n      left: 0\n    },\n    inert: inertValue(!focusInside),\n    ...commonProps\n  } : commonProps;\n  const portalContainer = viewportTargetElement || viewportElement;\n  const shouldRender = portalContainer !== null && mounted;\n  if (!portalContainer || !shouldRender) {\n    return null;\n  }\n  return /*#__PURE__*/ReactDOM.createPortal(/*#__PURE__*/_jsx(FloatingNode, {\n    id: nodeId,\n    children: /*#__PURE__*/_jsx(CompositeRoot, {\n      render: render,\n      className: className,\n      state: state,\n      refs: [forwardedRef, ref, handleCurrentContentRef],\n      props: [defaultProps, elementProps],\n      stateAttributesMapping: stateAttributesMapping\n    })\n  }), portalContainer);\n});\nif (process.env.NODE_ENV !== \"production\") NavigationMenuContent.displayName = \"NavigationMenuContent\";", "'use client';\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { isTabbable } from 'tabbable';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useTimeout } from '@base-ui/utils/useTimeout';\nimport { useAnimationFrame } from '@base-ui/utils/useAnimationFrame';\nimport { useValueAsRef } from '@base-ui/utils/useValueAsRef';\nimport { safePolygon, useClick, useFloatingRootContext, useFloatingTree, useHover, useInteractions } from \"../../floating-ui-react/index.js\";\nimport { contains, getNextTabbable, getPreviousTabbable, isOutsideEvent, stopEvent } from \"../../floating-ui-react/utils.js\";\nimport { useNavigationMenuItemContext } from \"../item/NavigationMenuItemContext.js\";\nimport { useNavigationMenuRootContext, useNavigationMenuTreeContext } from \"../root/NavigationMenuRootContext.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { EMPTY_ARRAY, ownerVisuallyHidden, PATIENT_CLICK_THRESHOLD } from \"../../utils/constants.js\";\nimport { FocusGuard } from \"../../utils/FocusGuard.js\";\nimport { pressableTriggerOpenStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { isOutsideMenuEvent } from \"../utils/isOutsideMenuEvent.js\";\nimport { useAnimationsFinished } from \"../../utils/useAnimationsFinished.js\";\nimport { NavigationMenuPopupCssVars } from \"../popup/NavigationMenuPopupCssVars.js\";\nimport { NavigationMenuPositionerCssVars } from \"../positioner/NavigationMenuPositionerCssVars.js\";\nimport { CompositeItem } from \"../../composite/item/CompositeItem.js\";\nimport { useButton } from \"../../use-button/index.js\";\nimport { getCssDimensions } from \"../../utils/getCssDimensions.js\";\nimport { NAVIGATION_MENU_TRIGGER_IDENTIFIER } from \"../utils/constants.js\";\nimport { useNavigationMenuDismissContext } from \"../list/NavigationMenuDismissContext.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst DEFAULT_SIZE = {\n  width: 0,\n  height: 0\n};\n\n/**\n * Opens the navigation menu popup when hovered or clicked, revealing the\n * associated content.\n * Renders a `<button>` element.\n *\n * Documentation: [Base UI Navigation Menu](https://base-ui.com/react/components/navigation-menu)\n */\nexport const NavigationMenuTrigger = /*#__PURE__*/React.forwardRef(function NavigationMenuTrigger(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    nativeButton = true,\n    disabled,\n    ...elementProps\n  } = componentProps;\n  const {\n    value,\n    setValue,\n    mounted,\n    open,\n    positionerElement,\n    setActivationDirection,\n    setFloatingRootContext,\n    popupElement,\n    viewportElement,\n    rootRef,\n    beforeOutsideRef,\n    afterOutsideRef,\n    afterInsideRef,\n    beforeInsideRef,\n    prevTriggerElementRef,\n    delay,\n    closeDelay,\n    orientation,\n    setViewportInert,\n    nested\n  } = useNavigationMenuRootContext();\n  const {\n    value: itemValue\n  } = useNavigationMenuItemContext();\n  const nodeId = useNavigationMenuTreeContext();\n  const tree = useFloatingTree();\n  const dismissProps = useNavigationMenuDismissContext();\n  const stickIfOpenTimeout = useTimeout();\n  const focusFrame = useAnimationFrame();\n  const sizeFrame1 = useAnimationFrame();\n  const sizeFrame2 = useAnimationFrame();\n  const [triggerElement, setTriggerElement] = React.useState(null);\n  const [stickIfOpen, setStickIfOpen] = React.useState(true);\n  const [pointerType, setPointerType] = React.useState('');\n  const allowFocusRef = React.useRef(false);\n  const prevSizeRef = React.useRef(DEFAULT_SIZE);\n  const animationAbortControllerRef = React.useRef(null);\n  const isActiveItem = open && value === itemValue;\n  const isActiveItemRef = useValueAsRef(isActiveItem);\n  const interactionsEnabled = positionerElement ? true : !value;\n  const runOnceAnimationsFinish = useAnimationsFinished(popupElement);\n  React.useEffect(() => {\n    animationAbortControllerRef.current?.abort();\n  }, [isActiveItem]);\n  function setAutoSizes() {\n    if (!popupElement) {\n      return;\n    }\n    popupElement.style.setProperty(NavigationMenuPopupCssVars.popupWidth, 'auto');\n    popupElement.style.setProperty(NavigationMenuPopupCssVars.popupHeight, 'auto');\n  }\n  const handleValueChange = useStableCallback((currentWidth, currentHeight) => {\n    if (!popupElement || !positionerElement) {\n      return;\n    }\n    popupElement.style.removeProperty(NavigationMenuPopupCssVars.popupWidth);\n    popupElement.style.removeProperty(NavigationMenuPopupCssVars.popupHeight);\n    positionerElement.style.removeProperty(NavigationMenuPositionerCssVars.positionerWidth);\n    positionerElement.style.removeProperty(NavigationMenuPositionerCssVars.positionerHeight);\n    const {\n      width,\n      height\n    } = getCssDimensions(popupElement);\n    const measuredWidth = width || prevSizeRef.current.width;\n    const measuredHeight = height || prevSizeRef.current.height;\n    if (currentHeight === 0 || currentWidth === 0) {\n      currentWidth = measuredWidth;\n      currentHeight = measuredHeight;\n    }\n    popupElement.style.setProperty(NavigationMenuPopupCssVars.popupWidth, `${currentWidth}px`);\n    popupElement.style.setProperty(NavigationMenuPopupCssVars.popupHeight, `${currentHeight}px`);\n    positionerElement.style.setProperty(NavigationMenuPositionerCssVars.positionerWidth, `${measuredWidth}px`);\n    positionerElement.style.setProperty(NavigationMenuPositionerCssVars.positionerHeight, `${measuredHeight}px`);\n    sizeFrame1.request(() => {\n      popupElement.style.setProperty(NavigationMenuPopupCssVars.popupWidth, `${measuredWidth}px`);\n      popupElement.style.setProperty(NavigationMenuPopupCssVars.popupHeight, `${measuredHeight}px`);\n      sizeFrame2.request(() => {\n        animationAbortControllerRef.current = new AbortController();\n        runOnceAnimationsFinish(setAutoSizes, animationAbortControllerRef.current.signal);\n      });\n    });\n  });\n  React.useEffect(() => {\n    if (!open) {\n      stickIfOpenTimeout.clear();\n      sizeFrame1.cancel();\n      sizeFrame2.cancel();\n    }\n  }, [stickIfOpenTimeout, open, sizeFrame1, sizeFrame2]);\n  React.useEffect(() => {\n    if (!mounted) {\n      prevSizeRef.current = DEFAULT_SIZE;\n    }\n  }, [mounted]);\n  React.useEffect(() => {\n    if (!popupElement || typeof ResizeObserver !== 'function') {\n      return undefined;\n    }\n    const resizeObserver = new ResizeObserver(() => {\n      // Using `getCssDimensions` here causes issues due to fractional values.\n      prevSizeRef.current = {\n        width: popupElement.offsetWidth,\n        height: popupElement.offsetHeight\n      };\n    });\n    resizeObserver.observe(popupElement);\n    return () => {\n      resizeObserver.disconnect();\n    };\n  }, [popupElement]);\n  React.useEffect(() => {\n    if (!popupElement || !isActiveItem || typeof MutationObserver !== 'function') {\n      return undefined;\n    }\n    const mutationObserver = new MutationObserver(() => {\n      animationAbortControllerRef.current?.abort();\n      handleValueChange(prevSizeRef.current.width, prevSizeRef.current.height);\n    });\n    mutationObserver.observe(popupElement, {\n      childList: true,\n      subtree: true,\n      characterData: true\n    });\n    return () => {\n      mutationObserver.disconnect();\n    };\n  }, [popupElement, positionerElement, isActiveItem, handleValueChange]);\n  React.useEffect(() => {\n    if (isActiveItem && open && popupElement && allowFocusRef.current) {\n      allowFocusRef.current = false;\n      focusFrame.request(() => {\n        beforeOutsideRef.current?.focus();\n      });\n    }\n    return () => {\n      focusFrame.cancel();\n    };\n  }, [beforeOutsideRef, focusFrame, handleValueChange, isActiveItem, open, popupElement]);\n  useIsoLayoutEffect(() => {\n    if (isActiveItemRef.current && open && popupElement) {\n      handleValueChange(0, 0);\n    }\n  }, [isActiveItemRef, open, popupElement, handleValueChange]);\n  function handleOpenChange(nextOpen, eventDetails) {\n    const isHover = eventDetails.reason === REASONS.triggerHover;\n    if (!interactionsEnabled) {\n      return;\n    }\n    if (pointerType === 'touch' && isHover) {\n      return;\n    }\n    if (!nextOpen && value !== itemValue) {\n      return;\n    }\n    function changeState() {\n      if (isHover) {\n        // Only allow \"patient\" clicks to close the popup if it's open.\n        // If they clicked within 500ms of the popup opening, keep it open.\n        setStickIfOpen(true);\n        stickIfOpenTimeout.clear();\n        stickIfOpenTimeout.start(PATIENT_CLICK_THRESHOLD, () => {\n          setStickIfOpen(false);\n        });\n      }\n      if (nextOpen) {\n        setValue(itemValue, eventDetails);\n      } else {\n        setValue(null, eventDetails);\n        setPointerType('');\n      }\n    }\n    if (isHover) {\n      ReactDOM.flushSync(changeState);\n    } else {\n      changeState();\n    }\n  }\n  const context = useFloatingRootContext({\n    open,\n    onOpenChange: handleOpenChange,\n    elements: {\n      reference: triggerElement,\n      floating: positionerElement || viewportElement\n    }\n  });\n  const hover = useHover(context, {\n    move: false,\n    handleClose: safePolygon({\n      blockPointerEvents: pointerType !== 'touch'\n    }),\n    restMs: mounted && positionerElement ? 0 : delay,\n    delay: {\n      close: closeDelay\n    }\n  });\n  const click = useClick(context, {\n    enabled: interactionsEnabled,\n    stickIfOpen,\n    toggle: isActiveItem\n  });\n  useIsoLayoutEffect(() => {\n    if (isActiveItem) {\n      setFloatingRootContext(context);\n      prevTriggerElementRef.current = triggerElement;\n    }\n  }, [isActiveItem, context, setFloatingRootContext, prevTriggerElementRef, triggerElement]);\n  const {\n    getReferenceProps\n  } = useInteractions([hover, click]);\n  function handleActivation(event) {\n    ReactDOM.flushSync(() => {\n      const prevTriggerRect = prevTriggerElementRef.current?.getBoundingClientRect();\n      if (mounted && prevTriggerRect && triggerElement) {\n        const nextTriggerRect = triggerElement.getBoundingClientRect();\n        const isMovingRight = nextTriggerRect.left > prevTriggerRect.left;\n        const isMovingDown = nextTriggerRect.top > prevTriggerRect.top;\n        if (orientation === 'horizontal' && nextTriggerRect.left !== prevTriggerRect.left) {\n          setActivationDirection(isMovingRight ? 'right' : 'left');\n        } else if (orientation === 'vertical' && nextTriggerRect.top !== prevTriggerRect.top) {\n          setActivationDirection(isMovingDown ? 'down' : 'up');\n        }\n      }\n\n      // Reset the `openEvent` to `undefined` when the active item changes so that a\n      // `click` -> `hover` on new trigger -> `hover` back to old trigger doesn't unexpectedly\n      // cause the popup to remain stuck open when leaving the old trigger.\n      if (event.type !== 'click') {\n        context.context.dataRef.current.openEvent = undefined;\n      }\n      if (pointerType === 'touch' && event.type !== 'click') {\n        return;\n      }\n      if (value != null) {\n        setValue(itemValue, createChangeEventDetails(event.type === 'mouseenter' ? REASONS.triggerHover : REASONS.triggerPress, event.nativeEvent));\n      }\n    });\n  }\n  const handleOpenEvent = useStableCallback(event => {\n    // For nested scenarios without positioner/popup, we can still open the menu\n    // but we can't do size calculations\n    if (!popupElement || !positionerElement) {\n      handleActivation(event);\n      return;\n    }\n    const {\n      width,\n      height\n    } = getCssDimensions(popupElement);\n    handleActivation(event);\n    handleValueChange(width, height);\n  });\n  const state = React.useMemo(() => ({\n    open: isActiveItem\n  }), [isActiveItem]);\n  function handleSetPointerType(event) {\n    setPointerType(event.pointerType);\n  }\n  const defaultProps = {\n    tabIndex: 0,\n    onMouseEnter: handleOpenEvent,\n    onClick: handleOpenEvent,\n    onPointerEnter: handleSetPointerType,\n    onPointerDown: handleSetPointerType,\n    'aria-expanded': isActiveItem,\n    'aria-controls': isActiveItem ? popupElement?.id : undefined,\n    [NAVIGATION_MENU_TRIGGER_IDENTIFIER]: '',\n    onFocus() {\n      if (!isActiveItem) {\n        return;\n      }\n      setViewportInert(false);\n    },\n    onMouseMove() {\n      allowFocusRef.current = false;\n    },\n    onKeyDown(event) {\n      allowFocusRef.current = true;\n\n      // For nested (submenu) triggers, don't intercept arrow keys that are used for\n      // navigation in the parent content. The arrow keys should be handled by the\n      // parent's CompositeRoot for navigating between items.\n      if (nested) {\n        return;\n      }\n      const openHorizontal = orientation === 'horizontal' && event.key === 'ArrowDown';\n      const openVertical = orientation === 'vertical' && event.key === 'ArrowRight';\n      if (openHorizontal || openVertical) {\n        setValue(itemValue, createChangeEventDetails(REASONS.listNavigation, event.nativeEvent));\n        handleOpenEvent(event);\n        stopEvent(event);\n      }\n    },\n    onBlur(event) {\n      if (positionerElement && popupElement && isOutsideMenuEvent({\n        currentTarget: event.currentTarget,\n        relatedTarget: event.relatedTarget\n      }, {\n        popupElement,\n        rootRef,\n        tree,\n        nodeId\n      })) {\n        setValue(null, createChangeEventDetails(REASONS.focusOut, event.nativeEvent));\n      }\n    }\n  };\n  const {\n    getButtonProps,\n    buttonRef\n  } = useButton({\n    disabled,\n    focusableWhenDisabled: true,\n    native: nativeButton\n  });\n  const referenceElement = positionerElement || viewportElement;\n  return /*#__PURE__*/_jsxs(React.Fragment, {\n    children: [/*#__PURE__*/_jsx(CompositeItem, {\n      tag: \"button\",\n      render: render,\n      className: className,\n      state: state,\n      stateAttributesMapping: pressableTriggerOpenStateMapping,\n      refs: [forwardedRef, setTriggerElement, buttonRef],\n      props: [getReferenceProps, dismissProps?.reference || EMPTY_ARRAY, defaultProps, elementProps, getButtonProps]\n    }), isActiveItem && /*#__PURE__*/_jsxs(React.Fragment, {\n      children: [/*#__PURE__*/_jsx(FocusGuard, {\n        ref: beforeOutsideRef,\n        onFocus: event => {\n          if (referenceElement && isOutsideEvent(event, referenceElement)) {\n            beforeInsideRef.current?.focus();\n          } else {\n            const prevTabbable = getPreviousTabbable(triggerElement);\n            prevTabbable?.focus();\n          }\n        }\n      }), /*#__PURE__*/_jsx(\"span\", {\n        \"aria-owns\": viewportElement?.id,\n        style: ownerVisuallyHidden\n      }), /*#__PURE__*/_jsx(FocusGuard, {\n        ref: afterOutsideRef,\n        onFocus: event => {\n          if (referenceElement && isOutsideEvent(event, referenceElement)) {\n            const elementToFocus = afterInsideRef.current && isTabbable(afterInsideRef.current) ? afterInsideRef.current : triggerElement;\n            elementToFocus?.focus();\n          } else {\n            const nextTabbable = getNextTabbable(triggerElement);\n            nextTabbable?.focus();\n            if (!contains(rootRef.current, nextTabbable)) {\n              setValue(null, createChangeEventDetails(REASONS.focusOut, event.nativeEvent));\n            }\n          }\n        }\n      })]\n    })]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") NavigationMenuTrigger.displayName = \"NavigationMenuTrigger\";", "import { contains, getNodeChildren } from \"../../floating-ui-react/utils.js\";\nexport function isOutsideMenuEvent({\n  currentTarget,\n  relatedTarget\n}, params) {\n  const {\n    popupElement,\n    viewportElement,\n    rootRef,\n    tree,\n    nodeId\n  } = params;\n  const nodeChildrenContains = tree ? getNodeChildren(tree.nodesRef.current, nodeId).some(node => contains(node.context?.elements.floating, relatedTarget)) : [];\n\n  // For nested scenarios without popupElement, we need to be more lenient\n  // and only close if we're definitely outside the root\n  if (!popupElement) {\n    return !contains(rootRef.current, relatedTarget) && !nodeChildrenContains;\n  }\n\n  // Use popupElement as the primary floating element, but fall back to viewportElement if needed\n  const floatingElement = popupElement || viewportElement;\n  return !contains(floatingElement, currentTarget) && !contains(floatingElement, relatedTarget) && !contains(rootRef.current, relatedTarget) && !nodeChildrenContains && !(contains(floatingElement, relatedTarget) && relatedTarget?.hasAttribute('data-base-ui-focus-guard'));\n}", "'use client';\n\nimport * as React from 'react';\nimport { FloatingPortal } from \"../../floating-ui-react/index.js\";\nimport { useNavigationMenuRootContext } from \"../root/NavigationMenuRootContext.js\";\nimport { NavigationMenuPortalContext } from \"./NavigationMenuPortalContext.js\";\n\n/**\n * A portal element that moves the popup to a different part of the DOM.\n * By default, the portal element is appended to `<body>`.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Navigation Menu](https://base-ui.com/react/components/navigation-menu)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const NavigationMenuPortal = /*#__PURE__*/React.forwardRef(function NavigationMenuPortal(props, forwardedRef) {\n  const {\n    keepMounted = false,\n    ...portalProps\n  } = props;\n  const {\n    mounted\n  } = useNavigationMenuRootContext();\n  const shouldRender = mounted || keepMounted;\n  if (!shouldRender) {\n    return null;\n  }\n  return /*#__PURE__*/_jsx(NavigationMenuPortalContext.Provider, {\n    value: keepMounted,\n    children: /*#__PURE__*/_jsx(FloatingPortal, {\n      ref: forwardedRef,\n      ...portalProps\n    })\n  });\n});\nif (process.env.NODE_ENV !== \"production\") NavigationMenuPortal.displayName = \"NavigationMenuPortal\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const NavigationMenuPortalContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") NavigationMenuPortalContext.displayName = \"NavigationMenuPortalContext\";\nexport function useNavigationMenuPortalContext() {\n  const value = React.useContext(NavigationMenuPortalContext);\n  if (value === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: <NavigationMenu.Portal> is missing.' : _formatErrorMessage(40));\n  }\n  return value;\n}", "'use client';\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { ownerWindow } from '@base-ui/utils/owner';\nimport { useTimeout } from '@base-ui/utils/useTimeout';\nimport { disableFocusInside, enableFocusInside, isOutsideEvent } from \"../../floating-ui-react/utils.js\";\nimport { getEmptyRootContext } from \"../../floating-ui-react/utils/getEmptyRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useNavigationMenuRootContext, useNavigationMenuTreeContext } from \"../root/NavigationMenuRootContext.js\";\nimport { useNavigationMenuPortalContext } from \"../portal/NavigationMenuPortalContext.js\";\nimport { useAnchorPositioning } from \"../../utils/useAnchorPositioning.js\";\nimport { NavigationMenuPositionerContext } from \"./NavigationMenuPositionerContext.js\";\nimport { popupStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { DROPDOWN_COLLISION_AVOIDANCE, POPUP_COLLISION_AVOIDANCE } from \"../../utils/constants.js\";\nimport { adaptiveOrigin } from \"../../utils/adaptiveOriginMiddleware.js\";\nimport { getDisabledMountTransitionStyles } from \"../../utils/getDisabledMountTransitionStyles.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst EMPTY_ROOT_CONTEXT = getEmptyRootContext();\n\n/**\n * Positions the navigation menu against the currently active trigger.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Navigation Menu](https://base-ui.com/react/components/navigation-menu)\n */\nexport const NavigationMenuPositioner = /*#__PURE__*/React.forwardRef(function NavigationMenuPositioner(componentProps, forwardedRef) {\n  const {\n    open,\n    mounted,\n    positionerElement,\n    setPositionerElement,\n    floatingRootContext,\n    nested,\n    transitionStatus\n  } = useNavigationMenuRootContext();\n  const {\n    className,\n    render,\n    anchor,\n    positionMethod = 'absolute',\n    side = 'bottom',\n    align = 'center',\n    sideOffset = 0,\n    alignOffset = 0,\n    collisionBoundary = 'clipping-ancestors',\n    collisionPadding = 5,\n    collisionAvoidance = nested ? POPUP_COLLISION_AVOIDANCE : DROPDOWN_COLLISION_AVOIDANCE,\n    arrowPadding = 5,\n    sticky = false,\n    disableAnchorTracking = false,\n    ...elementProps\n  } = componentProps;\n  const keepMounted = useNavigationMenuPortalContext();\n  const nodeId = useNavigationMenuTreeContext();\n  const resizeTimeout = useTimeout();\n  const [instant, setInstant] = React.useState(false);\n  const positionerRef = React.useRef(null);\n  const prevTriggerElementRef = React.useRef(null);\n\n  // https://codesandbox.io/s/tabbable-portal-f4tng?file=/src/TabbablePortal.tsx\n  React.useEffect(() => {\n    if (!positionerElement) {\n      return undefined;\n    }\n\n    // Make sure elements inside the portal element are tabbable only when the\n    // portal has already been focused, either by tabbing into a focus trap\n    // element outside or using the mouse.\n    function onFocus(event) {\n      if (positionerElement && isOutsideEvent(event)) {\n        const focusing = event.type === 'focusin';\n        const manageFocus = focusing ? enableFocusInside : disableFocusInside;\n        manageFocus(positionerElement);\n      }\n    }\n\n    // Listen to the event on the capture phase so they run before the focus\n    // trap elements onFocus prop is called.\n    positionerElement.addEventListener('focusin', onFocus, true);\n    positionerElement.addEventListener('focusout', onFocus, true);\n    return () => {\n      positionerElement.removeEventListener('focusin', onFocus, true);\n      positionerElement.removeEventListener('focusout', onFocus, true);\n    };\n  }, [positionerElement]);\n  const domReference = (floatingRootContext || EMPTY_ROOT_CONTEXT).useState('domReferenceElement');\n  const positioning = useAnchorPositioning({\n    anchor: anchor ?? domReference ?? prevTriggerElementRef,\n    positionMethod,\n    mounted,\n    side,\n    sideOffset,\n    align,\n    alignOffset,\n    arrowPadding,\n    collisionBoundary,\n    collisionPadding,\n    sticky,\n    disableAnchorTracking,\n    keepMounted,\n    floatingRootContext,\n    collisionAvoidance,\n    nodeId,\n    // Allows the menu to remain anchored without wobbling while its size\n    // and position transition simultaneously when side=top or side=left.\n    adaptiveOrigin\n  });\n  const defaultProps = React.useMemo(() => {\n    const hiddenStyles = {};\n    if (!open) {\n      hiddenStyles.pointerEvents = 'none';\n    }\n    return {\n      role: 'presentation',\n      hidden: !mounted,\n      style: {\n        ...positioning.positionerStyles,\n        ...hiddenStyles\n      }\n    };\n  }, [open, mounted, positioning.positionerStyles]);\n  const state = React.useMemo(() => ({\n    open,\n    side: positioning.side,\n    align: positioning.align,\n    anchorHidden: positioning.anchorHidden,\n    instant\n  }), [open, positioning.side, positioning.align, positioning.anchorHidden, instant]);\n  React.useEffect(() => {\n    if (!open) {\n      return undefined;\n    }\n    function handleResize() {\n      ReactDOM.flushSync(() => {\n        setInstant(true);\n      });\n      resizeTimeout.start(100, () => {\n        setInstant(false);\n      });\n    }\n    const win = ownerWindow(positionerElement);\n    win.addEventListener('resize', handleResize);\n    return () => {\n      win.removeEventListener('resize', handleResize);\n    };\n  }, [open, resizeTimeout, positionerElement]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: [forwardedRef, setPositionerElement, positionerRef],\n    props: [defaultProps, getDisabledMountTransitionStyles(transitionStatus), elementProps],\n    stateAttributesMapping: popupStateMapping\n  });\n  return /*#__PURE__*/_jsx(NavigationMenuPositionerContext.Provider, {\n    value: positioning,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") NavigationMenuPositioner.displayName = \"NavigationMenuPositioner\";", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const NavigationMenuPositionerContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") NavigationMenuPositionerContext.displayName = \"NavigationMenuPositionerContext\";\nexport function useNavigationMenuPositionerContext(optional = false) {\n  const context = React.useContext(NavigationMenuPositionerContext);\n  if (!context && !optional) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: NavigationMenuPositionerContext is missing. NavigationMenuPositioner parts must be placed within <NavigationMenu.Positioner>.' : _formatErrorMessage(42));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useId } from '@base-ui/utils/useId';\nimport { inertValue } from '@base-ui/utils/inertValue';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useNavigationMenuRootContext } from \"../root/NavigationMenuRootContext.js\";\nimport { FocusGuard } from \"../../utils/FocusGuard.js\";\nimport { getNextTabbable, getPreviousTabbable, isOutsideEvent, contains } from \"../../floating-ui-react/utils.js\";\nimport { getEmptyRootContext } from \"../../floating-ui-react/utils/getEmptyRootContext.js\";\nimport { useNavigationMenuPositionerContext } from \"../positioner/NavigationMenuPositionerContext.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst EMPTY_ROOT_CONTEXT = getEmptyRootContext();\nfunction Guards({\n  children\n}) {\n  const {\n    beforeInsideRef,\n    beforeOutsideRef,\n    afterInsideRef,\n    afterOutsideRef,\n    positionerElement,\n    viewportElement,\n    floatingRootContext\n  } = useNavigationMenuRootContext();\n  const hasPositioner = Boolean(useNavigationMenuPositionerContext(true));\n  const referenceElement = positionerElement || viewportElement;\n  if (!floatingRootContext && !hasPositioner) {\n    return children;\n  }\n  return /*#__PURE__*/_jsxs(React.Fragment, {\n    children: [/*#__PURE__*/_jsx(FocusGuard, {\n      ref: beforeInsideRef,\n      onFocus: event => {\n        if (referenceElement && isOutsideEvent(event, referenceElement)) {\n          getNextTabbable(referenceElement)?.focus();\n        } else {\n          beforeOutsideRef.current?.focus();\n        }\n      }\n    }), children, /*#__PURE__*/_jsx(FocusGuard, {\n      ref: afterInsideRef,\n      onFocus: event => {\n        if (referenceElement && isOutsideEvent(event, referenceElement)) {\n          getPreviousTabbable(referenceElement)?.focus();\n        } else {\n          afterOutsideRef.current?.focus();\n        }\n      }\n    })]\n  });\n}\n\n/**\n * The clipping viewport of the navigation menu's current content.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Navigation Menu](https://base-ui.com/react/components/navigation-menu)\n */\n\nexport const NavigationMenuViewport = /*#__PURE__*/React.forwardRef(function NavigationMenuViewport(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    children,\n    id: idProp,\n    ...elementProps\n  } = componentProps;\n  const id = useId(idProp);\n  const {\n    setViewportElement,\n    setViewportTargetElement,\n    floatingRootContext,\n    prevTriggerElementRef,\n    viewportInert,\n    setViewportInert\n  } = useNavigationMenuRootContext();\n  const hasPositioner = Boolean(useNavigationMenuPositionerContext(true));\n  const domReference = (floatingRootContext || EMPTY_ROOT_CONTEXT).useState('domReferenceElement');\n  useIsoLayoutEffect(() => {\n    if (domReference) {\n      prevTriggerElementRef.current = domReference;\n    }\n  }, [domReference, prevTriggerElementRef]);\n  const element = useRenderElement('div', componentProps, {\n    ref: [forwardedRef, setViewportElement],\n    props: [{\n      id,\n      onBlur(event) {\n        const relatedTarget = event.relatedTarget;\n        const currentTarget = event.currentTarget;\n\n        // If focus is leaving the viewport and not going to the trigger, make it inert\n        // to prevent a focus loop.\n        if (relatedTarget && !contains(currentTarget, relatedTarget) && relatedTarget !== domReference) {\n          setViewportInert(true);\n        }\n      },\n      ...(!hasPositioner && viewportInert && {\n        inert: inertValue(true)\n      }),\n      children: hasPositioner ? children : /*#__PURE__*/_jsx(Guards, {\n        children: /*#__PURE__*/_jsx(\"div\", {\n          ref: setViewportTargetElement,\n          children: children\n        })\n      })\n    }, elementProps]\n  });\n  return hasPositioner ? /*#__PURE__*/_jsx(Guards, {\n    children: element\n  }) : element;\n});\nif (process.env.NODE_ENV !== \"production\") NavigationMenuViewport.displayName = \"NavigationMenuViewport\";", "'use client';\n\nimport * as React from 'react';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useNavigationMenuRootContext } from \"../root/NavigationMenuRootContext.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { popupStateMapping as baseMapping } from \"../../utils/popupStateMapping.js\";\nconst stateAttributesMapping = {\n  ...baseMapping,\n  ...transitionStatusMapping\n};\n\n/**\n * A backdrop for the navigation menu popup.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Navigation Menu](https://base-ui.com/react/components/navigation-menu)\n */\nexport const NavigationMenuBackdrop = /*#__PURE__*/React.forwardRef(function NavigationMenuBackdrop(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const {\n    open,\n    mounted,\n    transitionStatus\n  } = useNavigationMenuRootContext();\n  const state = React.useMemo(() => ({\n    open,\n    transitionStatus\n  }), [open, transitionStatus]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: [{\n      role: 'presentation',\n      hidden: !mounted,\n      style: {\n        userSelect: 'none',\n        WebkitUserSelect: 'none'\n      }\n    }, elementProps],\n    stateAttributesMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") NavigationMenuBackdrop.displayName = \"NavigationMenuBackdrop\";", "'use client';\n\nimport * as React from 'react';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useNavigationMenuRootContext } from \"../root/NavigationMenuRootContext.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { useNavigationMenuPositionerContext } from \"../positioner/NavigationMenuPositionerContext.js\";\nimport { useDirection } from \"../../direction-provider/DirectionContext.js\";\nimport { popupStateMapping as baseMapping } from \"../../utils/popupStateMapping.js\";\nconst stateAttributesMapping = {\n  ...baseMapping,\n  ...transitionStatusMapping\n};\n\n/**\n * A container for the navigation menu contents.\n * Renders a `<nav>` element.\n *\n * Documentation: [Base UI Navigation Menu](https://base-ui.com/react/components/navigation-menu)\n */\nexport const NavigationMenuPopup = /*#__PURE__*/React.forwardRef(function NavigationMenuPopup(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    id: idProp,\n    ...elementProps\n  } = componentProps;\n  const {\n    open,\n    transitionStatus,\n    setPopupElement\n  } = useNavigationMenuRootContext();\n  const positioning = useNavigationMenuPositionerContext();\n  const direction = useDirection();\n  const id = useBaseUiId(idProp);\n  const state = React.useMemo(() => ({\n    open,\n    transitionStatus,\n    side: positioning.side,\n    align: positioning.align,\n    anchorHidden: positioning.anchorHidden\n  }), [open, transitionStatus, positioning.side, positioning.align, positioning.anchorHidden]);\n\n  // Ensure popup size transitions correctly when anchored to `bottom` (side=top) or `right` (side=left).\n  let isOriginSide = positioning.side === 'top';\n  let isPhysicalLeft = positioning.side === 'left';\n  if (direction === 'rtl') {\n    isOriginSide = isOriginSide || positioning.side === 'inline-end';\n    isPhysicalLeft = isPhysicalLeft || positioning.side === 'inline-end';\n  } else {\n    isOriginSide = isOriginSide || positioning.side === 'inline-start';\n    isPhysicalLeft = isPhysicalLeft || positioning.side === 'inline-start';\n  }\n  const element = useRenderElement('nav', componentProps, {\n    state,\n    ref: [forwardedRef, setPopupElement],\n    props: [{\n      id,\n      tabIndex: -1,\n      style: isOriginSide ? {\n        position: 'absolute',\n        [positioning.side === 'top' ? 'bottom' : 'top']: '0',\n        [isPhysicalLeft ? 'right' : 'left']: '0'\n      } : {}\n    }, elementProps],\n    stateAttributesMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") NavigationMenuPopup.displayName = \"NavigationMenuPopup\";", "'use client';\n\nimport * as React from 'react';\nimport { useNavigationMenuPositionerContext } from \"../positioner/NavigationMenuPositionerContext.js\";\nimport { useNavigationMenuRootContext } from \"../root/NavigationMenuRootContext.js\";\nimport { popupStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * Displays an element pointing toward the navigation menu's current anchor.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Navigation Menu](https://base-ui.com/react/components/navigation-menu)\n */\nexport const NavigationMenuArrow = /*#__PURE__*/React.forwardRef(function NavigationMenuArrow(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const {\n    open\n  } = useNavigationMenuRootContext();\n  const {\n    arrowRef,\n    side,\n    align,\n    arrowUncentered,\n    arrowStyles\n  } = useNavigationMenuPositionerContext();\n  const state = React.useMemo(() => ({\n    open,\n    side,\n    align,\n    uncentered: arrowUncentered\n  }), [open, side, align, arrowUncentered]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: [forwardedRef, arrowRef],\n    props: [{\n      style: arrowStyles,\n      'aria-hidden': true\n    }, elementProps],\n    stateAttributesMapping: popupStateMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") NavigationMenuArrow.displayName = \"NavigationMenuArrow\";", "'use client';\n\nimport * as React from 'react';\nimport { useFloatingTree } from \"../../floating-ui-react/index.js\";\nimport { useNavigationMenuRootContext, useNavigationMenuTreeContext } from \"../root/NavigationMenuRootContext.js\";\nimport { isOutsideMenuEvent } from \"../utils/isOutsideMenuEvent.js\";\nimport { CompositeItem } from \"../../composite/item/CompositeItem.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\n\n/**\n * A link in the navigation menu that can be used to navigate to a different page or section.\n * Renders an `<a>` element.\n *\n * Documentation: [Base UI Navigation Menu](https://base-ui.com/react/components/navigation-menu)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const NavigationMenuLink = /*#__PURE__*/React.forwardRef(function NavigationMenuLink(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    active = false,\n    closeOnClick = false,\n    ...elementProps\n  } = componentProps;\n  const {\n    setValue,\n    popupElement,\n    positionerElement,\n    rootRef\n  } = useNavigationMenuRootContext();\n  const nodeId = useNavigationMenuTreeContext();\n  const tree = useFloatingTree();\n  const state = React.useMemo(() => ({\n    active\n  }), [active]);\n  const defaultProps = {\n    'aria-current': active ? 'page' : undefined,\n    tabIndex: undefined,\n    onClick(event) {\n      if (closeOnClick) {\n        setValue(null, createChangeEventDetails(REASONS.linkPress, event.nativeEvent));\n      }\n    },\n    onBlur(event) {\n      if (positionerElement && popupElement && isOutsideMenuEvent({\n        currentTarget: event.currentTarget,\n        relatedTarget: event.relatedTarget\n      }, {\n        popupElement,\n        rootRef,\n        tree,\n        nodeId\n      })) {\n        setValue(null, createChangeEventDetails(REASONS.focusOut, event.nativeEvent));\n      }\n    }\n  };\n  return /*#__PURE__*/_jsx(CompositeItem, {\n    tag: \"a\",\n    render: render,\n    className: className,\n    state: state,\n    refs: [forwardedRef],\n    props: [defaultProps, elementProps]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") NavigationMenuLink.displayName = \"NavigationMenuLink\";", "'use client';\n\nimport * as React from 'react';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useNavigationMenuRootContext } from \"../root/NavigationMenuRootContext.js\";\nimport { triggerOpenStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { useNavigationMenuItemContext } from \"../item/NavigationMenuItemContext.js\";\n\n/**\n * An icon that indicates that the trigger button opens a menu.\n *\n * Documentation: [Base UI Navigation Menu](https://base-ui.com/react/components/navigation-menu)\n */\nexport const NavigationMenuIcon = /*#__PURE__*/React.forwardRef(function NavigationMenuIcon(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const {\n    value: itemValue\n  } = useNavigationMenuItemContext();\n  const {\n    open,\n    value\n  } = useNavigationMenuRootContext();\n  const isActiveItem = open && value === itemValue;\n  const state = React.useMemo(() => ({\n    open: isActiveItem\n  }), [isActiveItem]);\n  const element = useRenderElement('span', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: [{\n      'aria-hidden': true,\n      children: ''\n    }, elementProps],\n    stateAttributesMapping: triggerOpenStateMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") NavigationMenuIcon.displayName = \"NavigationMenuIcon\";", "export { NumberFieldRoot as Root } from \"./root/NumberFieldRoot.js\";\nexport { NumberFieldGroup as Group } from \"./group/NumberFieldGroup.js\";\nexport { NumberFieldIncrement as Increment } from \"./increment/NumberFieldIncrement.js\";\nexport { NumberFieldDecrement as Decrement } from \"./decrement/NumberFieldDecrement.js\";\nexport { NumberFieldInput as Input } from \"./input/NumberFieldInput.js\";\nexport { NumberFieldScrubArea as ScrubArea } from \"./scrub-area/NumberFieldScrubArea.js\";\nexport { NumberFieldScrubAreaCursor as ScrubAreaCursor } from \"./scrub-area-cursor/NumberFieldScrubAreaCursor.js\";", "'use client';\n\nimport * as React from 'react';\nimport { useControlled } from '@base-ui/utils/useControlled';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useTimeout } from '@base-ui/utils/useTimeout';\nimport { useInterval } from '@base-ui/utils/useInterval';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useValueAsRef } from '@base-ui/utils/useValueAsRef';\nimport { useForcedRerendering } from '@base-ui/utils/useForcedRerendering';\nimport { useMergedRefs } from '@base-ui/utils/useMergedRefs';\nimport { visuallyHidden, visuallyHiddenInput } from '@base-ui/utils/visuallyHidden';\nimport { ownerDocument, ownerWindow } from '@base-ui/utils/owner';\nimport { isIOS } from '@base-ui/utils/detectBrowser';\nimport { NumberFieldRootContext } from \"./NumberFieldRootContext.js\";\nimport { useFieldRootContext } from \"../../field/root/FieldRootContext.js\";\nimport { useLabelableId } from \"../../labelable-provider/useLabelableId.js\";\nimport { stateAttributesMapping } from \"../utils/stateAttributesMapping.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { getNumberLocaleDetails, PERMILLE, PERCENTAGES, SPACE_SEPARATOR_RE, BASE_NON_NUMERIC_SYMBOLS, MINUS_SIGNS_WITH_ASCII, PLUS_SIGNS_WITH_ASCII } from \"../utils/parse.js\";\nimport { formatNumber, formatNumberMaxPrecision } from \"../../utils/formatNumber.js\";\nimport { CHANGE_VALUE_TICK_DELAY, DEFAULT_STEP, START_AUTO_CHANGE_DELAY } from \"../utils/constants.js\";\nimport { toValidatedNumber } from \"../utils/validate.js\";\nimport { createChangeEventDetails, createGenericEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\n\n/**\n * Groups all parts of the number field and manages its state.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Number Field](https://base-ui.com/react/components/number-field)\n */\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const NumberFieldRoot = /*#__PURE__*/React.forwardRef(function NumberFieldRoot(componentProps, forwardedRef) {\n  const {\n    id: idProp,\n    min,\n    max,\n    smallStep = 0.1,\n    step: stepProp = 1,\n    largeStep = 10,\n    required = false,\n    disabled: disabledProp = false,\n    readOnly = false,\n    name: nameProp,\n    defaultValue,\n    value: valueProp,\n    onValueChange: onValueChangeProp,\n    onValueCommitted: onValueCommittedProp,\n    allowWheelScrub = false,\n    snapOnStep = false,\n    format,\n    locale,\n    render,\n    className,\n    inputRef: inputRefProp,\n    ...elementProps\n  } = componentProps;\n  const {\n    setDirty,\n    validityData,\n    disabled: fieldDisabled,\n    setFilled,\n    invalid,\n    name: fieldName,\n    state: fieldState,\n    validation,\n    shouldValidateOnChange\n  } = useFieldRootContext();\n  const disabled = fieldDisabled || disabledProp;\n  const name = fieldName ?? nameProp;\n  const step = stepProp === 'any' ? 1 : stepProp;\n  const [isScrubbing, setIsScrubbing] = React.useState(false);\n  const minWithDefault = min ?? Number.MIN_SAFE_INTEGER;\n  const maxWithDefault = max ?? Number.MAX_SAFE_INTEGER;\n  const minWithZeroDefault = min ?? 0;\n  const formatStyle = format?.style;\n  const inputRef = React.useRef(null);\n  const hiddenInputRef = useMergedRefs(inputRefProp, validation.inputRef);\n  const id = useLabelableId({\n    id: idProp\n  });\n  const [valueUnwrapped, setValueUnwrapped] = useControlled({\n    controlled: valueProp,\n    default: defaultValue,\n    name: 'NumberField',\n    state: 'value'\n  });\n  const value = valueUnwrapped ?? null;\n  const valueRef = useValueAsRef(value);\n  useIsoLayoutEffect(() => {\n    setFilled(value !== null);\n  }, [setFilled, value]);\n  const forceRender = useForcedRerendering();\n  const formatOptionsRef = useValueAsRef(format);\n  const hasPendingCommitRef = React.useRef(false);\n  const onValueCommitted = useStableCallback((nextValue, eventDetails) => {\n    hasPendingCommitRef.current = false;\n    onValueCommittedProp?.(nextValue, eventDetails);\n  });\n  const startTickTimeout = useTimeout();\n  const tickInterval = useInterval();\n  const intentionalTouchCheckTimeout = useTimeout();\n  const isPressedRef = React.useRef(false);\n  const movesAfterTouchRef = React.useRef(0);\n  const allowInputSyncRef = React.useRef(true);\n  const lastChangedValueRef = React.useRef(null);\n  const unsubscribeFromGlobalContextMenuRef = React.useRef(() => {});\n\n  // During SSR, the value is formatted on the server, whose locale may differ from the client's\n  // locale. This causes a hydration mismatch, which we manually suppress. This is preferable to\n  // rendering an empty input field and then updating it with the formatted value, as the user\n  // can still see the value prior to hydration, even if it's not formatted correctly.\n  const [inputValue, setInputValue] = React.useState(() => {\n    if (valueProp !== undefined) {\n      return getControlledInputValue(value, locale, format);\n    }\n    return formatNumber(value, locale, format);\n  });\n  const [inputMode, setInputMode] = React.useState('numeric');\n  const getAllowedNonNumericKeys = useStableCallback(() => {\n    const {\n      decimal,\n      group,\n      currency,\n      literal\n    } = getNumberLocaleDetails(locale, format);\n    const keys = new Set();\n    BASE_NON_NUMERIC_SYMBOLS.forEach(symbol => keys.add(symbol));\n    if (decimal) {\n      keys.add(decimal);\n    }\n    if (group) {\n      keys.add(group);\n      if (SPACE_SEPARATOR_RE.test(group)) {\n        keys.add(' ');\n      }\n    }\n    const allowPercentSymbols = formatStyle === 'percent' || formatStyle === 'unit' && format?.unit === 'percent';\n    const allowPermilleSymbols = formatStyle === 'percent' || formatStyle === 'unit' && format?.unit === 'permille';\n    if (allowPercentSymbols) {\n      PERCENTAGES.forEach(key => keys.add(key));\n    }\n    if (allowPermilleSymbols) {\n      PERMILLE.forEach(key => keys.add(key));\n    }\n    if (formatStyle === 'currency' && currency) {\n      keys.add(currency);\n    }\n    if (literal) {\n      // Some locales (e.g. de-DE) insert a literal space character between the number\n      // and the symbol, so allow those characters to be typed/removed.\n      Array.from(literal).forEach(char => keys.add(char));\n      if (SPACE_SEPARATOR_RE.test(literal)) {\n        keys.add(' ');\n      }\n    }\n\n    // Allow plus sign in all cases; minus sign only when negatives are valid\n    PLUS_SIGNS_WITH_ASCII.forEach(key => keys.add(key));\n    if (minWithDefault < 0) {\n      MINUS_SIGNS_WITH_ASCII.forEach(key => keys.add(key));\n    }\n    return keys;\n  });\n  const getStepAmount = useStableCallback(event => {\n    if (event?.altKey) {\n      return smallStep;\n    }\n    if (event?.shiftKey) {\n      return largeStep;\n    }\n    return step;\n  });\n  const setValue = useStableCallback((unvalidatedValue, details) => {\n    const eventWithOptionalKeyState = details.event;\n    const dir = details.direction;\n    const validatedValue = toValidatedNumber(unvalidatedValue, {\n      step: dir ? getStepAmount(eventWithOptionalKeyState) * dir : undefined,\n      format: formatOptionsRef.current,\n      minWithDefault,\n      maxWithDefault,\n      minWithZeroDefault,\n      snapOnStep,\n      small: eventWithOptionalKeyState?.altKey ?? false\n    });\n\n    // Determine whether we should notify about a change even if the numeric value is unchanged.\n    // This is needed when the user input is clamped/snapped to the same current value, or when\n    // the source value differs but validation normalizes to the existing value.\n    const shouldFireChange = validatedValue !== value || unvalidatedValue !== value || allowInputSyncRef.current === false;\n    if (shouldFireChange) {\n      lastChangedValueRef.current = validatedValue;\n      onValueChangeProp?.(validatedValue, details);\n      if (details.isCanceled) {\n        return;\n      }\n      setValueUnwrapped(validatedValue);\n      setDirty(validatedValue !== validityData.initialValue);\n      hasPendingCommitRef.current = true;\n    }\n\n    // Keep the visible input in sync immediately when programmatic changes occur\n    // (increment/decrement, wheel, etc). During direct typing we don't want\n    // to overwrite the user-provided text until blur, so we gate on\n    // `allowInputSyncRef`.\n    if (allowInputSyncRef.current) {\n      setInputValue(formatNumber(validatedValue, locale, format));\n    }\n\n    // Formatting can change even if the numeric value hasn't, so ensure a re-render when needed.\n    forceRender();\n  });\n  const incrementValue = useStableCallback((amount, {\n    direction,\n    currentValue,\n    event,\n    reason\n  }) => {\n    const prevValue = currentValue == null ? valueRef.current : currentValue;\n    const nextValue = typeof prevValue === 'number' ? prevValue + amount * direction : Math.max(0, min ?? 0);\n    const nativeEvent = event;\n    setValue(nextValue, createChangeEventDetails(reason, nativeEvent, undefined, {\n      direction\n    }));\n  });\n  const stopAutoChange = useStableCallback(() => {\n    intentionalTouchCheckTimeout.clear();\n    startTickTimeout.clear();\n    tickInterval.clear();\n    unsubscribeFromGlobalContextMenuRef.current();\n    movesAfterTouchRef.current = 0;\n  });\n  const startAutoChange = useStableCallback((isIncrement, triggerEvent) => {\n    stopAutoChange();\n    if (!inputRef.current) {\n      return;\n    }\n    const win = ownerWindow(inputRef.current);\n    function handleContextMenu(event) {\n      event.preventDefault();\n    }\n\n    // A global context menu is necessary to prevent the context menu from appearing when the touch\n    // is slightly outside of the element's hit area.\n    win.addEventListener('contextmenu', handleContextMenu);\n    unsubscribeFromGlobalContextMenuRef.current = () => {\n      win.removeEventListener('contextmenu', handleContextMenu);\n    };\n    win.addEventListener('pointerup', event => {\n      isPressedRef.current = false;\n      stopAutoChange();\n      const committed = lastChangedValueRef.current ?? valueRef.current;\n      const commitReason = isIncrement ? 'increment' : 'decrement';\n      onValueCommitted(committed, createGenericEventDetails(commitReason, event));\n    }, {\n      once: true\n    });\n    function tick() {\n      const amount = getStepAmount(triggerEvent) ?? DEFAULT_STEP;\n      incrementValue(amount, {\n        direction: isIncrement ? 1 : -1,\n        event: triggerEvent,\n        reason: isIncrement ? 'increment-press' : 'decrement-press'\n      });\n    }\n    tick();\n    startTickTimeout.start(START_AUTO_CHANGE_DELAY, () => {\n      tickInterval.start(CHANGE_VALUE_TICK_DELAY, tick);\n    });\n  });\n\n  // We need to update the input value when the external `value` prop changes. This ends up acting\n  // as a single source of truth to update the input value, bypassing the need to manually set it in\n  // each event handler internally in this hook.\n  // This is done inside a layout effect as an alternative to the technique to set state during\n  // render as we're accessing a ref, which must be inside an effect.\n  // https://react.dev/learn/you-might-not-need-an-effect#adjusting-some-state-when-a-prop-changes\n  //\n  // ESLint is disabled because it needs to run even if the parsed value hasn't changed, since the\n  // value still can be formatted differently.\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useIsoLayoutEffect(function syncFormattedInputValueOnValueChange() {\n    // This ensures the value is only updated on blur rather than every keystroke, but still\n    // allows the input value to be updated when the value is changed externally.\n    if (!allowInputSyncRef.current) {\n      return;\n    }\n    const nextInputValue = valueProp !== undefined ? getControlledInputValue(value, locale, format) : formatNumber(value, locale, format);\n    if (nextInputValue !== inputValue) {\n      setInputValue(nextInputValue);\n    }\n  });\n  useIsoLayoutEffect(function setDynamicInputModeForIOS() {\n    if (!isIOS) {\n      return;\n    }\n\n    // iOS numeric software keyboard doesn't have a minus key, so we need to use the default\n    // keyboard to let the user input a negative number.\n    let computedInputMode = 'text';\n    if (minWithDefault >= 0) {\n      // iOS numeric software keyboard doesn't have a decimal key for \"numeric\" input mode, but\n      // this is better than the \"text\" input if possible to use.\n      computedInputMode = 'decimal';\n    }\n    setInputMode(computedInputMode);\n  }, [minWithDefault, formatStyle]);\n  React.useEffect(() => {\n    return () => stopAutoChange();\n  }, [stopAutoChange]);\n\n  // The `onWheel` prop can't be prevented, so we need to use a global event listener.\n  React.useEffect(function registerElementWheelListener() {\n    const element = inputRef.current;\n    if (disabled || readOnly || !allowWheelScrub || !element) {\n      return undefined;\n    }\n    function handleWheel(event) {\n      if (\n      // Allow pinch-zooming.\n      event.ctrlKey || ownerDocument(inputRef.current).activeElement !== inputRef.current) {\n        return;\n      }\n\n      // Prevent the default behavior to avoid scrolling the page.\n      event.preventDefault();\n      const amount = getStepAmount(event) ?? DEFAULT_STEP;\n      incrementValue(amount, {\n        direction: event.deltaY > 0 ? -1 : 1,\n        event,\n        reason: 'wheel'\n      });\n    }\n    element.addEventListener('wheel', handleWheel);\n    return () => {\n      element.removeEventListener('wheel', handleWheel);\n    };\n  }, [allowWheelScrub, incrementValue, disabled, readOnly, largeStep, step, getStepAmount]);\n  const state = React.useMemo(() => ({\n    ...fieldState,\n    disabled,\n    readOnly,\n    required,\n    value,\n    inputValue,\n    scrubbing: isScrubbing\n  }), [fieldState, disabled, readOnly, required, value, inputValue, isScrubbing]);\n  const contextValue = React.useMemo(() => ({\n    inputRef,\n    inputValue,\n    value,\n    startAutoChange,\n    stopAutoChange,\n    minWithDefault,\n    maxWithDefault,\n    disabled,\n    readOnly,\n    id,\n    setValue,\n    incrementValue,\n    getStepAmount,\n    allowInputSyncRef,\n    formatOptionsRef,\n    valueRef,\n    lastChangedValueRef,\n    hasPendingCommitRef,\n    isPressedRef,\n    intentionalTouchCheckTimeout,\n    movesAfterTouchRef,\n    name,\n    required,\n    invalid,\n    inputMode,\n    getAllowedNonNumericKeys,\n    min,\n    max,\n    setInputValue,\n    locale,\n    isScrubbing,\n    setIsScrubbing,\n    state,\n    onValueCommitted\n  }), [inputRef, inputValue, value, startAutoChange, stopAutoChange, minWithDefault, maxWithDefault, disabled, readOnly, id, setValue, incrementValue, getStepAmount, formatOptionsRef, valueRef, intentionalTouchCheckTimeout, name, required, invalid, inputMode, getAllowedNonNumericKeys, min, max, setInputValue, locale, isScrubbing, state, onValueCommitted]);\n  const element = useRenderElement('div', componentProps, {\n    ref: forwardedRef,\n    state,\n    props: elementProps,\n    stateAttributesMapping\n  });\n  return /*#__PURE__*/_jsxs(NumberFieldRootContext.Provider, {\n    value: contextValue,\n    children: [element, /*#__PURE__*/_jsx(\"input\", {\n      ...validation.getInputValidationProps({\n        onFocus() {\n          inputRef.current?.focus();\n        },\n        onChange(event) {\n          // Workaround for https://github.com/facebook/react/issues/9023\n          if (event.nativeEvent.defaultPrevented) {\n            return;\n          }\n\n          // Handle browser autofill.\n          const nextValue = event.currentTarget.valueAsNumber;\n          const parsedValue = Number.isNaN(nextValue) ? null : nextValue;\n          const details = createChangeEventDetails(REASONS.none, event.nativeEvent);\n          setDirty(parsedValue !== validityData.initialValue);\n          setValue(parsedValue, details);\n          if (shouldValidateOnChange()) {\n            validation.commit(parsedValue);\n          }\n        }\n      }),\n      ref: hiddenInputRef,\n      type: \"number\",\n      name: name,\n      value: value ?? '',\n      min: min,\n      max: max\n      // stepMismatch validation is broken unless an explicit `min` is added.\n      // See https://github.com/facebook/react/issues/12334.\n      ,\n      step: stepProp,\n      disabled: disabled,\n      required: required,\n      \"aria-hidden\": true,\n      tabIndex: -1,\n      style: name ? visuallyHiddenInput : visuallyHidden\n    })]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") NumberFieldRoot.displayName = \"NumberFieldRoot\";\nfunction getControlledInputValue(value, locale, format) {\n  const explicitPrecision = format?.maximumFractionDigits != null || format?.minimumFractionDigits != null;\n  return explicitPrecision ? formatNumber(value, locale, format) : formatNumberMaxPrecision(value, locale, format);\n}", "'use client';\n\nimport { useRefWithInit } from \"./useRefWithInit.js\";\nimport { useOnMount } from \"./useOnMount.js\";\nimport { Timeout } from \"./useTimeout.js\";\nconst EMPTY = 0;\nexport class Interval extends Timeout {\n  static create() {\n    return new Interval();\n  }\n\n  /**\n   * Executes `fn` at `delay` interval, clearing any previously scheduled call.\n   */\n  start(delay, fn) {\n    this.clear();\n    this.currentId = setInterval(() => {\n      fn();\n    }, delay);\n  }\n  clear = () => {\n    if (this.currentId !== EMPTY) {\n      clearInterval(this.currentId);\n      this.currentId = EMPTY;\n    }\n  };\n}\n\n/**\n * A `setInterval` with automatic cleanup and guard.\n */\nexport function useInterval() {\n  const timeout = useRefWithInit(Interval.create).current;\n  useOnMount(timeout.disposeEffect);\n  return timeout;\n}", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const NumberFieldRootContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") NumberFieldRootContext.displayName = \"NumberFieldRootContext\";\nexport function useNumberFieldRootContext() {\n  const context = React.useContext(NumberFieldRootContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: NumberFieldRootContext is missing. NumberField parts must be placed within <NumberField.Root>.' : _formatErrorMessage(43));\n  }\n  return context;\n}", "export const stateAttributesMapping = {\n  inputValue: () => null,\n  value: () => null\n};", "import { getFormatter } from \"../../utils/formatNumber.js\";\nexport const HAN_NUMERALS = ['', '', '', '', '', '', '', '', '', '', ''];\n// Map Han numeral characters to ASCII digits. Includes both forms of zero.\nexport const HAN_NUMERAL_TO_DIGIT = {\n  : '0',\n  : '0',\n  : '1',\n  : '2',\n  : '3',\n  : '4',\n  : '5',\n  : '6',\n  : '7',\n  : '8',\n  : '9'\n};\nexport const ARABIC_NUMERALS = ['', '', '', '', '', '', '', '', '', ''];\nexport const PERSIAN_NUMERALS = ['', '', '', '', '', '', '', '', '', ''];\nexport const FULLWIDTH_NUMERALS = ['', '', '', '', '', '', '', '', '', ''];\nexport const PERCENTAGES = ['%', '', '', ''];\nexport const PERMILLE = ['', ''];\nexport const UNICODE_MINUS_SIGNS = ['', '', '', '', '', ''];\nexport const UNICODE_PLUS_SIGNS = ['', ''];\n\n// Fullwidth punctuation common in CJK inputs\nexport const FULLWIDTH_DECIMAL = ''; // U+FF0E\nexport const FULLWIDTH_GROUP = ''; // U+FF0C\n\nexport const ARABIC_RE = new RegExp(`[${ARABIC_NUMERALS.join('')}]`, 'g');\nexport const PERSIAN_RE = new RegExp(`[${PERSIAN_NUMERALS.join('')}]`, 'g');\nexport const FULLWIDTH_RE = new RegExp(`[${FULLWIDTH_NUMERALS.join('')}]`, 'g');\nexport const HAN_RE = new RegExp(`[${HAN_NUMERALS.join('')}]`, 'g');\nexport const PERCENT_RE = new RegExp(`[${PERCENTAGES.join('')}]`);\nexport const PERMILLE_RE = new RegExp(`[${PERMILLE.join('')}]`);\n\n// Detection regexes (non-global to avoid lastIndex side effects)\nexport const ARABIC_DETECT_RE = /[]/;\nexport const PERSIAN_DETECT_RE = /[]/;\nexport const HAN_DETECT_RE = /[]/;\nexport const FULLWIDTH_DETECT_RE = new RegExp(`[${FULLWIDTH_NUMERALS.join('')}]`);\nexport const BASE_NON_NUMERIC_SYMBOLS = ['.', ',', FULLWIDTH_DECIMAL, FULLWIDTH_GROUP, '', ''];\nexport const SPACE_SEPARATOR_RE = /\\p{Zs}/u;\nexport const PLUS_SIGNS_WITH_ASCII = ['+', ...UNICODE_PLUS_SIGNS];\nexport const MINUS_SIGNS_WITH_ASCII = ['-', ...UNICODE_MINUS_SIGNS];\nconst escapeRegExp = s => s.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\nconst escapeClassChar = s => s.replace(/[-\\\\\\]^]/g, m => `\\\\${m}`); // escape for use inside [...]\n\nconst charClassFrom = chars => `[${chars.map(escapeClassChar).join('')}]`;\nconst ANY_MINUS_CLASS = charClassFrom(['-'].concat(UNICODE_MINUS_SIGNS));\nconst ANY_PLUS_CLASS = charClassFrom(['+'].concat(UNICODE_PLUS_SIGNS));\nexport const ANY_MINUS_RE = new RegExp(ANY_MINUS_CLASS, 'gu');\nexport const ANY_PLUS_RE = new RegExp(ANY_PLUS_CLASS, 'gu');\nexport const ANY_MINUS_DETECT_RE = new RegExp(ANY_MINUS_CLASS);\nexport const ANY_PLUS_DETECT_RE = new RegExp(ANY_PLUS_CLASS);\nexport function getNumberLocaleDetails(locale, options) {\n  const parts = getFormatter(locale, options).formatToParts(11111.1);\n  const result = {};\n  parts.forEach(part => {\n    result[part.type] = part.value;\n  });\n\n  // The formatting options may result in not returning a decimal.\n  getFormatter(locale).formatToParts(0.1).forEach(part => {\n    if (part.type === 'decimal') {\n      result[part.type] = part.value;\n    }\n  });\n  return result;\n}\nexport function parseNumber(formattedNumber, locale, options) {\n  if (formattedNumber == null) {\n    return null;\n  }\n\n  // Normalize control characters and whitespace; remove bidi/format controls\n  let input = String(formattedNumber).replace(/\\p{Cf}/gu, '').trim();\n\n  // Normalize unicode minus/plus to ASCII, handle leading/trailing signs\n  input = input.replace(ANY_MINUS_RE, '-').replace(ANY_PLUS_RE, '+');\n  let isNegative = false;\n\n  // Trailing sign, e.g. \"1234-\" / \"1234+\"\n  const trailing = input.match(/([+-])\\s*$/);\n  if (trailing) {\n    if (trailing[1] === '-') {\n      isNegative = true;\n    }\n    input = input.replace(/([+-])\\s*$/, '');\n  }\n  // Leading sign\n  const leading = input.match(/^\\s*([+-])/);\n  if (leading) {\n    if (leading[1] === '-') {\n      isNegative = true;\n    }\n    input = input.replace(/^\\s*[+-]/, '');\n  }\n\n  // Heuristic locale detection\n  let computedLocale = locale;\n  if (computedLocale === undefined) {\n    if (ARABIC_DETECT_RE.test(input) || PERSIAN_DETECT_RE.test(input)) {\n      computedLocale = 'ar';\n    } else if (HAN_DETECT_RE.test(input)) {\n      computedLocale = 'zh';\n    }\n  }\n  const {\n    group,\n    decimal,\n    currency\n  } = getNumberLocaleDetails(computedLocale, options);\n\n  // Build robust unit regex from all unit parts (such as \"km/h\")\n  const unitParts = getFormatter(computedLocale, options).formatToParts(1).filter(p => p.type === 'unit').map(p => escapeRegExp(p.value));\n  const unitRegex = unitParts.length ? new RegExp(unitParts.join('|'), 'g') : null;\n  let groupRegex = null;\n  if (group) {\n    const isSpaceGroup = /\\p{Zs}/u.test(group);\n    const isApostropheGroup = group === \"'\" || group === '';\n\n    // Check if the group separator is a space-like character.\n    // If so, we'll replace all such characters with an empty string.\n    if (isSpaceGroup) {\n      groupRegex = /\\p{Zs}/gu;\n    } else if (isApostropheGroup) {\n      // Some environments format numbers with ASCII apostrophe and others with a curly apostrophe.\n      groupRegex = /[']/g;\n    } else {\n      groupRegex = new RegExp(escapeRegExp(group), 'g');\n    }\n  }\n  const replacements = [{\n    regex: group ? groupRegex : null,\n    replacement: ''\n  }, {\n    regex: decimal ? new RegExp(escapeRegExp(decimal), 'g') : null,\n    replacement: '.'\n  },\n  // Fullwidth punctuation\n  {\n    regex: //g,\n    replacement: '.'\n  },\n  // FULLWIDTH_DECIMAL\n  {\n    regex: //g,\n    replacement: ''\n  },\n  // FULLWIDTH_GROUP\n  // Arabic punctuation\n  {\n    regex: //g,\n    replacement: '.'\n  },\n  // ARABIC DECIMAL SEPARATOR (U+066B)\n  {\n    regex: //g,\n    replacement: ''\n  },\n  // ARABIC THOUSANDS SEPARATOR (U+066C)\n  // Currency & unit labels\n  {\n    regex: currency ? new RegExp(escapeRegExp(currency), 'g') : null,\n    replacement: ''\n  }, {\n    regex: unitRegex,\n    replacement: ''\n  },\n  // Numeral systems to ASCII digits\n  {\n    regex: ARABIC_RE,\n    replacement: ch => String(ARABIC_NUMERALS.indexOf(ch))\n  }, {\n    regex: PERSIAN_RE,\n    replacement: ch => String(PERSIAN_NUMERALS.indexOf(ch))\n  }, {\n    regex: FULLWIDTH_RE,\n    replacement: ch => String(FULLWIDTH_NUMERALS.indexOf(ch))\n  }, {\n    regex: HAN_RE,\n    replacement: ch => HAN_NUMERAL_TO_DIGIT[ch]\n  }];\n  let unformatted = replacements.reduce((acc, {\n    regex,\n    replacement\n  }) => {\n    return regex ? acc.replace(regex, replacement) : acc;\n  }, input);\n\n  // Mixed-locale safety: keep only the last '.' as decimal\n  const lastDot = unformatted.lastIndexOf('.');\n  if (lastDot !== -1) {\n    unformatted = `${unformatted.slice(0, lastDot).replace(/\\./g, '')}.${unformatted.slice(lastDot + 1).replace(/\\./g, '')}`;\n  }\n\n  // Guard against Infinity inputs (ASCII and symbol)\n  if (/^[-+]?Infinity$/i.test(input) || /[]/.test(input)) {\n    return null;\n  }\n  const parseTarget = (isNegative ? '-' : '') + unformatted;\n  let num = parseFloat(parseTarget);\n  const style = options?.style;\n  const isUnitPercent = style === 'unit' && options?.unit === 'percent';\n  const hasPercentSymbol = PERCENT_RE.test(formattedNumber) || style === 'percent';\n  const hasPermilleSymbol = PERMILLE_RE.test(formattedNumber);\n  if (hasPermilleSymbol) {\n    num /= 1000;\n  } else if (!isUnitPercent && hasPercentSymbol) {\n    num /= 100;\n  }\n  if (Number.isNaN(num)) {\n    return null;\n  }\n  return num;\n}", "export const CHANGE_VALUE_TICK_DELAY = 60;\nexport const START_AUTO_CHANGE_DELAY = 400;\nexport const TOUCH_TIMEOUT = 50;\nexport const MAX_POINTER_MOVES_AFTER_TOUCH = 3;\nexport const SCROLLING_POINTER_MOVE_DISTANCE = 8;\nexport const DEFAULT_STEP = 1;", "export function clamp(val, min = Number.MIN_SAFE_INTEGER, max = Number.MAX_SAFE_INTEGER) {\n  return Math.max(min, Math.min(val, max));\n}", "import { clamp } from \"../../utils/clamp.js\";\nimport { getFormatter } from \"../../utils/formatNumber.js\";\nconst STEP_EPSILON_FACTOR = 1e-10;\nfunction getFractionDigits(format) {\n  const defaultOptions = getFormatter('en-US').resolvedOptions();\n  const minimumFractionDigits = format?.minimumFractionDigits ?? defaultOptions.minimumFractionDigits ?? 0;\n  const maximumFractionDigits = Math.max(format?.maximumFractionDigits ?? defaultOptions.maximumFractionDigits ?? 20, minimumFractionDigits);\n  return {\n    maximumFractionDigits,\n    minimumFractionDigits\n  };\n}\nfunction roundToFractionDigits(value, maximumFractionDigits) {\n  if (!Number.isFinite(value)) {\n    return value;\n  }\n  const digits = Math.min(Math.max(maximumFractionDigits, 0), 20);\n  return Number(value.toFixed(digits));\n}\nexport function removeFloatingPointErrors(value, format) {\n  const {\n    maximumFractionDigits\n  } = getFractionDigits(format);\n  return roundToFractionDigits(value, maximumFractionDigits);\n}\nfunction snapToStep(clampedValue, base, step, mode = 'directional') {\n  if (step === 0) {\n    return clampedValue;\n  }\n  const stepSize = Math.abs(step);\n  const direction = Math.sign(step);\n  const tolerance = stepSize * STEP_EPSILON_FACTOR * direction;\n  const divisor = mode === 'nearest' ? step : stepSize;\n  const rawSteps = (clampedValue - base + tolerance) / divisor;\n  let snappedSteps;\n  if (mode === 'nearest') {\n    snappedSteps = Math.round(rawSteps);\n  } else if (direction > 0) {\n    snappedSteps = Math.floor(rawSteps);\n  } else {\n    snappedSteps = Math.ceil(rawSteps);\n  }\n  const stepForResult = mode === 'nearest' ? step : stepSize;\n  return base + snappedSteps * stepForResult;\n}\nexport function toValidatedNumber(value, {\n  step,\n  minWithDefault,\n  maxWithDefault,\n  minWithZeroDefault,\n  format,\n  snapOnStep,\n  small\n}) {\n  if (value === null) {\n    return value;\n  }\n  const clampedValue = clamp(value, minWithDefault, maxWithDefault);\n  if (step != null && snapOnStep) {\n    if (step === 0) {\n      return removeFloatingPointErrors(clampedValue, format);\n    }\n\n    // If a real minimum is provided, use it\n    let base = minWithZeroDefault;\n    if (!small && minWithDefault !== Number.MIN_SAFE_INTEGER) {\n      base = minWithDefault;\n    }\n    const snappedValue = snapToStep(clampedValue, base, step, small ? 'nearest' : 'directional');\n    return removeFloatingPointErrors(snappedValue, format);\n  }\n  return removeFloatingPointErrors(clampedValue, format);\n}", "'use client';\n\nimport * as React from 'react';\nimport { useNumberFieldRootContext } from \"../root/NumberFieldRootContext.js\";\nimport { stateAttributesMapping } from \"../utils/stateAttributesMapping.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * Groups the input with the increment and decrement buttons.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Number Field](https://base-ui.com/react/components/number-field)\n */\nexport const NumberFieldGroup = /*#__PURE__*/React.forwardRef(function NumberFieldGroup(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const {\n    state\n  } = useNumberFieldRootContext();\n  const element = useRenderElement('div', componentProps, {\n    ref: forwardedRef,\n    state,\n    props: [{\n      role: 'group'\n    }, elementProps],\n    stateAttributesMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") NumberFieldGroup.displayName = \"NumberFieldGroup\";", "'use client';\n\nimport * as React from 'react';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useButton } from \"../../use-button/index.js\";\nimport { useNumberFieldRootContext } from \"../root/NumberFieldRootContext.js\";\nimport { useNumberFieldButton } from \"../root/useNumberFieldButton.js\";\nimport { stateAttributesMapping } from \"../utils/stateAttributesMapping.js\";\n\n/**\n * A stepper button that increases the field value when clicked.\n * Renders an `<button>` element.\n *\n * Documentation: [Base UI Number Field](https://base-ui.com/react/components/number-field)\n */\nexport const NumberFieldIncrement = /*#__PURE__*/React.forwardRef(function NumberFieldIncrement(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    disabled: disabledProp = false,\n    nativeButton = true,\n    ...elementProps\n  } = componentProps;\n  const {\n    allowInputSyncRef,\n    disabled: contextDisabled,\n    formatOptionsRef,\n    getStepAmount,\n    id,\n    incrementValue,\n    inputRef,\n    inputValue,\n    intentionalTouchCheckTimeout,\n    isPressedRef,\n    locale,\n    maxWithDefault,\n    movesAfterTouchRef,\n    readOnly,\n    setValue,\n    startAutoChange,\n    state,\n    stopAutoChange,\n    value,\n    valueRef,\n    lastChangedValueRef,\n    onValueCommitted\n  } = useNumberFieldRootContext();\n  const isMax = value != null && value >= maxWithDefault;\n  const disabled = disabledProp || contextDisabled || isMax;\n  const props = useNumberFieldButton({\n    isIncrement: true,\n    inputRef,\n    startAutoChange,\n    stopAutoChange,\n    inputValue,\n    disabled,\n    readOnly,\n    id,\n    setValue,\n    getStepAmount,\n    incrementValue,\n    allowInputSyncRef,\n    formatOptionsRef,\n    valueRef,\n    isPressedRef,\n    intentionalTouchCheckTimeout,\n    movesAfterTouchRef,\n    locale,\n    lastChangedValueRef,\n    onValueCommitted\n  });\n  const {\n    getButtonProps,\n    buttonRef\n  } = useButton({\n    disabled,\n    native: nativeButton,\n    focusableWhenDisabled: true\n  });\n  const buttonState = React.useMemo(() => ({\n    ...state,\n    disabled\n  }), [state, disabled]);\n  const element = useRenderElement('button', componentProps, {\n    ref: [forwardedRef, buttonRef],\n    state: buttonState,\n    props: [props, elementProps, getButtonProps],\n    stateAttributesMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") NumberFieldIncrement.displayName = \"NumberFieldIncrement\";", "'use client';\n\nimport * as React from 'react';\nimport { DEFAULT_STEP, MAX_POINTER_MOVES_AFTER_TOUCH, SCROLLING_POINTER_MOVE_DISTANCE, TOUCH_TIMEOUT } from \"../utils/constants.js\";\nimport { parseNumber } from \"../utils/parse.js\";\nimport { createChangeEventDetails, createGenericEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nexport function useNumberFieldButton(params) {\n  const {\n    allowInputSyncRef,\n    disabled,\n    formatOptionsRef,\n    getStepAmount,\n    id,\n    incrementValue,\n    inputRef,\n    inputValue,\n    intentionalTouchCheckTimeout,\n    isIncrement,\n    isPressedRef,\n    locale,\n    movesAfterTouchRef,\n    readOnly,\n    setValue,\n    startAutoChange,\n    stopAutoChange,\n    valueRef,\n    lastChangedValueRef,\n    onValueCommitted\n  } = params;\n  const incrementDownCoordsRef = React.useRef({\n    x: 0,\n    y: 0\n  });\n  const isTouchingButtonRef = React.useRef(false);\n  const ignoreClickRef = React.useRef(false);\n  const pointerTypeRef = React.useRef('');\n  const pressReason = isIncrement ? 'increment-press' : 'decrement-press';\n  function commitValue(nativeEvent) {\n    allowInputSyncRef.current = true;\n\n    // The input may be dirty but not yet blurred, so the value won't have been committed.\n    const parsedValue = parseNumber(inputValue, locale, formatOptionsRef.current);\n    if (parsedValue !== null) {\n      // The increment value function needs to know the current input value to increment it\n      // correctly.\n      valueRef.current = parsedValue;\n      setValue(parsedValue, createChangeEventDetails(pressReason, nativeEvent, undefined, {\n        direction: isIncrement ? 1 : -1\n      }));\n    }\n  }\n  const props = {\n    disabled,\n    'aria-readonly': readOnly || undefined,\n    'aria-label': isIncrement ? 'Increase' : 'Decrease',\n    'aria-controls': id,\n    // Keyboard users shouldn't have access to the buttons, since they can use the input element\n    // to change the value. On the other hand, `aria-hidden` is not applied because touch screen\n    // readers should be able to use the buttons.\n    tabIndex: -1,\n    style: {\n      WebkitUserSelect: 'none',\n      userSelect: 'none'\n    },\n    onTouchStart() {\n      isTouchingButtonRef.current = true;\n    },\n    onTouchEnd() {\n      isTouchingButtonRef.current = false;\n    },\n    onClick(event) {\n      const isDisabled = disabled || readOnly;\n      if (event.defaultPrevented || isDisabled || (\n      // If it's not a keyboard/virtual click, ignore.\n      pointerTypeRef.current === 'touch' ? ignoreClickRef.current : event.detail !== 0)) {\n        return;\n      }\n      commitValue(event.nativeEvent);\n      const amount = getStepAmount(event) ?? DEFAULT_STEP;\n      const prev = valueRef.current;\n      incrementValue(amount, {\n        direction: isIncrement ? 1 : -1,\n        event: event.nativeEvent,\n        reason: pressReason\n      });\n      const committed = lastChangedValueRef.current ?? valueRef.current;\n      if (committed !== prev) {\n        onValueCommitted(committed, createGenericEventDetails(pressReason, event.nativeEvent));\n      }\n    },\n    onPointerDown(event) {\n      const isMainButton = !event.button || event.button === 0;\n      if (event.defaultPrevented || readOnly || !isMainButton || disabled) {\n        return;\n      }\n      pointerTypeRef.current = event.pointerType;\n      ignoreClickRef.current = false;\n      isPressedRef.current = true;\n      incrementDownCoordsRef.current = {\n        x: event.clientX,\n        y: event.clientY\n      };\n      commitValue(event.nativeEvent);\n\n      // Note: \"pen\" is sometimes returned for mouse usage on Linux Chrome.\n      if (event.pointerType !== 'touch') {\n        event.preventDefault();\n        inputRef.current?.focus();\n        startAutoChange(isIncrement, event);\n      } else {\n        // We need to check if the pointerdown was intentional, and not the result of a scroll\n        // or pinch-zoom. In that case, we don't want to change the value.\n        intentionalTouchCheckTimeout.start(TOUCH_TIMEOUT, () => {\n          const moves = movesAfterTouchRef.current;\n          movesAfterTouchRef.current = 0;\n          // Only start auto-change if the touch is still pressed (prevents races\n          // with pointerup occurring before the timeout fires on quick taps).\n          const stillPressed = isPressedRef.current;\n          if (stillPressed && moves != null && moves < MAX_POINTER_MOVES_AFTER_TOUCH) {\n            startAutoChange(isIncrement, event);\n            ignoreClickRef.current = true; // synthesized click should be ignored\n          } else {\n            // No auto-change (simple tap or scroll gesture), allow the click handler\n            // to perform a single increment and commit.\n            ignoreClickRef.current = false;\n            stopAutoChange();\n          }\n        });\n      }\n    },\n    onPointerUp(event) {\n      // Ensure we mark the press as released for touch flows even if auto-change never started,\n      // so the delayed auto-change check wont start after a quick tap.\n      if (event.pointerType === 'touch') {\n        isPressedRef.current = false;\n      }\n    },\n    onPointerMove(event) {\n      const isDisabled = disabled || readOnly;\n      if (isDisabled || event.pointerType !== 'touch' || !isPressedRef.current) {\n        return;\n      }\n      if (movesAfterTouchRef.current != null) {\n        movesAfterTouchRef.current += 1;\n      }\n      const {\n        x,\n        y\n      } = incrementDownCoordsRef.current;\n      const dx = x - event.clientX;\n      const dy = y - event.clientY;\n\n      // An alternative to this technique is to detect when the NumberField's parent container\n      // has been scrolled\n      if (dx ** 2 + dy ** 2 > SCROLLING_POINTER_MOVE_DISTANCE ** 2) {\n        stopAutoChange();\n      }\n    },\n    onMouseEnter(event) {\n      const isDisabled = disabled || readOnly;\n      if (event.defaultPrevented || isDisabled || !isPressedRef.current || isTouchingButtonRef.current || pointerTypeRef.current === 'touch') {\n        return;\n      }\n      startAutoChange(isIncrement, event);\n    },\n    onMouseLeave() {\n      if (isTouchingButtonRef.current) {\n        return;\n      }\n      stopAutoChange();\n    },\n    onMouseUp() {\n      if (isTouchingButtonRef.current) {\n        return;\n      }\n      stopAutoChange();\n    }\n  };\n  return props;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useButton } from \"../../use-button/index.js\";\nimport { useNumberFieldRootContext } from \"../root/NumberFieldRootContext.js\";\nimport { useNumberFieldButton } from \"../root/useNumberFieldButton.js\";\nimport { stateAttributesMapping } from \"../utils/stateAttributesMapping.js\";\n\n/**\n * A stepper button that decreases the field value when clicked.\n * Renders an `<button>` element.\n *\n * Documentation: [Base UI Number Field](https://base-ui.com/react/components/number-field)\n */\nexport const NumberFieldDecrement = /*#__PURE__*/React.forwardRef(function NumberFieldDecrement(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    disabled: disabledProp = false,\n    nativeButton = true,\n    ...elementProps\n  } = componentProps;\n  const {\n    allowInputSyncRef,\n    disabled: contextDisabled,\n    formatOptionsRef,\n    getStepAmount,\n    id,\n    incrementValue,\n    inputRef,\n    inputValue,\n    intentionalTouchCheckTimeout,\n    isPressedRef,\n    minWithDefault,\n    movesAfterTouchRef,\n    readOnly,\n    setValue,\n    startAutoChange,\n    state,\n    stopAutoChange,\n    value,\n    valueRef,\n    locale,\n    lastChangedValueRef,\n    onValueCommitted\n  } = useNumberFieldRootContext();\n  const isMin = value != null && value <= minWithDefault;\n  const disabled = disabledProp || contextDisabled || isMin;\n  const props = useNumberFieldButton({\n    isIncrement: false,\n    inputRef,\n    startAutoChange,\n    stopAutoChange,\n    inputValue,\n    disabled,\n    readOnly,\n    id,\n    setValue,\n    getStepAmount,\n    incrementValue,\n    allowInputSyncRef,\n    formatOptionsRef,\n    valueRef,\n    isPressedRef,\n    intentionalTouchCheckTimeout,\n    movesAfterTouchRef,\n    locale,\n    lastChangedValueRef,\n    onValueCommitted\n  });\n  const {\n    getButtonProps,\n    buttonRef\n  } = useButton({\n    disabled,\n    native: nativeButton,\n    focusableWhenDisabled: true\n  });\n  const buttonState = React.useMemo(() => ({\n    ...state,\n    disabled\n  }), [state, disabled]);\n  const element = useRenderElement('button', componentProps, {\n    ref: [forwardedRef, buttonRef],\n    state: buttonState,\n    props: [props, elementProps, getButtonProps],\n    stateAttributesMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") NumberFieldDecrement.displayName = \"NumberFieldDecrement\";", "'use client';\n\nimport * as React from 'react';\nimport { stopEvent } from \"../../floating-ui-react/utils.js\";\nimport { useNumberFieldRootContext } from \"../root/NumberFieldRootContext.js\";\nimport { useFieldRootContext } from \"../../field/root/FieldRootContext.js\";\nimport { fieldValidityMapping } from \"../../field/utils/constants.js\";\nimport { useField } from \"../../field/useField.js\";\nimport { useFormContext } from \"../../form/FormContext.js\";\nimport { useLabelableContext } from \"../../labelable-provider/LabelableContext.js\";\nimport { DEFAULT_STEP } from \"../utils/constants.js\";\nimport { ARABIC_DETECT_RE, PERSIAN_DETECT_RE, HAN_DETECT_RE, FULLWIDTH_DETECT_RE, getNumberLocaleDetails, parseNumber, ANY_MINUS_RE, ANY_PLUS_RE, ANY_MINUS_DETECT_RE, ANY_PLUS_DETECT_RE } from \"../utils/parse.js\";\nimport { stateAttributesMapping as numberFieldStateAttributesMapping } from \"../utils/stateAttributesMapping.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { createChangeEventDetails, createGenericEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { formatNumber, formatNumberMaxPrecision } from \"../../utils/formatNumber.js\";\nimport { useValueChanged } from \"../../utils/useValueChanged.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nconst stateAttributesMapping = {\n  ...fieldValidityMapping,\n  ...numberFieldStateAttributesMapping\n};\nconst NAVIGATE_KEYS = new Set(['Backspace', 'Delete', 'ArrowLeft', 'ArrowRight', 'Tab', 'Enter', 'Escape']);\n\n/**\n * The native input control in the number field.\n * Renders an `<input>` element.\n *\n * Documentation: [Base UI Number Field](https://base-ui.com/react/components/number-field)\n */\nexport const NumberFieldInput = /*#__PURE__*/React.forwardRef(function NumberFieldInput(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const {\n    allowInputSyncRef,\n    disabled,\n    formatOptionsRef,\n    getAllowedNonNumericKeys,\n    getStepAmount,\n    id,\n    incrementValue,\n    inputMode,\n    inputValue,\n    max,\n    min,\n    name,\n    readOnly,\n    required,\n    setValue,\n    state,\n    setInputValue,\n    locale,\n    inputRef,\n    value,\n    onValueCommitted,\n    lastChangedValueRef,\n    hasPendingCommitRef,\n    valueRef\n  } = useNumberFieldRootContext();\n  const {\n    clearErrors\n  } = useFormContext();\n  const {\n    validationMode,\n    setTouched,\n    setFocused,\n    invalid,\n    shouldValidateOnChange,\n    validation\n  } = useFieldRootContext();\n  const {\n    labelId\n  } = useLabelableContext();\n  const hasTouchedInputRef = React.useRef(false);\n  const blockRevalidationRef = React.useRef(false);\n  useField({\n    id,\n    commit: validation.commit,\n    value,\n    controlRef: inputRef,\n    name,\n    getValue: () => value ?? null\n  });\n  useValueChanged(value, previousValue => {\n    const validateOnChange = shouldValidateOnChange();\n    clearErrors(name);\n    if (validateOnChange) {\n      validation.commit(value);\n    }\n    if (previousValue === value || validateOnChange) {\n      return;\n    }\n    if (blockRevalidationRef.current) {\n      blockRevalidationRef.current = false;\n      return;\n    }\n    validation.commit(value, true);\n  });\n  const inputProps = {\n    id,\n    required,\n    disabled,\n    readOnly,\n    inputMode,\n    value: inputValue,\n    type: 'text',\n    autoComplete: 'off',\n    autoCorrect: 'off',\n    spellCheck: 'false',\n    'aria-roledescription': 'Number field',\n    'aria-invalid': invalid || undefined,\n    'aria-labelledby': labelId,\n    // If the server's locale does not match the client's locale, the formatting may not match,\n    // causing a hydration mismatch.\n    suppressHydrationWarning: true,\n    onFocus(event) {\n      if (event.defaultPrevented || readOnly || disabled) {\n        return;\n      }\n      setFocused(true);\n      if (hasTouchedInputRef.current) {\n        return;\n      }\n      hasTouchedInputRef.current = true;\n\n      // Browsers set selection at the start of the input field by default. We want to set it at\n      // the end for the first focus.\n      const target = event.currentTarget;\n      const length = target.value.length;\n      target.setSelectionRange(length, length);\n    },\n    onBlur(event) {\n      if (event.defaultPrevented || readOnly || disabled) {\n        return;\n      }\n      setTouched(true);\n      setFocused(false);\n      const hadManualInput = !allowInputSyncRef.current;\n      const hadPendingProgrammaticChange = hasPendingCommitRef.current;\n      allowInputSyncRef.current = true;\n      if (inputValue.trim() === '') {\n        setValue(null, createChangeEventDetails(REASONS.inputClear, event.nativeEvent));\n        if (validationMode === 'onBlur') {\n          validation.commit(null);\n        }\n        onValueCommitted(null, createGenericEventDetails(REASONS.inputClear, event.nativeEvent));\n        return;\n      }\n      const formatOptions = formatOptionsRef.current;\n      const parsedValue = parseNumber(inputValue, locale, formatOptions);\n      if (parsedValue === null) {\n        return;\n      }\n\n      // If an explicit precision is requested, round the committed numeric value.\n      const hasExplicitPrecision = formatOptions?.maximumFractionDigits != null || formatOptions?.minimumFractionDigits != null;\n      const maxFrac = formatOptions?.maximumFractionDigits;\n      const committed = hasExplicitPrecision && typeof maxFrac === 'number' ? Number(parsedValue.toFixed(maxFrac)) : parsedValue;\n      const nextEventDetails = createGenericEventDetails(REASONS.inputBlur, event.nativeEvent);\n      const shouldUpdateValue = value !== committed;\n      const shouldCommit = hadManualInput || shouldUpdateValue || hadPendingProgrammaticChange;\n      if (validationMode === 'onBlur') {\n        validation.commit(committed);\n      }\n      if (shouldUpdateValue) {\n        blockRevalidationRef.current = true;\n        setValue(committed, createChangeEventDetails(REASONS.inputBlur, event.nativeEvent));\n      }\n      if (shouldCommit) {\n        onValueCommitted(committed, nextEventDetails);\n      }\n\n      // Normalize only the displayed text\n      const canonicalText = formatNumber(committed, locale, formatOptions);\n      const maxPrecisionText = formatNumberMaxPrecision(parsedValue, locale, formatOptions);\n      const shouldPreserveFullPrecision = !hasExplicitPrecision && parsedValue === value && inputValue === maxPrecisionText;\n      if (!shouldPreserveFullPrecision && inputValue !== canonicalText) {\n        setInputValue(canonicalText);\n      }\n    },\n    onChange(event) {\n      // Workaround for https://github.com/facebook/react/issues/9023\n      if (event.nativeEvent.defaultPrevented) {\n        return;\n      }\n      allowInputSyncRef.current = false;\n      const targetValue = event.target.value;\n      if (targetValue.trim() === '') {\n        setInputValue(targetValue);\n        setValue(null, createChangeEventDetails(REASONS.inputClear, event.nativeEvent));\n        return;\n      }\n\n      // For trusted user typing, update the input text immediately and only fire onValueChange\n      // if the typed value is currently parseable into a number. This preserves good UX for IME\n      // composition/partial input while still providing live numeric updates when possible.\n      const allowedNonNumericKeys = getAllowedNonNumericKeys();\n      const isValidCharacterString = Array.from(targetValue).every(ch => {\n        const isAsciiDigit = ch >= '0' && ch <= '9';\n        const isArabicNumeral = ARABIC_DETECT_RE.test(ch);\n        const isHanNumeral = HAN_DETECT_RE.test(ch);\n        const isPersianNumeral = PERSIAN_DETECT_RE.test(ch);\n        const isFullwidthNumeral = FULLWIDTH_DETECT_RE.test(ch);\n        const isMinus = ANY_MINUS_DETECT_RE.test(ch);\n        return isAsciiDigit || isArabicNumeral || isHanNumeral || isPersianNumeral || isFullwidthNumeral || isMinus || allowedNonNumericKeys.has(ch);\n      });\n      if (!isValidCharacterString) {\n        return;\n      }\n      if (event.isTrusted) {\n        setInputValue(targetValue);\n        const parsedValue = parseNumber(targetValue, locale, formatOptionsRef.current);\n        if (parsedValue !== null) {\n          setValue(parsedValue, createChangeEventDetails(REASONS.inputChange, event.nativeEvent));\n        }\n        return;\n      }\n      const parsedValue = parseNumber(targetValue, locale, formatOptionsRef.current);\n      if (parsedValue !== null) {\n        setInputValue(targetValue);\n        setValue(parsedValue, createChangeEventDetails(REASONS.inputChange, event.nativeEvent));\n      }\n    },\n    onKeyDown(event) {\n      if (event.defaultPrevented || readOnly || disabled) {\n        return;\n      }\n      const nativeEvent = event.nativeEvent;\n      allowInputSyncRef.current = true;\n      const allowedNonNumericKeys = getAllowedNonNumericKeys();\n      let isAllowedNonNumericKey = allowedNonNumericKeys.has(event.key);\n      const {\n        decimal,\n        currency,\n        percentSign\n      } = getNumberLocaleDetails(locale, formatOptionsRef.current);\n      const selectionStart = event.currentTarget.selectionStart;\n      const selectionEnd = event.currentTarget.selectionEnd;\n      const isAllSelected = selectionStart === 0 && selectionEnd === inputValue.length;\n\n      // Normalize handling of plus/minus signs via precomputed regexes\n      const selectionContainsIndex = index => selectionStart != null && selectionEnd != null && index >= selectionStart && index < selectionEnd;\n      if (ANY_MINUS_DETECT_RE.test(event.key) && Array.from(allowedNonNumericKeys).some(k => ANY_MINUS_DETECT_RE.test(k || ''))) {\n        // Only allow one sign unless replacing the existing one or all text is selected\n        const existingIndex = inputValue.search(ANY_MINUS_RE);\n        const isReplacingExisting = existingIndex != null && existingIndex !== -1 && selectionContainsIndex(existingIndex);\n        isAllowedNonNumericKey = !(ANY_MINUS_DETECT_RE.test(inputValue) || ANY_PLUS_DETECT_RE.test(inputValue)) || isAllSelected || isReplacingExisting;\n      }\n      if (ANY_PLUS_DETECT_RE.test(event.key) && Array.from(allowedNonNumericKeys).some(k => ANY_PLUS_DETECT_RE.test(k || ''))) {\n        const existingIndex = inputValue.search(ANY_PLUS_RE);\n        const isReplacingExisting = existingIndex != null && existingIndex !== -1 && selectionContainsIndex(existingIndex);\n        isAllowedNonNumericKey = !(ANY_MINUS_DETECT_RE.test(inputValue) || ANY_PLUS_DETECT_RE.test(inputValue)) || isAllSelected || isReplacingExisting;\n      }\n\n      // Only allow one of each symbol.\n      [decimal, currency, percentSign].forEach(symbol => {\n        if (event.key === symbol) {\n          const symbolIndex = inputValue.indexOf(symbol);\n          const isSymbolHighlighted = selectionContainsIndex(symbolIndex);\n          isAllowedNonNumericKey = !inputValue.includes(symbol) || isAllSelected || isSymbolHighlighted;\n        }\n      });\n      const isAsciiDigit = event.key >= '0' && event.key <= '9';\n      const isArabicNumeral = ARABIC_DETECT_RE.test(event.key);\n      const isHanNumeral = HAN_DETECT_RE.test(event.key);\n      const isFullwidthNumeral = FULLWIDTH_DETECT_RE.test(event.key);\n      const isNavigateKey = NAVIGATE_KEYS.has(event.key);\n      if (\n      // Allow composition events (e.g., pinyin)\n      // event.nativeEvent.isComposing does not work in Safari:\n      // https://bugs.webkit.org/show_bug.cgi?id=165004\n      event.which === 229 || event.altKey || event.ctrlKey || event.metaKey || isAllowedNonNumericKey || isAsciiDigit || isArabicNumeral || isFullwidthNumeral || isHanNumeral || isNavigateKey) {\n        return;\n      }\n\n      // We need to commit the number at this point if the input hasn't been blurred.\n      const parsedValue = parseNumber(inputValue, locale, formatOptionsRef.current);\n      const amount = getStepAmount(event) ?? DEFAULT_STEP;\n\n      // Prevent insertion of text or caret from moving.\n      stopEvent(event);\n      const commitDetails = createGenericEventDetails(REASONS.keyboard, nativeEvent);\n      if (event.key === 'ArrowUp') {\n        incrementValue(amount, {\n          direction: 1,\n          currentValue: parsedValue,\n          event: nativeEvent,\n          reason: REASONS.keyboard\n        });\n        onValueCommitted(lastChangedValueRef.current ?? valueRef.current, commitDetails);\n      } else if (event.key === 'ArrowDown') {\n        incrementValue(amount, {\n          direction: -1,\n          currentValue: parsedValue,\n          event: nativeEvent,\n          reason: REASONS.keyboard\n        });\n        onValueCommitted(lastChangedValueRef.current ?? valueRef.current, commitDetails);\n      } else if (event.key === 'Home' && min != null) {\n        setValue(min, createChangeEventDetails(REASONS.keyboard, nativeEvent));\n        onValueCommitted(lastChangedValueRef.current ?? valueRef.current, commitDetails);\n      } else if (event.key === 'End' && max != null) {\n        setValue(max, createChangeEventDetails(REASONS.keyboard, nativeEvent));\n        onValueCommitted(lastChangedValueRef.current ?? valueRef.current, commitDetails);\n      }\n    },\n    onPaste(event) {\n      if (event.defaultPrevented || readOnly || disabled) {\n        return;\n      }\n\n      // Prevent `onChange` from being called.\n      event.preventDefault();\n      const clipboardData = event.clipboardData || window.Clipboard;\n      const pastedData = clipboardData.getData('text/plain');\n      const parsedValue = parseNumber(pastedData, locale, formatOptionsRef.current);\n      if (parsedValue !== null) {\n        allowInputSyncRef.current = false;\n        setValue(parsedValue, createChangeEventDetails(REASONS.inputPaste, event.nativeEvent));\n        setInputValue(pastedData);\n      }\n    }\n  };\n  const element = useRenderElement('input', componentProps, {\n    ref: [forwardedRef, inputRef],\n    state,\n    props: [inputProps, validation.getValidationProps(), elementProps],\n    stateAttributesMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") NumberFieldInput.displayName = \"NumberFieldInput\";", "'use client';\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { ownerWindow, ownerDocument } from '@base-ui/utils/owner';\nimport { isFirefox, isWebKit } from '@base-ui/utils/detectBrowser';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useTimeout } from '@base-ui/utils/useTimeout';\nimport { useNumberFieldRootContext } from \"../root/NumberFieldRootContext.js\";\nimport { stateAttributesMapping } from \"../utils/stateAttributesMapping.js\";\nimport { NumberFieldScrubAreaContext } from \"./NumberFieldScrubAreaContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { getViewportRect } from \"../utils/getViewportRect.js\";\nimport { subscribeToVisualViewportResize } from \"../utils/subscribeToVisualViewportResize.js\";\nimport { DEFAULT_STEP } from \"../utils/constants.js\";\nimport { createGenericEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\n\n/**\n * An interactive area where the user can click and drag to change the field value.\n * Renders a `<span>` element.\n *\n * Documentation: [Base UI Number Field](https://base-ui.com/react/components/number-field)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const NumberFieldScrubArea = /*#__PURE__*/React.forwardRef(function NumberFieldScrubArea(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    direction = 'horizontal',\n    pixelSensitivity = 2,\n    teleportDistance,\n    ...elementProps\n  } = componentProps;\n  const {\n    state,\n    setIsScrubbing: setRootScrubbing,\n    disabled,\n    readOnly,\n    inputRef,\n    incrementValue,\n    getStepAmount,\n    onValueCommitted,\n    lastChangedValueRef,\n    valueRef\n  } = useNumberFieldRootContext();\n  const scrubAreaRef = React.useRef(null);\n  const isScrubbingRef = React.useRef(false);\n  const scrubAreaCursorRef = React.useRef(null);\n  const virtualCursorCoords = React.useRef({\n    x: 0,\n    y: 0\n  });\n  const visualScaleRef = React.useRef(1);\n  const exitPointerLockTimeout = useTimeout();\n  const [isTouchInput, setIsTouchInput] = React.useState(false);\n  const [isPointerLockDenied, setIsPointerLockDenied] = React.useState(false);\n  const [isScrubbing, setIsScrubbing] = React.useState(false);\n  React.useEffect(() => {\n    if (!isScrubbing || !scrubAreaCursorRef.current) {\n      return undefined;\n    }\n    return subscribeToVisualViewportResize(scrubAreaCursorRef.current, visualScaleRef);\n  }, [isScrubbing]);\n  function updateCursorTransform(x, y) {\n    if (scrubAreaCursorRef.current) {\n      scrubAreaCursorRef.current.style.transform = `translate3d(${x}px,${y}px,0) scale(${1 / visualScaleRef.current})`;\n    }\n  }\n  const onScrub = useStableCallback(({\n    movementX,\n    movementY\n  }) => {\n    const virtualCursor = scrubAreaCursorRef.current;\n    const scrubAreaEl = scrubAreaRef.current;\n    if (!virtualCursor || !scrubAreaEl) {\n      return;\n    }\n    const rect = getViewportRect(teleportDistance, scrubAreaEl);\n    const coords = virtualCursorCoords.current;\n    const newCoords = {\n      x: Math.round(coords.x + movementX),\n      y: Math.round(coords.y + movementY)\n    };\n    const cursorWidth = virtualCursor.offsetWidth;\n    const cursorHeight = virtualCursor.offsetHeight;\n    if (newCoords.x + cursorWidth / 2 < rect.x) {\n      newCoords.x = rect.width - cursorWidth / 2;\n    } else if (newCoords.x + cursorWidth / 2 > rect.width) {\n      newCoords.x = rect.x - cursorWidth / 2;\n    }\n    if (newCoords.y + cursorHeight / 2 < rect.y) {\n      newCoords.y = rect.height - cursorHeight / 2;\n    } else if (newCoords.y + cursorHeight / 2 > rect.height) {\n      newCoords.y = rect.y - cursorHeight / 2;\n    }\n    virtualCursorCoords.current = newCoords;\n    updateCursorTransform(newCoords.x, newCoords.y);\n  });\n  const onScrubbingChange = useStableCallback((scrubbingValue, {\n    clientX,\n    clientY\n  }) => {\n    ReactDOM.flushSync(() => {\n      setIsScrubbing(scrubbingValue);\n      setRootScrubbing(scrubbingValue);\n    });\n    const virtualCursor = scrubAreaCursorRef.current;\n    if (!virtualCursor || !scrubbingValue) {\n      return;\n    }\n    const initialCoords = {\n      x: clientX - virtualCursor.offsetWidth / 2,\n      y: clientY - virtualCursor.offsetHeight / 2\n    };\n    virtualCursorCoords.current = initialCoords;\n    updateCursorTransform(initialCoords.x, initialCoords.y);\n  });\n  React.useEffect(function registerGlobalScrubbingEventListeners() {\n    // Only listen while actively scrubbing; avoids unrelated pointerup events committing.\n    if (!inputRef.current || disabled || readOnly || !isScrubbing) {\n      return undefined;\n    }\n    let cumulativeDelta = 0;\n    function handleScrubPointerUp(event) {\n      function handler() {\n        try {\n          ownerDocument(scrubAreaRef.current).exitPointerLock();\n        } catch {\n          // Ignore errors.\n        } finally {\n          isScrubbingRef.current = false;\n          onScrubbingChange(false, event);\n          onValueCommitted(lastChangedValueRef.current ?? valueRef.current, createGenericEventDetails(REASONS.scrub, event));\n        }\n      }\n      if (isFirefox) {\n        // Firefox needs a small delay here when soft-clicking as the pointer\n        // lock will not release otherwise.\n        exitPointerLockTimeout.start(20, handler);\n      } else {\n        handler();\n      }\n    }\n    function handleScrubPointerMove(event) {\n      if (!isScrubbingRef.current) {\n        return;\n      }\n\n      // Prevent text selection.\n      event.preventDefault();\n      onScrub(event);\n      const {\n        movementX,\n        movementY\n      } = event;\n      cumulativeDelta += direction === 'vertical' ? movementY : movementX;\n      if (Math.abs(cumulativeDelta) >= pixelSensitivity) {\n        cumulativeDelta = 0;\n        const dValue = direction === 'vertical' ? -movementY : movementX;\n        const stepAmount = getStepAmount(event) ?? DEFAULT_STEP;\n        const rawAmount = dValue * stepAmount;\n        if (rawAmount !== 0) {\n          incrementValue(Math.abs(rawAmount), {\n            direction: rawAmount >= 0 ? 1 : -1,\n            event,\n            reason: REASONS.scrub\n          });\n        }\n      }\n    }\n    const win = ownerWindow(inputRef.current);\n    win.addEventListener('pointerup', handleScrubPointerUp, true);\n    win.addEventListener('pointermove', handleScrubPointerMove, true);\n    return () => {\n      exitPointerLockTimeout.clear();\n      win.removeEventListener('pointerup', handleScrubPointerUp, true);\n      win.removeEventListener('pointermove', handleScrubPointerMove, true);\n    };\n  }, [disabled, readOnly, incrementValue, isScrubbing, getStepAmount, inputRef, onScrubbingChange, onScrub, direction, pixelSensitivity, lastChangedValueRef, onValueCommitted, valueRef, exitPointerLockTimeout]);\n\n  // Prevent scrolling using touch input when scrubbing.\n  React.useEffect(function registerScrubberTouchPreventListener() {\n    const element = scrubAreaRef.current;\n    if (!element || disabled || readOnly) {\n      return undefined;\n    }\n    function handleTouchStart(event) {\n      if (event.touches.length === 1) {\n        event.preventDefault();\n      }\n    }\n    element.addEventListener('touchstart', handleTouchStart);\n    return () => {\n      element.removeEventListener('touchstart', handleTouchStart);\n    };\n  }, [disabled, readOnly]);\n  const defaultProps = {\n    role: 'presentation',\n    style: {\n      touchAction: 'none',\n      WebkitUserSelect: 'none',\n      userSelect: 'none'\n    },\n    async onPointerDown(event) {\n      const isMainButton = !event.button || event.button === 0;\n      if (event.defaultPrevented || readOnly || !isMainButton || disabled) {\n        return;\n      }\n      const isTouch = event.pointerType === 'touch';\n      setIsTouchInput(isTouch);\n      if (event.pointerType === 'mouse') {\n        event.preventDefault();\n        inputRef.current?.focus();\n      }\n      isScrubbingRef.current = true;\n      onScrubbingChange(true, event.nativeEvent);\n\n      // WebKit causes significant layout shift with the native message, so we can't use it.\n      if (!isTouch && !isWebKit) {\n        try {\n          // Avoid non-deterministic errors in testing environments. This error sometimes\n          // appears:\n          // \"The root document of this element is not valid for pointer lock.\"\n          await ownerDocument(scrubAreaRef.current).body.requestPointerLock();\n          setIsPointerLockDenied(false);\n        } catch (error) {\n          setIsPointerLockDenied(true);\n        } finally {\n          if (isScrubbingRef.current) {\n            ReactDOM.flushSync(() => {\n              onScrubbingChange(true, event.nativeEvent);\n            });\n          }\n        }\n      }\n    }\n  };\n  const element = useRenderElement('span', componentProps, {\n    ref: [forwardedRef, scrubAreaRef],\n    state,\n    props: [defaultProps, elementProps],\n    stateAttributesMapping\n  });\n  const contextValue = React.useMemo(() => ({\n    isScrubbing,\n    isTouchInput,\n    isPointerLockDenied,\n    scrubAreaCursorRef,\n    scrubAreaRef,\n    direction,\n    pixelSensitivity,\n    teleportDistance\n  }), [isScrubbing, isTouchInput, isPointerLockDenied, direction, pixelSensitivity, teleportDistance]);\n  return /*#__PURE__*/_jsx(NumberFieldScrubAreaContext.Provider, {\n    value: contextValue,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") NumberFieldScrubArea.displayName = \"NumberFieldScrubArea\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const NumberFieldScrubAreaContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") NumberFieldScrubAreaContext.displayName = \"NumberFieldScrubAreaContext\";\nexport function useNumberFieldScrubAreaContext() {\n  const context = React.useContext(NumberFieldScrubAreaContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: NumberFieldScrubAreaContext is missing. NumberFieldScrubArea parts must be placed within <NumberField.ScrubArea>.' : _formatErrorMessage(44));\n  }\n  return context;\n}", "import { ownerWindow } from '@base-ui/utils/owner';\n\n// Calculates the viewport rect for the virtual cursor.\nexport function getViewportRect(teleportDistance, scrubAreaEl) {\n  const win = ownerWindow(scrubAreaEl);\n  const rect = scrubAreaEl.getBoundingClientRect();\n  if (rect && teleportDistance != null) {\n    return {\n      x: rect.left - teleportDistance / 2,\n      y: rect.top - teleportDistance / 2,\n      width: rect.right + teleportDistance / 2,\n      height: rect.bottom + teleportDistance / 2\n    };\n  }\n  const vV = win.visualViewport;\n  if (vV) {\n    return {\n      x: vV.offsetLeft,\n      y: vV.offsetTop,\n      width: vV.offsetLeft + vV.width,\n      height: vV.offsetTop + vV.height\n    };\n  }\n  return {\n    x: 0,\n    y: 0,\n    width: win.document.documentElement.clientWidth,\n    height: win.document.documentElement.clientHeight\n  };\n}", "import { ownerWindow } from '@base-ui/utils/owner';\n\n// This lets us invert the scale of the cursor to match the OS scale, in which the cursor doesn't\n// scale with the content on pinch-zoom.\nexport function subscribeToVisualViewportResize(element, visualScaleRef) {\n  const vV = ownerWindow(element).visualViewport;\n  if (!vV) {\n    return () => {};\n  }\n  function handleVisualResize() {\n    if (vV) {\n      visualScaleRef.current = vV.scale;\n    }\n  }\n  handleVisualResize();\n  vV.addEventListener('resize', handleVisualResize);\n  return () => {\n    vV.removeEventListener('resize', handleVisualResize);\n  };\n}", "'use client';\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { isWebKit } from '@base-ui/utils/detectBrowser';\nimport { ownerDocument } from '@base-ui/utils/owner';\nimport { useNumberFieldRootContext } from \"../root/NumberFieldRootContext.js\";\nimport { stateAttributesMapping } from \"../utils/stateAttributesMapping.js\";\nimport { useNumberFieldScrubAreaContext } from \"../scrub-area/NumberFieldScrubAreaContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * A custom element to display instead of the native cursor while using the scrub area.\n * Renders a `<span>` element.\n *\n * This component uses the [Pointer Lock API](https://developer.mozilla.org/en-US/docs/Web/API/Pointer_Lock_API), which may prompt the browser to display a related notification. It is disabled\n * in Safari to avoid a layout shift that this notification causes there.\n *\n * Documentation: [Base UI Number Field](https://base-ui.com/react/components/number-field)\n */\nexport const NumberFieldScrubAreaCursor = /*#__PURE__*/React.forwardRef(function NumberFieldScrubAreaCursor(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const {\n    state\n  } = useNumberFieldRootContext();\n  const {\n    isScrubbing,\n    isTouchInput,\n    isPointerLockDenied,\n    scrubAreaCursorRef\n  } = useNumberFieldScrubAreaContext();\n  const [domElement, setDomElement] = React.useState(null);\n  const shouldRender = isScrubbing && !isWebKit && !isTouchInput && !isPointerLockDenied;\n  const element = useRenderElement('span', componentProps, {\n    enabled: shouldRender,\n    ref: [forwardedRef, scrubAreaCursorRef, setDomElement],\n    state,\n    props: [{\n      role: 'presentation',\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        pointerEvents: 'none'\n      }\n    }, elementProps],\n    stateAttributesMapping\n  });\n  return element && /*#__PURE__*/ReactDOM.createPortal(element, ownerDocument(domElement).body);\n});\nif (process.env.NODE_ENV !== \"production\") NumberFieldScrubAreaCursor.displayName = \"NumberFieldScrubAreaCursor\";", "export { PopoverRoot as Root } from \"./root/PopoverRoot.js\";\nexport { PopoverTrigger as Trigger } from \"./trigger/PopoverTrigger.js\";\nexport { PopoverPortal as Portal } from \"./portal/PopoverPortal.js\";\nexport { PopoverPositioner as Positioner } from \"./positioner/PopoverPositioner.js\";\nexport { PopoverPopup as Popup } from \"./popup/PopoverPopup.js\";\nexport { PopoverArrow as Arrow } from \"./arrow/PopoverArrow.js\";\nexport { PopoverBackdrop as Backdrop } from \"./backdrop/PopoverBackdrop.js\";\nexport { PopoverTitle as Title } from \"./title/PopoverTitle.js\";\nexport { PopoverDescription as Description } from \"./description/PopoverDescription.js\";\nexport { PopoverClose as Close } from \"./close/PopoverClose.js\";\nexport { PopoverViewport as Viewport } from \"./viewport/PopoverViewport.js\";\nexport { createPopoverHandle as createHandle, PopoverHandle as Handle } from \"./store/PopoverHandle.js\";", "'use client';\n\nimport * as React from 'react';\nimport { useScrollLock } from '@base-ui/utils/useScrollLock';\nimport { useDismiss, useInteractions, useRole, FloatingTree, useFloatingParentNodeId, useSyncedFloatingRootContext } from \"../../floating-ui-react/index.js\";\nimport { PopoverRootContext, usePopoverRootContext } from \"./PopoverRootContext.js\";\nimport { PopoverStore } from \"../store/PopoverStore.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { useImplicitActiveTrigger, useOpenStateTransitions } from \"../../utils/popups/index.js\";\nimport { useOpenInteractionType } from \"../../utils/useOpenInteractionType.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nfunction PopoverRootComponent({\n  props\n}) {\n  const {\n    children,\n    open: openProp,\n    defaultOpen: defaultOpenProp = false,\n    onOpenChange,\n    onOpenChangeComplete,\n    modal = false,\n    handle,\n    triggerId: triggerIdProp,\n    defaultTriggerId: defaultTriggerIdProp = null\n  } = props;\n  const store = PopoverStore.useStore(handle?.store, {\n    open: openProp ?? defaultOpenProp,\n    modal,\n    activeTriggerId: triggerIdProp !== undefined ? triggerIdProp : defaultTriggerIdProp\n  });\n  store.useControlledProp('open', openProp, defaultOpenProp);\n  store.useControlledProp('activeTriggerId', triggerIdProp, defaultTriggerIdProp);\n  const open = store.useState('open');\n  const positionerElement = store.useState('positionerElement');\n  const payload = store.useState('payload');\n  const openReason = store.useState('openChangeReason');\n  store.useContextCallback('onOpenChange', onOpenChange);\n  store.useContextCallback('onOpenChangeComplete', onOpenChangeComplete);\n  const {\n    openMethod,\n    triggerProps: interactionTypeTriggerProps,\n    reset: resetOpenInteractionType\n  } = useOpenInteractionType(open);\n  useImplicitActiveTrigger(store);\n  const {\n    forceUnmount\n  } = useOpenStateTransitions(open, store, () => {\n    store.update({\n      stickIfOpen: true,\n      openChangeReason: null\n    });\n    resetOpenInteractionType();\n  });\n  useScrollLock(open && modal === true && openReason !== REASONS.triggerHover && openMethod !== 'touch', positionerElement);\n  React.useEffect(() => {\n    if (!open) {\n      store.context.stickIfOpenTimeout.clear();\n    }\n  }, [store, open]);\n  const createPopoverEventDetails = React.useCallback(reason => {\n    const details = createChangeEventDetails(reason);\n    details.preventUnmountOnClose = () => {\n      store.set('preventUnmountingOnClose', true);\n    };\n    return details;\n  }, [store]);\n  const handleImperativeClose = React.useCallback(() => {\n    store.setOpen(false, createPopoverEventDetails(REASONS.imperativeAction));\n  }, [store, createPopoverEventDetails]);\n  React.useImperativeHandle(props.actionsRef, () => ({\n    unmount: forceUnmount,\n    close: handleImperativeClose\n  }), [forceUnmount, handleImperativeClose]);\n  const floatingRootContext = useSyncedFloatingRootContext({\n    popupStore: store,\n    onOpenChange: store.setOpen\n  });\n  const dismiss = useDismiss(floatingRootContext, {\n    outsidePressEvent: {\n      // Ensure `aria-hidden` on outside elements is removed immediately\n      // on outside press when trapping focus.\n      mouse: modal === 'trap-focus' ? 'sloppy' : 'intentional',\n      touch: 'sloppy'\n    }\n  });\n  const role = useRole(floatingRootContext);\n  const {\n    getReferenceProps,\n    getFloatingProps,\n    getTriggerProps\n  } = useInteractions([dismiss, role]);\n  const activeTriggerProps = React.useMemo(() => {\n    return getReferenceProps(interactionTypeTriggerProps);\n  }, [getReferenceProps, interactionTypeTriggerProps]);\n  const inactiveTriggerProps = React.useMemo(() => {\n    return getTriggerProps(interactionTypeTriggerProps);\n  }, [getTriggerProps, interactionTypeTriggerProps]);\n  const popupProps = React.useMemo(() => {\n    return getFloatingProps();\n  }, [getFloatingProps]);\n  store.useSyncedValues({\n    modal,\n    openMethod,\n    activeTriggerProps,\n    inactiveTriggerProps,\n    popupProps,\n    floatingRootContext,\n    nested: useFloatingParentNodeId() != null\n  });\n  const popoverContext = React.useMemo(() => ({\n    store\n  }), [store]);\n  return /*#__PURE__*/_jsx(PopoverRootContext.Provider, {\n    value: popoverContext,\n    children: typeof children === 'function' ? children({\n      payload\n    }) : children\n  });\n}\n\n/**\n * Groups all parts of the popover.\n * Doesnt render its own HTML element.\n *\n * Documentation: [Base UI Popover](https://base-ui.com/react/components/popover)\n */\nexport function PopoverRoot(props) {\n  if (usePopoverRootContext(true)) {\n    return /*#__PURE__*/_jsx(PopoverRootComponent, {\n      props: props\n    });\n  }\n  return /*#__PURE__*/_jsx(FloatingTree, {\n    children: /*#__PURE__*/_jsx(PopoverRootComponent, {\n      props: props\n    })\n  });\n}", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const PopoverRootContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") PopoverRootContext.displayName = \"PopoverRootContext\";\nexport function usePopoverRootContext(optional) {\n  const context = React.useContext(PopoverRootContext);\n  if (context === undefined && !optional) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: PopoverRootContext is missing. Popover parts must be placed within <Popover.Root>.' : _formatErrorMessage(47));\n  }\n  return context;\n}", "/* eslint-disable react-hooks/rules-of-hooks */\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { ReactStore, createSelector } from '@base-ui/utils/store';\nimport { Timeout } from '@base-ui/utils/useTimeout';\nimport { useRefWithInit } from '@base-ui/utils/useRefWithInit';\nimport { useOnMount } from '@base-ui/utils/useOnMount';\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { createInitialPopupStoreState, popupStoreSelectors, PopupTriggerMap } from \"../../utils/popups/index.js\";\nimport { PATIENT_CLICK_THRESHOLD } from \"../../utils/constants.js\";\nfunction createInitialState() {\n  return {\n    ...createInitialPopupStoreState(),\n    disabled: false,\n    modal: false,\n    instantType: undefined,\n    openMethod: null,\n    openChangeReason: null,\n    titleElementId: undefined,\n    descriptionElementId: undefined,\n    stickIfOpen: true,\n    nested: false,\n    openOnHover: false,\n    closeDelay: 0,\n    hasViewport: false\n  };\n}\nconst selectors = {\n  ...popupStoreSelectors,\n  disabled: createSelector(state => state.disabled),\n  instantType: createSelector(state => state.instantType),\n  openMethod: createSelector(state => state.openMethod),\n  openChangeReason: createSelector(state => state.openChangeReason),\n  modal: createSelector(state => state.modal),\n  stickIfOpen: createSelector(state => state.stickIfOpen),\n  titleElementId: createSelector(state => state.titleElementId),\n  descriptionElementId: createSelector(state => state.descriptionElementId),\n  openOnHover: createSelector(state => state.openOnHover),\n  closeDelay: createSelector(state => state.closeDelay),\n  hasViewport: createSelector(state => state.hasViewport)\n};\nexport class PopoverStore extends ReactStore {\n  constructor(initialState) {\n    const initial = {\n      ...createInitialState(),\n      ...initialState\n    };\n    if (initial.open && initialState?.mounted === undefined) {\n      initial.mounted = true;\n    }\n    super(initial, {\n      popupRef: /*#__PURE__*/React.createRef(),\n      backdropRef: /*#__PURE__*/React.createRef(),\n      internalBackdropRef: /*#__PURE__*/React.createRef(),\n      onOpenChange: undefined,\n      onOpenChangeComplete: undefined,\n      triggerFocusTargetRef: /*#__PURE__*/React.createRef(),\n      beforeContentFocusGuardRef: /*#__PURE__*/React.createRef(),\n      stickIfOpenTimeout: new Timeout(),\n      triggerElements: new PopupTriggerMap()\n    }, selectors);\n  }\n  setOpen = (nextOpen, eventDetails) => {\n    const isHover = eventDetails.reason === REASONS.triggerHover;\n    const isKeyboardClick = eventDetails.reason === REASONS.triggerPress && eventDetails.event.detail === 0;\n    const isDismissClose = !nextOpen && (eventDetails.reason === REASONS.escapeKey || eventDetails.reason == null);\n    eventDetails.preventUnmountOnClose = () => {\n      this.set('preventUnmountingOnClose', true);\n    };\n    this.context.onOpenChange?.(nextOpen, eventDetails);\n    if (eventDetails.isCanceled) {\n      return;\n    }\n    const details = {\n      open: nextOpen,\n      nativeEvent: eventDetails.event,\n      reason: eventDetails.reason,\n      nested: this.state.nested,\n      triggerElement: eventDetails.trigger\n    };\n    const floatingEvents = this.state.floatingRootContext.context.events;\n    floatingEvents?.emit('openchange', details);\n    const changeState = () => {\n      const updatedState = {\n        open: nextOpen,\n        openChangeReason: eventDetails.reason\n      };\n\n      // If a popup is closing, the `trigger` may be null.\n      // We want to keep the previous value so that exit animations are played and focus is returned correctly.\n      const newTriggerId = eventDetails.trigger?.id ?? null;\n      if (newTriggerId || nextOpen) {\n        updatedState.activeTriggerId = newTriggerId;\n        updatedState.activeTriggerElement = eventDetails.trigger ?? null;\n      }\n      this.update(updatedState);\n    };\n    if (isHover) {\n      // Only allow \"patient\" clicks to close the popover if it's open.\n      // If they clicked within 500ms of the popover opening, keep it open.\n      this.set('stickIfOpen', true);\n      this.context.stickIfOpenTimeout.start(PATIENT_CLICK_THRESHOLD, () => {\n        this.set('stickIfOpen', false);\n      });\n      ReactDOM.flushSync(changeState);\n    } else {\n      changeState();\n    }\n    if (isKeyboardClick || isDismissClose) {\n      this.set('instantType', isKeyboardClick ? 'click' : 'dismiss');\n    } else if (eventDetails.reason === REASONS.focusOut) {\n      this.set('instantType', 'focus');\n    } else {\n      this.set('instantType', undefined);\n    }\n  };\n  static useStore(externalStore, initialState) {\n    const internalStore = useRefWithInit(() => {\n      return new PopoverStore(initialState);\n    }).current;\n    const store = externalStore ?? internalStore;\n    useOnMount(internalStore.disposeEffect);\n    return store;\n  }\n  disposeEffect = () => {\n    return this.context.stickIfOpenTimeout.disposeEffect();\n  };\n}", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { usePopoverRootContext } from \"../root/PopoverRootContext.js\";\nimport { useButton } from \"../../use-button/useButton.js\";\nimport { triggerOpenStateMapping, pressableTriggerOpenStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { CLICK_TRIGGER_IDENTIFIER } from \"../../utils/constants.js\";\nimport { safePolygon, useClick, useHoverReferenceInteraction, useInteractions } from \"../../floating-ui-react/index.js\";\nimport { OPEN_DELAY } from \"../utils/constants.js\";\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { FocusGuard } from \"../../utils/FocusGuard.js\";\nimport { contains, getNextTabbable, getTabbableAfterElement, getTabbableBeforeElement, isOutsideEvent } from \"../../floating-ui-react/utils.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { useTriggerDataForwarding } from \"../../utils/popups/index.js\";\n\n/**\n * A button that opens the popover.\n * Renders a `<button>` element.\n *\n * Documentation: [Base UI Popover](https://base-ui.com/react/components/popover)\n */\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const PopoverTrigger = /*#__PURE__*/React.forwardRef(function PopoverTrigger(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    disabled = false,\n    nativeButton = true,\n    handle,\n    payload,\n    openOnHover = false,\n    delay = OPEN_DELAY,\n    closeDelay = 0,\n    id: idProp,\n    ...elementProps\n  } = componentProps;\n  const rootContext = usePopoverRootContext(true);\n  const store = handle?.store ?? rootContext?.store;\n  if (!store) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: <Popover.Trigger> must be either used within a <Popover.Root> component or provided with a handle.' : _formatErrorMessage(74));\n  }\n  const thisTriggerId = useBaseUiId(idProp);\n  const isTriggerActive = store.useState('isTriggerActive', thisTriggerId);\n  const floatingContext = store.useState('floatingRootContext');\n  const isOpenedByThisTrigger = store.useState('isOpenedByTrigger', thisTriggerId);\n  const triggerElementRef = React.useRef(null);\n  const {\n    registerTrigger,\n    isMountedByThisTrigger\n  } = useTriggerDataForwarding(thisTriggerId, triggerElementRef, store, {\n    payload,\n    disabled,\n    openOnHover,\n    closeDelay\n  });\n  const openReason = store.useState('openChangeReason');\n  const stickIfOpen = store.useState('stickIfOpen');\n  const openMethod = store.useState('openMethod');\n  const hoverProps = useHoverReferenceInteraction(floatingContext, {\n    enabled: floatingContext != null && openOnHover && (openMethod !== 'touch' || openReason !== REASONS.triggerPress),\n    mouseOnly: true,\n    move: false,\n    handleClose: safePolygon(),\n    restMs: delay,\n    delay: {\n      close: closeDelay\n    },\n    triggerElementRef,\n    isActiveTrigger: isTriggerActive\n  });\n  const click = useClick(floatingContext, {\n    enabled: floatingContext != null,\n    stickIfOpen\n  });\n  const localProps = useInteractions([click]);\n  const rootTriggerProps = store.useState('triggerProps', isMountedByThisTrigger);\n  const state = React.useMemo(() => ({\n    disabled,\n    open: isOpenedByThisTrigger\n  }), [disabled, isOpenedByThisTrigger]);\n  const {\n    getButtonProps,\n    buttonRef\n  } = useButton({\n    disabled,\n    native: nativeButton\n  });\n  const stateAttributesMapping = React.useMemo(() => ({\n    open(value) {\n      if (value && openReason === REASONS.triggerPress) {\n        return pressableTriggerOpenStateMapping.open(value);\n      }\n      return triggerOpenStateMapping.open(value);\n    }\n  }), [openReason]);\n  const element = useRenderElement('button', componentProps, {\n    state,\n    ref: [buttonRef, forwardedRef, registerTrigger, triggerElementRef],\n    props: [localProps.getReferenceProps(), hoverProps, rootTriggerProps, {\n      [CLICK_TRIGGER_IDENTIFIER]: '',\n      id: thisTriggerId\n    }, elementProps, getButtonProps],\n    stateAttributesMapping\n  });\n  const preFocusGuardRef = React.useRef(null);\n  const handlePreFocusGuardFocus = useStableCallback(event => {\n    ReactDOM.flushSync(() => {\n      store.setOpen(false, createChangeEventDetails(REASONS.focusOut, event.nativeEvent, event.currentTarget));\n    });\n    const previousTabbable = getTabbableBeforeElement(preFocusGuardRef.current);\n    previousTabbable?.focus();\n  });\n  const handleFocusTargetFocus = useStableCallback(event => {\n    const positionerElement = store.select('positionerElement');\n    if (positionerElement && isOutsideEvent(event, positionerElement)) {\n      store.context.beforeContentFocusGuardRef.current?.focus();\n    } else {\n      ReactDOM.flushSync(() => {\n        store.setOpen(false, createChangeEventDetails(REASONS.focusOut, event.nativeEvent, event.currentTarget));\n      });\n      let nextTabbable = getTabbableAfterElement(store.context.triggerFocusTargetRef.current || triggerElementRef.current);\n      while (nextTabbable !== null && contains(positionerElement, nextTabbable)) {\n        const prevTabbable = nextTabbable;\n        nextTabbable = getNextTabbable(nextTabbable);\n        if (nextTabbable === prevTabbable) {\n          break;\n        }\n      }\n      nextTabbable?.focus();\n    }\n  });\n\n  // A fragment with key is required to ensure that the `element` is mounted to the same DOM node\n  // regardless of whether the focus guards are rendered or not.\n\n  if (isTriggerActive) {\n    return /*#__PURE__*/_jsxs(React.Fragment, {\n      children: [/*#__PURE__*/_jsx(FocusGuard, {\n        ref: preFocusGuardRef,\n        onFocus: handlePreFocusGuardFocus\n      }), /*#__PURE__*/_jsx(React.Fragment, {\n        children: element\n      }, thisTriggerId), /*#__PURE__*/_jsx(FocusGuard, {\n        ref: store.context.triggerFocusTargetRef,\n        onFocus: handleFocusTargetFocus\n      })]\n    });\n  }\n  return /*#__PURE__*/_jsx(React.Fragment, {\n    children: element\n  }, thisTriggerId);\n});\nif (process.env.NODE_ENV !== \"production\") PopoverTrigger.displayName = \"PopoverTrigger\";", "export const OPEN_DELAY = 300;", "'use client';\n\nimport * as React from 'react';\nimport { FloatingPortal } from \"../../floating-ui-react/index.js\";\nimport { usePopoverRootContext } from \"../root/PopoverRootContext.js\";\nimport { PopoverPortalContext } from \"./PopoverPortalContext.js\";\n\n/**\n * A portal element that moves the popup to a different part of the DOM.\n * By default, the portal element is appended to `<body>`.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Popover](https://base-ui.com/react/components/popover)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const PopoverPortal = /*#__PURE__*/React.forwardRef(function PopoverPortal(props, forwardedRef) {\n  const {\n    keepMounted = false,\n    ...portalProps\n  } = props;\n  const {\n    store\n  } = usePopoverRootContext();\n  const mounted = store.useState('mounted');\n  const shouldRender = mounted || keepMounted;\n  if (!shouldRender) {\n    return null;\n  }\n  return /*#__PURE__*/_jsx(PopoverPortalContext.Provider, {\n    value: keepMounted,\n    children: /*#__PURE__*/_jsx(FloatingPortal, {\n      ref: forwardedRef,\n      ...portalProps,\n      renderGuards: false\n    })\n  });\n});\nif (process.env.NODE_ENV !== \"production\") PopoverPortal.displayName = \"PopoverPortal\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const PopoverPortalContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") PopoverPortalContext.displayName = \"PopoverPortalContext\";\nexport function usePopoverPortalContext() {\n  const value = React.useContext(PopoverPortalContext);\n  if (value === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: <Popover.Portal> is missing.' : _formatErrorMessage(45));\n  }\n  return value;\n}", "'use client';\n\nimport * as React from 'react';\nimport { inertValue } from '@base-ui/utils/inertValue';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { FloatingNode, useFloatingNodeId } from \"../../floating-ui-react/index.js\";\nimport { usePopoverRootContext } from \"../root/PopoverRootContext.js\";\nimport { PopoverPositionerContext } from \"./PopoverPositionerContext.js\";\nimport { useAnchorPositioning } from \"../../utils/useAnchorPositioning.js\";\nimport { popupStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { usePopoverPortalContext } from \"../portal/PopoverPortalContext.js\";\nimport { InternalBackdrop } from \"../../utils/InternalBackdrop.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { POPUP_COLLISION_AVOIDANCE } from \"../../utils/constants.js\";\nimport { useAnimationsFinished } from \"../../utils/useAnimationsFinished.js\";\nimport { adaptiveOrigin } from \"../../utils/adaptiveOriginMiddleware.js\";\nimport { getDisabledMountTransitionStyles } from \"../../utils/getDisabledMountTransitionStyles.js\";\n\n/**\n * Positions the popover against the trigger.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Popover](https://base-ui.com/react/components/popover)\n */\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const PopoverPositioner = /*#__PURE__*/React.forwardRef(function PopoverPositioner(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    anchor,\n    positionMethod = 'absolute',\n    side = 'bottom',\n    align = 'center',\n    sideOffset = 0,\n    alignOffset = 0,\n    collisionBoundary = 'clipping-ancestors',\n    collisionPadding = 5,\n    arrowPadding = 5,\n    sticky = false,\n    disableAnchorTracking = false,\n    collisionAvoidance = POPUP_COLLISION_AVOIDANCE,\n    ...elementProps\n  } = componentProps;\n  const {\n    store\n  } = usePopoverRootContext();\n  const keepMounted = usePopoverPortalContext();\n  const nodeId = useFloatingNodeId();\n  const floatingRootContext = store.useState('floatingRootContext');\n  const mounted = store.useState('mounted');\n  const open = store.useState('open');\n  const openReason = store.useState('openChangeReason');\n  const triggerElement = store.useState('activeTriggerElement');\n  const modal = store.useState('modal');\n  const positionerElement = store.useState('positionerElement');\n  const instantType = store.useState('instantType');\n  const transitionStatus = store.useState('transitionStatus');\n  const hasViewport = store.useState('hasViewport');\n  const prevTriggerElementRef = React.useRef(null);\n  const runOnceAnimationsFinish = useAnimationsFinished(positionerElement, false, false);\n  const positioning = useAnchorPositioning({\n    anchor,\n    floatingRootContext,\n    positionMethod,\n    mounted,\n    side,\n    sideOffset,\n    align,\n    alignOffset,\n    arrowPadding,\n    collisionBoundary,\n    collisionPadding,\n    sticky,\n    disableAnchorTracking,\n    keepMounted,\n    nodeId,\n    collisionAvoidance,\n    adaptiveOrigin: hasViewport ? adaptiveOrigin : undefined\n  });\n  const defaultProps = React.useMemo(() => {\n    const hiddenStyles = {};\n    if (!open) {\n      hiddenStyles.pointerEvents = 'none';\n    }\n    return {\n      role: 'presentation',\n      hidden: !mounted,\n      style: {\n        ...positioning.positionerStyles,\n        ...hiddenStyles\n      }\n    };\n  }, [open, mounted, positioning.positionerStyles]);\n  const positioner = React.useMemo(() => ({\n    props: defaultProps,\n    ...positioning\n  }), [defaultProps, positioning]);\n  const domReference = floatingRootContext?.select('domReferenceElement');\n\n  // When the current trigger element changes, enable transitions on the\n  // positioner temporarily\n  useIsoLayoutEffect(() => {\n    const currentTriggerElement = domReference;\n    const prevTriggerElement = prevTriggerElementRef.current;\n    if (currentTriggerElement) {\n      prevTriggerElementRef.current = currentTriggerElement;\n    }\n    if (prevTriggerElement && currentTriggerElement && currentTriggerElement !== prevTriggerElement) {\n      store.set('instantType', undefined);\n      const ac = new AbortController();\n      runOnceAnimationsFinish(() => {\n        store.set('instantType', 'trigger-change');\n      }, ac.signal);\n      return () => {\n        ac.abort();\n      };\n    }\n    return undefined;\n  }, [domReference, runOnceAnimationsFinish, store]);\n  const state = React.useMemo(() => ({\n    open,\n    side: positioner.side,\n    align: positioner.align,\n    anchorHidden: positioner.anchorHidden,\n    instant: instantType\n  }), [open, positioner.side, positioner.align, positioner.anchorHidden, instantType]);\n  const setPositionerElement = React.useCallback(element => {\n    store.set('positionerElement', element);\n  }, [store]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    props: [positioner.props, getDisabledMountTransitionStyles(transitionStatus), elementProps],\n    ref: [forwardedRef, setPositionerElement],\n    stateAttributesMapping: popupStateMapping\n  });\n  return /*#__PURE__*/_jsxs(PopoverPositionerContext.Provider, {\n    value: positioner,\n    children: [mounted && modal === true && openReason !== REASONS.triggerHover && /*#__PURE__*/_jsx(InternalBackdrop, {\n      ref: store.context.internalBackdropRef,\n      inert: inertValue(!open),\n      cutout: triggerElement\n    }), /*#__PURE__*/_jsx(FloatingNode, {\n      id: nodeId,\n      children: element\n    })]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") PopoverPositioner.displayName = \"PopoverPositioner\";", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const PopoverPositionerContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") PopoverPositionerContext.displayName = \"PopoverPositionerContext\";\nexport function usePopoverPositionerContext() {\n  const context = React.useContext(PopoverPositionerContext);\n  if (!context) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: PopoverPositionerContext is missing. PopoverPositioner parts must be placed within <Popover.Positioner>.' : _formatErrorMessage(46));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nimport { isHTMLElement } from '@floating-ui/utils/dom';\nimport { FloatingFocusManager, useHoverFloatingInteraction } from \"../../floating-ui-react/index.js\";\nimport { usePopoverRootContext } from \"../root/PopoverRootContext.js\";\nimport { usePopoverPositionerContext } from \"../positioner/PopoverPositionerContext.js\";\nimport { popupStateMapping as baseMapping } from \"../../utils/popupStateMapping.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { useOpenChangeComplete } from \"../../utils/useOpenChangeComplete.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { COMPOSITE_KEYS } from \"../../composite/composite.js\";\nimport { useToolbarRootContext } from \"../../toolbar/root/ToolbarRootContext.js\";\nimport { getDisabledMountTransitionStyles } from \"../../utils/getDisabledMountTransitionStyles.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst stateAttributesMapping = {\n  ...baseMapping,\n  ...transitionStatusMapping\n};\n\n/**\n * A container for the popover contents.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Popover](https://base-ui.com/react/components/popover)\n */\nexport const PopoverPopup = /*#__PURE__*/React.forwardRef(function PopoverPopup(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    initialFocus,\n    finalFocus,\n    ...elementProps\n  } = componentProps;\n  const {\n    store\n  } = usePopoverRootContext();\n  const positioner = usePopoverPositionerContext();\n  const insideToolbar = useToolbarRootContext(true) != null;\n  const open = store.useState('open');\n  const openMethod = store.useState('openMethod');\n  const instantType = store.useState('instantType');\n  const transitionStatus = store.useState('transitionStatus');\n  const popupProps = store.useState('popupProps');\n  const titleId = store.useState('titleElementId');\n  const descriptionId = store.useState('descriptionElementId');\n  const modal = store.useState('modal');\n  const mounted = store.useState('mounted');\n  const openReason = store.useState('openChangeReason');\n  const activeTriggerElement = store.useState('activeTriggerElement');\n  const floatingContext = store.useState('floatingRootContext');\n  useOpenChangeComplete({\n    open,\n    ref: store.context.popupRef,\n    onComplete() {\n      if (open) {\n        store.context.onOpenChangeComplete?.(true);\n      }\n    }\n  });\n  const disabled = store.useState('disabled');\n  const openOnHover = store.useState('openOnHover');\n  const closeDelay = store.useState('closeDelay');\n  useHoverFloatingInteraction(floatingContext, {\n    enabled: openOnHover && !disabled,\n    closeDelay\n  });\n\n  // Default initial focus logic:\n  // If opened by touch, focus the popup element to prevent the virtual keyboard from opening\n  // (this is required for Android specifically as iOS handles this automatically).\n  function defaultInitialFocus(interactionType) {\n    if (interactionType === 'touch') {\n      return store.context.popupRef.current;\n    }\n    return true;\n  }\n  const resolvedInitialFocus = initialFocus === undefined ? defaultInitialFocus : initialFocus;\n  const state = React.useMemo(() => ({\n    open,\n    side: positioner.side,\n    align: positioner.align,\n    instant: instantType,\n    transitionStatus\n  }), [open, positioner.side, positioner.align, instantType, transitionStatus]);\n  const setPopupElement = React.useCallback(element => {\n    store.set('popupElement', element);\n  }, [store]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: [forwardedRef, store.context.popupRef, setPopupElement],\n    props: [popupProps, {\n      'aria-labelledby': titleId,\n      'aria-describedby': descriptionId,\n      onKeyDown(event) {\n        if (insideToolbar && COMPOSITE_KEYS.has(event.key)) {\n          event.stopPropagation();\n        }\n      }\n    }, getDisabledMountTransitionStyles(transitionStatus), elementProps],\n    stateAttributesMapping\n  });\n  return /*#__PURE__*/_jsx(FloatingFocusManager, {\n    context: floatingContext,\n    openInteractionType: openMethod,\n    modal: modal === 'trap-focus',\n    disabled: !mounted || openReason === REASONS.triggerHover,\n    initialFocus: resolvedInitialFocus,\n    returnFocus: finalFocus,\n    restoreFocus: \"popup\",\n    previousFocusableElement: isHTMLElement(activeTriggerElement) ? activeTriggerElement : undefined,\n    nextFocusableElement: store.context.triggerFocusTargetRef,\n    beforeContentFocusGuardRef: store.context.beforeContentFocusGuardRef,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") PopoverPopup.displayName = \"PopoverPopup\";", "'use client';\n\nimport * as React from 'react';\nimport { usePopoverPositionerContext } from \"../positioner/PopoverPositionerContext.js\";\nimport { usePopoverRootContext } from \"../root/PopoverRootContext.js\";\nimport { popupStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * Displays an element positioned against the popover anchor.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Popover](https://base-ui.com/react/components/popover)\n */\nexport const PopoverArrow = /*#__PURE__*/React.forwardRef(function PopoverArrow(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const {\n    store\n  } = usePopoverRootContext();\n  const open = store.useState('open');\n  const {\n    arrowRef,\n    side,\n    align,\n    arrowUncentered,\n    arrowStyles\n  } = usePopoverPositionerContext();\n  const state = React.useMemo(() => ({\n    open,\n    side,\n    align,\n    uncentered: arrowUncentered\n  }), [open, side, align, arrowUncentered]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: [forwardedRef, arrowRef],\n    props: [{\n      style: arrowStyles,\n      'aria-hidden': true\n    }, elementProps],\n    stateAttributesMapping: popupStateMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") PopoverArrow.displayName = \"PopoverArrow\";", "'use client';\n\nimport * as React from 'react';\nimport { usePopoverRootContext } from \"../root/PopoverRootContext.js\";\nimport { popupStateMapping as baseMapping } from \"../../utils/popupStateMapping.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nconst stateAttributesMapping = {\n  ...baseMapping,\n  ...transitionStatusMapping\n};\n\n/**\n * An overlay displayed beneath the popover.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Popover](https://base-ui.com/react/components/popover)\n */\nexport const PopoverBackdrop = /*#__PURE__*/React.forwardRef(function PopoverBackdrop(props, forwardedRef) {\n  const {\n    className,\n    render,\n    ...elementProps\n  } = props;\n  const {\n    store\n  } = usePopoverRootContext();\n  const open = store.useState('open');\n  const mounted = store.useState('mounted');\n  const transitionStatus = store.useState('transitionStatus');\n  const openReason = store.useState('openChangeReason');\n  const state = React.useMemo(() => ({\n    open,\n    transitionStatus\n  }), [open, transitionStatus]);\n  const element = useRenderElement('div', props, {\n    state,\n    ref: [store.context.backdropRef, forwardedRef],\n    props: [{\n      role: 'presentation',\n      hidden: !mounted,\n      style: {\n        pointerEvents: openReason === REASONS.triggerHover ? 'none' : undefined,\n        userSelect: 'none',\n        WebkitUserSelect: 'none'\n      }\n    }, elementProps],\n    stateAttributesMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") PopoverBackdrop.displayName = \"PopoverBackdrop\";", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { usePopoverRootContext } from \"../root/PopoverRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\n\n/**\n * A heading that labels the popover.\n * Renders an `<h2>` element.\n *\n * Documentation: [Base UI Popover](https://base-ui.com/react/components/popover)\n */\nexport const PopoverTitle = /*#__PURE__*/React.forwardRef(function PopoverTitle(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const {\n    store\n  } = usePopoverRootContext();\n  const id = useBaseUiId(elementProps.id);\n  useIsoLayoutEffect(() => {\n    store.set('titleElementId', id);\n    return () => {\n      store.set('titleElementId', undefined);\n    };\n  }, [store, id]);\n  const element = useRenderElement('h2', componentProps, {\n    ref: forwardedRef,\n    props: [{\n      id\n    }, elementProps]\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") PopoverTitle.displayName = \"PopoverTitle\";", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { usePopoverRootContext } from \"../root/PopoverRootContext.js\";\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * A paragraph with additional information about the popover.\n * Renders a `<p>` element.\n *\n * Documentation: [Base UI Popover](https://base-ui.com/react/components/popover)\n */\nexport const PopoverDescription = /*#__PURE__*/React.forwardRef(function PopoverDescription(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const {\n    store\n  } = usePopoverRootContext();\n  const id = useBaseUiId(elementProps.id);\n  useIsoLayoutEffect(() => {\n    store.set('descriptionElementId', id);\n    return () => {\n      store.set('descriptionElementId', undefined);\n    };\n  }, [store, id]);\n  const element = useRenderElement('p', componentProps, {\n    ref: forwardedRef,\n    props: [{\n      id\n    }, elementProps]\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") PopoverDescription.displayName = \"PopoverDescription\";", "'use client';\n\nimport * as React from 'react';\nimport { usePopoverRootContext } from \"../root/PopoverRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useButton } from \"../../use-button/index.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\n\n/**\n * A button that closes the popover.\n * Renders a `<button>` element.\n *\n * Documentation: [Base UI Popover](https://base-ui.com/react/components/popover)\n */\nexport const PopoverClose = /*#__PURE__*/React.forwardRef(function PopoverClose(props, forwardedRef) {\n  const {\n    render,\n    className,\n    disabled = false,\n    nativeButton = true,\n    ...elementProps\n  } = props;\n  const {\n    buttonRef,\n    getButtonProps\n  } = useButton({\n    disabled,\n    focusableWhenDisabled: false,\n    native: nativeButton\n  });\n  const {\n    store\n  } = usePopoverRootContext();\n  const element = useRenderElement('button', props, {\n    ref: [forwardedRef, buttonRef],\n    props: [{\n      onClick(event) {\n        store.setOpen(false, createChangeEventDetails(REASONS.closePress, event.nativeEvent, event.currentTarget));\n      }\n    }, elementProps, getButtonProps]\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") PopoverClose.displayName = \"PopoverClose\";", "'use client';\n\nimport * as React from 'react';\nimport { inertValue } from '@base-ui/utils/inertValue';\nimport { useAnimationFrame } from '@base-ui/utils/useAnimationFrame';\nimport { usePreviousValue } from '@base-ui/utils/usePreviousValue';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { usePopoverRootContext } from \"../root/PopoverRootContext.js\";\nimport { usePopoverPositionerContext } from \"../positioner/PopoverPositionerContext.js\";\nimport { useAnimationsFinished } from \"../../utils/useAnimationsFinished.js\";\nimport { usePopupAutoResize } from \"../../utils/usePopupAutoResize.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { PopoverViewportCssVars } from \"./PopoverViewportCssVars.js\";\nimport { useDirection } from \"../../direction-provider/DirectionContext.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst stateAttributesMapping = {\n  activationDirection: value => value ? {\n    'data-activation-direction': value\n  } : null\n};\n\n/**\n * A viewport for displaying content transitions.\n * This component is only required if one popup can be opened by multiple triggers, its content change based on the trigger\n * and switching between them is animated.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Popover](https://base-ui.com/react/components/popover)\n */\nexport const PopoverViewport = /*#__PURE__*/React.forwardRef(function PopoverViewport(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    children,\n    ...elementProps\n  } = componentProps;\n  const {\n    store\n  } = usePopoverRootContext();\n  const positioner = usePopoverPositionerContext();\n  const direction = useDirection();\n  const activeTrigger = store.useState('activeTriggerElement');\n  const open = store.useState('open');\n  const mounted = store.useState('mounted');\n  const payload = store.useState('payload');\n  const popupElement = store.useState('popupElement');\n  const positionerElement = store.useState('positionerElement');\n  const previousActiveTrigger = usePreviousValue(open ? activeTrigger : null);\n  const capturedNodeRef = React.useRef(null);\n  const [previousContentNode, setPreviousContentNode] = React.useState(null);\n  const [newTriggerOffset, setNewTriggerOffset] = React.useState(null);\n  const currentContainerRef = React.useRef(null);\n  const previousContainerRef = React.useRef(null);\n  const onAnimationsFinished = useAnimationsFinished(currentContainerRef, true, false);\n  const cleanupFrame = useAnimationFrame();\n  const [previousContentDimensions, setPreviousContentDimensions] = React.useState(null);\n  const [showStartingStyleAttribute, setShowStartingStyleAttribute] = React.useState(false);\n  useIsoLayoutEffect(() => {\n    store.set('hasViewport', true);\n    return () => {\n      store.set('hasViewport', false);\n    };\n  }, [store]);\n\n  // Capture a clone of the current content DOM subtree when not transitioning.\n  // We can't store previous React nodes as they may be stateful; instead we capture DOM clones for visual continuity.\n  useIsoLayoutEffect(() => {\n    // When a transition is in progress, we store the next content in capturedNodeRef.\n    // This handles the case where the trigger changes multiple times before the transition finishes.\n    // We want to always capture the latest content for the previous snapshot.\n    // So clicking quickly on T1, T2, T3 will result in the following sequence:\n    // 1. T1 -> T2: previousContent = T1, currentContent = T2\n    // 2. T2 -> T3: previousContent = T2, currentContent = T3\n    const source = currentContainerRef.current;\n    if (!source) {\n      return;\n    }\n    const wrapper = document.createElement('div');\n    for (const child of Array.from(source.childNodes)) {\n      wrapper.appendChild(child.cloneNode(true));\n    }\n    capturedNodeRef.current = wrapper;\n  });\n  const handleMeasureLayout = useStableCallback(() => {\n    currentContainerRef.current?.style.setProperty('animation', 'none');\n    currentContainerRef.current?.style.setProperty('transition', 'none');\n    previousContainerRef.current?.style.setProperty('display', 'none');\n  });\n  const handleMeasureLayoutComplete = useStableCallback(previousDimensions => {\n    currentContainerRef.current?.style.removeProperty('animation');\n    currentContainerRef.current?.style.removeProperty('transition');\n    previousContainerRef.current?.style.removeProperty('display');\n    if (previousDimensions) {\n      setPreviousContentDimensions(previousDimensions);\n    }\n  });\n  const lastHandledTriggerRef = React.useRef(null);\n  useIsoLayoutEffect(() => {\n    // When a trigger changes, set the captured children HTML to state,\n    // so we can render both new and old content.\n    if (activeTrigger && previousActiveTrigger && activeTrigger !== previousActiveTrigger && lastHandledTriggerRef.current !== activeTrigger && capturedNodeRef.current) {\n      setPreviousContentNode(capturedNodeRef.current);\n      setShowStartingStyleAttribute(true);\n\n      // Calculate the relative position between the previous and new trigger,\n      // so we can pass it to the style hook for animation purposes.\n      const offset = calculateRelativePosition(previousActiveTrigger, activeTrigger);\n      setNewTriggerOffset(offset);\n      cleanupFrame.request(() => {\n        cleanupFrame.request(() => {\n          setShowStartingStyleAttribute(false);\n          onAnimationsFinished(() => {\n            setPreviousContentNode(null);\n            setPreviousContentDimensions(null);\n            capturedNodeRef.current = null;\n          });\n        });\n      });\n      lastHandledTriggerRef.current = activeTrigger;\n    }\n  }, [activeTrigger, previousActiveTrigger, previousContentNode, onAnimationsFinished, cleanupFrame]);\n  const isTransitioning = previousContentNode != null;\n  let childrenToRender;\n  if (!isTransitioning) {\n    childrenToRender = /*#__PURE__*/_jsx(\"div\", {\n      \"data-current\": true,\n      ref: currentContainerRef,\n      children: children\n    }, 'current');\n  } else {\n    childrenToRender = /*#__PURE__*/_jsxs(React.Fragment, {\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        \"data-previous\": true,\n        inert: inertValue(true),\n        ref: previousContainerRef,\n        style: {\n          [PopoverViewportCssVars.popupWidth]: `${previousContentDimensions?.width}px`,\n          [PopoverViewportCssVars.popupHeight]: `${previousContentDimensions?.height}px`,\n          position: 'absolute'\n        },\n        \"data-ending-style\": showStartingStyleAttribute ? undefined : ''\n      }, 'previous'), /*#__PURE__*/_jsx(\"div\", {\n        \"data-current\": true,\n        ref: currentContainerRef,\n        \"data-starting-style\": showStartingStyleAttribute ? '' : undefined,\n        children: children\n      }, 'current')]\n    });\n  }\n\n  // When previousContentNode is present, imperatively populate the previous container with the cloned children.\n  useIsoLayoutEffect(() => {\n    const container = previousContainerRef.current;\n    if (!container || !previousContentNode) {\n      return;\n    }\n    container.replaceChildren(...Array.from(previousContentNode.childNodes));\n  }, [previousContentNode]);\n  usePopupAutoResize({\n    popupElement,\n    positionerElement,\n    mounted,\n    content: payload,\n    onMeasureLayout: handleMeasureLayout,\n    onMeasureLayoutComplete: handleMeasureLayoutComplete,\n    side: positioner.side,\n    direction\n  });\n  const state = React.useMemo(() => {\n    return {\n      activationDirection: getActivationDirection(newTriggerOffset),\n      transitioning: isTransitioning\n    };\n  }, [newTriggerOffset, isTransitioning]);\n  return useRenderElement('div', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: [elementProps, {\n      children: childrenToRender\n    }],\n    stateAttributesMapping\n  });\n});\nif (process.env.NODE_ENV !== \"production\") PopoverViewport.displayName = \"PopoverViewport\";\n/**\n * Returns a string describing the provided offset.\n * It describes both the horizontal and vertical offset, separated by a space.\n *\n * @param offset\n */\nfunction getActivationDirection(offset) {\n  if (!offset) {\n    return undefined;\n  }\n  return `${getValueWithTolerance(offset.horizontal, 5, 'right', 'left')} ${getValueWithTolerance(offset.vertical, 5, 'down', 'up')}`;\n}\n\n/**\n * Returns a label describing the value (positive/negative) trating values\n * within tolarance as zero.\n *\n * @param value Value to check\n * @param tolerance Tolerance to treat the value as zero.\n * @param positiveLabel\n * @param negativeLabel\n * @returns If 0 < abs(value) < tolerance, returns an empty string. Otherwise returns positiveLabel or negativeLabel.\n */\nfunction getValueWithTolerance(value, tolerance, positiveLabel, negativeLabel) {\n  if (value > tolerance) {\n    return positiveLabel;\n  }\n  if (value < -tolerance) {\n    return negativeLabel;\n  }\n  return '';\n}\n\n/**\n * Calculates the relative position between centers of two elements.\n */\nfunction calculateRelativePosition(from, to) {\n  const fromRect = from.getBoundingClientRect();\n  const toRect = to.getBoundingClientRect();\n  const fromCenter = {\n    x: fromRect.left + fromRect.width / 2,\n    y: fromRect.top + fromRect.height / 2\n  };\n  const toCenter = {\n    x: toRect.left + toRect.width / 2,\n    y: toRect.top + toRect.height / 2\n  };\n  return {\n    horizontal: toCenter.x - fromCenter.x,\n    vertical: toCenter.y - fromCenter.y\n  };\n}", "'use client';\n\nimport * as React from 'react';\n\n/**\n * Returns a previous value of its argument.\n * @param value Current value.\n * @returns Previous value, or null if there is no previous value.\n */\nexport function usePreviousValue(value) {\n  const [state, setState] = React.useState({\n    current: value,\n    previous: null\n  });\n  if (value !== state.current) {\n    setState({\n      current: value,\n      previous: state.current\n    });\n  }\n  return state.previous;\n}", "import * as React from 'react';\nimport { useAnimationFrame } from '@base-ui/utils/useAnimationFrame';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { NOOP } from '@base-ui/utils/empty';\nimport { useAnimationsFinished } from \"./useAnimationsFinished.js\";\nimport { getCssDimensions } from \"./getCssDimensions.js\";\nimport { EMPTY_OBJECT } from \"./constants.js\";\nconst supportsResizeObserver = typeof ResizeObserver !== 'undefined';\nconst DEFAULT_ENABLED = () => true;\n\n/**\n * Allows the element to automatically resize based on its content while supporting animations.\n */\nexport function usePopupAutoResize(parameters) {\n  const {\n    popupElement,\n    positionerElement,\n    content,\n    mounted,\n    enabled = DEFAULT_ENABLED,\n    onMeasureLayout: onMeasureLayoutParam,\n    onMeasureLayoutComplete: onMeasureLayoutCompleteParam,\n    side,\n    direction\n  } = parameters;\n  const runOnceAnimationsFinish = useAnimationsFinished(popupElement, true, false);\n  const animationFrame = useAnimationFrame();\n  const committedDimensionsRef = React.useRef(null);\n  const liveDimensionsRef = React.useRef(null);\n  const isInitialRenderRef = React.useRef(true);\n  const restoreAnchoringStylesRef = React.useRef(NOOP);\n  const onMeasureLayout = useStableCallback(onMeasureLayoutParam);\n  const onMeasureLayoutComplete = useStableCallback(onMeasureLayoutCompleteParam);\n  const anchoringStyles = React.useMemo(() => {\n    // Ensure popup size transitions correctly when anchored to `bottom` (side=top) or `right` (side=left).\n    let isOriginSide = side === 'top';\n    let isPhysicalLeft = side === 'left';\n    if (direction === 'rtl') {\n      isOriginSide = isOriginSide || side === 'inline-end';\n      isPhysicalLeft = isPhysicalLeft || side === 'inline-end';\n    } else {\n      isOriginSide = isOriginSide || side === 'inline-start';\n      isPhysicalLeft = isPhysicalLeft || side === 'inline-start';\n    }\n    return isOriginSide ? {\n      position: 'absolute',\n      [side === 'top' ? 'bottom' : 'top']: '0',\n      [isPhysicalLeft ? 'right' : 'left']: '0'\n    } : EMPTY_OBJECT;\n  }, [side, direction]);\n  useIsoLayoutEffect(() => {\n    // Reset the state when the popup is closed.\n    if (!mounted || !enabled() || !supportsResizeObserver) {\n      restoreAnchoringStylesRef.current = NOOP;\n      isInitialRenderRef.current = true;\n      committedDimensionsRef.current = null;\n      liveDimensionsRef.current = null;\n      return undefined;\n    }\n    if (!popupElement || !positionerElement) {\n      return undefined;\n    }\n    restoreAnchoringStylesRef.current = applyElementStyles(popupElement, anchoringStyles);\n    const observer = new ResizeObserver(entries => {\n      const entry = entries[0];\n      if (entry) {\n        liveDimensionsRef.current = {\n          width: Math.ceil(entry.borderBoxSize[0].inlineSize),\n          height: Math.ceil(entry.borderBoxSize[0].blockSize)\n        };\n      }\n    });\n    observer.observe(popupElement);\n\n    // Measure the rendered size to enable transitions:\n    setPopupCssSize(popupElement, 'auto');\n    const restorePopupPosition = overrideElementStyle(popupElement, 'position', 'static');\n    const restorePopupTransform = overrideElementStyle(popupElement, 'transform', 'none');\n    const restorePopupScale = overrideElementStyle(popupElement, 'scale', '1');\n    const restorePositionerAvailableSize = applyElementStyles(positionerElement, {\n      '--available-width': 'max-content',\n      '--available-height': 'max-content'\n    });\n    function restoreMeasurementOverrides() {\n      restorePopupPosition();\n      restorePopupTransform();\n      restorePositionerAvailableSize();\n    }\n    function restoreMeasurementOverridesIncludingScale() {\n      restoreMeasurementOverrides();\n      restorePopupScale();\n    }\n    onMeasureLayout?.();\n\n    // Initial render (for each time the popup opens).\n    if (isInitialRenderRef.current || committedDimensionsRef.current === null) {\n      setPositionerCssSize(positionerElement, 'max-content');\n      const dimensions = getCssDimensions(popupElement);\n      committedDimensionsRef.current = dimensions;\n      setPositionerCssSize(positionerElement, dimensions);\n      restoreMeasurementOverridesIncludingScale();\n      onMeasureLayoutComplete?.(null, dimensions);\n      isInitialRenderRef.current = false;\n      return () => {\n        observer.disconnect();\n        restoreAnchoringStylesRef.current();\n        restoreAnchoringStylesRef.current = NOOP;\n      };\n    }\n\n    // Subsequent renders while open (when `content` changes).\n    setPopupCssSize(popupElement, 'auto');\n    setPositionerCssSize(positionerElement, 'max-content');\n    const previousDimensions = committedDimensionsRef.current ?? liveDimensionsRef.current;\n    const newDimensions = getCssDimensions(popupElement);\n\n    // Commit immediately so future content changes have a stable previous size, even if\n    // ResizeObserver runs after this point.\n    committedDimensionsRef.current = newDimensions;\n    if (!previousDimensions) {\n      setPositionerCssSize(positionerElement, newDimensions);\n      restoreMeasurementOverridesIncludingScale();\n      onMeasureLayoutComplete?.(null, newDimensions);\n      return () => {\n        observer.disconnect();\n        animationFrame.cancel();\n        restoreAnchoringStylesRef.current();\n        restoreAnchoringStylesRef.current = NOOP;\n      };\n    }\n    setPopupCssSize(popupElement, previousDimensions);\n    restoreMeasurementOverrides();\n    onMeasureLayoutComplete?.(previousDimensions, newDimensions);\n    setPositionerCssSize(positionerElement, newDimensions);\n    const abortController = new AbortController();\n    animationFrame.request(() => {\n      setPopupCssSize(popupElement, newDimensions);\n      runOnceAnimationsFinish(() => {\n        popupElement.style.setProperty('--popup-width', 'auto');\n        popupElement.style.setProperty('--popup-height', 'auto');\n      }, abortController.signal);\n    });\n    return () => {\n      observer.disconnect();\n      abortController.abort();\n      animationFrame.cancel();\n      restoreAnchoringStylesRef.current();\n      restoreAnchoringStylesRef.current = NOOP;\n    };\n  }, [content, popupElement, positionerElement, runOnceAnimationsFinish, animationFrame, enabled, mounted, onMeasureLayout, onMeasureLayoutComplete, anchoringStyles]);\n}\nfunction overrideElementStyle(element, property, value) {\n  const originalValue = element.style.getPropertyValue(property);\n  element.style.setProperty(property, value);\n  return () => {\n    element.style.setProperty(property, originalValue);\n  };\n}\nfunction applyElementStyles(element, styles) {\n  const restorers = [];\n  for (const [key, value] of Object.entries(styles)) {\n    restorers.push(overrideElementStyle(element, key, value));\n  }\n  return restorers.length ? () => {\n    restorers.forEach(restore => restore());\n  } : NOOP;\n}\nfunction setPopupCssSize(popupElement, size) {\n  const width = size === 'auto' ? 'auto' : `${size.width}px`;\n  const height = size === 'auto' ? 'auto' : `${size.height}px`;\n  popupElement.style.setProperty('--popup-width', width);\n  popupElement.style.setProperty('--popup-height', height);\n}\nfunction setPositionerCssSize(positionerElement, size) {\n  const width = size === 'max-content' ? 'max-content' : `${size.width}px`;\n  const height = size === 'max-content' ? 'max-content' : `${size.height}px`;\n  positionerElement.style.setProperty('--positioner-width', width);\n  positionerElement.style.setProperty('--positioner-height', height);\n}", "export let PopoverViewportCssVars = /*#__PURE__*/function (PopoverViewportCssVars) {\n  /**\n   * The width of the parent popup.\n   * This variable is placed on the 'previous' container and stores the width of the popup when the previous content was rendered.\n   * It can be used to freeze the dimensions of the popup when animating between different content.\n   */\n  PopoverViewportCssVars[\"popupWidth\"] = \"--popup-width\";\n  /**\n   * The height of the parent popup.\n   * This variable is placed on the 'previous' container and stores the height of the popup when the previous content was rendered.\n   * It can be used to freeze the dimensions of the popup when animating between different content.\n   */\n  PopoverViewportCssVars[\"popupHeight\"] = \"--popup-height\";\n  return PopoverViewportCssVars;\n}({});", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { PopoverStore } from \"./PopoverStore.js\";\nexport class PopoverHandle {\n  /**\n   * Internal store holding the popover's state.\n   * @internal\n   */\n\n  constructor() {\n    this.store = new PopoverStore();\n  }\n\n  /**\n   * Opens the popover and associates it with the trigger with the given id.\n   * The trigger must be a Popover.Trigger component with this handle passed as a prop.\n   *\n   * @param triggerId ID of the trigger to associate with the popover.\n   */\n  open(triggerId) {\n    const triggerElement = triggerId ? this.store.context.triggerElements.getById(triggerId) ?? undefined : undefined;\n    if (triggerId && !triggerElement) {\n      throw new Error(process.env.NODE_ENV !== \"production\" ? `Base UI: PopoverHandle.open: No trigger found with id \"${triggerId}\".` : _formatErrorMessage(80, triggerId));\n    }\n    this.store.setOpen(true, createChangeEventDetails(REASONS.imperativeAction, undefined, triggerElement));\n  }\n\n  /**\n   * Closes the popover.\n   */\n  close() {\n    this.store.setOpen(false, createChangeEventDetails(REASONS.imperativeAction, undefined, undefined));\n  }\n\n  /**\n   * Indicates whether the popover is currently open.\n   */\n  get isOpen() {\n    return this.store.state.open;\n  }\n}\n\n/**\n * Creates a new handle to connect a Popover.Root with detached Popover.Trigger components.\n */\nexport function createPopoverHandle() {\n  return new PopoverHandle();\n}", "export { PreviewCardRoot as Root } from \"./root/PreviewCardRoot.js\";\nexport { PreviewCardPortal as Portal } from \"./portal/PreviewCardPortal.js\";\nexport { PreviewCardTrigger as Trigger } from \"./trigger/PreviewCardTrigger.js\";\nexport { PreviewCardPositioner as Positioner } from \"./positioner/PreviewCardPositioner.js\";\nexport { PreviewCardPopup as Popup } from \"./popup/PreviewCardPopup.js\";\nexport { PreviewCardArrow as Arrow } from \"./arrow/PreviewCardArrow.js\";\nexport { PreviewCardBackdrop as Backdrop } from \"./backdrop/PreviewCardBackdrop.js\";\nexport { PreviewCardViewport as Viewport } from \"./viewport/PreviewCardViewport.js\";\nexport { createPreviewCardHandle as createHandle, PreviewCardHandle as Handle } from \"./store/PreviewCardHandle.js\";", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useDismiss, useInteractions } from \"../../floating-ui-react/index.js\";\nimport { PreviewCardRootContext } from \"./PreviewCardContext.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { PreviewCardStore } from \"../store/PreviewCardStore.js\";\nimport { useImplicitActiveTrigger, useOpenStateTransitions } from \"../../utils/popups/index.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n/**\n * Groups all parts of the preview card.\n * Doesnt render its own HTML element.\n *\n * Documentation: [Base UI Preview Card](https://base-ui.com/react/components/preview-card)\n */\nexport function PreviewCardRoot(props) {\n  const {\n    open: openProp,\n    defaultOpen = false,\n    onOpenChange,\n    onOpenChangeComplete,\n    actionsRef,\n    handle,\n    triggerId: triggerIdProp,\n    defaultTriggerId: defaultTriggerIdProp = null,\n    children\n  } = props;\n  const store = PreviewCardStore.useStore(handle?.store, {\n    open: openProp ?? defaultOpen,\n    activeTriggerId: triggerIdProp !== undefined ? triggerIdProp : defaultTriggerIdProp\n  });\n  store.useControlledProp('open', openProp, defaultOpen);\n  store.useControlledProp('activeTriggerId', triggerIdProp, defaultTriggerIdProp);\n  store.useContextCallback('onOpenChange', onOpenChange);\n  store.useContextCallback('onOpenChangeComplete', onOpenChangeComplete);\n  const open = store.useState('open');\n  const activeTriggerId = store.useState('activeTriggerId');\n  const payload = store.useState('payload');\n  useImplicitActiveTrigger(store);\n  const {\n    forceUnmount\n  } = useOpenStateTransitions(open, store);\n  useIsoLayoutEffect(() => {\n    if (open) {\n      if (activeTriggerId == null) {\n        store.set('payload', undefined);\n      }\n    }\n  }, [store, activeTriggerId, open]);\n  const handleImperativeClose = React.useCallback(() => {\n    store.setOpen(false, createPreviewCardEventDetails(store, REASONS.imperativeAction));\n  }, [store]);\n  React.useImperativeHandle(actionsRef, () => ({\n    unmount: forceUnmount,\n    close: handleImperativeClose\n  }), [forceUnmount, handleImperativeClose]);\n  const floatingRootContext = store.useState('floatingRootContext');\n  const dismiss = useDismiss(floatingRootContext);\n  const {\n    getReferenceProps,\n    getTriggerProps,\n    getFloatingProps\n  } = useInteractions([dismiss]);\n  const activeTriggerProps = React.useMemo(() => getReferenceProps(), [getReferenceProps]);\n  const inactiveTriggerProps = React.useMemo(() => getTriggerProps(), [getTriggerProps]);\n  const popupProps = React.useMemo(() => getFloatingProps(), [getFloatingProps]);\n  store.useSyncedValues({\n    activeTriggerProps,\n    inactiveTriggerProps,\n    popupProps\n  });\n  return /*#__PURE__*/_jsx(PreviewCardRootContext.Provider, {\n    value: store,\n    children: typeof children === 'function' ? children({\n      payload\n    }) : children\n  });\n}\nfunction createPreviewCardEventDetails(store, reason) {\n  const details = createChangeEventDetails(reason);\n  details.preventUnmountOnClose = () => {\n    store.set('preventUnmountingOnClose', true);\n  };\n  return details;\n}", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const PreviewCardRootContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") PreviewCardRootContext.displayName = \"PreviewCardRootContext\";\nexport function usePreviewCardRootContext(optional) {\n  const context = React.useContext(PreviewCardRootContext);\n  if (context === undefined && !optional) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: PreviewCardRootContext is missing. PreviewCard parts must be placed within <PreviewCard.Root>.' : _formatErrorMessage(50));\n  }\n  return context;\n}", "import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { createSelector, ReactStore } from '@base-ui/utils/store';\nimport { useRefWithInit } from '@base-ui/utils/useRefWithInit';\nimport { createInitialPopupStoreState, popupStoreSelectors, PopupTriggerMap } from \"../../utils/popups/index.js\";\nimport { useSyncedFloatingRootContext } from \"../../floating-ui-react/index.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { CLOSE_DELAY } from \"../utils/constants.js\";\nconst selectors = {\n  ...popupStoreSelectors,\n  instantType: createSelector(state => state.instantType),\n  hasViewport: createSelector(state => state.hasViewport)\n};\nexport class PreviewCardStore extends ReactStore {\n  constructor(initialState) {\n    super({\n      ...createInitialState(),\n      ...initialState\n    }, {\n      popupRef: /*#__PURE__*/React.createRef(),\n      onOpenChange: undefined,\n      onOpenChangeComplete: undefined,\n      triggerElements: new PopupTriggerMap(),\n      closeDelayRef: {\n        current: CLOSE_DELAY\n      }\n    }, selectors);\n  }\n  setOpen = (nextOpen, eventDetails) => {\n    const reason = eventDetails.reason;\n    const isHover = reason === REASONS.triggerHover;\n    const isFocusOpen = nextOpen && reason === REASONS.triggerFocus;\n    const isDismissClose = !nextOpen && (reason === REASONS.triggerPress || reason === REASONS.escapeKey);\n    eventDetails.preventUnmountOnClose = () => {\n      this.set('preventUnmountingOnClose', true);\n    };\n    this.context.onOpenChange?.(nextOpen, eventDetails);\n    if (eventDetails.isCanceled) {\n      return;\n    }\n    const changeState = () => {\n      const updatedState = {\n        open: nextOpen\n      };\n      if (isFocusOpen) {\n        updatedState.instantType = 'focus';\n      } else if (isDismissClose) {\n        updatedState.instantType = 'dismiss';\n      } else if (reason === REASONS.triggerHover) {\n        updatedState.instantType = undefined;\n      }\n\n      // If a popup is closing, the `trigger` may be null.\n      // We want to keep the previous value so that exit animations are played and focus is returned correctly.\n      const newTriggerId = eventDetails.trigger?.id ?? null;\n      if (newTriggerId || nextOpen) {\n        updatedState.activeTriggerId = newTriggerId;\n        updatedState.activeTriggerElement = eventDetails.trigger ?? null;\n      }\n      this.update(updatedState);\n    };\n    if (isHover) {\n      // If a hover reason is provided, we need to flush the state synchronously. This ensures\n      // `node.getAnimations()` knows about the new state.\n      ReactDOM.flushSync(changeState);\n    } else {\n      changeState();\n    }\n  };\n  static useStore(externalStore, initialState) {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const internalStore = useRefWithInit(() => {\n      return new PreviewCardStore(initialState);\n    }).current;\n    const store = externalStore ?? internalStore;\n\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const floatingRootContext = useSyncedFloatingRootContext({\n      popupStore: store,\n      onOpenChange: store.setOpen\n    });\n\n    // It's safe to set this here because when this code runs for the first time,\n    // nothing has had a chance to subscribe to the `store` yet.\n    // For subsequent renders, the `floatingRootContext` reference remains the same,\n    // so it's basically a no-op.\n    store.state.floatingRootContext = floatingRootContext;\n    return store;\n  }\n}\nfunction createInitialState() {\n  return {\n    ...createInitialPopupStoreState(),\n    instantType: undefined,\n    hasViewport: false\n  };\n}", "export const OPEN_DELAY = 600;\nexport const CLOSE_DELAY = 300;", "'use client';\n\nimport * as React from 'react';\nimport { usePreviewCardRootContext } from \"../root/PreviewCardContext.js\";\nimport { PreviewCardPortalContext } from \"./PreviewCardPortalContext.js\";\nimport { FloatingPortalLite } from \"../../utils/FloatingPortalLite.js\";\n\n/**\n * A portal element that moves the popup to a different part of the DOM.\n * By default, the portal element is appended to `<body>`.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Preview Card](https://base-ui.com/react/components/preview-card)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const PreviewCardPortal = /*#__PURE__*/React.forwardRef(function PreviewCardPortal(props, forwardedRef) {\n  const {\n    keepMounted = false,\n    ...portalProps\n  } = props;\n  const store = usePreviewCardRootContext();\n  const mounted = store.useState('mounted');\n  const shouldRender = mounted || keepMounted;\n  if (!shouldRender) {\n    return null;\n  }\n  return /*#__PURE__*/_jsx(PreviewCardPortalContext.Provider, {\n    value: keepMounted,\n    children: /*#__PURE__*/_jsx(FloatingPortalLite, {\n      ref: forwardedRef,\n      ...portalProps\n    })\n  });\n});\nif (process.env.NODE_ENV !== \"production\") PreviewCardPortal.displayName = \"PreviewCardPortal\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const PreviewCardPortalContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") PreviewCardPortalContext.displayName = \"PreviewCardPortalContext\";\nexport function usePreviewCardPortalContext() {\n  const value = React.useContext(PreviewCardPortalContext);\n  if (value === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: <PreviewCard.Portal> is missing.' : _formatErrorMessage(48));\n  }\n  return value;\n}", "'use client';\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { useFloatingPortalNode } from \"../floating-ui-react/index.js\";\n\n/**\n * `FloatingPortal` includes tabbable logic handling for focus management.\n * For components that don't need tabbable logic, use `FloatingPortalLite`.\n * @internal\n */\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const FloatingPortalLite = /*#__PURE__*/React.forwardRef(function FloatingPortalLite(componentProps, forwardedRef) {\n  const {\n    children,\n    container,\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const {\n    portalNode,\n    portalSubtree\n  } = useFloatingPortalNode({\n    container,\n    ref: forwardedRef,\n    componentProps,\n    elementProps\n  });\n  if (!portalSubtree && !portalNode) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxs(React.Fragment, {\n    children: [portalSubtree, portalNode && /*#__PURE__*/ReactDOM.createPortal(children, portalNode)]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") FloatingPortalLite.displayName = \"FloatingPortalLite\";", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { usePreviewCardRootContext } from \"../root/PreviewCardContext.js\";\nimport { triggerOpenStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { useTriggerDataForwarding } from \"../../utils/popups/index.js\";\nimport { CLOSE_DELAY, OPEN_DELAY } from \"../utils/constants.js\";\nimport { safePolygon, useFocus, useHoverReferenceInteraction } from \"../../floating-ui-react/index.js\";\n\n/**\n * A link that opens the preview card.\n * Renders an `<a>` element.\n *\n * Documentation: [Base UI Preview Card](https://base-ui.com/react/components/preview-card)\n */\nexport const PreviewCardTrigger = /*#__PURE__*/React.forwardRef(function PreviewCardTrigger(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    delay,\n    closeDelay,\n    id: idProp,\n    payload,\n    handle,\n    ...elementProps\n  } = componentProps;\n  const rootContext = usePreviewCardRootContext(true);\n  const store = handle?.store ?? rootContext;\n  if (!store) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: <PreviewCard.Trigger> must be either used within a <PreviewCard.Root> component or provided with a handle.' : _formatErrorMessage(89));\n  }\n  const thisTriggerId = useBaseUiId(idProp);\n  const isTriggerActive = store.useState('isTriggerActive', thisTriggerId);\n  const isOpenedByThisTrigger = store.useState('isOpenedByTrigger', thisTriggerId);\n  const floatingRootContext = store.useState('floatingRootContext');\n  const triggerElementRef = React.useRef(null);\n  const delayWithDefault = delay ?? OPEN_DELAY;\n  const closeDelayWithDefault = closeDelay ?? CLOSE_DELAY;\n  const {\n    registerTrigger,\n    isMountedByThisTrigger\n  } = useTriggerDataForwarding(thisTriggerId, triggerElementRef, store, {\n    payload\n  });\n  useIsoLayoutEffect(() => {\n    if (isMountedByThisTrigger) {\n      store.context.closeDelayRef.current = closeDelayWithDefault;\n    }\n  }, [store, isMountedByThisTrigger, closeDelayWithDefault]);\n  const hoverProps = useHoverReferenceInteraction(floatingRootContext, {\n    mouseOnly: true,\n    move: false,\n    handleClose: safePolygon(),\n    delay: () => ({\n      open: delayWithDefault,\n      close: closeDelayWithDefault\n    }),\n    triggerElementRef,\n    isActiveTrigger: isTriggerActive\n  });\n  const focusProps = useFocus(floatingRootContext, {\n    delay: delayWithDefault\n  });\n  const state = React.useMemo(() => ({\n    open: isOpenedByThisTrigger\n  }), [isOpenedByThisTrigger]);\n  const rootTriggerProps = store.useState('triggerProps', isMountedByThisTrigger);\n  const element = useRenderElement('a', componentProps, {\n    state,\n    ref: [forwardedRef, registerTrigger, triggerElementRef],\n    props: [hoverProps, focusProps.reference, rootTriggerProps, {\n      id: thisTriggerId\n    }, elementProps],\n    stateAttributesMapping: triggerOpenStateMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") PreviewCardTrigger.displayName = \"PreviewCardTrigger\";", "'use client';\n\nimport * as React from 'react';\nimport { usePreviewCardRootContext } from \"../root/PreviewCardContext.js\";\nimport { PreviewCardPositionerContext } from \"./PreviewCardPositionerContext.js\";\nimport { useAnchorPositioning } from \"../../utils/useAnchorPositioning.js\";\nimport { popupStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { usePreviewCardPortalContext } from \"../portal/PreviewCardPortalContext.js\";\nimport { POPUP_COLLISION_AVOIDANCE } from \"../../utils/constants.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { adaptiveOrigin } from \"../../utils/adaptiveOriginMiddleware.js\";\nimport { getDisabledMountTransitionStyles } from \"../../utils/getDisabledMountTransitionStyles.js\";\n\n/**\n * Positions the popup against the trigger.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Preview Card](https://base-ui.com/react/components/preview-card)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const PreviewCardPositioner = /*#__PURE__*/React.forwardRef(function PreviewCardPositioner(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    anchor,\n    positionMethod = 'absolute',\n    side = 'bottom',\n    align = 'center',\n    sideOffset = 0,\n    alignOffset = 0,\n    collisionBoundary = 'clipping-ancestors',\n    collisionPadding = 5,\n    arrowPadding = 5,\n    sticky = false,\n    disableAnchorTracking = false,\n    collisionAvoidance = POPUP_COLLISION_AVOIDANCE,\n    ...elementProps\n  } = componentProps;\n  const store = usePreviewCardRootContext();\n  const keepMounted = usePreviewCardPortalContext();\n  const open = store.useState('open');\n  const mounted = store.useState('mounted');\n  const floatingRootContext = store.useState('floatingRootContext');\n  const instantType = store.useState('instantType');\n  const transitionStatus = store.useState('transitionStatus');\n  const hasViewport = store.useState('hasViewport');\n  const positioning = useAnchorPositioning({\n    anchor,\n    floatingRootContext,\n    positionMethod,\n    mounted,\n    side,\n    sideOffset,\n    align,\n    alignOffset,\n    arrowPadding,\n    collisionBoundary,\n    collisionPadding,\n    sticky,\n    disableAnchorTracking,\n    keepMounted,\n    collisionAvoidance,\n    adaptiveOrigin: hasViewport ? adaptiveOrigin : undefined\n  });\n  const defaultProps = React.useMemo(() => {\n    const hiddenStyles = {};\n    if (!open) {\n      hiddenStyles.pointerEvents = 'none';\n    }\n    return {\n      role: 'presentation',\n      hidden: !mounted,\n      style: {\n        ...positioning.positionerStyles,\n        ...hiddenStyles\n      }\n    };\n  }, [open, mounted, positioning.positionerStyles]);\n  const state = React.useMemo(() => ({\n    open,\n    side: positioning.side,\n    align: positioning.align,\n    anchorHidden: positioning.anchorHidden,\n    instant: instantType\n  }), [open, positioning.side, positioning.align, positioning.anchorHidden, instantType]);\n  const contextValue = React.useMemo(() => ({\n    side: positioning.side,\n    align: positioning.align,\n    arrowRef: positioning.arrowRef,\n    arrowUncentered: positioning.arrowUncentered,\n    arrowStyles: positioning.arrowStyles\n  }), [positioning.side, positioning.align, positioning.arrowRef, positioning.arrowUncentered, positioning.arrowStyles]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    props: [defaultProps, getDisabledMountTransitionStyles(transitionStatus), elementProps],\n    ref: [forwardedRef, store.useStateSetter('positionerElement')],\n    stateAttributesMapping: popupStateMapping\n  });\n  return /*#__PURE__*/_jsx(PreviewCardPositionerContext.Provider, {\n    value: contextValue,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") PreviewCardPositioner.displayName = \"PreviewCardPositioner\";", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const PreviewCardPositionerContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") PreviewCardPositionerContext.displayName = \"PreviewCardPositionerContext\";\nexport function usePreviewCardPositionerContext() {\n  const context = React.useContext(PreviewCardPositionerContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: <PreviewCard.Popup> and <PreviewCard.Arrow> must be used within the <PreviewCard.Positioner> component' : _formatErrorMessage(49));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { usePreviewCardRootContext } from \"../root/PreviewCardContext.js\";\nimport { usePreviewCardPositionerContext } from \"../positioner/PreviewCardPositionerContext.js\";\nimport { popupStateMapping as baseMapping } from \"../../utils/popupStateMapping.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { useOpenChangeComplete } from \"../../utils/useOpenChangeComplete.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { getDisabledMountTransitionStyles } from \"../../utils/getDisabledMountTransitionStyles.js\";\nimport { useHoverFloatingInteraction } from \"../../floating-ui-react/index.js\";\nconst stateAttributesMapping = {\n  ...baseMapping,\n  ...transitionStatusMapping\n};\n\n/**\n * A container for the preview card contents.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Preview Card](https://base-ui.com/react/components/preview-card)\n */\nexport const PreviewCardPopup = /*#__PURE__*/React.forwardRef(function PreviewCardPopup(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const store = usePreviewCardRootContext();\n  const {\n    side,\n    align\n  } = usePreviewCardPositionerContext();\n  const open = store.useState('open');\n  const instantType = store.useState('instantType');\n  const transitionStatus = store.useState('transitionStatus');\n  const popupProps = store.useState('popupProps');\n  const floatingContext = store.useState('floatingRootContext');\n  useOpenChangeComplete({\n    open,\n    ref: store.context.popupRef,\n    onComplete() {\n      if (open) {\n        store.context.onOpenChangeComplete?.(true);\n      }\n    }\n  });\n  const getCloseDelay = useStableCallback(() => store.context.closeDelayRef.current);\n  useHoverFloatingInteraction(floatingContext, {\n    closeDelay: getCloseDelay\n  });\n  const state = React.useMemo(() => ({\n    open,\n    side,\n    align,\n    instant: instantType,\n    transitionStatus\n  }), [open, side, align, instantType, transitionStatus]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: [forwardedRef, store.context.popupRef, store.useStateSetter('popupElement')],\n    props: [popupProps, getDisabledMountTransitionStyles(transitionStatus), elementProps],\n    stateAttributesMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") PreviewCardPopup.displayName = \"PreviewCardPopup\";", "'use client';\n\nimport * as React from 'react';\nimport { usePreviewCardPositionerContext } from \"../positioner/PreviewCardPositionerContext.js\";\nimport { usePreviewCardRootContext } from \"../root/PreviewCardContext.js\";\nimport { popupStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * Displays an element positioned against the preview card anchor.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Preview Card](https://base-ui.com/react/components/preview-card)\n */\nexport const PreviewCardArrow = /*#__PURE__*/React.forwardRef(function PreviewCardArrow(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const store = usePreviewCardRootContext();\n  const {\n    arrowRef,\n    side,\n    align,\n    arrowUncentered,\n    arrowStyles\n  } = usePreviewCardPositionerContext();\n  const open = store.useState('open');\n  const state = React.useMemo(() => ({\n    open,\n    side,\n    align,\n    uncentered: arrowUncentered\n  }), [open, side, align, arrowUncentered]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: [arrowRef, forwardedRef],\n    props: [{\n      style: arrowStyles,\n      'aria-hidden': true\n    }, elementProps],\n    stateAttributesMapping: popupStateMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") PreviewCardArrow.displayName = \"PreviewCardArrow\";", "'use client';\n\nimport * as React from 'react';\nimport { usePreviewCardRootContext } from \"../root/PreviewCardContext.js\";\nimport { popupStateMapping as baseMapping } from \"../../utils/popupStateMapping.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nconst stateAttributesMapping = {\n  ...baseMapping,\n  ...transitionStatusMapping\n};\n\n/**\n * An overlay displayed beneath the popup.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Preview Card](https://base-ui.com/react/components/preview-card)\n */\nexport const PreviewCardBackdrop = /*#__PURE__*/React.forwardRef(function PreviewCardBackdrop(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const store = usePreviewCardRootContext();\n  const open = store.useState('open');\n  const mounted = store.useState('mounted');\n  const transitionStatus = store.useState('transitionStatus');\n  const state = React.useMemo(() => ({\n    open,\n    transitionStatus\n  }), [open, transitionStatus]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: [forwardedRef],\n    props: [{\n      role: 'presentation',\n      hidden: !mounted,\n      style: {\n        pointerEvents: 'none',\n        userSelect: 'none',\n        WebkitUserSelect: 'none'\n      }\n    }, elementProps],\n    stateAttributesMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") PreviewCardBackdrop.displayName = \"PreviewCardBackdrop\";", "'use client';\n\nimport * as React from 'react';\nimport { inertValue } from '@base-ui/utils/inertValue';\nimport { useAnimationFrame } from '@base-ui/utils/useAnimationFrame';\nimport { usePreviousValue } from '@base-ui/utils/usePreviousValue';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { usePreviewCardRootContext } from \"../root/PreviewCardContext.js\";\nimport { usePreviewCardPositionerContext } from \"../positioner/PreviewCardPositionerContext.js\";\nimport { useAnimationsFinished } from \"../../utils/useAnimationsFinished.js\";\nimport { usePopupAutoResize } from \"../../utils/usePopupAutoResize.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { PreviewCardViewportCssVars } from \"./PreviewCardViewportCssVars.js\";\nimport { useDirection } from \"../../direction-provider/index.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst stateAttributesMapping = {\n  activationDirection: value => value ? {\n    'data-activation-direction': value\n  } : null\n};\n\n/**\n * A viewport for displaying content transitions.\n * This component is only required if one popup can be opened by multiple triggers, its content change based on the trigger\n * and switching between them is animated.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Preview Card](https://base-ui.com/react/components/preview-card)\n */\nexport const PreviewCardViewport = /*#__PURE__*/React.forwardRef(function PreviewCardViewport(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    children,\n    ...elementProps\n  } = componentProps;\n  const store = usePreviewCardRootContext();\n  const positioner = usePreviewCardPositionerContext();\n  const direction = useDirection();\n  const activeTrigger = store.useState('activeTriggerElement');\n  const activeTriggerId = store.useState('activeTriggerId');\n  const payload = store.useState('payload');\n  const open = store.useState('open');\n  const instantType = store.useState('instantType');\n  const mounted = store.useState('mounted');\n  const popupElement = store.useState('popupElement');\n  const positionerElement = store.useState('positionerElement');\n  const previousActiveTrigger = usePreviousValue(open ? activeTrigger : null);\n  // Remount current content on trigger changes (and once more when payload lags) to avoid DOM reuse flashes.\n  // The key bumps immediately on trigger switches, then again if the payload arrives on a later render.\n  const currentContentKey = usePopupContentKey(activeTriggerId, payload);\n  const capturedNodeRef = React.useRef(null);\n  const [previousContentNode, setPreviousContentNode] = React.useState(null);\n  const [newTriggerOffset, setNewTriggerOffset] = React.useState(null);\n  const currentContainerRef = React.useRef(null);\n  const previousContainerRef = React.useRef(null);\n  const onAnimationsFinished = useAnimationsFinished(currentContainerRef, true, false);\n  const cleanupFrame = useAnimationFrame();\n  const [previousContentDimensions, setPreviousContentDimensions] = React.useState(null);\n  const [showStartingStyleAttribute, setShowStartingStyleAttribute] = React.useState(false);\n  useIsoLayoutEffect(() => {\n    store.set('hasViewport', true);\n    return () => {\n      store.set('hasViewport', false);\n    };\n  }, [store]);\n  const handleMeasureLayout = useStableCallback(() => {\n    currentContainerRef.current?.style.setProperty('animation', 'none');\n    currentContainerRef.current?.style.setProperty('transition', 'none');\n    previousContainerRef.current?.style.setProperty('display', 'none');\n  });\n  const handleMeasureLayoutComplete = useStableCallback(previousDimensions => {\n    currentContainerRef.current?.style.removeProperty('animation');\n    currentContainerRef.current?.style.removeProperty('transition');\n    previousContainerRef.current?.style.removeProperty('display');\n    if (previousDimensions) {\n      setPreviousContentDimensions(previousDimensions);\n    }\n  });\n  const lastHandledTriggerRef = React.useRef(null);\n  useIsoLayoutEffect(() => {\n    // When a trigger changes, set the captured children HTML to state,\n    // so we can render both new and old content.\n    if (activeTrigger && previousActiveTrigger && activeTrigger !== previousActiveTrigger && lastHandledTriggerRef.current !== activeTrigger && capturedNodeRef.current) {\n      setPreviousContentNode(capturedNodeRef.current);\n      setShowStartingStyleAttribute(true);\n\n      // Calculate the relative position between the previous and new trigger,\n      // so we can pass it to the style hook for animation purposes.\n      const offset = calculateRelativePosition(previousActiveTrigger, activeTrigger);\n      setNewTriggerOffset(offset);\n      cleanupFrame.request(() => {\n        cleanupFrame.request(() => {\n          setShowStartingStyleAttribute(false);\n          onAnimationsFinished(() => {\n            setPreviousContentNode(null);\n            setPreviousContentDimensions(null);\n            capturedNodeRef.current = null;\n          });\n        });\n      });\n      lastHandledTriggerRef.current = activeTrigger;\n    }\n  }, [activeTrigger, previousActiveTrigger, previousContentNode, onAnimationsFinished, cleanupFrame]);\n\n  // Capture a clone of the current content DOM subtree when not transitioning.\n  // We can't store previous React nodes as they may be stateful; instead we capture DOM clones for visual continuity.\n  useIsoLayoutEffect(() => {\n    // When a transition is in progress, we store the next content in capturedNodeRef.\n    // This handles the case where the trigger changes multiple times before the transition finishes.\n    // We want to always capture the latest content for the previous snapshot.\n    // So clicking quickly on T1, T2, T3 will result in the following sequence:\n    // 1. T1 -> T2: previousContent = T1, currentContent = T2\n    // 2. T2 -> T3: previousContent = T2, currentContent = T3\n    const source = currentContainerRef.current;\n    if (!source) {\n      return;\n    }\n    const wrapper = document.createElement('div');\n    for (const child of Array.from(source.childNodes)) {\n      wrapper.appendChild(child.cloneNode(true));\n    }\n    capturedNodeRef.current = wrapper;\n  });\n  const isTransitioning = previousContentNode != null;\n  let childrenToRender;\n  if (!isTransitioning) {\n    childrenToRender = /*#__PURE__*/_jsx(\"div\", {\n      \"data-current\": true,\n      ref: currentContainerRef,\n      children: children\n    }, currentContentKey);\n  } else {\n    childrenToRender = /*#__PURE__*/_jsxs(React.Fragment, {\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        \"data-previous\": true,\n        inert: inertValue(true),\n        ref: previousContainerRef,\n        style: {\n          [PreviewCardViewportCssVars.popupWidth]: `${previousContentDimensions?.width}px`,\n          [PreviewCardViewportCssVars.popupHeight]: `${previousContentDimensions?.height}px`,\n          position: 'absolute'\n        },\n        \"data-ending-style\": showStartingStyleAttribute ? undefined : ''\n      }, 'previous'), /*#__PURE__*/_jsx(\"div\", {\n        \"data-current\": true,\n        ref: currentContainerRef,\n        \"data-starting-style\": showStartingStyleAttribute ? '' : undefined,\n        children: children\n      }, currentContentKey)]\n    });\n  }\n\n  // When previousContentNode is present, imperatively populate the previous container with the cloned children.\n  useIsoLayoutEffect(() => {\n    const container = previousContainerRef.current;\n    if (!container || !previousContentNode) {\n      return;\n    }\n    container.replaceChildren(...Array.from(previousContentNode.childNodes));\n  }, [previousContentNode]);\n  usePopupAutoResize({\n    popupElement,\n    positionerElement,\n    mounted,\n    content: payload,\n    onMeasureLayout: handleMeasureLayout,\n    onMeasureLayoutComplete: handleMeasureLayoutComplete,\n    side: positioner.side,\n    direction\n  });\n  const state = React.useMemo(() => {\n    return {\n      activationDirection: getActivationDirection(newTriggerOffset),\n      transitioning: isTransitioning,\n      instant: instantType\n    };\n  }, [newTriggerOffset, isTransitioning, instantType]);\n  return useRenderElement('div', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: [elementProps, {\n      children: childrenToRender\n    }],\n    stateAttributesMapping\n  });\n});\nif (process.env.NODE_ENV !== \"production\") PreviewCardViewport.displayName = \"PreviewCardViewport\";\n/**\n * Returns a string describing the provided offset.\n * It describes both the horizontal and vertical offset, separated by a space.\n *\n * @param offset\n */\nfunction getActivationDirection(offset) {\n  if (!offset) {\n    return undefined;\n  }\n  return `${getValueWithTolerance(offset.horizontal, 5, 'right', 'left')} ${getValueWithTolerance(offset.vertical, 5, 'down', 'up')}`;\n}\n\n/**\n * Returns a label describing the value (positive/negative) treating values\n * within tolerance as zero.\n *\n * @param value Value to check\n * @param tolerance Tolerance to treat the value as zero.\n * @param positiveLabel\n * @param negativeLabel\n * @returns If 0 < abs(value) < tolerance, returns an empty string. Otherwise returns positiveLabel or negativeLabel.\n */\nfunction getValueWithTolerance(value, tolerance, positiveLabel, negativeLabel) {\n  if (value > tolerance) {\n    return positiveLabel;\n  }\n  if (value < -tolerance) {\n    return negativeLabel;\n  }\n  return '';\n}\n\n/**\n * Calculates the relative position between centers of two elements.\n */\nfunction calculateRelativePosition(from, to) {\n  const fromRect = from.getBoundingClientRect();\n  const toRect = to.getBoundingClientRect();\n  const fromCenter = {\n    x: fromRect.left + fromRect.width / 2,\n    y: fromRect.top + fromRect.height / 2\n  };\n  const toCenter = {\n    x: toRect.left + toRect.width / 2,\n    y: toRect.top + toRect.height / 2\n  };\n  return {\n    horizontal: toCenter.x - fromCenter.x,\n    vertical: toCenter.y - fromCenter.y\n  };\n}\n\n/**\n * Returns a key that forces remounting content when triggers change or a payload is updated.\n */\nfunction usePopupContentKey(activeTriggerId, payload) {\n  const [contentKey, setContentKey] = React.useState(0);\n  const previousActiveTriggerIdRef = React.useRef(activeTriggerId);\n  const previousPayloadRef = React.useRef(payload);\n  const pendingPayloadUpdateRef = React.useRef(false);\n  useIsoLayoutEffect(() => {\n    // Compare against the last committed values to decide whether we need a new DOM subtree.\n    const previousActiveTriggerId = previousActiveTriggerIdRef.current;\n    const previousPayload = previousPayloadRef.current;\n    const triggerIdChanged = activeTriggerId !== previousActiveTriggerId;\n    const payloadChanged = payload !== previousPayload;\n    if (triggerIdChanged) {\n      // Remount immediately on trigger change; remember if payload hasn't caught up yet.\n      setContentKey(value => value + 1);\n      pendingPayloadUpdateRef.current = !payloadChanged;\n    } else if (pendingPayloadUpdateRef.current && payloadChanged) {\n      // Payload arrived a render later, so remount once more to avoid reusing the old <img>.\n      setContentKey(value => value + 1);\n      pendingPayloadUpdateRef.current = false;\n    }\n\n    // Persist current values for the next render's comparison.\n    previousActiveTriggerIdRef.current = activeTriggerId;\n    previousPayloadRef.current = payload;\n  }, [activeTriggerId, payload]);\n  return `${activeTriggerId ?? 'current'}-${contentKey}`;\n}", "export let PreviewCardViewportCssVars = /*#__PURE__*/function (PreviewCardViewportCssVars) {\n  /**\n   * The width of the parent popup.\n   * This variable is placed on the 'previous' container and stores the width of the popup when the previous content was rendered.\n   * It can be used to freeze the dimensions of the popup when animating between different content.\n   */\n  PreviewCardViewportCssVars[\"popupWidth\"] = \"--popup-width\";\n  /**\n   * The height of the parent popup.\n   * This variable is placed on the 'previous' container and stores the height of the popup when the previous content was rendered.\n   * It can be used to freeze the dimensions of the popup when animating between different content.\n   */\n  PreviewCardViewportCssVars[\"popupHeight\"] = \"--popup-height\";\n  return PreviewCardViewportCssVars;\n}({});", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport { PreviewCardStore } from \"./PreviewCardStore.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\n\n/**\n * A handle to control a preview card imperatively and to associate detached triggers with it.\n */\nexport class PreviewCardHandle {\n  /**\n   * Internal store holding the preview card state.\n   * @internal\n   */\n\n  constructor() {\n    this.store = new PreviewCardStore();\n  }\n\n  /**\n   * Opens the preview card and associates it with the trigger with the given ID.\n   * The trigger must be a PreviewCard.Trigger component with this handle passed as a prop.\n   *\n   * This method should only be called in an event handler or an effect (not during rendering).\n   *\n   * @param triggerId ID of the trigger to associate with the preview card.\n   */\n  open(triggerId) {\n    const triggerElement = triggerId ? this.store.context.triggerElements.getById(triggerId) : undefined;\n    if (triggerId && !triggerElement) {\n      throw new Error(process.env.NODE_ENV !== \"production\" ? `Base UI: PreviewCardHandle.open: No trigger found with id \"${triggerId}\".` : _formatErrorMessage(88, triggerId));\n    }\n    this.store.setOpen(true, createChangeEventDetails(REASONS.imperativeAction, undefined, triggerElement));\n  }\n\n  /**\n   * Closes the preview card.\n   */\n  close() {\n    this.store.setOpen(false, createChangeEventDetails(REASONS.imperativeAction, undefined, undefined));\n  }\n\n  /**\n   * Indicates whether the preview card is currently open.\n   */\n  get isOpen() {\n    return this.store.state.open;\n  }\n}\n\n/**\n * Creates a new handle to connect a PreviewCard.Root with detached PreviewCard.Trigger components.\n */\nexport function createPreviewCardHandle() {\n  return new PreviewCardHandle();\n}", "export { ProgressRoot as Root } from \"./root/ProgressRoot.js\";\nexport { ProgressTrack as Track } from \"./track/ProgressTrack.js\";\nexport { ProgressIndicator as Indicator } from \"./indicator/ProgressIndicator.js\";\nexport { ProgressValue as Value } from \"./value/ProgressValue.js\";\nexport { ProgressLabel as Label } from \"./label/ProgressLabel.js\";", "'use client';\n\nimport * as React from 'react';\nimport { useValueAsRef } from '@base-ui/utils/useValueAsRef';\nimport { formatNumber } from \"../../utils/formatNumber.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { ProgressRootContext } from \"./ProgressRootContext.js\";\nimport { progressStateAttributesMapping } from \"./stateAttributesMapping.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nfunction formatValue(value, locale, format) {\n  if (value == null) {\n    return '';\n  }\n  if (!format) {\n    return formatNumber(value / 100, locale, {\n      style: 'percent'\n    });\n  }\n  return formatNumber(value, locale, format);\n}\nfunction getDefaultAriaValueText(formattedValue, value) {\n  if (value == null) {\n    return 'indeterminate progress';\n  }\n  return formattedValue || `${value}%`;\n}\n\n/**\n * Groups all parts of the progress bar and provides the task completion status to screen readers.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Progress](https://base-ui.com/react/components/progress)\n */\nexport const ProgressRoot = /*#__PURE__*/React.forwardRef(function ProgressRoot(componentProps, forwardedRef) {\n  const {\n    format,\n    getAriaValueText = getDefaultAriaValueText,\n    locale,\n    max = 100,\n    min = 0,\n    value,\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const [labelId, setLabelId] = React.useState();\n  const formatOptionsRef = useValueAsRef(format);\n  let status = 'indeterminate';\n  if (Number.isFinite(value)) {\n    status = value === max ? 'complete' : 'progressing';\n  }\n  const formattedValue = formatValue(value, locale, formatOptionsRef.current);\n  const state = React.useMemo(() => ({\n    status\n  }), [status]);\n  const defaultProps = {\n    'aria-labelledby': labelId,\n    'aria-valuemax': max,\n    'aria-valuemin': min,\n    'aria-valuenow': value ?? undefined,\n    'aria-valuetext': getAriaValueText(formattedValue, value),\n    role: 'progressbar'\n  };\n  const contextValue = React.useMemo(() => ({\n    formattedValue,\n    max,\n    min,\n    setLabelId,\n    state,\n    status,\n    value\n  }), [formattedValue, max, min, setLabelId, state, status, value]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: [defaultProps, elementProps],\n    stateAttributesMapping: progressStateAttributesMapping\n  });\n  return /*#__PURE__*/_jsx(ProgressRootContext.Provider, {\n    value: contextValue,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") ProgressRoot.displayName = \"ProgressRoot\";", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\n/**\n * @internal\n */\nexport const ProgressRootContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") ProgressRootContext.displayName = \"ProgressRootContext\";\nexport function useProgressRootContext() {\n  const context = React.useContext(ProgressRootContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: ProgressRootContext is missing. Progress parts must be placed within <Progress.Root>.' : _formatErrorMessage(51));\n  }\n  return context;\n}", "export let ProgressRootDataAttributes = /*#__PURE__*/function (ProgressRootDataAttributes) {\n  /**\n   * Present when the progress has completed.\n   */\n  ProgressRootDataAttributes[\"complete\"] = \"data-complete\";\n  /**\n   * Present when the progress is in interminate state.\n   */\n  ProgressRootDataAttributes[\"indeterminate\"] = \"data-indeterminate\";\n  /**\n   * Present while the progress is progressing.\n   */\n  ProgressRootDataAttributes[\"progressing\"] = \"data-progressing\";\n  return ProgressRootDataAttributes;\n}({});", "import { ProgressRootDataAttributes } from \"./ProgressRootDataAttributes.js\";\nexport const progressStateAttributesMapping = {\n  status(value) {\n    if (value === 'progressing') {\n      return {\n        [ProgressRootDataAttributes.progressing]: ''\n      };\n    }\n    if (value === 'complete') {\n      return {\n        [ProgressRootDataAttributes.complete]: ''\n      };\n    }\n    if (value === 'indeterminate') {\n      return {\n        [ProgressRootDataAttributes.indeterminate]: ''\n      };\n    }\n    return null;\n  }\n};", "'use client';\n\nimport * as React from 'react';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useProgressRootContext } from \"../root/ProgressRootContext.js\";\nimport { progressStateAttributesMapping } from \"../root/stateAttributesMapping.js\";\n/**\n * Contains the progress bar indicator.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Progress](https://base-ui.com/react/components/progress)\n */\nexport const ProgressTrack = /*#__PURE__*/React.forwardRef(function ProgressTrack(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const {\n    state\n  } = useProgressRootContext();\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: elementProps,\n    stateAttributesMapping: progressStateAttributesMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") ProgressTrack.displayName = \"ProgressTrack\";", "'use client';\n\nimport * as React from 'react';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { valueToPercent } from \"../../utils/valueToPercent.js\";\nimport { useProgressRootContext } from \"../root/ProgressRootContext.js\";\nimport { progressStateAttributesMapping } from \"../root/stateAttributesMapping.js\";\n/**\n * Visualizes the completion status of the task.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Progress](https://base-ui.com/react/components/progress)\n */\nexport const ProgressIndicator = /*#__PURE__*/React.forwardRef(function ProgressIndicator(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const {\n    max,\n    min,\n    value,\n    state\n  } = useProgressRootContext();\n  const percentageValue = Number.isFinite(value) && value !== null ? valueToPercent(value, min, max) : null;\n  const getStyles = React.useCallback(() => {\n    if (percentageValue == null) {\n      return {};\n    }\n    return {\n      insetInlineStart: 0,\n      height: 'inherit',\n      width: `${percentageValue}%`\n    };\n  }, [percentageValue]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: [{\n      style: getStyles()\n    }, elementProps],\n    stateAttributesMapping: progressStateAttributesMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") ProgressIndicator.displayName = \"ProgressIndicator\";", "'use client';\n\nimport * as React from 'react';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useProgressRootContext } from \"../root/ProgressRootContext.js\";\nimport { progressStateAttributesMapping } from \"../root/stateAttributesMapping.js\";\n/**\n * A text label displaying the current value.\n * Renders a `<span>` element.\n *\n * Documentation: [Base UI Progress](https://base-ui.com/react/components/progress)\n */\nexport const ProgressValue = /*#__PURE__*/React.forwardRef(function ProgressValue(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    children,\n    ...elementProps\n  } = componentProps;\n  const {\n    value,\n    formattedValue,\n    state\n  } = useProgressRootContext();\n  const formattedValueArg = value == null ? 'indeterminate' : formattedValue;\n  const formattedValueDisplay = value == null ? null : formattedValue;\n  const element = useRenderElement('span', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: [{\n      'aria-hidden': true,\n      children: typeof children === 'function' ? children(formattedValueArg, value) : formattedValueDisplay\n    }, elementProps],\n    stateAttributesMapping: progressStateAttributesMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") ProgressValue.displayName = \"ProgressValue\";", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useProgressRootContext } from \"../root/ProgressRootContext.js\";\nimport { progressStateAttributesMapping } from \"../root/stateAttributesMapping.js\";\n/**\n * An accessible label for the progress bar.\n * Renders a `<span>` element.\n *\n * Documentation: [Base UI Progress](https://base-ui.com/react/components/progress)\n */\nexport const ProgressLabel = /*#__PURE__*/React.forwardRef(function ProgressLabel(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    id: idProp,\n    ...elementProps\n  } = componentProps;\n  const id = useBaseUiId(idProp);\n  const {\n    setLabelId,\n    state\n  } = useProgressRootContext();\n  useIsoLayoutEffect(() => {\n    setLabelId(id);\n    return () => setLabelId(undefined);\n  }, [id, setLabelId]);\n  const element = useRenderElement('span', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: [{\n      id\n    }, elementProps],\n    stateAttributesMapping: progressStateAttributesMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") ProgressLabel.displayName = \"ProgressLabel\";", "export { RadioRoot as Root } from \"./root/RadioRoot.js\";\nexport { RadioIndicator as Indicator } from \"./indicator/RadioIndicator.js\";", "'use client';\n\nimport * as React from 'react';\nimport { useMergedRefs } from '@base-ui/utils/useMergedRefs';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { visuallyHidden, visuallyHiddenInput } from '@base-ui/utils/visuallyHidden';\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { EMPTY_OBJECT } from \"../../utils/constants.js\";\nimport { NOOP } from \"../../utils/noop.js\";\nimport { stateAttributesMapping } from \"../utils/stateAttributesMapping.js\";\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useButton } from \"../../use-button/index.js\";\nimport { ACTIVE_COMPOSITE_ITEM } from \"../../composite/constants.js\";\nimport { CompositeItem } from \"../../composite/item/CompositeItem.js\";\nimport { useFieldRootContext } from \"../../field/root/FieldRootContext.js\";\nimport { useFieldItemContext } from \"../../field/item/FieldItemContext.js\";\nimport { useLabelableContext } from \"../../labelable-provider/LabelableContext.js\";\nimport { useLabelableId } from \"../../labelable-provider/useLabelableId.js\";\nimport { useRadioGroupContext } from \"../../radio-group/RadioGroupContext.js\";\nimport { RadioRootContext } from \"./RadioRootContext.js\";\n\n/**\n * Represents the radio button itself.\n * Renders a `<span>` element and a hidden `<input>` beside.\n *\n * Documentation: [Base UI Radio](https://base-ui.com/react/components/radio)\n */\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const RadioRoot = /*#__PURE__*/React.forwardRef(function RadioRoot(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    disabled: disabledProp = false,\n    readOnly: readOnlyProp = false,\n    required: requiredProp = false,\n    value,\n    inputRef: inputRefProp,\n    nativeButton = false,\n    id: idProp,\n    ...elementProps\n  } = componentProps;\n  const {\n    disabled: disabledGroup,\n    readOnly: readOnlyGroup,\n    required: requiredGroup,\n    checkedValue,\n    setCheckedValue,\n    touched,\n    setTouched,\n    validation,\n    registerControlRef,\n    name\n  } = useRadioGroupContext();\n  const {\n    setDirty,\n    validityData,\n    setTouched: setFieldTouched,\n    setFilled,\n    state: fieldState,\n    disabled: fieldDisabled\n  } = useFieldRootContext();\n  const fieldItemContext = useFieldItemContext();\n  const {\n    labelId,\n    getDescriptionProps\n  } = useLabelableContext();\n  const disabled = fieldDisabled || fieldItemContext.disabled || disabledGroup || disabledProp;\n  const readOnly = readOnlyGroup || readOnlyProp;\n  const required = requiredGroup || requiredProp;\n  const checked = checkedValue === value;\n  const radioRef = React.useRef(null);\n  const inputRef = React.useRef(null);\n  const mergedInputRef = useMergedRefs(inputRefProp, inputRef);\n  useIsoLayoutEffect(() => {\n    if (inputRef.current?.checked) {\n      setFilled(true);\n    }\n  }, [setFilled]);\n  const id = useBaseUiId();\n  const inputId = useLabelableId({\n    id: idProp,\n    implicit: false,\n    controlRef: radioRef\n  });\n  const hiddenInputId = nativeButton ? undefined : inputId;\n  const rootProps = {\n    role: 'radio',\n    'aria-checked': checked,\n    'aria-required': required || undefined,\n    'aria-readonly': readOnly || undefined,\n    'aria-labelledby': labelId,\n    [ACTIVE_COMPOSITE_ITEM]: checked ? '' : undefined,\n    id: nativeButton ? inputId : id,\n    onKeyDown(event) {\n      if (event.key === 'Enter') {\n        event.preventDefault();\n      }\n    },\n    onClick(event) {\n      if (event.defaultPrevented || disabled || readOnly) {\n        return;\n      }\n      event.preventDefault();\n      inputRef.current?.click();\n    },\n    onFocus(event) {\n      if (event.defaultPrevented || disabled || readOnly || !touched) {\n        return;\n      }\n      inputRef.current?.click();\n      setTouched(false);\n    }\n  };\n  const {\n    getButtonProps,\n    buttonRef\n  } = useButton({\n    disabled,\n    native: nativeButton\n  });\n  const inputProps = {\n    type: 'radio',\n    ref: mergedInputRef,\n    id: hiddenInputId,\n    tabIndex: -1,\n    style: name ? visuallyHiddenInput : visuallyHidden,\n    'aria-hidden': true,\n    disabled,\n    checked,\n    required,\n    readOnly,\n    onChange(event) {\n      // Workaround for https://github.com/facebook/react/issues/9023\n      if (event.nativeEvent.defaultPrevented) {\n        return;\n      }\n      if (disabled || readOnly || value === undefined) {\n        return;\n      }\n      const details = createChangeEventDetails(REASONS.none, event.nativeEvent);\n      if (details.isCanceled) {\n        return;\n      }\n      setFieldTouched(true);\n      setDirty(value !== validityData.initialValue);\n      setFilled(true);\n      setCheckedValue(value, details);\n    },\n    onFocus() {\n      radioRef.current?.focus();\n    }\n  };\n  const state = React.useMemo(() => ({\n    ...fieldState,\n    required,\n    disabled,\n    readOnly,\n    checked\n  }), [fieldState, disabled, readOnly, checked, required]);\n  const contextValue = React.useMemo(() => state, [state]);\n  const isRadioGroup = setCheckedValue !== NOOP;\n  const refs = [forwardedRef, registerControlRef, radioRef, buttonRef];\n  const props = [rootProps, getDescriptionProps, validation?.getValidationProps ?? EMPTY_OBJECT, elementProps, getButtonProps];\n  const element = useRenderElement('span', componentProps, {\n    enabled: !isRadioGroup,\n    state,\n    ref: refs,\n    props,\n    stateAttributesMapping\n  });\n  return /*#__PURE__*/_jsxs(RadioRootContext.Provider, {\n    value: contextValue,\n    children: [isRadioGroup ? /*#__PURE__*/_jsx(CompositeItem, {\n      tag: \"span\",\n      render: render,\n      className: className,\n      state: state,\n      refs: refs,\n      props: props,\n      stateAttributesMapping: stateAttributesMapping\n    }) : element, /*#__PURE__*/_jsx(\"input\", {\n      ...inputProps\n    })]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") RadioRoot.displayName = \"RadioRoot\";", "export let RadioRootDataAttributes = /*#__PURE__*/function (RadioRootDataAttributes) {\n  /**\n   * Present when the radio is checked.\n   */\n  RadioRootDataAttributes[\"checked\"] = \"data-checked\";\n  /**\n   * Present when the radio is not checked.\n   */\n  RadioRootDataAttributes[\"unchecked\"] = \"data-unchecked\";\n  /**\n   * Present when the radio is disabled.\n   */\n  RadioRootDataAttributes[\"disabled\"] = \"data-disabled\";\n  /**\n   * Present when the radio is readonly.\n   */\n  RadioRootDataAttributes[\"readonly\"] = \"data-readonly\";\n  /**\n   * Present when the radio is required.\n   */\n  RadioRootDataAttributes[\"required\"] = \"data-required\";\n  /**\n   * Present when the radio is in valid state (when wrapped in Field.Root).\n   */\n  RadioRootDataAttributes[\"valid\"] = \"data-valid\";\n  /**\n   * Present when the radio is in invalid state (when wrapped in Field.Root).\n   */\n  RadioRootDataAttributes[\"invalid\"] = \"data-invalid\";\n  /**\n   * Present when the radio has been touched (when wrapped in Field.Root).\n   */\n  RadioRootDataAttributes[\"touched\"] = \"data-touched\";\n  /**\n   * Present when the radio's value has changed (when wrapped in Field.Root).\n   */\n  RadioRootDataAttributes[\"dirty\"] = \"data-dirty\";\n  /**\n   * Present when the radio is checked (when wrapped in Field.Root).\n   */\n  RadioRootDataAttributes[\"filled\"] = \"data-filled\";\n  /**\n   * Present when the radio is focused (when wrapped in Field.Root).\n   */\n  RadioRootDataAttributes[\"focused\"] = \"data-focused\";\n  return RadioRootDataAttributes;\n}({});", "import { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { fieldValidityMapping } from \"../../field/utils/constants.js\";\nimport { RadioRootDataAttributes } from \"../root/RadioRootDataAttributes.js\";\nexport const stateAttributesMapping = {\n  checked(value) {\n    if (value) {\n      return {\n        [RadioRootDataAttributes.checked]: ''\n      };\n    }\n    return {\n      [RadioRootDataAttributes.unchecked]: ''\n    };\n  },\n  ...transitionStatusMapping,\n  ...fieldValidityMapping\n};", "'use client';\n\nimport * as React from 'react';\nimport { NOOP } from \"../utils/noop.js\";\nexport const RadioGroupContext = /*#__PURE__*/React.createContext({\n  disabled: undefined,\n  readOnly: undefined,\n  required: undefined,\n  name: undefined,\n  checkedValue: '',\n  setCheckedValue: NOOP,\n  onValueChange: NOOP,\n  touched: false,\n  setTouched: NOOP,\n  registerControlRef: NOOP\n});\nif (process.env.NODE_ENV !== \"production\") RadioGroupContext.displayName = \"RadioGroupContext\";\nexport function useRadioGroupContext() {\n  return React.useContext(RadioGroupContext);\n}", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const RadioRootContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") RadioRootContext.displayName = \"RadioRootContext\";\nexport function useRadioRootContext() {\n  const value = React.useContext(RadioRootContext);\n  if (value === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: RadioRootContext is missing. Radio parts must be placed within <Radio.Root>.' : _formatErrorMessage(52));\n  }\n  return value;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useRadioRootContext } from \"../root/RadioRootContext.js\";\nimport { stateAttributesMapping } from \"../utils/stateAttributesMapping.js\";\nimport { useOpenChangeComplete } from \"../../utils/useOpenChangeComplete.js\";\nimport { useTransitionStatus } from \"../../utils/useTransitionStatus.js\";\n\n/**\n * Indicates whether the radio button is selected.\n * Renders a `<span>` element.\n *\n * Documentation: [Base UI Radio](https://base-ui.com/react/components/radio)\n */\nexport const RadioIndicator = /*#__PURE__*/React.forwardRef(function RadioIndicator(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    keepMounted = false,\n    ...elementProps\n  } = componentProps;\n  const rootState = useRadioRootContext();\n  const rendered = rootState.checked;\n  const {\n    transitionStatus,\n    setMounted\n  } = useTransitionStatus(rendered);\n  const state = React.useMemo(() => ({\n    ...rootState,\n    transitionStatus\n  }), [rootState, transitionStatus]);\n  const indicatorRef = React.useRef(null);\n  const shouldRender = keepMounted || rendered;\n  const element = useRenderElement('span', componentProps, {\n    enabled: shouldRender,\n    ref: [forwardedRef, indicatorRef],\n    state,\n    props: elementProps,\n    stateAttributesMapping\n  });\n  useOpenChangeComplete({\n    open: rendered,\n    ref: indicatorRef,\n    onComplete() {\n      if (!rendered) {\n        setMounted(false);\n      }\n    }\n  });\n  if (!shouldRender) {\n    return null;\n  }\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") RadioIndicator.displayName = \"RadioIndicator\";", "'use client';\n\nimport * as React from 'react';\nimport { useControlled } from '@base-ui/utils/useControlled';\nimport { useMergedRefs } from '@base-ui/utils/useMergedRefs';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { visuallyHidden, visuallyHiddenInput } from '@base-ui/utils/visuallyHidden';\nimport { NOOP } from \"../utils/noop.js\";\nimport { useBaseUiId } from \"../utils/useBaseUiId.js\";\nimport { contains } from \"../floating-ui-react/utils.js\";\nimport { SHIFT } from \"../composite/composite.js\";\nimport { CompositeRoot } from \"../composite/root/CompositeRoot.js\";\nimport { useField } from \"../field/useField.js\";\nimport { useFieldRootContext } from \"../field/root/FieldRootContext.js\";\nimport { fieldValidityMapping } from \"../field/utils/constants.js\";\nimport { useFieldsetRootContext } from \"../fieldset/root/FieldsetRootContext.js\";\nimport { useFormContext } from \"../form/FormContext.js\";\nimport { useLabelableContext } from \"../labelable-provider/LabelableContext.js\";\nimport { mergeProps } from \"../merge-props/index.js\";\nimport { useValueChanged } from \"../utils/useValueChanged.js\";\nimport { RadioGroupContext } from \"./RadioGroupContext.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst MODIFIER_KEYS = [SHIFT];\n\n/**\n * Provides a shared state to a series of radio buttons.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Radio Group](https://base-ui.com/react/components/radio)\n */\nexport const RadioGroup = /*#__PURE__*/React.forwardRef(function RadioGroup(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    disabled: disabledProp,\n    readOnly,\n    required,\n    onValueChange: onValueChangeProp,\n    value: externalValue,\n    defaultValue,\n    name: nameProp,\n    inputRef: inputRefProp,\n    id: idProp,\n    ...elementProps\n  } = componentProps;\n  const {\n    setTouched: setFieldTouched,\n    setFocused,\n    shouldValidateOnChange,\n    validationMode,\n    name: fieldName,\n    disabled: fieldDisabled,\n    state: fieldState,\n    validation,\n    setDirty,\n    setFilled,\n    validityData\n  } = useFieldRootContext();\n  const {\n    labelId\n  } = useLabelableContext();\n  const {\n    clearErrors\n  } = useFormContext();\n  const fieldsetContext = useFieldsetRootContext(true);\n  const disabled = fieldDisabled || disabledProp;\n  const name = fieldName ?? nameProp;\n  const id = useBaseUiId(idProp);\n  const [checkedValue, setCheckedValueUnwrapped] = useControlled({\n    controlled: externalValue,\n    default: defaultValue,\n    name: 'RadioGroup',\n    state: 'value'\n  });\n  const onValueChange = useStableCallback(onValueChangeProp);\n  const setCheckedValue = useStableCallback((value, eventDetails) => {\n    onValueChange(value, eventDetails);\n    if (eventDetails.isCanceled) {\n      return;\n    }\n    setCheckedValueUnwrapped(value);\n  });\n  const controlRef = React.useRef(null);\n  const registerControlRef = useStableCallback(element => {\n    if (controlRef.current == null && element != null) {\n      controlRef.current = element;\n    }\n  });\n  useField({\n    id,\n    commit: validation.commit,\n    value: checkedValue,\n    controlRef,\n    name,\n    getValue: () => checkedValue ?? null\n  });\n  useValueChanged(checkedValue, () => {\n    clearErrors(name);\n    setDirty(checkedValue !== validityData.initialValue);\n    setFilled(checkedValue != null);\n    if (shouldValidateOnChange()) {\n      validation.commit(checkedValue);\n    } else {\n      validation.commit(checkedValue, true);\n    }\n  });\n  const [touched, setTouched] = React.useState(false);\n  const onBlur = useStableCallback(event => {\n    if (!contains(event.currentTarget, event.relatedTarget)) {\n      setFieldTouched(true);\n      setFocused(false);\n      if (validationMode === 'onBlur') {\n        validation.commit(checkedValue);\n      }\n    }\n  });\n  const onKeyDownCapture = useStableCallback(event => {\n    if (event.key.startsWith('Arrow')) {\n      setFieldTouched(true);\n      setTouched(true);\n      setFocused(true);\n    }\n  });\n  const serializedCheckedValue = React.useMemo(() => {\n    if (checkedValue == null) {\n      return ''; // avoid uncontrolled -> controlled error\n    }\n    if (typeof checkedValue === 'string') {\n      return checkedValue;\n    }\n    return JSON.stringify(checkedValue);\n  }, [checkedValue]);\n  const mergedInputRef = useMergedRefs(validation.inputRef, inputRefProp);\n  const inputProps = mergeProps({\n    value: serializedCheckedValue,\n    ref: mergedInputRef,\n    id,\n    name: serializedCheckedValue ? name : undefined,\n    disabled,\n    readOnly,\n    required,\n    'aria-labelledby': elementProps['aria-labelledby'] ?? fieldsetContext?.legendId,\n    'aria-hidden': true,\n    tabIndex: -1,\n    style: name ? visuallyHiddenInput : visuallyHidden,\n    onChange: NOOP,\n    // suppress a Next.js error\n    onFocus() {\n      controlRef.current?.focus();\n    }\n  }, validation.getInputValidationProps);\n  const state = React.useMemo(() => ({\n    ...fieldState,\n    disabled: disabled ?? false,\n    required: required ?? false,\n    readOnly: readOnly ?? false\n  }), [fieldState, disabled, readOnly, required]);\n  const contextValue = React.useMemo(() => ({\n    ...fieldState,\n    checkedValue,\n    disabled,\n    validation,\n    name,\n    onValueChange,\n    readOnly,\n    registerControlRef,\n    required,\n    setCheckedValue,\n    setTouched,\n    touched\n  }), [checkedValue, disabled, validation, fieldState, name, onValueChange, readOnly, registerControlRef, required, setCheckedValue, setTouched, touched]);\n  const defaultProps = {\n    role: 'radiogroup',\n    'aria-required': required || undefined,\n    'aria-disabled': disabled || undefined,\n    'aria-readonly': readOnly || undefined,\n    'aria-labelledby': labelId,\n    onFocus() {\n      setFocused(true);\n    },\n    onBlur,\n    onKeyDownCapture\n  };\n  return /*#__PURE__*/_jsxs(RadioGroupContext.Provider, {\n    value: contextValue,\n    children: [/*#__PURE__*/_jsx(CompositeRoot, {\n      render: render,\n      className: className,\n      state: state,\n      props: [defaultProps, validation.getValidationProps, elementProps],\n      refs: [forwardedRef],\n      stateAttributesMapping: fieldValidityMapping,\n      enableHomeAndEndKeys: false,\n      modifierKeys: MODIFIER_KEYS\n    }), /*#__PURE__*/_jsx(\"input\", {\n      ...inputProps\n    })]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") RadioGroup.displayName = \"RadioGroup\";", "export { ScrollAreaRoot as Root } from \"./root/ScrollAreaRoot.js\";\nexport { ScrollAreaViewport as Viewport } from \"./viewport/ScrollAreaViewport.js\";\nexport { ScrollAreaScrollbar as Scrollbar } from \"./scrollbar/ScrollAreaScrollbar.js\";\nexport { ScrollAreaContent as Content } from \"./content/ScrollAreaContent.js\";\nexport { ScrollAreaThumb as Thumb } from \"./thumb/ScrollAreaThumb.js\";\nexport { ScrollAreaCorner as Corner } from \"./corner/ScrollAreaCorner.js\";", "'use client';\n\nimport * as React from 'react';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useTimeout } from '@base-ui/utils/useTimeout';\nimport { ScrollAreaRootContext } from \"./ScrollAreaRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { ScrollAreaRootCssVars } from \"./ScrollAreaRootCssVars.js\";\nimport { SCROLL_TIMEOUT } from \"../constants.js\";\nimport { getOffset } from \"../utils/getOffset.js\";\nimport { ScrollAreaScrollbarDataAttributes } from \"../scrollbar/ScrollAreaScrollbarDataAttributes.js\";\nimport { styleDisableScrollbar } from \"../../utils/styles.js\";\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { scrollAreaStateAttributesMapping } from \"./stateAttributes.js\";\nimport { contains } from \"../../floating-ui-react/utils.js\";\nimport { useCSPContext } from \"../../csp-provider/CSPContext.js\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst DEFAULT_COORDS = {\n  x: 0,\n  y: 0\n};\nconst DEFAULT_SIZE = {\n  width: 0,\n  height: 0\n};\nconst DEFAULT_OVERFLOW_EDGES = {\n  xStart: false,\n  xEnd: false,\n  yStart: false,\n  yEnd: false\n};\nconst DEFAULT_HIDDEN_STATE = {\n  x: false,\n  y: false,\n  corner: false\n};\n/**\n * Groups all parts of the scroll area.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Scroll Area](https://base-ui.com/react/components/scroll-area)\n */\nexport const ScrollAreaRoot = /*#__PURE__*/React.forwardRef(function ScrollAreaRoot(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    overflowEdgeThreshold: overflowEdgeThresholdProp,\n    ...elementProps\n  } = componentProps;\n  const overflowEdgeThreshold = normalizeOverflowEdgeThreshold(overflowEdgeThresholdProp);\n  const rootId = useBaseUiId();\n  const scrollYTimeout = useTimeout();\n  const scrollXTimeout = useTimeout();\n  const {\n    nonce,\n    disableStyleElements\n  } = useCSPContext();\n  const [hovering, setHovering] = React.useState(false);\n  const [scrollingX, setScrollingX] = React.useState(false);\n  const [scrollingY, setScrollingY] = React.useState(false);\n  const [touchModality, setTouchModality] = React.useState(false);\n  const [cornerSize, setCornerSize] = React.useState(DEFAULT_SIZE);\n  const [thumbSize, setThumbSize] = React.useState(DEFAULT_SIZE);\n  const [overflowEdges, setOverflowEdges] = React.useState(DEFAULT_OVERFLOW_EDGES);\n  const [hiddenState, setHiddenState] = React.useState(DEFAULT_HIDDEN_STATE);\n  const rootRef = React.useRef(null);\n  const viewportRef = React.useRef(null);\n  const scrollbarYRef = React.useRef(null);\n  const scrollbarXRef = React.useRef(null);\n  const thumbYRef = React.useRef(null);\n  const thumbXRef = React.useRef(null);\n  const cornerRef = React.useRef(null);\n  const thumbDraggingRef = React.useRef(false);\n  const startYRef = React.useRef(0);\n  const startXRef = React.useRef(0);\n  const startScrollTopRef = React.useRef(0);\n  const startScrollLeftRef = React.useRef(0);\n  const currentOrientationRef = React.useRef('vertical');\n  const scrollPositionRef = React.useRef(DEFAULT_COORDS);\n  const handleScroll = useStableCallback(scrollPosition => {\n    const offsetX = scrollPosition.x - scrollPositionRef.current.x;\n    const offsetY = scrollPosition.y - scrollPositionRef.current.y;\n    scrollPositionRef.current = scrollPosition;\n    if (offsetY !== 0) {\n      setScrollingY(true);\n      scrollYTimeout.start(SCROLL_TIMEOUT, () => {\n        setScrollingY(false);\n      });\n    }\n    if (offsetX !== 0) {\n      setScrollingX(true);\n      scrollXTimeout.start(SCROLL_TIMEOUT, () => {\n        setScrollingX(false);\n      });\n    }\n  });\n  const handlePointerDown = useStableCallback(event => {\n    if (event.button !== 0) {\n      return;\n    }\n    thumbDraggingRef.current = true;\n    startYRef.current = event.clientY;\n    startXRef.current = event.clientX;\n    currentOrientationRef.current = event.currentTarget.getAttribute(ScrollAreaScrollbarDataAttributes.orientation);\n    if (viewportRef.current) {\n      startScrollTopRef.current = viewportRef.current.scrollTop;\n      startScrollLeftRef.current = viewportRef.current.scrollLeft;\n    }\n    if (thumbYRef.current && currentOrientationRef.current === 'vertical') {\n      thumbYRef.current.setPointerCapture(event.pointerId);\n    }\n    if (thumbXRef.current && currentOrientationRef.current === 'horizontal') {\n      thumbXRef.current.setPointerCapture(event.pointerId);\n    }\n  });\n  const handlePointerMove = useStableCallback(event => {\n    if (!thumbDraggingRef.current) {\n      return;\n    }\n    const deltaY = event.clientY - startYRef.current;\n    const deltaX = event.clientX - startXRef.current;\n    if (viewportRef.current) {\n      const scrollableContentHeight = viewportRef.current.scrollHeight;\n      const viewportHeight = viewportRef.current.clientHeight;\n      const scrollableContentWidth = viewportRef.current.scrollWidth;\n      const viewportWidth = viewportRef.current.clientWidth;\n      if (thumbYRef.current && scrollbarYRef.current && currentOrientationRef.current === 'vertical') {\n        const scrollbarYOffset = getOffset(scrollbarYRef.current, 'padding', 'y');\n        const thumbYOffset = getOffset(thumbYRef.current, 'margin', 'y');\n        const thumbHeight = thumbYRef.current.offsetHeight;\n        const maxThumbOffsetY = scrollbarYRef.current.offsetHeight - thumbHeight - scrollbarYOffset - thumbYOffset;\n        const scrollRatioY = deltaY / maxThumbOffsetY;\n        viewportRef.current.scrollTop = startScrollTopRef.current + scrollRatioY * (scrollableContentHeight - viewportHeight);\n        event.preventDefault();\n        setScrollingY(true);\n        scrollYTimeout.start(SCROLL_TIMEOUT, () => {\n          setScrollingY(false);\n        });\n      }\n      if (thumbXRef.current && scrollbarXRef.current && currentOrientationRef.current === 'horizontal') {\n        const scrollbarXOffset = getOffset(scrollbarXRef.current, 'padding', 'x');\n        const thumbXOffset = getOffset(thumbXRef.current, 'margin', 'x');\n        const thumbWidth = thumbXRef.current.offsetWidth;\n        const maxThumbOffsetX = scrollbarXRef.current.offsetWidth - thumbWidth - scrollbarXOffset - thumbXOffset;\n        const scrollRatioX = deltaX / maxThumbOffsetX;\n        viewportRef.current.scrollLeft = startScrollLeftRef.current + scrollRatioX * (scrollableContentWidth - viewportWidth);\n        event.preventDefault();\n        setScrollingX(true);\n        scrollXTimeout.start(SCROLL_TIMEOUT, () => {\n          setScrollingX(false);\n        });\n      }\n    }\n  });\n  const handlePointerUp = useStableCallback(event => {\n    thumbDraggingRef.current = false;\n    if (thumbYRef.current && currentOrientationRef.current === 'vertical') {\n      thumbYRef.current.releasePointerCapture(event.pointerId);\n    }\n    if (thumbXRef.current && currentOrientationRef.current === 'horizontal') {\n      thumbXRef.current.releasePointerCapture(event.pointerId);\n    }\n  });\n  function handleTouchModalityChange(event) {\n    setTouchModality(event.pointerType === 'touch');\n  }\n  function handlePointerEnterOrMove(event) {\n    handleTouchModalityChange(event);\n    if (event.pointerType !== 'touch') {\n      const isTargetRootChild = contains(rootRef.current, event.target);\n      setHovering(isTargetRootChild);\n    }\n  }\n  const state = React.useMemo(() => ({\n    hasOverflowX: !hiddenState.x,\n    hasOverflowY: !hiddenState.y,\n    overflowXStart: overflowEdges.xStart,\n    overflowXEnd: overflowEdges.xEnd,\n    overflowYStart: overflowEdges.yStart,\n    overflowYEnd: overflowEdges.yEnd,\n    cornerHidden: hiddenState.corner\n  }), [hiddenState.x, hiddenState.y, hiddenState.corner, overflowEdges]);\n  const props = {\n    role: 'presentation',\n    onPointerEnter: handlePointerEnterOrMove,\n    onPointerMove: handlePointerEnterOrMove,\n    onPointerDown: handleTouchModalityChange,\n    onPointerLeave() {\n      setHovering(false);\n    },\n    style: {\n      position: 'relative',\n      [ScrollAreaRootCssVars.scrollAreaCornerHeight]: `${cornerSize.height}px`,\n      [ScrollAreaRootCssVars.scrollAreaCornerWidth]: `${cornerSize.width}px`\n    }\n  };\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: [forwardedRef, rootRef],\n    props: [props, elementProps],\n    stateAttributesMapping: scrollAreaStateAttributesMapping\n  });\n  const contextValue = React.useMemo(() => ({\n    handlePointerDown,\n    handlePointerMove,\n    handlePointerUp,\n    handleScroll,\n    cornerSize,\n    setCornerSize,\n    thumbSize,\n    setThumbSize,\n    touchModality,\n    cornerRef,\n    scrollingX,\n    setScrollingX,\n    scrollingY,\n    setScrollingY,\n    hovering,\n    setHovering,\n    viewportRef,\n    rootRef,\n    scrollbarYRef,\n    scrollbarXRef,\n    thumbYRef,\n    thumbXRef,\n    rootId,\n    hiddenState,\n    setHiddenState,\n    overflowEdges,\n    setOverflowEdges,\n    viewportState: state,\n    overflowEdgeThreshold\n  }), [handlePointerDown, handlePointerMove, handlePointerUp, handleScroll, cornerSize, thumbSize, touchModality, scrollingX, setScrollingX, scrollingY, setScrollingY, hovering, setHovering, rootId, hiddenState, overflowEdges, state, overflowEdgeThreshold]);\n  return /*#__PURE__*/_jsxs(ScrollAreaRootContext.Provider, {\n    value: contextValue,\n    children: [!disableStyleElements && styleDisableScrollbar.getElement(nonce), element]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") ScrollAreaRoot.displayName = \"ScrollAreaRoot\";\nfunction normalizeOverflowEdgeThreshold(threshold) {\n  if (typeof threshold === 'number') {\n    const value = Math.max(0, threshold);\n    return {\n      xStart: value,\n      xEnd: value,\n      yStart: value,\n      yEnd: value\n    };\n  }\n  return {\n    xStart: Math.max(0, threshold?.xStart || 0),\n    xEnd: Math.max(0, threshold?.xEnd || 0),\n    yStart: Math.max(0, threshold?.yStart || 0),\n    yEnd: Math.max(0, threshold?.yEnd || 0)\n  };\n}", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const ScrollAreaRootContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") ScrollAreaRootContext.displayName = \"ScrollAreaRootContext\";\nexport function useScrollAreaRootContext() {\n  const context = React.useContext(ScrollAreaRootContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: ScrollAreaRootContext is missing. ScrollArea parts must be placed within <ScrollArea.Root>.' : _formatErrorMessage(53));\n  }\n  return context;\n}", "export let ScrollAreaRootCssVars = /*#__PURE__*/function (ScrollAreaRootCssVars) {\n  /**\n   * The scroll area's corner height.\n   * @type {number}\n   */\n  ScrollAreaRootCssVars[\"scrollAreaCornerHeight\"] = \"--scroll-area-corner-height\";\n  /**\n   * The scroll area's corner width.\n   * @type {number}\n   */\n  ScrollAreaRootCssVars[\"scrollAreaCornerWidth\"] = \"--scroll-area-corner-width\";\n  return ScrollAreaRootCssVars;\n}({});", "export const SCROLL_TIMEOUT = 500;\nexport const MIN_THUMB_SIZE = 16;", "export function getOffset(element, prop, axis) {\n  if (!element) {\n    return 0;\n  }\n  const styles = getComputedStyle(element);\n  const propAxis = axis === 'x' ? 'Inline' : 'Block';\n\n  // Safari misreports `marginInlineEnd` in RTL.\n  // We have to assume the start/end values are symmetrical, which is likely.\n  if (axis === 'x' && prop === 'margin') {\n    return parseFloat(styles[`${prop}InlineStart`]) * 2;\n  }\n  return parseFloat(styles[`${prop}${propAxis}Start`]) + parseFloat(styles[`${prop}${propAxis}End`]);\n}", "export let ScrollAreaScrollbarDataAttributes = /*#__PURE__*/function (ScrollAreaScrollbarDataAttributes) {\n  /**\n   * Indicates the orientation of the scrollbar.\n   * @type {'horizontal' | 'vertical'}\n   */\n  ScrollAreaScrollbarDataAttributes[\"orientation\"] = \"data-orientation\";\n  /**\n   * Present when the pointer is over the scroll area.\n   */\n  ScrollAreaScrollbarDataAttributes[\"hovering\"] = \"data-hovering\";\n  /**\n   * Present when the users scrolls inside the scroll area.\n   */\n  ScrollAreaScrollbarDataAttributes[\"scrolling\"] = \"data-scrolling\";\n  /**\n   * Present when the scroll area content is wider than the viewport.\n   */\n  ScrollAreaScrollbarDataAttributes[\"hasOverflowX\"] = \"data-has-overflow-x\";\n  /**\n   * Present when the scroll area content is taller than the viewport.\n   */\n  ScrollAreaScrollbarDataAttributes[\"hasOverflowY\"] = \"data-has-overflow-y\";\n  /**\n   * Present when there is overflow on the horizontal start side.\n   */\n  ScrollAreaScrollbarDataAttributes[\"overflowXStart\"] = \"data-overflow-x-start\";\n  /**\n   * Present when there is overflow on the horizontal end side.\n   */\n  ScrollAreaScrollbarDataAttributes[\"overflowXEnd\"] = \"data-overflow-x-end\";\n  /**\n   * Present when there is overflow on the vertical start side.\n   */\n  ScrollAreaScrollbarDataAttributes[\"overflowYStart\"] = \"data-overflow-y-start\";\n  /**\n   * Present when there is overflow on the vertical end side.\n   */\n  ScrollAreaScrollbarDataAttributes[\"overflowYEnd\"] = \"data-overflow-y-end\";\n  return ScrollAreaScrollbarDataAttributes;\n}({});", "import { jsx as _jsx } from \"react/jsx-runtime\";\nconst DISABLE_SCROLLBAR_CLASS_NAME = 'base-ui-disable-scrollbar';\nexport const styleDisableScrollbar = {\n  className: DISABLE_SCROLLBAR_CLASS_NAME,\n  getElement(nonce) {\n    return /*#__PURE__*/_jsx(\"style\", {\n      nonce: nonce,\n      href: DISABLE_SCROLLBAR_CLASS_NAME,\n      precedence: \"base-ui:low\",\n      children: `.${DISABLE_SCROLLBAR_CLASS_NAME}{scrollbar-width:none}.${DISABLE_SCROLLBAR_CLASS_NAME}::-webkit-scrollbar{display:none}`\n    });\n  }\n};\nif (process.env.NODE_ENV !== \"production\") styleDisableScrollbar.getElement.displayName = \"styleDisableScrollbar.getElement\";", "export let ScrollAreaRootDataAttributes = /*#__PURE__*/function (ScrollAreaRootDataAttributes) {\n  /**\n   * Present when the scroll area content is wider than the viewport.\n   */\n  ScrollAreaRootDataAttributes[\"hasOverflowX\"] = \"data-has-overflow-x\";\n  /**\n   * Present when the scroll area content is taller than the viewport.\n   */\n  ScrollAreaRootDataAttributes[\"hasOverflowY\"] = \"data-has-overflow-y\";\n  /**\n   * Present when there is overflow on the horizontal start side.\n   */\n  ScrollAreaRootDataAttributes[\"overflowXStart\"] = \"data-overflow-x-start\";\n  /**\n   * Present when there is overflow on the horizontal end side.\n   */\n  ScrollAreaRootDataAttributes[\"overflowXEnd\"] = \"data-overflow-x-end\";\n  /**\n   * Present when there is overflow on the vertical start side.\n   */\n  ScrollAreaRootDataAttributes[\"overflowYStart\"] = \"data-overflow-y-start\";\n  /**\n   * Present when there is overflow on the vertical end side.\n   */\n  ScrollAreaRootDataAttributes[\"overflowYEnd\"] = \"data-overflow-y-end\";\n  return ScrollAreaRootDataAttributes;\n}({});", "import { ScrollAreaRootDataAttributes } from \"./ScrollAreaRootDataAttributes.js\";\nexport const scrollAreaStateAttributesMapping = {\n  hasOverflowX: value => value ? {\n    [ScrollAreaRootDataAttributes.hasOverflowX]: ''\n  } : null,\n  hasOverflowY: value => value ? {\n    [ScrollAreaRootDataAttributes.hasOverflowY]: ''\n  } : null,\n  overflowXStart: value => value ? {\n    [ScrollAreaRootDataAttributes.overflowXStart]: ''\n  } : null,\n  overflowXEnd: value => value ? {\n    [ScrollAreaRootDataAttributes.overflowXEnd]: ''\n  } : null,\n  overflowYStart: value => value ? {\n    [ScrollAreaRootDataAttributes.overflowYStart]: ''\n  } : null,\n  overflowYEnd: value => value ? {\n    [ScrollAreaRootDataAttributes.overflowYEnd]: ''\n  } : null,\n  cornerHidden: () => null\n};", "'use client';\n\nimport * as React from 'react';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { isWebKit } from '@base-ui/utils/detectBrowser';\nimport { useTimeout } from '@base-ui/utils/useTimeout';\nimport { useScrollAreaRootContext } from \"../root/ScrollAreaRootContext.js\";\nimport { ScrollAreaViewportContext } from \"./ScrollAreaViewportContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useDirection } from \"../../direction-provider/DirectionContext.js\";\nimport { getOffset } from \"../utils/getOffset.js\";\nimport { MIN_THUMB_SIZE } from \"../constants.js\";\nimport { clamp } from \"../../utils/clamp.js\";\nimport { styleDisableScrollbar } from \"../../utils/styles.js\";\nimport { onVisible } from \"../utils/onVisible.js\";\nimport { scrollAreaStateAttributesMapping } from \"../root/stateAttributes.js\";\nimport { ScrollAreaViewportCssVars } from \"./ScrollAreaViewportCssVars.js\";\n\n// Module-level flag to ensure we only register the CSS properties once,\n// regardless of how many Scroll Area components are mounted.\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nlet scrollAreaOverflowVarsRegistered = false;\n\n/**\n * Removes inheritance of the scroll area overflow CSS variables, which\n * improves rendering performance in complex scroll areas with deep subtrees.\n * Instead, each child must manually opt-in to using these properties by\n * specifying `inherit`.\n * See https://motion.dev/blog/web-animation-performance-tier-list\n * under the \"Improving CSS variable performance\" section.\n */\nfunction removeCSSVariableInheritance() {\n  if (scrollAreaOverflowVarsRegistered ||\n  // When `inherits: false`, specifying `inherit` on child elements doesn't work\n  // in Safari. To let CSS features work correctly, this optimization must be skipped.\n  isWebKit) {\n    return;\n  }\n  if (typeof CSS !== 'undefined' && 'registerProperty' in CSS) {\n    [ScrollAreaViewportCssVars.scrollAreaOverflowXStart, ScrollAreaViewportCssVars.scrollAreaOverflowXEnd, ScrollAreaViewportCssVars.scrollAreaOverflowYStart, ScrollAreaViewportCssVars.scrollAreaOverflowYEnd].forEach(name => {\n      try {\n        CSS.registerProperty({\n          name,\n          syntax: '<length>',\n          inherits: false,\n          initialValue: '0px'\n        });\n      } catch {\n        /* ignore already-registered */\n      }\n    });\n  }\n  scrollAreaOverflowVarsRegistered = true;\n}\n\n/**\n * The actual scrollable container of the scroll area.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Scroll Area](https://base-ui.com/react/components/scroll-area)\n */\nexport const ScrollAreaViewport = /*#__PURE__*/React.forwardRef(function ScrollAreaViewport(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const {\n    viewportRef,\n    scrollbarYRef,\n    scrollbarXRef,\n    thumbYRef,\n    thumbXRef,\n    cornerRef,\n    cornerSize,\n    setCornerSize,\n    setThumbSize,\n    rootId,\n    setHiddenState,\n    hiddenState,\n    handleScroll,\n    setHovering,\n    setOverflowEdges,\n    overflowEdges,\n    overflowEdgeThreshold\n  } = useScrollAreaRootContext();\n  const direction = useDirection();\n  const programmaticScrollRef = React.useRef(true);\n  const scrollEndTimeout = useTimeout();\n  const waitForAnimationsTimeout = useTimeout();\n  const computeThumbPosition = useStableCallback(() => {\n    const viewportEl = viewportRef.current;\n    const scrollbarYEl = scrollbarYRef.current;\n    const scrollbarXEl = scrollbarXRef.current;\n    const thumbYEl = thumbYRef.current;\n    const thumbXEl = thumbXRef.current;\n    const cornerEl = cornerRef.current;\n    if (!viewportEl) {\n      return;\n    }\n    const scrollableContentHeight = viewportEl.scrollHeight;\n    const scrollableContentWidth = viewportEl.scrollWidth;\n    const viewportHeight = viewportEl.clientHeight;\n    const viewportWidth = viewportEl.clientWidth;\n    const scrollTop = viewportEl.scrollTop;\n    const scrollLeft = viewportEl.scrollLeft;\n    if (scrollableContentHeight === 0 || scrollableContentWidth === 0) {\n      return;\n    }\n    const scrollbarYHidden = viewportHeight >= scrollableContentHeight;\n    const scrollbarXHidden = viewportWidth >= scrollableContentWidth;\n    const ratioX = viewportWidth / scrollableContentWidth;\n    const ratioY = viewportHeight / scrollableContentHeight;\n    const maxScrollLeft = Math.max(0, scrollableContentWidth - viewportWidth);\n    const maxScrollTop = Math.max(0, scrollableContentHeight - viewportHeight);\n    let scrollLeftFromStart = 0;\n    let scrollLeftFromEnd = 0;\n    if (!scrollbarXHidden) {\n      if (direction === 'rtl') {\n        scrollLeftFromStart = clamp(-scrollLeft, 0, maxScrollLeft);\n      } else {\n        scrollLeftFromStart = clamp(scrollLeft, 0, maxScrollLeft);\n      }\n      scrollLeftFromEnd = maxScrollLeft - scrollLeftFromStart;\n    }\n    const scrollTopFromStart = !scrollbarYHidden ? clamp(scrollTop, 0, maxScrollTop) : 0;\n    const scrollTopFromEnd = !scrollbarYHidden ? maxScrollTop - scrollTopFromStart : 0;\n    const nextWidth = scrollbarXHidden ? 0 : viewportWidth;\n    const nextHeight = scrollbarYHidden ? 0 : viewportHeight;\n    let nextCornerWidth = 0;\n    let nextCornerHeight = 0;\n    if (!scrollbarXHidden && !scrollbarYHidden) {\n      nextCornerWidth = scrollbarYEl?.offsetWidth || 0;\n      nextCornerHeight = scrollbarXEl?.offsetHeight || 0;\n    }\n\n    // Only subtract corner size from scrollbar dimensions if the corner hasn't been sized yet.\n    // Once sized, the layout will already account for it.\n    const cornerNotYetSized = cornerSize.width === 0 && cornerSize.height === 0;\n    const cornerWidthOffset = cornerNotYetSized ? nextCornerWidth : 0;\n    const cornerHeightOffset = cornerNotYetSized ? nextCornerHeight : 0;\n    const scrollbarXOffset = getOffset(scrollbarXEl, 'padding', 'x');\n    const scrollbarYOffset = getOffset(scrollbarYEl, 'padding', 'y');\n    const thumbXOffset = getOffset(thumbXEl, 'margin', 'x');\n    const thumbYOffset = getOffset(thumbYEl, 'margin', 'y');\n    const idealNextWidth = nextWidth - scrollbarXOffset - thumbXOffset;\n    const idealNextHeight = nextHeight - scrollbarYOffset - thumbYOffset;\n    const maxNextWidth = scrollbarXEl ? Math.min(scrollbarXEl.offsetWidth - cornerWidthOffset, idealNextWidth) : idealNextWidth;\n    const maxNextHeight = scrollbarYEl ? Math.min(scrollbarYEl.offsetHeight - cornerHeightOffset, idealNextHeight) : idealNextHeight;\n    const clampedNextWidth = Math.max(MIN_THUMB_SIZE, maxNextWidth * ratioX);\n    const clampedNextHeight = Math.max(MIN_THUMB_SIZE, maxNextHeight * ratioY);\n    setThumbSize(prevSize => {\n      if (prevSize.height === clampedNextHeight && prevSize.width === clampedNextWidth) {\n        return prevSize;\n      }\n      return {\n        width: clampedNextWidth,\n        height: clampedNextHeight\n      };\n    });\n\n    // Handle Y (vertical) scroll\n    if (scrollbarYEl && thumbYEl) {\n      const maxThumbOffsetY = scrollbarYEl.offsetHeight - clampedNextHeight - scrollbarYOffset - thumbYOffset;\n      const scrollRangeY = scrollableContentHeight - viewportHeight;\n      const scrollRatioY = scrollRangeY === 0 ? 0 : scrollTop / scrollRangeY;\n\n      // In Safari, don't allow it to go negative or too far as `scrollTop` considers the rubber\n      // band effect.\n      const thumbOffsetY = Math.min(maxThumbOffsetY, Math.max(0, scrollRatioY * maxThumbOffsetY));\n      thumbYEl.style.transform = `translate3d(0,${thumbOffsetY}px,0)`;\n    }\n\n    // Handle X (horizontal) scroll\n    if (scrollbarXEl && thumbXEl) {\n      const maxThumbOffsetX = scrollbarXEl.offsetWidth - clampedNextWidth - scrollbarXOffset - thumbXOffset;\n      const scrollRangeX = scrollableContentWidth - viewportWidth;\n      const scrollRatioX = scrollRangeX === 0 ? 0 : scrollLeft / scrollRangeX;\n\n      // In Safari, don't allow it to go negative or too far as `scrollLeft` considers the rubber\n      // band effect.\n      const thumbOffsetX = direction === 'rtl' ? clamp(scrollRatioX * maxThumbOffsetX, -maxThumbOffsetX, 0) : clamp(scrollRatioX * maxThumbOffsetX, 0, maxThumbOffsetX);\n      thumbXEl.style.transform = `translate3d(${thumbOffsetX}px,0,0)`;\n    }\n    const clampedScrollLeftStart = clamp(scrollLeftFromStart, 0, maxScrollLeft);\n    const clampedScrollLeftEnd = clamp(scrollLeftFromEnd, 0, maxScrollLeft);\n    const clampedScrollTopStart = clamp(scrollTopFromStart, 0, maxScrollTop);\n    const clampedScrollTopEnd = clamp(scrollTopFromEnd, 0, maxScrollTop);\n    const overflowMetricsPx = [[ScrollAreaViewportCssVars.scrollAreaOverflowXStart, clampedScrollLeftStart], [ScrollAreaViewportCssVars.scrollAreaOverflowXEnd, clampedScrollLeftEnd], [ScrollAreaViewportCssVars.scrollAreaOverflowYStart, clampedScrollTopStart], [ScrollAreaViewportCssVars.scrollAreaOverflowYEnd, clampedScrollTopEnd]];\n    for (const [cssVar, value] of overflowMetricsPx) {\n      viewportEl.style.setProperty(cssVar, `${value}px`);\n    }\n    if (cornerEl) {\n      if (scrollbarXHidden || scrollbarYHidden) {\n        setCornerSize({\n          width: 0,\n          height: 0\n        });\n      } else if (!scrollbarXHidden && !scrollbarYHidden) {\n        setCornerSize({\n          width: nextCornerWidth,\n          height: nextCornerHeight\n        });\n      }\n    }\n    setHiddenState(prevState => {\n      const cornerHidden = scrollbarYHidden || scrollbarXHidden;\n      if (prevState.y === scrollbarYHidden && prevState.x === scrollbarXHidden && prevState.corner === cornerHidden) {\n        return prevState;\n      }\n      return {\n        y: scrollbarYHidden,\n        x: scrollbarXHidden,\n        corner: cornerHidden\n      };\n    });\n    const nextOverflowEdges = {\n      xStart: !scrollbarXHidden && clampedScrollLeftStart > overflowEdgeThreshold.xStart,\n      xEnd: !scrollbarXHidden && clampedScrollLeftEnd > overflowEdgeThreshold.xEnd,\n      yStart: !scrollbarYHidden && clampedScrollTopStart > overflowEdgeThreshold.yStart,\n      yEnd: !scrollbarYHidden && clampedScrollTopEnd > overflowEdgeThreshold.yEnd\n    };\n    setOverflowEdges(prev => {\n      if (prev.xStart === nextOverflowEdges.xStart && prev.xEnd === nextOverflowEdges.xEnd && prev.yStart === nextOverflowEdges.yStart && prev.yEnd === nextOverflowEdges.yEnd) {\n        return prev;\n      }\n      return nextOverflowEdges;\n    });\n  });\n  useIsoLayoutEffect(() => {\n    if (!viewportRef.current) {\n      return undefined;\n    }\n    removeCSSVariableInheritance();\n    let hasInitialized = false;\n    return onVisible(viewportRef.current, () => {\n      if (!hasInitialized) {\n        hasInitialized = true;\n        return;\n      }\n      computeThumbPosition();\n    });\n  }, [computeThumbPosition, viewportRef]);\n  useIsoLayoutEffect(() => {\n    // Wait for scrollbar-related refs to be set\n    queueMicrotask(computeThumbPosition);\n  }, [computeThumbPosition, hiddenState, direction]);\n  useIsoLayoutEffect(() => {\n    // `onMouseEnter` doesn't fire upon load, so we need to check if the viewport is already\n    // being hovered.\n    if (viewportRef.current?.matches(':hover')) {\n      setHovering(true);\n    }\n  }, [viewportRef, setHovering]);\n  React.useEffect(() => {\n    const viewport = viewportRef.current;\n    if (typeof ResizeObserver === 'undefined' || !viewport) {\n      return undefined;\n    }\n    let hasInitialized = false;\n    const ro = new ResizeObserver(() => {\n      // ResizeObserver fires once upon observing, so we skip the initial call\n      // to avoid double-calculating the thumb position on mount.\n      if (!hasInitialized) {\n        hasInitialized = true;\n        return;\n      }\n      computeThumbPosition();\n    });\n    ro.observe(viewport);\n\n    // If there are animations in the viewport, wait for them to finish and then recompute the thumb position.\n    // This is necessary when the viewport contains a Dialog that is animating its popup on open\n    // and the popup is using a transform for the animation, which affects the size of the viewport.\n    // Without this, the thumb position will be incorrect until scrolling (i.e. if the scrollbar shows\n    // on hover, the thumb has an incorrect size).\n    // We assume the user is using `onOpenChangeComplete` to hide the scrollbar\n    // until animations complete because otherwise the scrollbar would show the thumb resizing mid-animation.\n    waitForAnimationsTimeout.start(0, () => {\n      const animations = viewport.getAnimations({\n        subtree: true\n      });\n      if (animations.length === 0) {\n        return;\n      }\n      Promise.all(animations.map(animation => animation.finished)).then(computeThumbPosition).catch(() => {});\n    });\n    return () => {\n      ro.disconnect();\n      waitForAnimationsTimeout.clear();\n    };\n  }, [computeThumbPosition, viewportRef, waitForAnimationsTimeout]);\n  function handleUserInteraction() {\n    programmaticScrollRef.current = false;\n  }\n  const props = {\n    role: 'presentation',\n    ...(rootId && {\n      'data-id': `${rootId}-viewport`\n    }),\n    // https://accessibilityinsights.io/info-examples/web/scrollable-region-focusable/\n    ...((!hiddenState.x || !hiddenState.y) && {\n      tabIndex: 0\n    }),\n    className: styleDisableScrollbar.className,\n    style: {\n      overflow: 'scroll'\n    },\n    onScroll() {\n      if (!viewportRef.current) {\n        return;\n      }\n      computeThumbPosition();\n      if (!programmaticScrollRef.current) {\n        handleScroll({\n          x: viewportRef.current.scrollLeft,\n          y: viewportRef.current.scrollTop\n        });\n      }\n\n      // Debounce the restoration of the programmatic flag so that it only\n      // flips back to `true` once scrolling has come to a rest. This ensures\n      // that momentum scrolling (where no further user-interaction events fire)\n      // is still treated as user-driven.\n      // 100 ms without scroll events  scroll end\n      // https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollend_event\n      scrollEndTimeout.start(100, () => {\n        programmaticScrollRef.current = true;\n      });\n    },\n    onWheel: handleUserInteraction,\n    onTouchMove: handleUserInteraction,\n    onPointerMove: handleUserInteraction,\n    onPointerEnter: handleUserInteraction,\n    onKeyDown: handleUserInteraction\n  };\n  const viewportState = React.useMemo(() => ({\n    hasOverflowX: !hiddenState.x,\n    hasOverflowY: !hiddenState.y,\n    overflowXStart: overflowEdges.xStart,\n    overflowXEnd: overflowEdges.xEnd,\n    overflowYStart: overflowEdges.yStart,\n    overflowYEnd: overflowEdges.yEnd,\n    cornerHidden: hiddenState.corner\n  }), [hiddenState.x, hiddenState.y, hiddenState.corner, overflowEdges]);\n  const element = useRenderElement('div', componentProps, {\n    ref: [forwardedRef, viewportRef],\n    state: viewportState,\n    props: [props, elementProps],\n    stateAttributesMapping: scrollAreaStateAttributesMapping\n  });\n  const contextValue = React.useMemo(() => ({\n    computeThumbPosition\n  }), [computeThumbPosition]);\n  return /*#__PURE__*/_jsx(ScrollAreaViewportContext.Provider, {\n    value: contextValue,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") ScrollAreaViewport.displayName = \"ScrollAreaViewport\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const ScrollAreaViewportContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") ScrollAreaViewportContext.displayName = \"ScrollAreaViewportContext\";\nexport function useScrollAreaViewportContext() {\n  const context = React.useContext(ScrollAreaViewportContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: ScrollAreaViewportContext missing. ScrollAreaViewport parts must be placed within <ScrollArea.Viewport>.' : _formatErrorMessage(55));\n  }\n  return context;\n}", "/**\n * Executes a callback when an element becomes visible.\n */\nexport function onVisible(element, callback) {\n  if (typeof IntersectionObserver === 'undefined') {\n    return () => {};\n  }\n  const observer = new IntersectionObserver(entries => {\n    entries.forEach(entry => {\n      if (entry.intersectionRatio > 0) {\n        callback();\n        observer.disconnect();\n      }\n    });\n  });\n  observer.observe(element);\n  return () => {\n    observer.disconnect();\n  };\n}", "export let ScrollAreaViewportCssVars = /*#__PURE__*/function (ScrollAreaViewportCssVars) {\n  /**\n   * The distance from the horizontal start edge in pixels.\n   * @type {number}\n   */\n  ScrollAreaViewportCssVars[\"scrollAreaOverflowXStart\"] = \"--scroll-area-overflow-x-start\";\n  /**\n   * The distance from the horizontal end edge in pixels.\n   * @type {number}\n   */\n  ScrollAreaViewportCssVars[\"scrollAreaOverflowXEnd\"] = \"--scroll-area-overflow-x-end\";\n  /**\n   * The distance from the vertical start edge in pixels.\n   * @type {number}\n   */\n  ScrollAreaViewportCssVars[\"scrollAreaOverflowYStart\"] = \"--scroll-area-overflow-y-start\";\n  /**\n   * The distance from the vertical end edge in pixels.\n   * @type {number}\n   */\n  ScrollAreaViewportCssVars[\"scrollAreaOverflowYEnd\"] = \"--scroll-area-overflow-y-end\";\n  return ScrollAreaViewportCssVars;\n}({});", "'use client';\n\nimport * as React from 'react';\nimport { useScrollAreaRootContext } from \"../root/ScrollAreaRootContext.js\";\nimport { ScrollAreaScrollbarContext } from \"./ScrollAreaScrollbarContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { getOffset } from \"../utils/getOffset.js\";\nimport { ScrollAreaRootCssVars } from \"../root/ScrollAreaRootCssVars.js\";\nimport { ScrollAreaScrollbarCssVars } from \"./ScrollAreaScrollbarCssVars.js\";\nimport { useDirection } from \"../../direction-provider/DirectionContext.js\";\nimport { scrollAreaStateAttributesMapping } from \"../root/stateAttributes.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n/**\n * A vertical or horizontal scrollbar for the scroll area.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Scroll Area](https://base-ui.com/react/components/scroll-area)\n */\nexport const ScrollAreaScrollbar = /*#__PURE__*/React.forwardRef(function ScrollAreaScrollbar(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    orientation = 'vertical',\n    keepMounted = false,\n    ...elementProps\n  } = componentProps;\n  const {\n    hovering,\n    scrollingX,\n    scrollingY,\n    hiddenState,\n    overflowEdges,\n    scrollbarYRef,\n    scrollbarXRef,\n    viewportRef,\n    thumbYRef,\n    thumbXRef,\n    handlePointerDown,\n    handlePointerUp,\n    rootId,\n    thumbSize\n  } = useScrollAreaRootContext();\n  const state = React.useMemo(() => ({\n    hovering,\n    scrolling: {\n      horizontal: scrollingX,\n      vertical: scrollingY\n    }[orientation],\n    orientation,\n    hasOverflowX: !hiddenState.x,\n    hasOverflowY: !hiddenState.y,\n    overflowXStart: overflowEdges.xStart,\n    overflowXEnd: overflowEdges.xEnd,\n    overflowYStart: overflowEdges.yStart,\n    overflowYEnd: overflowEdges.yEnd,\n    cornerHidden: hiddenState.corner\n  }), [hovering, scrollingX, scrollingY, orientation, hiddenState, overflowEdges]);\n  const direction = useDirection();\n  React.useEffect(() => {\n    const viewportEl = viewportRef.current;\n    const scrollbarEl = orientation === 'vertical' ? scrollbarYRef.current : scrollbarXRef.current;\n    if (!scrollbarEl) {\n      return undefined;\n    }\n    function handleWheel(event) {\n      if (!viewportEl || !scrollbarEl || event.ctrlKey) {\n        return;\n      }\n      event.preventDefault();\n      if (orientation === 'vertical') {\n        if (viewportEl.scrollTop === 0 && event.deltaY < 0) {\n          return;\n        }\n      } else if (viewportEl.scrollLeft === 0 && event.deltaX < 0) {\n        return;\n      }\n      if (orientation === 'vertical') {\n        if (viewportEl.scrollTop === viewportEl.scrollHeight - viewportEl.clientHeight && event.deltaY > 0) {\n          return;\n        }\n      } else if (viewportEl.scrollLeft === viewportEl.scrollWidth - viewportEl.clientWidth && event.deltaX > 0) {\n        return;\n      }\n      if (orientation === 'vertical') {\n        viewportEl.scrollTop += event.deltaY;\n      } else {\n        viewportEl.scrollLeft += event.deltaX;\n      }\n    }\n    scrollbarEl.addEventListener('wheel', handleWheel, {\n      passive: false\n    });\n    return () => {\n      scrollbarEl.removeEventListener('wheel', handleWheel);\n    };\n  }, [orientation, scrollbarXRef, scrollbarYRef, viewportRef]);\n  const props = {\n    ...(rootId && {\n      'data-id': `${rootId}-scrollbar`\n    }),\n    onPointerDown(event) {\n      if (event.button !== 0) {\n        return;\n      }\n\n      // Ignore clicks on thumb\n      if (event.currentTarget !== event.target) {\n        return;\n      }\n      if (!viewportRef.current) {\n        return;\n      }\n\n      // Handle Y-axis (vertical) scroll\n      if (thumbYRef.current && scrollbarYRef.current && orientation === 'vertical') {\n        const thumbYOffset = getOffset(thumbYRef.current, 'margin', 'y');\n        const scrollbarYOffset = getOffset(scrollbarYRef.current, 'padding', 'y');\n        const thumbHeight = thumbYRef.current.offsetHeight;\n        const trackRectY = scrollbarYRef.current.getBoundingClientRect();\n        const clickY = event.clientY - trackRectY.top - thumbHeight / 2 - scrollbarYOffset + thumbYOffset / 2;\n        const scrollableContentHeight = viewportRef.current.scrollHeight;\n        const viewportHeight = viewportRef.current.clientHeight;\n        const maxThumbOffsetY = scrollbarYRef.current.offsetHeight - thumbHeight - scrollbarYOffset - thumbYOffset;\n        const scrollRatioY = clickY / maxThumbOffsetY;\n        const newScrollTop = scrollRatioY * (scrollableContentHeight - viewportHeight);\n        viewportRef.current.scrollTop = newScrollTop;\n      }\n      if (thumbXRef.current && scrollbarXRef.current && orientation === 'horizontal') {\n        const thumbXOffset = getOffset(thumbXRef.current, 'margin', 'x');\n        const scrollbarXOffset = getOffset(scrollbarXRef.current, 'padding', 'x');\n        const thumbWidth = thumbXRef.current.offsetWidth;\n        const trackRectX = scrollbarXRef.current.getBoundingClientRect();\n        const clickX = event.clientX - trackRectX.left - thumbWidth / 2 - scrollbarXOffset + thumbXOffset / 2;\n        const scrollableContentWidth = viewportRef.current.scrollWidth;\n        const viewportWidth = viewportRef.current.clientWidth;\n        const maxThumbOffsetX = scrollbarXRef.current.offsetWidth - thumbWidth - scrollbarXOffset - thumbXOffset;\n        const scrollRatioX = clickX / maxThumbOffsetX;\n        let newScrollLeft;\n        if (direction === 'rtl') {\n          // In RTL, invert the scroll direction\n          newScrollLeft = (1 - scrollRatioX) * (scrollableContentWidth - viewportWidth);\n\n          // Adjust for browsers that use negative scrollLeft in RTL\n          if (viewportRef.current.scrollLeft <= 0) {\n            newScrollLeft = -newScrollLeft;\n          }\n        } else {\n          newScrollLeft = scrollRatioX * (scrollableContentWidth - viewportWidth);\n        }\n        viewportRef.current.scrollLeft = newScrollLeft;\n      }\n      handlePointerDown(event);\n    },\n    onPointerUp: handlePointerUp,\n    style: {\n      position: 'absolute',\n      touchAction: 'none',\n      WebkitUserSelect: 'none',\n      userSelect: 'none',\n      ...(orientation === 'vertical' && {\n        top: 0,\n        bottom: `var(${ScrollAreaRootCssVars.scrollAreaCornerHeight})`,\n        insetInlineEnd: 0,\n        [ScrollAreaScrollbarCssVars.scrollAreaThumbHeight]: `${thumbSize.height}px`\n      }),\n      ...(orientation === 'horizontal' && {\n        insetInlineStart: 0,\n        insetInlineEnd: `var(${ScrollAreaRootCssVars.scrollAreaCornerWidth})`,\n        bottom: 0,\n        [ScrollAreaScrollbarCssVars.scrollAreaThumbWidth]: `${thumbSize.width}px`\n      })\n    }\n  };\n  const element = useRenderElement('div', componentProps, {\n    ref: [forwardedRef, orientation === 'vertical' ? scrollbarYRef : scrollbarXRef],\n    state,\n    props: [props, elementProps],\n    stateAttributesMapping: scrollAreaStateAttributesMapping\n  });\n  const contextValue = React.useMemo(() => ({\n    orientation\n  }), [orientation]);\n  const isHidden = orientation === 'vertical' ? hiddenState.y : hiddenState.x;\n  const shouldRender = keepMounted || !isHidden;\n  if (!shouldRender) {\n    return null;\n  }\n  return /*#__PURE__*/_jsx(ScrollAreaScrollbarContext.Provider, {\n    value: contextValue,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") ScrollAreaScrollbar.displayName = \"ScrollAreaScrollbar\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const ScrollAreaScrollbarContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") ScrollAreaScrollbarContext.displayName = \"ScrollAreaScrollbarContext\";\nexport function useScrollAreaScrollbarContext() {\n  const context = React.useContext(ScrollAreaScrollbarContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: ScrollAreaScrollbarContext is missing. ScrollAreaScrollbar parts must be placed within <ScrollArea.Scrollbar>.' : _formatErrorMessage(54));\n  }\n  return context;\n}", "export let ScrollAreaScrollbarCssVars = /*#__PURE__*/function (ScrollAreaScrollbarCssVars) {\n  /**\n   * The scroll area thumb's height.\n   * @type {number}\n   */\n  ScrollAreaScrollbarCssVars[\"scrollAreaThumbHeight\"] = \"--scroll-area-thumb-height\";\n  /**\n   * The scroll area thumb's width.\n   * @type {number}\n   */\n  ScrollAreaScrollbarCssVars[\"scrollAreaThumbWidth\"] = \"--scroll-area-thumb-width\";\n  return ScrollAreaScrollbarCssVars;\n}({});", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useScrollAreaViewportContext } from \"../viewport/ScrollAreaViewportContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useScrollAreaRootContext } from \"../root/ScrollAreaRootContext.js\";\nimport { scrollAreaStateAttributesMapping } from \"../root/stateAttributes.js\";\n/**\n * A container for the content of the scroll area.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Scroll Area](https://base-ui.com/react/components/scroll-area)\n */\nexport const ScrollAreaContent = /*#__PURE__*/React.forwardRef(function ScrollAreaContent(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const contentWrapperRef = React.useRef(null);\n  const {\n    computeThumbPosition\n  } = useScrollAreaViewportContext();\n  const {\n    viewportState\n  } = useScrollAreaRootContext();\n  useIsoLayoutEffect(() => {\n    if (typeof ResizeObserver === 'undefined') {\n      return undefined;\n    }\n    let hasInitialized = false;\n    const ro = new ResizeObserver(() => {\n      // ResizeObserver fires once upon observing, so we skip the initial call\n      // to avoid double-calculating the thumb position on mount.\n      if (!hasInitialized) {\n        hasInitialized = true;\n        return;\n      }\n      computeThumbPosition();\n    });\n    if (contentWrapperRef.current) {\n      ro.observe(contentWrapperRef.current);\n    }\n    return () => {\n      ro.disconnect();\n    };\n  }, [computeThumbPosition]);\n  const element = useRenderElement('div', componentProps, {\n    ref: [forwardedRef, contentWrapperRef],\n    state: viewportState,\n    stateAttributesMapping: scrollAreaStateAttributesMapping,\n    props: [{\n      role: 'presentation',\n      style: {\n        minWidth: 'fit-content'\n      }\n    }, elementProps]\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") ScrollAreaContent.displayName = \"ScrollAreaContent\";", "'use client';\n\nimport * as React from 'react';\nimport { useScrollAreaRootContext } from \"../root/ScrollAreaRootContext.js\";\nimport { useScrollAreaScrollbarContext } from \"../scrollbar/ScrollAreaScrollbarContext.js\";\nimport { ScrollAreaScrollbarCssVars } from \"../scrollbar/ScrollAreaScrollbarCssVars.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * The draggable part of the scrollbar that indicates the current scroll position.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Scroll Area](https://base-ui.com/react/components/scroll-area)\n */\nexport const ScrollAreaThumb = /*#__PURE__*/React.forwardRef(function ScrollAreaThumb(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const {\n    thumbYRef,\n    thumbXRef,\n    handlePointerDown,\n    handlePointerMove,\n    handlePointerUp,\n    setScrollingX,\n    setScrollingY\n  } = useScrollAreaRootContext();\n  const {\n    orientation\n  } = useScrollAreaScrollbarContext();\n  const state = React.useMemo(() => ({\n    orientation\n  }), [orientation]);\n  const element = useRenderElement('div', componentProps, {\n    ref: [forwardedRef, orientation === 'vertical' ? thumbYRef : thumbXRef],\n    state,\n    props: [{\n      onPointerDown: handlePointerDown,\n      onPointerMove: handlePointerMove,\n      onPointerUp(event) {\n        if (orientation === 'vertical') {\n          setScrollingY(false);\n        }\n        if (orientation === 'horizontal') {\n          setScrollingX(false);\n        }\n        handlePointerUp(event);\n      },\n      style: {\n        ...(orientation === 'vertical' && {\n          height: `var(${ScrollAreaScrollbarCssVars.scrollAreaThumbHeight})`\n        }),\n        ...(orientation === 'horizontal' && {\n          width: `var(${ScrollAreaScrollbarCssVars.scrollAreaThumbWidth})`\n        })\n      }\n    }, elementProps]\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") ScrollAreaThumb.displayName = \"ScrollAreaThumb\";", "'use client';\n\nimport * as React from 'react';\nimport { useScrollAreaRootContext } from \"../root/ScrollAreaRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * A small rectangular area that appears at the intersection of horizontal and vertical scrollbars.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Scroll Area](https://base-ui.com/react/components/scroll-area)\n */\nexport const ScrollAreaCorner = /*#__PURE__*/React.forwardRef(function ScrollAreaCorner(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const {\n    cornerRef,\n    cornerSize,\n    hiddenState\n  } = useScrollAreaRootContext();\n  const element = useRenderElement('div', componentProps, {\n    ref: [forwardedRef, cornerRef],\n    props: [{\n      style: {\n        position: 'absolute',\n        bottom: 0,\n        insetInlineEnd: 0,\n        width: cornerSize.width,\n        height: cornerSize.height\n      }\n    }, elementProps]\n  });\n  if (hiddenState.corner) {\n    return null;\n  }\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") ScrollAreaCorner.displayName = \"ScrollAreaCorner\";", "export { SelectRoot as Root } from \"./root/SelectRoot.js\";\nexport { SelectTrigger as Trigger } from \"./trigger/SelectTrigger.js\";\nexport { SelectValue as Value } from \"./value/SelectValue.js\";\nexport { SelectIcon as Icon } from \"./icon/SelectIcon.js\";\nexport { SelectPortal as Portal } from \"./portal/SelectPortal.js\";\nexport { SelectBackdrop as Backdrop } from \"./backdrop/SelectBackdrop.js\";\nexport { SelectPositioner as Positioner } from \"./positioner/SelectPositioner.js\";\nexport { SelectPopup as Popup } from \"./popup/SelectPopup.js\";\nexport { SelectList as List } from \"./list/SelectList.js\";\nexport { SelectItem as Item } from \"./item/SelectItem.js\";\nexport { SelectItemIndicator as ItemIndicator } from \"./item-indicator/SelectItemIndicator.js\";\nexport { SelectItemText as ItemText } from \"./item-text/SelectItemText.js\";\nexport { SelectArrow as Arrow } from \"./arrow/SelectArrow.js\";\nexport { SelectScrollDownArrow as ScrollDownArrow } from \"./scroll-down-arrow/SelectScrollDownArrow.js\";\nexport { SelectScrollUpArrow as ScrollUpArrow } from \"./scroll-up-arrow/SelectScrollUpArrow.js\";\nexport { SelectGroup as Group } from \"./group/SelectGroup.js\";\nexport { SelectGroupLabel as GroupLabel } from \"./group-label/SelectGroupLabel.js\";\nexport { Separator } from \"../separator/Separator.js\";", "'use client';\n\nimport * as React from 'react';\nimport { visuallyHidden, visuallyHiddenInput } from '@base-ui/utils/visuallyHidden';\nimport { useMergedRefs } from '@base-ui/utils/useMergedRefs';\nimport { useRefWithInit } from '@base-ui/utils/useRefWithInit';\nimport { useOnFirstRender } from '@base-ui/utils/useOnFirstRender';\nimport { useControlled } from '@base-ui/utils/useControlled';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useValueAsRef } from '@base-ui/utils/useValueAsRef';\nimport { useStore, Store } from '@base-ui/utils/store';\nimport { useClick, useDismiss, useFloatingRootContext, useInteractions, useListNavigation, useTypeahead } from \"../../floating-ui-react/index.js\";\nimport { SelectRootContext, SelectFloatingContext } from \"./SelectRootContext.js\";\nimport { useFieldRootContext } from \"../../field/root/FieldRootContext.js\";\nimport { useLabelableId } from \"../../labelable-provider/useLabelableId.js\";\nimport { useTransitionStatus } from \"../../utils/useTransitionStatus.js\";\nimport { selectors } from \"../store.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { useOpenChangeComplete } from \"../../utils/useOpenChangeComplete.js\";\nimport { useFormContext } from \"../../form/FormContext.js\";\nimport { useField } from \"../../field/useField.js\";\nimport { stringifyAsValue } from \"../../utils/resolveValueLabel.js\";\nimport { EMPTY_ARRAY, EMPTY_OBJECT } from \"../../utils/constants.js\";\nimport { defaultItemEquality, findItemIndex } from \"../../utils/itemEquality.js\";\nimport { useValueChanged } from \"../../utils/useValueChanged.js\";\nimport { useOpenInteractionType } from \"../../utils/useOpenInteractionType.js\";\nimport { mergeProps } from \"../../merge-props/index.js\";\n\n/**\n * Groups all parts of the select.\n * Doesnt render its own HTML element.\n *\n * Documentation: [Base UI Select](https://base-ui.com/react/components/select)\n */\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function SelectRoot(props) {\n  const {\n    id,\n    value: valueProp,\n    defaultValue = null,\n    onValueChange,\n    open: openProp,\n    defaultOpen = false,\n    onOpenChange,\n    name: nameProp,\n    disabled: disabledProp = false,\n    readOnly = false,\n    required = false,\n    modal = true,\n    actionsRef,\n    inputRef,\n    onOpenChangeComplete,\n    items,\n    multiple = false,\n    itemToStringLabel,\n    itemToStringValue,\n    isItemEqualToValue = defaultItemEquality,\n    highlightItemOnHover = true,\n    children\n  } = props;\n  const {\n    clearErrors\n  } = useFormContext();\n  const {\n    setDirty,\n    setTouched,\n    setFocused,\n    shouldValidateOnChange,\n    validityData,\n    setFilled,\n    name: fieldName,\n    disabled: fieldDisabled,\n    validation,\n    validationMode\n  } = useFieldRootContext();\n  const generatedId = useLabelableId({\n    id\n  });\n  const disabled = fieldDisabled || disabledProp;\n  const name = fieldName ?? nameProp;\n  const [value, setValueUnwrapped] = useControlled({\n    controlled: valueProp,\n    default: multiple ? defaultValue ?? EMPTY_ARRAY : defaultValue,\n    name: 'Select',\n    state: 'value'\n  });\n  const [open, setOpenUnwrapped] = useControlled({\n    controlled: openProp,\n    default: defaultOpen,\n    name: 'Select',\n    state: 'open'\n  });\n  const listRef = React.useRef([]);\n  const labelsRef = React.useRef([]);\n  const popupRef = React.useRef(null);\n  const scrollHandlerRef = React.useRef(null);\n  const scrollArrowsMountedCountRef = React.useRef(0);\n  const valueRef = React.useRef(null);\n  const valuesRef = React.useRef([]);\n  const typingRef = React.useRef(false);\n  const keyboardActiveRef = React.useRef(false);\n  const selectedItemTextRef = React.useRef(null);\n  const selectionRef = React.useRef({\n    allowSelectedMouseUp: false,\n    allowUnselectedMouseUp: false\n  });\n  const alignItemWithTriggerActiveRef = React.useRef(false);\n  const {\n    mounted,\n    setMounted,\n    transitionStatus\n  } = useTransitionStatus(open);\n  const {\n    openMethod,\n    triggerProps: interactionTypeProps,\n    reset: resetOpenInteractionType\n  } = useOpenInteractionType(open);\n  const store = useRefWithInit(() => new Store({\n    id: generatedId,\n    modal,\n    multiple,\n    itemToStringLabel,\n    itemToStringValue,\n    isItemEqualToValue,\n    value,\n    open,\n    mounted,\n    transitionStatus,\n    items,\n    forceMount: false,\n    openMethod: null,\n    activeIndex: null,\n    selectedIndex: null,\n    popupProps: {},\n    triggerProps: {},\n    triggerElement: null,\n    positionerElement: null,\n    listElement: null,\n    scrollUpArrowVisible: false,\n    scrollDownArrowVisible: false,\n    hasScrollArrows: false\n  })).current;\n  const activeIndex = useStore(store, selectors.activeIndex);\n  const selectedIndex = useStore(store, selectors.selectedIndex);\n  const triggerElement = useStore(store, selectors.triggerElement);\n  const positionerElement = useStore(store, selectors.positionerElement);\n  const serializedValue = React.useMemo(() => {\n    if (multiple && Array.isArray(value) && value.length === 0) {\n      return '';\n    }\n    return stringifyAsValue(value, itemToStringValue);\n  }, [multiple, value, itemToStringValue]);\n  const fieldStringValue = React.useMemo(() => {\n    if (multiple && Array.isArray(value)) {\n      return value.map(currentValue => stringifyAsValue(currentValue, itemToStringValue));\n    }\n    return stringifyAsValue(value, itemToStringValue);\n  }, [multiple, value, itemToStringValue]);\n  const controlRef = useValueAsRef(store.state.triggerElement);\n  useField({\n    id: generatedId,\n    commit: validation.commit,\n    value,\n    controlRef,\n    name,\n    getValue: () => fieldStringValue\n  });\n  const initialValueRef = React.useRef(value);\n  useIsoLayoutEffect(() => {\n    // Ensure the values and labels are registered for programmatic value changes.\n    if (value !== initialValueRef.current) {\n      store.set('forceMount', true);\n    }\n  }, [store, value]);\n  useIsoLayoutEffect(() => {\n    setFilled(multiple ? Array.isArray(value) && value.length > 0 : value != null);\n  }, [multiple, value, setFilled]);\n  useIsoLayoutEffect(function syncSelectedIndex() {\n    if (open) {\n      return;\n    }\n    const registry = valuesRef.current;\n    if (multiple) {\n      const currentValue = Array.isArray(value) ? value : [];\n      if (currentValue.length === 0) {\n        store.set('selectedIndex', null);\n        return;\n      }\n      const lastValue = currentValue[currentValue.length - 1];\n      const lastIndex = findItemIndex(registry, lastValue, isItemEqualToValue);\n      store.set('selectedIndex', lastIndex === -1 ? null : lastIndex);\n      return;\n    }\n    const index = findItemIndex(registry, value, isItemEqualToValue);\n    store.set('selectedIndex', index === -1 ? null : index);\n  }, [multiple, open, value, valuesRef, isItemEqualToValue, store]);\n  useValueChanged(value, () => {\n    clearErrors(name);\n    setDirty(value !== validityData.initialValue);\n    if (shouldValidateOnChange()) {\n      validation.commit(value);\n    } else {\n      validation.commit(value, true);\n    }\n  });\n  const setOpen = useStableCallback((nextOpen, eventDetails) => {\n    onOpenChange?.(nextOpen, eventDetails);\n    if (eventDetails.isCanceled) {\n      return;\n    }\n    setOpenUnwrapped(nextOpen);\n    if (!nextOpen && (eventDetails.reason === REASONS.focusOut || eventDetails.reason === REASONS.outsidePress)) {\n      setTouched(true);\n      setFocused(false);\n      if (validationMode === 'onBlur') {\n        validation.commit(value);\n      }\n    }\n\n    // The active index will sync to the last selected index on the next open.\n    // Workaround `enableFocusInside` in Floating UI setting `tabindex=0` of a non-highlighted\n    // option upon close when tabbing out due to `keepMounted=true`:\n    // https://github.com/floating-ui/floating-ui/pull/3004/files#diff-962a7439cdeb09ea98d4b622a45d517bce07ad8c3f866e089bda05f4b0bbd875R194-R199\n    // This otherwise causes options to retain `tabindex=0` incorrectly when the popup is closed\n    // when tabbing outside.\n    if (!nextOpen && store.state.activeIndex !== null) {\n      const activeOption = listRef.current[store.state.activeIndex];\n      // Wait for Floating UI's focus effect to have fired\n      queueMicrotask(() => {\n        activeOption?.setAttribute('tabindex', '-1');\n      });\n    }\n  });\n  const handleUnmount = useStableCallback(() => {\n    setMounted(false);\n    store.set('activeIndex', null);\n    resetOpenInteractionType();\n    onOpenChangeComplete?.(false);\n  });\n  useOpenChangeComplete({\n    enabled: !actionsRef,\n    open,\n    ref: popupRef,\n    onComplete() {\n      if (!open) {\n        handleUnmount();\n      }\n    }\n  });\n  React.useImperativeHandle(actionsRef, () => ({\n    unmount: handleUnmount\n  }), [handleUnmount]);\n  const setValue = useStableCallback((nextValue, eventDetails) => {\n    onValueChange?.(nextValue, eventDetails);\n    if (eventDetails.isCanceled) {\n      return;\n    }\n    setValueUnwrapped(nextValue);\n  });\n  const handleScrollArrowVisibility = useStableCallback(() => {\n    const scroller = store.state.listElement || popupRef.current;\n    if (!scroller) {\n      return;\n    }\n    const viewportTop = scroller.scrollTop;\n    const viewportBottom = scroller.scrollTop + scroller.clientHeight;\n    const shouldShowUp = viewportTop > 1;\n    const shouldShowDown = viewportBottom < scroller.scrollHeight - 1;\n    if (store.state.scrollUpArrowVisible !== shouldShowUp) {\n      store.set('scrollUpArrowVisible', shouldShowUp);\n    }\n    if (store.state.scrollDownArrowVisible !== shouldShowDown) {\n      store.set('scrollDownArrowVisible', shouldShowDown);\n    }\n  });\n  const floatingContext = useFloatingRootContext({\n    open,\n    onOpenChange: setOpen,\n    elements: {\n      reference: triggerElement,\n      floating: positionerElement\n    }\n  });\n  const click = useClick(floatingContext, {\n    enabled: !readOnly && !disabled,\n    event: 'mousedown'\n  });\n  const dismiss = useDismiss(floatingContext, {\n    bubbles: false\n  });\n  const listNavigation = useListNavigation(floatingContext, {\n    enabled: !readOnly && !disabled,\n    listRef,\n    activeIndex,\n    selectedIndex,\n    disabledIndices: EMPTY_ARRAY,\n    onNavigate(nextActiveIndex) {\n      // Retain the highlight while transitioning out.\n      if (nextActiveIndex === null && !open) {\n        return;\n      }\n      store.set('activeIndex', nextActiveIndex);\n    },\n    // Implement our own listeners since `onPointerLeave` on each option fires while scrolling with\n    // the `alignItemWithTrigger=true`, causing a performance issue on Chrome.\n    focusItemOnHover: false\n  });\n  const typeahead = useTypeahead(floatingContext, {\n    enabled: !readOnly && !disabled && (open || !multiple),\n    listRef: labelsRef,\n    activeIndex,\n    selectedIndex,\n    onMatch(index) {\n      if (open) {\n        store.set('activeIndex', index);\n      } else {\n        setValue(valuesRef.current[index], createChangeEventDetails('none'));\n      }\n    },\n    onTypingChange(typing) {\n      // FIXME: Floating UI doesn't support allowing space to select an item while the popup is\n      // closed and the trigger isn't a native <button>.\n      typingRef.current = typing;\n    }\n  });\n  const {\n    getReferenceProps,\n    getFloatingProps,\n    getItemProps\n  } = useInteractions([click, dismiss, listNavigation, typeahead]);\n  const mergedTriggerProps = React.useMemo(() => {\n    return mergeProps(getReferenceProps(), interactionTypeProps, generatedId ? {\n      id: generatedId\n    } : EMPTY_OBJECT);\n  }, [getReferenceProps, interactionTypeProps, generatedId]);\n  useOnFirstRender(() => {\n    store.update({\n      popupProps: getFloatingProps(),\n      triggerProps: mergedTriggerProps\n    });\n  });\n  useIsoLayoutEffect(() => {\n    store.update({\n      id: generatedId,\n      modal,\n      multiple,\n      value,\n      open,\n      mounted,\n      transitionStatus,\n      popupProps: getFloatingProps(),\n      triggerProps: mergedTriggerProps,\n      items,\n      itemToStringLabel,\n      itemToStringValue,\n      isItemEqualToValue,\n      openMethod\n    });\n  }, [store, generatedId, modal, multiple, value, open, mounted, transitionStatus, getFloatingProps, mergedTriggerProps, items, itemToStringLabel, itemToStringValue, isItemEqualToValue, openMethod]);\n  const contextValue = React.useMemo(() => ({\n    store,\n    name,\n    required,\n    disabled,\n    readOnly,\n    multiple,\n    itemToStringLabel,\n    itemToStringValue,\n    highlightItemOnHover,\n    setValue,\n    setOpen,\n    listRef,\n    popupRef,\n    scrollHandlerRef,\n    handleScrollArrowVisibility,\n    scrollArrowsMountedCountRef,\n    getItemProps,\n    events: floatingContext.context.events,\n    valueRef,\n    valuesRef,\n    labelsRef,\n    typingRef,\n    selectionRef,\n    selectedItemTextRef,\n    validation,\n    onOpenChangeComplete,\n    keyboardActiveRef,\n    alignItemWithTriggerActiveRef,\n    initialValueRef\n  }), [store, name, required, disabled, readOnly, multiple, itemToStringLabel, itemToStringValue, highlightItemOnHover, setValue, setOpen, getItemProps, floatingContext.context.events, validation, onOpenChangeComplete, handleScrollArrowVisibility]);\n  const ref = useMergedRefs(inputRef, validation.inputRef);\n  const hasMultipleSelection = multiple && Array.isArray(value) && value.length > 0;\n  const hiddenInputs = React.useMemo(() => {\n    if (!multiple || !Array.isArray(value) || !name) {\n      return null;\n    }\n    return value.map(v => {\n      const currentSerializedValue = stringifyAsValue(v, itemToStringValue);\n      return /*#__PURE__*/_jsx(\"input\", {\n        type: \"hidden\",\n        name: name,\n        value: currentSerializedValue\n      }, currentSerializedValue);\n    });\n  }, [multiple, value, name, itemToStringValue]);\n  return /*#__PURE__*/_jsx(SelectRootContext.Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/_jsxs(SelectFloatingContext.Provider, {\n      value: floatingContext,\n      children: [children, /*#__PURE__*/_jsx(\"input\", {\n        ...validation.getInputValidationProps({\n          onFocus() {\n            // Move focus to the trigger element when the hidden input is focused.\n            store.state.triggerElement?.focus({\n              // Supported in Chrome from 144 (January 2026)\n              // @ts-expect-error - focusVisible is not yet in the lib.dom.d.ts\n              focusVisible: true\n            });\n          },\n          // Handle browser autofill.\n          onChange(event) {\n            // Workaround for https://github.com/facebook/react/issues/9023\n            if (event.nativeEvent.defaultPrevented) {\n              return;\n            }\n            const nextValue = event.target.value;\n            const details = createChangeEventDetails(REASONS.none, event.nativeEvent);\n            function handleChange() {\n              if (multiple) {\n                // Browser autofill only writes a single scalar value.\n                return;\n              }\n\n              // Handle single selection: match against registered values using serialization\n              const matchingValue = valuesRef.current.find(v => {\n                const candidate = stringifyAsValue(v, itemToStringValue);\n                if (candidate.toLowerCase() === nextValue.toLowerCase()) {\n                  return true;\n                }\n                return false;\n              });\n              if (matchingValue != null) {\n                setDirty(matchingValue !== validityData.initialValue);\n                setValue(matchingValue, details);\n                if (shouldValidateOnChange()) {\n                  validation.commit(matchingValue);\n                }\n              }\n            }\n            store.set('forceMount', true);\n            queueMicrotask(handleChange);\n          }\n        }),\n        name: multiple ? undefined : name,\n        value: serializedValue,\n        disabled: disabled,\n        required: required && !hasMultipleSelection,\n        readOnly: readOnly,\n        ref: ref,\n        style: name ? visuallyHiddenInput : visuallyHidden,\n        tabIndex: -1,\n        \"aria-hidden\": true\n      }), hiddenInputs]\n    })\n  });\n}", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const SelectRootContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") SelectRootContext.displayName = \"SelectRootContext\";\nexport const SelectFloatingContext = /*#__PURE__*/React.createContext(null);\nif (process.env.NODE_ENV !== \"production\") SelectFloatingContext.displayName = \"SelectFloatingContext\";\nexport function useSelectRootContext() {\n  const context = React.useContext(SelectRootContext);\n  if (context === null) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: SelectRootContext is missing. Select parts must be placed within <Select.Root>.' : _formatErrorMessage(60));\n  }\n  return context;\n}\nexport function useSelectFloatingContext() {\n  const context = React.useContext(SelectFloatingContext);\n  if (context === null) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: SelectFloatingContext is missing. Select parts must be placed within <Select.Root>.' : _formatErrorMessage(61));\n  }\n  return context;\n}", "import { createSelector } from '@base-ui/utils/store';\nimport { compareItemEquality } from \"../utils/itemEquality.js\";\nimport { hasNullItemLabel, stringifyAsValue } from \"../utils/resolveValueLabel.js\";\nexport const selectors = {\n  id: createSelector(state => state.id),\n  modal: createSelector(state => state.modal),\n  multiple: createSelector(state => state.multiple),\n  items: createSelector(state => state.items),\n  itemToStringLabel: createSelector(state => state.itemToStringLabel),\n  itemToStringValue: createSelector(state => state.itemToStringValue),\n  isItemEqualToValue: createSelector(state => state.isItemEqualToValue),\n  value: createSelector(state => state.value),\n  hasSelectedValue: createSelector(state => {\n    const {\n      value,\n      multiple,\n      itemToStringValue\n    } = state;\n    if (value == null) {\n      return false;\n    }\n    if (multiple && Array.isArray(value)) {\n      return value.length > 0;\n    }\n    return stringifyAsValue(value, itemToStringValue) !== '';\n  }),\n  hasNullItemLabel: createSelector((state, enabled) => {\n    return enabled ? hasNullItemLabel(state.items) : false;\n  }),\n  open: createSelector(state => state.open),\n  mounted: createSelector(state => state.mounted),\n  forceMount: createSelector(state => state.forceMount),\n  transitionStatus: createSelector(state => state.transitionStatus),\n  openMethod: createSelector(state => state.openMethod),\n  activeIndex: createSelector(state => state.activeIndex),\n  selectedIndex: createSelector(state => state.selectedIndex),\n  isActive: createSelector((state, index) => state.activeIndex === index),\n  isSelected: createSelector((state, index, candidate) => {\n    const comparer = state.isItemEqualToValue;\n    const storeValue = state.value;\n    if (state.multiple) {\n      return Array.isArray(storeValue) && storeValue.some(item => compareItemEquality(item, candidate, comparer));\n    }\n\n    // `selectedIndex` is only updated after the items mount for the first time,\n    // the value check avoids a re-render for the initially selected item.\n    if (state.selectedIndex === index && state.selectedIndex !== null) {\n      return true;\n    }\n    return compareItemEquality(storeValue, candidate, comparer);\n  }),\n  isSelectedByFocus: createSelector((state, index) => {\n    return state.selectedIndex === index;\n  }),\n  popupProps: createSelector(state => state.popupProps),\n  triggerProps: createSelector(state => state.triggerProps),\n  triggerElement: createSelector(state => state.triggerElement),\n  positionerElement: createSelector(state => state.positionerElement),\n  listElement: createSelector(state => state.listElement),\n  scrollUpArrowVisible: createSelector(state => state.scrollUpArrowVisible),\n  scrollDownArrowVisible: createSelector(state => state.scrollDownArrowVisible),\n  hasScrollArrows: createSelector(state => state.hasScrollArrows)\n};", "'use client';\n\nimport * as React from 'react';\nimport { ownerDocument } from '@base-ui/utils/owner';\nimport { useTimeout } from '@base-ui/utils/useTimeout';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useMergedRefs } from '@base-ui/utils/useMergedRefs';\nimport { useValueAsRef } from '@base-ui/utils/useValueAsRef';\nimport { useStore } from '@base-ui/utils/store';\nimport { useSelectRootContext } from \"../root/SelectRootContext.js\";\nimport { useFieldRootContext } from \"../../field/root/FieldRootContext.js\";\nimport { useLabelableContext } from \"../../labelable-provider/LabelableContext.js\";\nimport { pressableTriggerOpenStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { fieldValidityMapping } from \"../../field/utils/constants.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { selectors } from \"../store.js\";\nimport { getPseudoElementBounds } from \"../../utils/getPseudoElementBounds.js\";\nimport { contains, getFloatingFocusElement } from \"../../floating-ui-react/utils.js\";\nimport { mergeProps } from \"../../merge-props/index.js\";\nimport { useButton } from \"../../use-button/index.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { useLabelableId } from \"../../labelable-provider/useLabelableId.js\";\nconst BOUNDARY_OFFSET = 2;\nconst SELECTED_DELAY = 400;\nconst UNSELECTED_DELAY = 200;\nconst stateAttributesMapping = {\n  ...pressableTriggerOpenStateMapping,\n  ...fieldValidityMapping,\n  value: () => null\n};\n\n/**\n * A button that opens the select popup.\n * Renders a `<button>` element.\n *\n * Documentation: [Base UI Select](https://base-ui.com/react/components/select)\n */\nexport const SelectTrigger = /*#__PURE__*/React.forwardRef(function SelectTrigger(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    id: idProp,\n    disabled: disabledProp = false,\n    nativeButton = true,\n    ...elementProps\n  } = componentProps;\n  const {\n    setTouched,\n    setFocused,\n    validationMode,\n    state: fieldState,\n    disabled: fieldDisabled\n  } = useFieldRootContext();\n  const {\n    labelId\n  } = useLabelableContext();\n  const {\n    store,\n    setOpen,\n    selectionRef,\n    validation,\n    readOnly,\n    required,\n    alignItemWithTriggerActiveRef,\n    disabled: selectDisabled,\n    keyboardActiveRef\n  } = useSelectRootContext();\n  const disabled = fieldDisabled || selectDisabled || disabledProp;\n  const open = useStore(store, selectors.open);\n  const value = useStore(store, selectors.value);\n  const triggerProps = useStore(store, selectors.triggerProps);\n  const positionerElement = useStore(store, selectors.positionerElement);\n  const listElement = useStore(store, selectors.listElement);\n  const rootId = useStore(store, selectors.id);\n  const hasSelectedValue = useStore(store, selectors.hasSelectedValue);\n  const shouldCheckNullItemLabel = !hasSelectedValue && open;\n  const hasNullItemLabel = useStore(store, selectors.hasNullItemLabel, shouldCheckNullItemLabel);\n  const id = idProp ?? rootId;\n  useLabelableId({\n    id\n  });\n  const positionerRef = useValueAsRef(positionerElement);\n  const triggerRef = React.useRef(null);\n  const {\n    getButtonProps,\n    buttonRef\n  } = useButton({\n    disabled,\n    native: nativeButton\n  });\n  const setTriggerElement = useStableCallback(element => {\n    store.set('triggerElement', element);\n  });\n  const mergedRef = useMergedRefs(forwardedRef, triggerRef, buttonRef, setTriggerElement);\n  const timeoutFocus = useTimeout();\n  const timeoutMouseDown = useTimeout();\n  const selectedDelayTimeout = useTimeout();\n  const unselectedDelayTimeout = useTimeout();\n  React.useEffect(() => {\n    if (open) {\n      const hasSelectedItemInList = hasSelectedValue || hasNullItemLabel;\n      const shouldDelayUnselectedMouseUpLonger = !hasSelectedItemInList;\n\n      // When there is no selected item in the list (placeholder-only selects), a mousedown\n      // on the trigger followed by a quick mouseup over the first option can accidentally select\n      // within 200ms. Delay unselected mouseup to match the safer 400ms window.\n      if (shouldDelayUnselectedMouseUpLonger) {\n        selectedDelayTimeout.start(SELECTED_DELAY, () => {\n          selectionRef.current.allowUnselectedMouseUp = true;\n          selectionRef.current.allowSelectedMouseUp = true;\n        });\n      } else {\n        // mousedown -> move to unselected item -> mouseup should not select within 200ms.\n        unselectedDelayTimeout.start(UNSELECTED_DELAY, () => {\n          selectionRef.current.allowUnselectedMouseUp = true;\n\n          // mousedown -> mouseup on selected item should not select within 400ms.\n          selectedDelayTimeout.start(UNSELECTED_DELAY, () => {\n            selectionRef.current.allowSelectedMouseUp = true;\n          });\n        });\n      }\n      return () => {\n        selectedDelayTimeout.clear();\n        unselectedDelayTimeout.clear();\n      };\n    }\n    selectionRef.current = {\n      allowSelectedMouseUp: false,\n      allowUnselectedMouseUp: false\n    };\n    timeoutMouseDown.clear();\n    return undefined;\n  }, [open, hasSelectedValue, hasNullItemLabel, selectionRef, timeoutMouseDown, selectedDelayTimeout, unselectedDelayTimeout]);\n  const ariaControlsId = React.useMemo(() => {\n    return listElement?.id ?? getFloatingFocusElement(positionerElement)?.id;\n  }, [listElement, positionerElement]);\n  const props = mergeProps(triggerProps, {\n    id,\n    role: 'combobox',\n    'aria-expanded': open ? 'true' : 'false',\n    'aria-haspopup': 'listbox',\n    'aria-controls': open ? ariaControlsId : undefined,\n    'aria-labelledby': labelId,\n    'aria-readonly': readOnly || undefined,\n    'aria-required': required || undefined,\n    tabIndex: disabled ? -1 : 0,\n    ref: mergedRef,\n    onFocus(event) {\n      setFocused(true);\n\n      // The popup element shouldn't obscure the focused trigger.\n      if (open && alignItemWithTriggerActiveRef.current) {\n        setOpen(false, createChangeEventDetails(REASONS.none, event.nativeEvent));\n      }\n\n      // Saves a re-render on initial click: `forceMount === true` mounts\n      // the items before `open === true`. We could sync those cycles better\n      // without a timeout, but this is enough for now.\n      //\n      // XXX: might be causing `act()` warnings.\n      timeoutFocus.start(0, () => {\n        store.set('forceMount', true);\n      });\n    },\n    onBlur(event) {\n      // If focus is moving into the popup, don't count it as a blur.\n      if (contains(positionerElement, event.relatedTarget)) {\n        return;\n      }\n      setTouched(true);\n      setFocused(false);\n      if (validationMode === 'onBlur') {\n        validation.commit(value);\n      }\n    },\n    onPointerMove() {\n      keyboardActiveRef.current = false;\n    },\n    onKeyDown() {\n      keyboardActiveRef.current = true;\n    },\n    onMouseDown(event) {\n      if (open) {\n        return;\n      }\n      const doc = ownerDocument(event.currentTarget);\n      function handleMouseUp(mouseEvent) {\n        if (!triggerRef.current) {\n          return;\n        }\n        const mouseUpTarget = mouseEvent.target;\n\n        // Early return if clicked on trigger element or its children\n        if (contains(triggerRef.current, mouseUpTarget) || contains(positionerRef.current, mouseUpTarget) || mouseUpTarget === triggerRef.current) {\n          return;\n        }\n        const bounds = getPseudoElementBounds(triggerRef.current);\n        if (mouseEvent.clientX >= bounds.left - BOUNDARY_OFFSET && mouseEvent.clientX <= bounds.right + BOUNDARY_OFFSET && mouseEvent.clientY >= bounds.top - BOUNDARY_OFFSET && mouseEvent.clientY <= bounds.bottom + BOUNDARY_OFFSET) {\n          return;\n        }\n        setOpen(false, createChangeEventDetails(REASONS.cancelOpen, mouseEvent));\n      }\n\n      // Firefox can fire this upon mousedown\n      timeoutMouseDown.start(0, () => {\n        doc.addEventListener('mouseup', handleMouseUp, {\n          once: true\n        });\n      });\n    }\n  }, validation.getValidationProps, elementProps, getButtonProps);\n\n  // ensure nested useButton does not overwrite the combobox role:\n  // <Toolbar.Button render={<Select.Trigger />} />\n  props.role = 'combobox';\n  const state = React.useMemo(() => ({\n    ...fieldState,\n    open,\n    disabled,\n    value,\n    readOnly,\n    placeholder: !hasSelectedValue\n  }), [fieldState, open, disabled, value, readOnly, hasSelectedValue]);\n  return useRenderElement('button', componentProps, {\n    ref: [forwardedRef, triggerRef],\n    state,\n    stateAttributesMapping,\n    props\n  });\n});\nif (process.env.NODE_ENV !== \"production\") SelectTrigger.displayName = \"SelectTrigger\";", "'use client';\n\nimport * as React from 'react';\nimport { useStore } from '@base-ui/utils/store';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useSelectRootContext } from \"../root/SelectRootContext.js\";\nimport { resolveMultipleLabels, resolveSelectedLabel } from \"../../utils/resolveValueLabel.js\";\nimport { selectors } from \"../store.js\";\nconst stateAttributesMapping = {\n  value: () => null\n};\n\n/**\n * A text label of the currently selected item.\n * Renders a `<span>` element.\n *\n * Documentation: [Base UI Select](https://base-ui.com/react/components/select)\n */\nexport const SelectValue = /*#__PURE__*/React.forwardRef(function SelectValue(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    children: childrenProp,\n    placeholder,\n    ...elementProps\n  } = componentProps;\n  const {\n    store,\n    valueRef\n  } = useSelectRootContext();\n  const value = useStore(store, selectors.value);\n  const items = useStore(store, selectors.items);\n  const itemToStringLabel = useStore(store, selectors.itemToStringLabel);\n  const hasSelectedValue = useStore(store, selectors.hasSelectedValue);\n  const shouldCheckNullItemLabel = !hasSelectedValue && placeholder != null && childrenProp == null;\n  const hasNullLabel = useStore(store, selectors.hasNullItemLabel, shouldCheckNullItemLabel);\n  const state = React.useMemo(() => ({\n    value,\n    placeholder: !hasSelectedValue\n  }), [value, hasSelectedValue]);\n  let children = null;\n  if (typeof childrenProp === 'function') {\n    children = childrenProp(value);\n  } else if (childrenProp != null) {\n    children = childrenProp;\n  } else if (!hasSelectedValue && placeholder != null && !hasNullLabel) {\n    children = placeholder;\n  } else if (Array.isArray(value)) {\n    children = resolveMultipleLabels(value, items, itemToStringLabel);\n  } else {\n    children = resolveSelectedLabel(value, items, itemToStringLabel);\n  }\n  const element = useRenderElement('span', componentProps, {\n    state,\n    ref: [forwardedRef, valueRef],\n    props: [{\n      children\n    }, elementProps],\n    stateAttributesMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") SelectValue.displayName = \"SelectValue\";", "'use client';\n\nimport * as React from 'react';\nimport { useStore } from '@base-ui/utils/store';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useSelectRootContext } from \"../root/SelectRootContext.js\";\nimport { triggerOpenStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { selectors } from \"../store.js\";\n\n/**\n * An icon that indicates that the trigger button opens a select popup.\n * Renders a `<span>` element.\n *\n * Documentation: [Base UI Select](https://base-ui.com/react/components/select)\n */\nexport const SelectIcon = /*#__PURE__*/React.forwardRef(function SelectIcon(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const {\n    store\n  } = useSelectRootContext();\n  const open = useStore(store, selectors.open);\n  const state = React.useMemo(() => ({\n    open\n  }), [open]);\n  const element = useRenderElement('span', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: [{\n      'aria-hidden': true,\n      children: ''\n    }, elementProps],\n    stateAttributesMapping: triggerOpenStateMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") SelectIcon.displayName = \"SelectIcon\";", "'use client';\n\nimport * as React from 'react';\nimport { useStore } from '@base-ui/utils/store';\nimport { FloatingPortal } from \"../../floating-ui-react/index.js\";\nimport { SelectPortalContext } from \"./SelectPortalContext.js\";\nimport { useSelectRootContext } from \"../root/SelectRootContext.js\";\nimport { selectors } from \"../store.js\";\n\n/**\n * A portal element that moves the popup to a different part of the DOM.\n * By default, the portal element is appended to `<body>`.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Select](https://base-ui.com/react/components/select)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const SelectPortal = /*#__PURE__*/React.forwardRef(function SelectPortal(portalProps, forwardedRef) {\n  const {\n    store\n  } = useSelectRootContext();\n  const mounted = useStore(store, selectors.mounted);\n  const forceMount = useStore(store, selectors.forceMount);\n  const shouldRender = mounted || forceMount;\n  if (!shouldRender) {\n    return null;\n  }\n  return /*#__PURE__*/_jsx(SelectPortalContext.Provider, {\n    value: true,\n    children: /*#__PURE__*/_jsx(FloatingPortal, {\n      ref: forwardedRef,\n      ...portalProps\n    })\n  });\n});\nif (process.env.NODE_ENV !== \"production\") SelectPortal.displayName = \"SelectPortal\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const SelectPortalContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") SelectPortalContext.displayName = \"SelectPortalContext\";\nexport function useSelectPortalContext() {\n  const value = React.useContext(SelectPortalContext);\n  if (value === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: <Select.Portal> is missing.' : _formatErrorMessage(58));\n  }\n  return value;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useStore } from '@base-ui/utils/store';\nimport { useSelectRootContext } from \"../root/SelectRootContext.js\";\nimport { popupStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { selectors } from \"../store.js\";\nconst stateAttributesMapping = {\n  ...popupStateMapping,\n  ...transitionStatusMapping\n};\n\n/**\n * An overlay displayed beneath the menu popup.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Select](https://base-ui.com/react/components/select)\n */\nexport const SelectBackdrop = /*#__PURE__*/React.forwardRef(function SelectBackdrop(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const {\n    store\n  } = useSelectRootContext();\n  const open = useStore(store, selectors.open);\n  const mounted = useStore(store, selectors.mounted);\n  const transitionStatus = useStore(store, selectors.transitionStatus);\n  const state = React.useMemo(() => ({\n    open,\n    transitionStatus\n  }), [open, transitionStatus]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: [{\n      role: 'presentation',\n      hidden: !mounted,\n      style: {\n        userSelect: 'none',\n        WebkitUserSelect: 'none'\n      }\n    }, elementProps],\n    stateAttributesMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") SelectBackdrop.displayName = \"SelectBackdrop\";", "'use client';\n\nimport * as React from 'react';\nimport { inertValue } from '@base-ui/utils/inertValue';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useScrollLock } from '@base-ui/utils/useScrollLock';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useStore } from '@base-ui/utils/store';\nimport { useSelectRootContext, useSelectFloatingContext } from \"../root/SelectRootContext.js\";\nimport { CompositeList } from \"../../composite/list/CompositeList.js\";\nimport { popupStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { useAnchorPositioning } from \"../../utils/useAnchorPositioning.js\";\nimport { SelectPositionerContext } from \"./SelectPositionerContext.js\";\nimport { InternalBackdrop } from \"../../utils/InternalBackdrop.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { DROPDOWN_COLLISION_AVOIDANCE } from \"../../utils/constants.js\";\nimport { clearStyles } from \"../popup/utils.js\";\nimport { selectors } from \"../store.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { findItemIndex, itemIncludes } from \"../../utils/itemEquality.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst FIXED = {\n  position: 'fixed'\n};\n\n/**\n * Positions the select popup.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Select](https://base-ui.com/react/components/select)\n */\nexport const SelectPositioner = /*#__PURE__*/React.forwardRef(function SelectPositioner(componentProps, forwardedRef) {\n  const {\n    anchor,\n    positionMethod = 'absolute',\n    className,\n    render,\n    side = 'bottom',\n    align = 'center',\n    sideOffset = 0,\n    alignOffset = 0,\n    collisionBoundary = 'clipping-ancestors',\n    collisionPadding,\n    arrowPadding = 5,\n    sticky = false,\n    disableAnchorTracking,\n    alignItemWithTrigger = true,\n    collisionAvoidance = DROPDOWN_COLLISION_AVOIDANCE,\n    ...elementProps\n  } = componentProps;\n  const {\n    store,\n    listRef,\n    labelsRef,\n    alignItemWithTriggerActiveRef,\n    selectedItemTextRef,\n    valuesRef,\n    initialValueRef,\n    popupRef,\n    setValue\n  } = useSelectRootContext();\n  const floatingRootContext = useSelectFloatingContext();\n  const open = useStore(store, selectors.open);\n  const mounted = useStore(store, selectors.mounted);\n  const modal = useStore(store, selectors.modal);\n  const value = useStore(store, selectors.value);\n  const openMethod = useStore(store, selectors.openMethod);\n  const positionerElement = useStore(store, selectors.positionerElement);\n  const triggerElement = useStore(store, selectors.triggerElement);\n  const isItemEqualToValue = useStore(store, selectors.isItemEqualToValue);\n  const scrollUpArrowRef = React.useRef(null);\n  const scrollDownArrowRef = React.useRef(null);\n  const [controlledAlignItemWithTrigger, setControlledAlignItemWithTrigger] = React.useState(alignItemWithTrigger);\n  const alignItemWithTriggerActive = mounted && controlledAlignItemWithTrigger && openMethod !== 'touch';\n  if (!mounted && controlledAlignItemWithTrigger !== alignItemWithTrigger) {\n    setControlledAlignItemWithTrigger(alignItemWithTrigger);\n  }\n  useIsoLayoutEffect(() => {\n    if (!mounted) {\n      if (selectors.scrollUpArrowVisible(store.state)) {\n        store.set('scrollUpArrowVisible', false);\n      }\n      if (selectors.scrollDownArrowVisible(store.state)) {\n        store.set('scrollDownArrowVisible', false);\n      }\n    }\n  }, [store, mounted]);\n  React.useImperativeHandle(alignItemWithTriggerActiveRef, () => alignItemWithTriggerActive);\n  useScrollLock((alignItemWithTriggerActive || modal) && open && openMethod !== 'touch', triggerElement);\n  const positioning = useAnchorPositioning({\n    anchor,\n    floatingRootContext,\n    positionMethod,\n    mounted,\n    side,\n    sideOffset,\n    align,\n    alignOffset,\n    arrowPadding,\n    collisionBoundary,\n    collisionPadding,\n    sticky,\n    disableAnchorTracking: disableAnchorTracking ?? alignItemWithTriggerActive,\n    collisionAvoidance,\n    keepMounted: true\n  });\n  const renderedSide = alignItemWithTriggerActive ? 'none' : positioning.side;\n  const positionerStyles = alignItemWithTriggerActive ? FIXED : positioning.positionerStyles;\n  const defaultProps = React.useMemo(() => {\n    const hiddenStyles = {};\n    if (!open) {\n      hiddenStyles.pointerEvents = 'none';\n    }\n    return {\n      role: 'presentation',\n      hidden: !mounted,\n      style: {\n        ...positionerStyles,\n        ...hiddenStyles\n      }\n    };\n  }, [open, mounted, positionerStyles]);\n  const state = React.useMemo(() => ({\n    open,\n    side: renderedSide,\n    align: positioning.align,\n    anchorHidden: positioning.anchorHidden\n  }), [open, renderedSide, positioning.align, positioning.anchorHidden]);\n  const setPositionerElement = useStableCallback(element => {\n    store.set('positionerElement', element);\n  });\n  const element = useRenderElement('div', componentProps, {\n    ref: [forwardedRef, setPositionerElement],\n    state,\n    stateAttributesMapping: popupStateMapping,\n    props: [defaultProps, elementProps]\n  });\n  const prevMapSizeRef = React.useRef(0);\n  const onMapChange = useStableCallback(map => {\n    if (map.size === 0 && prevMapSizeRef.current === 0) {\n      return;\n    }\n    if (valuesRef.current.length === 0) {\n      return;\n    }\n    const prevSize = prevMapSizeRef.current;\n    prevMapSizeRef.current = map.size;\n    if (map.size === prevSize) {\n      return;\n    }\n    const eventDetails = createChangeEventDetails(REASONS.none);\n    if (prevSize !== 0 && !store.state.multiple && value !== null) {\n      const valueIndex = findItemIndex(valuesRef.current, value, isItemEqualToValue);\n      if (valueIndex === -1) {\n        const initial = initialValueRef.current;\n        const hasInitial = initial != null && itemIncludes(valuesRef.current, initial, isItemEqualToValue);\n        const nextValue = hasInitial ? initial : null;\n        setValue(nextValue, eventDetails);\n        if (nextValue === null) {\n          store.set('selectedIndex', null);\n          selectedItemTextRef.current = null;\n        }\n      }\n    }\n    if (prevSize !== 0 && store.state.multiple && Array.isArray(value)) {\n      const nextValue = value.filter(v => itemIncludes(valuesRef.current, v, isItemEqualToValue));\n      if (nextValue.length !== value.length || nextValue.some(v => !itemIncludes(value, v, isItemEqualToValue))) {\n        setValue(nextValue, eventDetails);\n        if (nextValue.length === 0) {\n          store.set('selectedIndex', null);\n          selectedItemTextRef.current = null;\n        }\n      }\n    }\n    if (open && alignItemWithTriggerActive) {\n      store.update({\n        scrollUpArrowVisible: false,\n        scrollDownArrowVisible: false\n      });\n      const stylesToClear = {\n        height: ''\n      };\n      clearStyles(positionerElement, stylesToClear);\n      clearStyles(popupRef.current, stylesToClear);\n    }\n  });\n  const contextValue = React.useMemo(() => ({\n    ...positioning,\n    side: renderedSide,\n    alignItemWithTriggerActive,\n    setControlledAlignItemWithTrigger,\n    scrollUpArrowRef,\n    scrollDownArrowRef\n  }), [positioning, renderedSide, alignItemWithTriggerActive, setControlledAlignItemWithTrigger]);\n  return /*#__PURE__*/_jsx(CompositeList, {\n    elementsRef: listRef,\n    labelsRef: labelsRef,\n    onMapChange: onMapChange,\n    children: /*#__PURE__*/_jsxs(SelectPositionerContext.Provider, {\n      value: contextValue,\n      children: [mounted && modal && /*#__PURE__*/_jsx(InternalBackdrop, {\n        inert: inertValue(!open),\n        cutout: triggerElement\n      }), element]\n    })\n  });\n});\nif (process.env.NODE_ENV !== \"production\") SelectPositioner.displayName = \"SelectPositioner\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const SelectPositionerContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") SelectPositionerContext.displayName = \"SelectPositionerContext\";\nexport function useSelectPositionerContext() {\n  const context = React.useContext(SelectPositionerContext);\n  if (!context) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: SelectPositionerContext is missing. SelectPositioner parts must be placed within <Select.Positioner>.' : _formatErrorMessage(59));\n  }\n  return context;\n}", "export function clearStyles(element, originalStyles) {\n  if (element) {\n    Object.assign(element.style, originalStyles);\n  }\n}\nexport const LIST_FUNCTIONAL_STYLES = {\n  position: 'relative',\n  maxHeight: '100%',\n  overflowX: 'hidden',\n  overflowY: 'auto'\n};", "'use client';\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { useTimeout } from '@base-ui/utils/useTimeout';\nimport { isWebKit } from '@base-ui/utils/detectBrowser';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { ownerDocument, ownerWindow } from '@base-ui/utils/owner';\nimport { isMouseWithinBounds } from '@base-ui/utils/isMouseWithinBounds';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useStore } from '@base-ui/utils/store';\nimport { useAnimationFrame } from '@base-ui/utils/useAnimationFrame';\nimport { FloatingFocusManager } from \"../../floating-ui-react/index.js\";\nimport { useSelectFloatingContext, useSelectRootContext } from \"../root/SelectRootContext.js\";\nimport { popupStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { useSelectPositionerContext } from \"../positioner/SelectPositionerContext.js\";\nimport { styleDisableScrollbar } from \"../../utils/styles.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { useOpenChangeComplete } from \"../../utils/useOpenChangeComplete.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { selectors } from \"../store.js\";\nimport { clearStyles, LIST_FUNCTIONAL_STYLES } from \"./utils.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { useToolbarRootContext } from \"../../toolbar/root/ToolbarRootContext.js\";\nimport { COMPOSITE_KEYS } from \"../../composite/composite.js\";\nimport { getDisabledMountTransitionStyles } from \"../../utils/getDisabledMountTransitionStyles.js\";\nimport { clamp } from \"../../utils/clamp.js\";\nimport { useCSPContext } from \"../../csp-provider/CSPContext.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst stateAttributesMapping = {\n  ...popupStateMapping,\n  ...transitionStatusMapping\n};\n\n/**\n * A container for the select list.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Select](https://base-ui.com/react/components/select)\n */\nexport const SelectPopup = /*#__PURE__*/React.forwardRef(function SelectPopup(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const {\n    store,\n    popupRef,\n    onOpenChangeComplete,\n    setOpen,\n    valueRef,\n    selectedItemTextRef,\n    keyboardActiveRef,\n    multiple,\n    handleScrollArrowVisibility,\n    scrollHandlerRef,\n    highlightItemOnHover\n  } = useSelectRootContext();\n  const {\n    side,\n    align,\n    alignItemWithTriggerActive,\n    setControlledAlignItemWithTrigger,\n    scrollDownArrowRef,\n    scrollUpArrowRef\n  } = useSelectPositionerContext();\n  const insideToolbar = useToolbarRootContext(true) != null;\n  const floatingRootContext = useSelectFloatingContext();\n  const {\n    nonce,\n    disableStyleElements\n  } = useCSPContext();\n  const highlightTimeout = useTimeout();\n  const id = useStore(store, selectors.id);\n  const open = useStore(store, selectors.open);\n  const mounted = useStore(store, selectors.mounted);\n  const popupProps = useStore(store, selectors.popupProps);\n  const transitionStatus = useStore(store, selectors.transitionStatus);\n  const triggerElement = useStore(store, selectors.triggerElement);\n  const positionerElement = useStore(store, selectors.positionerElement);\n  const listElement = useStore(store, selectors.listElement);\n  const initialHeightRef = React.useRef(0);\n  const reachedMaxHeightRef = React.useRef(false);\n  const maxHeightRef = React.useRef(0);\n  const initialPlacedRef = React.useRef(false);\n  const originalPositionerStylesRef = React.useRef({});\n  const scrollArrowFrame = useAnimationFrame();\n  const handleScroll = useStableCallback(scroller => {\n    if (!positionerElement || !popupRef.current || !initialPlacedRef.current) {\n      return;\n    }\n    if (reachedMaxHeightRef.current || !alignItemWithTriggerActive) {\n      handleScrollArrowVisibility();\n      return;\n    }\n    const isTopPositioned = positionerElement.style.top === '0px';\n    const isBottomPositioned = positionerElement.style.bottom === '0px';\n    const currentHeight = positionerElement.getBoundingClientRect().height;\n    const doc = ownerDocument(positionerElement);\n    const positionerStyles = getComputedStyle(positionerElement);\n    const marginTop = parseFloat(positionerStyles.marginTop);\n    const marginBottom = parseFloat(positionerStyles.marginBottom);\n    const maxPopupHeight = getMaxPopupHeight(getComputedStyle(popupRef.current));\n    const viewportHeight = doc.documentElement.clientHeight - marginTop - marginBottom;\n    const scrollTop = scroller.scrollTop;\n    const scrollHeight = scroller.scrollHeight;\n    const clientHeight = scroller.clientHeight;\n    const maxScrollTop = scrollHeight - clientHeight;\n    let nextPositionerHeight = 0;\n    let nextScrollTop = null;\n    let setReachedMax = false;\n    if (isTopPositioned) {\n      const diff = maxScrollTop - scrollTop;\n      const idealHeight = currentHeight + diff;\n      const nextHeight = Math.min(idealHeight, viewportHeight);\n      nextPositionerHeight = nextHeight;\n      if (nextHeight !== viewportHeight) {\n        nextScrollTop = maxScrollTop;\n      } else {\n        setReachedMax = true;\n      }\n    } else if (isBottomPositioned) {\n      const diff = scrollTop - 0;\n      const idealHeight = currentHeight + diff;\n      const nextHeight = Math.min(idealHeight, viewportHeight);\n      const overshoot = idealHeight - viewportHeight;\n      nextPositionerHeight = nextHeight;\n      if (nextHeight !== viewportHeight) {\n        nextScrollTop = 0;\n      } else {\n        setReachedMax = true;\n        if (scrollTop < maxScrollTop) {\n          nextScrollTop = scrollTop - (diff - overshoot);\n        }\n      }\n    }\n    if (nextPositionerHeight !== 0) {\n      positionerElement.style.height = `${nextPositionerHeight}px`;\n    }\n    if (nextScrollTop != null) {\n      scroller.scrollTop = nextScrollTop;\n    }\n    if (setReachedMax || nextPositionerHeight >= maxPopupHeight) {\n      reachedMaxHeightRef.current = true;\n    }\n    handleScrollArrowVisibility();\n  });\n  React.useImperativeHandle(scrollHandlerRef, () => handleScroll, [handleScroll]);\n  useOpenChangeComplete({\n    open,\n    ref: popupRef,\n    onComplete() {\n      if (open) {\n        onOpenChangeComplete?.(true);\n      }\n    }\n  });\n  const state = React.useMemo(() => ({\n    open,\n    transitionStatus,\n    side,\n    align\n  }), [open, transitionStatus, side, align]);\n  useIsoLayoutEffect(() => {\n    if (!positionerElement || !popupRef.current || Object.keys(originalPositionerStylesRef.current).length) {\n      return;\n    }\n    originalPositionerStylesRef.current = {\n      top: positionerElement.style.top || '0',\n      left: positionerElement.style.left || '0',\n      right: positionerElement.style.right,\n      height: positionerElement.style.height,\n      bottom: positionerElement.style.bottom,\n      minHeight: positionerElement.style.minHeight,\n      maxHeight: positionerElement.style.maxHeight,\n      marginTop: positionerElement.style.marginTop,\n      marginBottom: positionerElement.style.marginBottom\n    };\n  }, [popupRef, positionerElement]);\n  useIsoLayoutEffect(() => {\n    if (open || alignItemWithTriggerActive) {\n      return;\n    }\n    initialPlacedRef.current = false;\n    reachedMaxHeightRef.current = false;\n    initialHeightRef.current = 0;\n    maxHeightRef.current = 0;\n    clearStyles(positionerElement, originalPositionerStylesRef.current);\n  }, [open, alignItemWithTriggerActive, positionerElement, popupRef]);\n  useIsoLayoutEffect(() => {\n    const popupElement = popupRef.current;\n    if (!open || !triggerElement || !positionerElement || !popupElement || store.state.transitionStatus === 'ending') {\n      return;\n    }\n    if (!alignItemWithTriggerActive) {\n      initialPlacedRef.current = true;\n      scrollArrowFrame.request(handleScrollArrowVisibility);\n      popupElement.style.removeProperty('--transform-origin');\n      return;\n    }\n\n    // Wait for `selectedItemTextRef.current` to be set.\n    queueMicrotask(() => {\n      // Ensure we remove any transforms that can affect the location of the popup\n      // and therefore the calculations.\n      const restoreTransformStyles = unsetTransformStyles(popupElement);\n      popupElement.style.removeProperty('--transform-origin');\n      try {\n        const positionerStyles = getComputedStyle(positionerElement);\n        const popupStyles = getComputedStyle(popupElement);\n        const doc = ownerDocument(triggerElement);\n        const win = ownerWindow(positionerElement);\n        const triggerRect = triggerElement.getBoundingClientRect();\n        const positionerRect = positionerElement.getBoundingClientRect();\n        const triggerX = triggerRect.left;\n        const triggerHeight = triggerRect.height;\n        const scroller = listElement || popupElement;\n        const scrollHeight = scroller.scrollHeight;\n        const borderBottom = parseFloat(popupStyles.borderBottomWidth);\n        const marginTop = parseFloat(positionerStyles.marginTop) || 10;\n        const marginBottom = parseFloat(positionerStyles.marginBottom) || 10;\n        const minHeight = parseFloat(positionerStyles.minHeight) || 100;\n        const maxPopupHeight = getMaxPopupHeight(popupStyles);\n        const paddingLeft = 5;\n        const paddingRight = 5;\n        const triggerCollisionThreshold = 20;\n        const viewportHeight = doc.documentElement.clientHeight - marginTop - marginBottom;\n        const viewportWidth = doc.documentElement.clientWidth;\n        const availableSpaceBeneathTrigger = viewportHeight - triggerRect.bottom + triggerHeight;\n        const textElement = selectedItemTextRef.current;\n        const valueElement = valueRef.current;\n        let textRect;\n        let offsetX = 0;\n        let offsetY = 0;\n        if (textElement && valueElement) {\n          const valueRect = valueElement.getBoundingClientRect();\n          textRect = textElement.getBoundingClientRect();\n          const valueLeftFromTriggerLeft = valueRect.left - triggerX;\n          const textLeftFromPositionerLeft = textRect.left - positionerRect.left;\n          const valueCenterFromPositionerTop = valueRect.top - triggerRect.top + valueRect.height / 2;\n          const textCenterFromTriggerTop = textRect.top - positionerRect.top + textRect.height / 2;\n          offsetX = valueLeftFromTriggerLeft - textLeftFromPositionerLeft;\n          offsetY = textCenterFromTriggerTop - valueCenterFromPositionerTop;\n        }\n        const idealHeight = availableSpaceBeneathTrigger + offsetY + marginBottom + borderBottom;\n        let height = Math.min(viewportHeight, idealHeight);\n        const maxHeight = viewportHeight - marginTop - marginBottom;\n        const scrollTop = idealHeight - height;\n        const left = Math.max(paddingLeft, triggerX + offsetX);\n        const maxRight = viewportWidth - paddingRight;\n        const rightOverflow = Math.max(0, left + positionerRect.width - maxRight);\n        positionerElement.style.left = `${left - rightOverflow}px`;\n        positionerElement.style.height = `${height}px`;\n        positionerElement.style.maxHeight = 'auto';\n        positionerElement.style.marginTop = `${marginTop}px`;\n        positionerElement.style.marginBottom = `${marginBottom}px`;\n        popupElement.style.height = '100%';\n        const maxScrollTop = scroller.scrollHeight - scroller.clientHeight;\n        const isTopPositioned = scrollTop >= maxScrollTop;\n        if (isTopPositioned) {\n          height = Math.min(viewportHeight, positionerRect.height) - (scrollTop - maxScrollTop);\n        }\n\n        // When the trigger is too close to the top or bottom of the viewport, or the minHeight is\n        // reached, we fallback to aligning the popup to the trigger as the UX is poor otherwise.\n        const fallbackToAlignPopupToTrigger = triggerRect.top < triggerCollisionThreshold || triggerRect.bottom > viewportHeight - triggerCollisionThreshold || height < Math.min(scrollHeight, minHeight);\n\n        // Safari doesn't position the popup correctly when pinch-zoomed.\n        const isPinchZoomed = (win.visualViewport?.scale ?? 1) !== 1 && isWebKit;\n        if (fallbackToAlignPopupToTrigger || isPinchZoomed) {\n          initialPlacedRef.current = true;\n          clearStyles(positionerElement, originalPositionerStylesRef.current);\n          ReactDOM.flushSync(() => setControlledAlignItemWithTrigger(false));\n          return;\n        }\n        if (isTopPositioned) {\n          const topOffset = Math.max(0, viewportHeight - idealHeight);\n          positionerElement.style.top = positionerRect.height >= maxHeight ? '0' : `${topOffset}px`;\n          positionerElement.style.height = `${height}px`;\n          scroller.scrollTop = scroller.scrollHeight - scroller.clientHeight;\n          initialHeightRef.current = Math.max(minHeight, height);\n        } else {\n          positionerElement.style.bottom = '0';\n          initialHeightRef.current = Math.max(minHeight, height);\n          scroller.scrollTop = scrollTop;\n        }\n        if (textRect) {\n          const popupTop = positionerRect.top;\n          const popupHeight = positionerRect.height;\n          const textCenterY = textRect.top + textRect.height / 2;\n          const transformOriginY = popupHeight > 0 ? (textCenterY - popupTop) / popupHeight * 100 : 50;\n          const clampedY = clamp(transformOriginY, 0, 100);\n          popupElement.style.setProperty('--transform-origin', `50% ${clampedY}%`);\n        }\n        if (initialHeightRef.current === viewportHeight || height >= maxPopupHeight) {\n          reachedMaxHeightRef.current = true;\n        }\n        handleScrollArrowVisibility();\n\n        // Avoid the `onScroll` event logic from triggering before the popup is placed.\n        setTimeout(() => {\n          initialPlacedRef.current = true;\n        });\n      } finally {\n        restoreTransformStyles();\n      }\n    });\n  }, [store, open, positionerElement, triggerElement, valueRef, selectedItemTextRef, popupRef, handleScrollArrowVisibility, alignItemWithTriggerActive, setControlledAlignItemWithTrigger, scrollArrowFrame, scrollDownArrowRef, scrollUpArrowRef, listElement]);\n  React.useEffect(() => {\n    if (!alignItemWithTriggerActive || !positionerElement || !open) {\n      return undefined;\n    }\n    const win = ownerWindow(positionerElement);\n    function handleResize(event) {\n      setOpen(false, createChangeEventDetails(REASONS.windowResize, event));\n    }\n    win.addEventListener('resize', handleResize);\n    return () => {\n      win.removeEventListener('resize', handleResize);\n    };\n  }, [setOpen, alignItemWithTriggerActive, positionerElement, open]);\n  const defaultProps = {\n    ...(listElement ? {\n      role: 'presentation',\n      'aria-orientation': undefined\n    } : {\n      role: 'listbox',\n      'aria-multiselectable': multiple || undefined,\n      id: `${id}-list`\n    }),\n    onKeyDown(event) {\n      keyboardActiveRef.current = true;\n      if (insideToolbar && COMPOSITE_KEYS.has(event.key)) {\n        event.stopPropagation();\n      }\n    },\n    onMouseMove() {\n      keyboardActiveRef.current = false;\n    },\n    onPointerLeave(event) {\n      if (!highlightItemOnHover || isMouseWithinBounds(event) || event.pointerType === 'touch') {\n        return;\n      }\n      const popup = event.currentTarget;\n      highlightTimeout.start(0, () => {\n        store.set('activeIndex', null);\n        popup.focus({\n          preventScroll: true\n        });\n      });\n    },\n    onScroll(event) {\n      if (listElement) {\n        return;\n      }\n      scrollHandlerRef.current?.(event.currentTarget);\n    },\n    ...(alignItemWithTriggerActive && {\n      style: listElement ? {\n        height: '100%'\n      } : LIST_FUNCTIONAL_STYLES\n    })\n  };\n  const element = useRenderElement('div', componentProps, {\n    ref: [forwardedRef, popupRef],\n    state,\n    stateAttributesMapping,\n    props: [popupProps, defaultProps, getDisabledMountTransitionStyles(transitionStatus), {\n      className: !listElement && alignItemWithTriggerActive ? styleDisableScrollbar.className : undefined\n    }, elementProps]\n  });\n  return /*#__PURE__*/_jsxs(React.Fragment, {\n    children: [!disableStyleElements && styleDisableScrollbar.getElement(nonce), /*#__PURE__*/_jsx(FloatingFocusManager, {\n      context: floatingRootContext,\n      modal: false,\n      disabled: !mounted,\n      restoreFocus: true,\n      children: element\n    })]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") SelectPopup.displayName = \"SelectPopup\";\nfunction getMaxPopupHeight(popupStyles) {\n  const maxHeightStyle = popupStyles.maxHeight || '';\n  return maxHeightStyle.endsWith('px') ? parseFloat(maxHeightStyle) || Infinity : Infinity;\n}\nconst UNSET_TRANSFORM_STYLES = {\n  transform: 'none',\n  scale: '1',\n  translate: '0 0'\n};\nfunction restoreInlineStyleProperty(style, property, value) {\n  if (value) {\n    style.setProperty(property, value);\n  } else {\n    style.removeProperty(property);\n  }\n}\nfunction unsetTransformStyles(popupElement) {\n  const {\n    style\n  } = popupElement;\n  const originalStyles = {};\n  const props = Object.keys(UNSET_TRANSFORM_STYLES);\n  for (const prop of props) {\n    originalStyles[prop] = style.getPropertyValue(prop);\n    style.setProperty(prop, UNSET_TRANSFORM_STYLES[prop]);\n  }\n  return () => {\n    for (const prop of props) {\n      restoreInlineStyleProperty(style, prop, originalStyles[prop]);\n    }\n  };\n}", "export function isMouseWithinBounds(event) {\n  const targetRect = event.currentTarget.getBoundingClientRect();\n\n  // Safari randomly fires `mouseleave` incorrectly when the item is\n  // aligned to the trigger. This is a workaround to prevent the highlight\n  // from being removed while the cursor is still within the bounds of the item.\n  // https://github.com/mui/base-ui/issues/869\n  const isWithinBounds = targetRect.top + 1 <= event.clientY && event.clientY <= targetRect.bottom - 1 && targetRect.left + 1 <= event.clientX && event.clientX <= targetRect.right - 1;\n  return isWithinBounds;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useStore } from '@base-ui/utils/store';\nimport { useSelectRootContext } from \"../root/SelectRootContext.js\";\nimport { useSelectPositionerContext } from \"../positioner/SelectPositionerContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { styleDisableScrollbar } from \"../../utils/styles.js\";\nimport { LIST_FUNCTIONAL_STYLES } from \"../popup/utils.js\";\nimport { selectors } from \"../store.js\";\n\n/**\n * A container for the select items.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Select](https://base-ui.com/react/components/select)\n */\nexport const SelectList = /*#__PURE__*/React.forwardRef(function SelectList(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const {\n    store,\n    scrollHandlerRef\n  } = useSelectRootContext();\n  const {\n    alignItemWithTriggerActive\n  } = useSelectPositionerContext();\n  const hasScrollArrows = useStore(store, selectors.hasScrollArrows);\n  const openMethod = useStore(store, selectors.openMethod);\n  const multiple = useStore(store, selectors.multiple);\n  const id = useStore(store, selectors.id);\n  const defaultProps = {\n    id: `${id}-list`,\n    role: 'listbox',\n    'aria-multiselectable': multiple || undefined,\n    onScroll(event) {\n      scrollHandlerRef.current?.(event.currentTarget);\n    },\n    ...(alignItemWithTriggerActive && {\n      style: LIST_FUNCTIONAL_STYLES\n    }),\n    className: hasScrollArrows && openMethod !== 'touch' ? styleDisableScrollbar.className : undefined\n  };\n  const setListElement = useStableCallback(element => {\n    store.set('listElement', element);\n  });\n  return useRenderElement('div', componentProps, {\n    ref: [forwardedRef, setListElement],\n    props: [defaultProps, elementProps]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") SelectList.displayName = \"SelectList\";", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useValueAsRef } from '@base-ui/utils/useValueAsRef';\nimport { isMouseWithinBounds } from '@base-ui/utils/isMouseWithinBounds';\nimport { useTimeout } from '@base-ui/utils/useTimeout';\nimport { useStore } from '@base-ui/utils/store';\nimport { useSelectRootContext } from \"../root/SelectRootContext.js\";\nimport { useCompositeListItem, IndexGuessBehavior } from \"../../composite/list/useCompositeListItem.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { SelectItemContext } from \"./SelectItemContext.js\";\nimport { selectors } from \"../store.js\";\nimport { useButton } from \"../../use-button/index.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { compareItemEquality, removeItem } from \"../../utils/itemEquality.js\";\n\n/**\n * An individual option in the select popup.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Select](https://base-ui.com/react/components/select)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const SelectItem = /*#__PURE__*/React.memo(/*#__PURE__*/React.forwardRef(function SelectItem(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    value = null,\n    label,\n    disabled = false,\n    nativeButton = false,\n    ...elementProps\n  } = componentProps;\n  const textRef = React.useRef(null);\n  const listItem = useCompositeListItem({\n    label,\n    textRef,\n    indexGuessBehavior: IndexGuessBehavior.GuessFromOrder\n  });\n  const {\n    store,\n    getItemProps,\n    setOpen,\n    setValue,\n    selectionRef,\n    typingRef,\n    valuesRef,\n    keyboardActiveRef,\n    multiple,\n    highlightItemOnHover\n  } = useSelectRootContext();\n  const highlightTimeout = useTimeout();\n  const highlighted = useStore(store, selectors.isActive, listItem.index);\n  const selected = useStore(store, selectors.isSelected, listItem.index, value);\n  const selectedByFocus = useStore(store, selectors.isSelectedByFocus, listItem.index);\n  const isItemEqualToValue = useStore(store, selectors.isItemEqualToValue);\n  const index = listItem.index;\n  const hasRegistered = index !== -1;\n  const itemRef = React.useRef(null);\n  const indexRef = useValueAsRef(index);\n  useIsoLayoutEffect(() => {\n    if (!hasRegistered) {\n      return undefined;\n    }\n    const values = valuesRef.current;\n    values[index] = value;\n    return () => {\n      delete values[index];\n    };\n  }, [hasRegistered, index, value, valuesRef]);\n  useIsoLayoutEffect(() => {\n    if (!hasRegistered) {\n      return undefined;\n    }\n    const selectedValue = store.state.value;\n    let candidate = selectedValue;\n    if (multiple && Array.isArray(selectedValue) && selectedValue.length > 0) {\n      candidate = selectedValue[selectedValue.length - 1];\n    }\n    if (candidate !== undefined && compareItemEquality(candidate, value, isItemEqualToValue)) {\n      store.set('selectedIndex', index);\n    }\n    return undefined;\n  }, [hasRegistered, index, multiple, isItemEqualToValue, store, value]);\n  const state = React.useMemo(() => ({\n    disabled,\n    selected,\n    highlighted\n  }), [disabled, selected, highlighted]);\n  const rootProps = getItemProps({\n    active: highlighted,\n    selected\n  });\n  // With our custom `focusItemOnHover` implementation, this interferes with the logic and can\n  // cause the index state to be stuck when leaving the select popup.\n  rootProps.onFocus = undefined;\n  rootProps.id = undefined;\n  const lastKeyRef = React.useRef(null);\n  const pointerTypeRef = React.useRef('mouse');\n  const didPointerDownRef = React.useRef(false);\n  const {\n    getButtonProps,\n    buttonRef\n  } = useButton({\n    disabled,\n    focusableWhenDisabled: true,\n    native: nativeButton\n  });\n  function commitSelection(event) {\n    const selectedValue = store.state.value;\n    if (multiple) {\n      const currentValue = Array.isArray(selectedValue) ? selectedValue : [];\n      const nextValue = selected ? removeItem(currentValue, value, isItemEqualToValue) : [...currentValue, value];\n      setValue(nextValue, createChangeEventDetails(REASONS.itemPress, event));\n    } else {\n      setValue(value, createChangeEventDetails(REASONS.itemPress, event));\n      setOpen(false, createChangeEventDetails(REASONS.itemPress, event));\n    }\n  }\n  const defaultProps = {\n    role: 'option',\n    'aria-selected': selected,\n    tabIndex: highlighted ? 0 : -1,\n    onFocus() {\n      store.set('activeIndex', index);\n    },\n    onMouseEnter() {\n      if (!keyboardActiveRef.current && store.state.selectedIndex === null) {\n        store.set('activeIndex', index);\n      }\n    },\n    onMouseMove() {\n      if (highlightItemOnHover) {\n        store.set('activeIndex', index);\n      }\n    },\n    onMouseLeave(event) {\n      if (!highlightItemOnHover || keyboardActiveRef.current || isMouseWithinBounds(event)) {\n        return;\n      }\n      highlightTimeout.start(0, () => {\n        if (store.state.activeIndex === index) {\n          store.set('activeIndex', null);\n        }\n      });\n    },\n    onTouchStart() {\n      selectionRef.current = {\n        allowSelectedMouseUp: false,\n        allowUnselectedMouseUp: false\n      };\n    },\n    onKeyDown(event) {\n      lastKeyRef.current = event.key;\n      store.set('activeIndex', index);\n    },\n    onClick(event) {\n      didPointerDownRef.current = false;\n\n      // Prevent double commit on {Enter}\n      if (event.type === 'keydown' && lastKeyRef.current === null) {\n        return;\n      }\n      if (disabled || lastKeyRef.current === ' ' && typingRef.current || pointerTypeRef.current !== 'touch' && !highlighted) {\n        return;\n      }\n      lastKeyRef.current = null;\n      commitSelection(event.nativeEvent);\n    },\n    onPointerEnter(event) {\n      pointerTypeRef.current = event.pointerType;\n    },\n    onPointerDown(event) {\n      pointerTypeRef.current = event.pointerType;\n      didPointerDownRef.current = true;\n    },\n    onMouseUp(event) {\n      if (disabled) {\n        return;\n      }\n      if (didPointerDownRef.current) {\n        didPointerDownRef.current = false;\n        return;\n      }\n      const disallowSelectedMouseUp = !selectionRef.current.allowSelectedMouseUp && selected;\n      const disallowUnselectedMouseUp = !selectionRef.current.allowUnselectedMouseUp && !selected;\n      if (disallowSelectedMouseUp || disallowUnselectedMouseUp || pointerTypeRef.current !== 'touch' && !highlighted) {\n        return;\n      }\n      commitSelection(event.nativeEvent);\n    }\n  };\n  const element = useRenderElement('div', componentProps, {\n    ref: [buttonRef, forwardedRef, listItem.ref, itemRef],\n    state,\n    props: [rootProps, defaultProps, elementProps, getButtonProps]\n  });\n  const contextValue = React.useMemo(() => ({\n    selected,\n    indexRef,\n    textRef,\n    selectedByFocus,\n    hasRegistered\n  }), [selected, indexRef, textRef, selectedByFocus, hasRegistered]);\n  return /*#__PURE__*/_jsx(SelectItemContext.Provider, {\n    value: contextValue,\n    children: element\n  });\n}));\nif (process.env.NODE_ENV !== \"production\") SelectItem.displayName = \"SelectItem\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const SelectItemContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") SelectItemContext.displayName = \"SelectItemContext\";\nexport function useSelectItemContext() {\n  const context = React.useContext(SelectItemContext);\n  if (!context) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: SelectItemContext is missing. SelectItem parts must be placed within <Select.Item>.' : _formatErrorMessage(57));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useSelectItemContext } from \"../item/SelectItemContext.js\";\nimport { useTransitionStatus } from \"../../utils/useTransitionStatus.js\";\nimport { useOpenChangeComplete } from \"../../utils/useOpenChangeComplete.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\n\n/**\n * Indicates whether the select item is selected.\n * Renders a `<span>` element.\n *\n * Documentation: [Base UI Select](https://base-ui.com/react/components/select)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const SelectItemIndicator = /*#__PURE__*/React.forwardRef(function SelectItemIndicator(componentProps, forwardedRef) {\n  const keepMounted = componentProps.keepMounted ?? false;\n  const {\n    selected\n  } = useSelectItemContext();\n  const shouldRender = keepMounted || selected;\n  if (!shouldRender) {\n    return null;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  return /*#__PURE__*/_jsx(Inner, {\n    ...componentProps,\n    ref: forwardedRef\n  });\n});\n\n/** The core implementation of the indicator is split here to avoid paying the hooks\n * costs unless the element needs to be mounted. */\nif (process.env.NODE_ENV !== \"production\") SelectItemIndicator.displayName = \"SelectItemIndicator\";\nconst Inner = /*#__PURE__*/React.memo(/*#__PURE__*/React.forwardRef((componentProps, forwardedRef) => {\n  const {\n    render,\n    className,\n    keepMounted,\n    ...elementProps\n  } = componentProps;\n  const {\n    selected\n  } = useSelectItemContext();\n  const indicatorRef = React.useRef(null);\n  const {\n    transitionStatus,\n    setMounted\n  } = useTransitionStatus(selected);\n  const state = React.useMemo(() => ({\n    selected,\n    transitionStatus\n  }), [selected, transitionStatus]);\n  const element = useRenderElement('span', componentProps, {\n    ref: [forwardedRef, indicatorRef],\n    state,\n    props: [{\n      'aria-hidden': true,\n      children: ''\n    }, elementProps],\n    stateAttributesMapping: transitionStatusMapping\n  });\n  useOpenChangeComplete({\n    open: selected,\n    ref: indicatorRef,\n    onComplete() {\n      if (!selected) {\n        setMounted(false);\n      }\n    }\n  });\n  return element;\n}));\nif (process.env.NODE_ENV !== \"production\") Inner.displayName = \"Inner\";", "'use client';\n\nimport * as React from 'react';\nimport { useSelectRootContext } from \"../root/SelectRootContext.js\";\nimport { useSelectItemContext } from \"../item/SelectItemContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * A text label of the select item.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Select](https://base-ui.com/react/components/select)\n */\nexport const SelectItemText = /*#__PURE__*/React.memo(/*#__PURE__*/React.forwardRef(function SelectItemText(componentProps, forwardedRef) {\n  const {\n    indexRef,\n    textRef,\n    selectedByFocus,\n    hasRegistered\n  } = useSelectItemContext();\n  const {\n    selectedItemTextRef\n  } = useSelectRootContext();\n  const {\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const localRef = React.useCallback(node => {\n    if (!node || !hasRegistered) {\n      return;\n    }\n    const hasNoSelectedItemText = selectedItemTextRef.current === null || !selectedItemTextRef.current.isConnected;\n    if (selectedByFocus || hasNoSelectedItemText && indexRef.current === 0) {\n      selectedItemTextRef.current = node;\n    }\n  }, [selectedItemTextRef, indexRef, selectedByFocus, hasRegistered]);\n  const element = useRenderElement('div', componentProps, {\n    ref: [localRef, forwardedRef, textRef],\n    props: elementProps\n  });\n  return element;\n}));\nif (process.env.NODE_ENV !== \"production\") SelectItemText.displayName = \"SelectItemText\";", "'use client';\n\nimport * as React from 'react';\nimport { useStore } from '@base-ui/utils/store';\nimport { useSelectPositionerContext } from \"../positioner/SelectPositionerContext.js\";\nimport { useSelectRootContext } from \"../root/SelectRootContext.js\";\nimport { popupStateMapping as baseMapping } from \"../../utils/popupStateMapping.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { selectors } from \"../store.js\";\nconst stateAttributesMapping = {\n  ...baseMapping,\n  ...transitionStatusMapping\n};\n\n/**\n * Displays an element positioned against the select popup anchor.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Select](https://base-ui.com/react/components/select)\n */\nexport const SelectArrow = /*#__PURE__*/React.forwardRef(function SelectArrow(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const {\n    store\n  } = useSelectRootContext();\n  const {\n    side,\n    align,\n    arrowRef,\n    arrowStyles,\n    arrowUncentered,\n    alignItemWithTriggerActive\n  } = useSelectPositionerContext();\n  const open = useStore(store, selectors.open, true);\n  const state = React.useMemo(() => ({\n    open,\n    side,\n    align,\n    uncentered: arrowUncentered\n  }), [open, side, align, arrowUncentered]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: [arrowRef, forwardedRef],\n    props: [{\n      style: arrowStyles,\n      'aria-hidden': true\n    }, elementProps],\n    stateAttributesMapping\n  });\n  if (alignItemWithTriggerActive) {\n    return null;\n  }\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") SelectArrow.displayName = \"SelectArrow\";", "'use client';\n\nimport * as React from 'react';\nimport { SelectScrollArrow } from \"../scroll-arrow/SelectScrollArrow.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n/**\n * An element that scrolls the select popup down when hovered. Does not render when using touch input.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Select](https://base-ui.com/react/components/select)\n */\nexport const SelectScrollDownArrow = /*#__PURE__*/React.forwardRef(function SelectScrollDownArrow(props, forwardedRef) {\n  return /*#__PURE__*/_jsx(SelectScrollArrow, {\n    ...props,\n    ref: forwardedRef,\n    direction: \"down\"\n  });\n});\nif (process.env.NODE_ENV !== \"production\") SelectScrollDownArrow.displayName = \"SelectScrollDownArrow\";", "'use client';\n\nimport * as React from 'react';\nimport { useTimeout } from '@base-ui/utils/useTimeout';\nimport { useStore } from '@base-ui/utils/store';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useSelectRootContext } from \"../root/SelectRootContext.js\";\nimport { useSelectPositionerContext } from \"../positioner/SelectPositionerContext.js\";\nimport { useTransitionStatus } from \"../../utils/useTransitionStatus.js\";\nimport { useOpenChangeComplete } from \"../../utils/useOpenChangeComplete.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { selectors } from \"../store.js\";\n\n/**\n * @internal\n */\nexport const SelectScrollArrow = /*#__PURE__*/React.forwardRef(function SelectScrollArrow(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    direction,\n    keepMounted = false,\n    ...elementProps\n  } = componentProps;\n  const {\n    store,\n    popupRef,\n    listRef,\n    handleScrollArrowVisibility,\n    scrollArrowsMountedCountRef\n  } = useSelectRootContext();\n  const {\n    side,\n    scrollDownArrowRef,\n    scrollUpArrowRef\n  } = useSelectPositionerContext();\n  const visibleSelector = direction === 'up' ? selectors.scrollUpArrowVisible : selectors.scrollDownArrowVisible;\n  const stateVisible = useStore(store, visibleSelector);\n  const openMethod = useStore(store, selectors.openMethod);\n\n  // Scroll arrows are disabled for touch modality as they are a hover-only element.\n  const visible = stateVisible && openMethod !== 'touch';\n  const timeout = useTimeout();\n  const scrollArrowRef = direction === 'up' ? scrollUpArrowRef : scrollDownArrowRef;\n  const {\n    transitionStatus,\n    setMounted\n  } = useTransitionStatus(visible);\n  useIsoLayoutEffect(() => {\n    scrollArrowsMountedCountRef.current += 1;\n    if (!store.state.hasScrollArrows) {\n      store.set('hasScrollArrows', true);\n    }\n    return () => {\n      scrollArrowsMountedCountRef.current = Math.max(0, scrollArrowsMountedCountRef.current - 1);\n      if (scrollArrowsMountedCountRef.current === 0 && store.state.hasScrollArrows) {\n        store.set('hasScrollArrows', false);\n      }\n    };\n  }, [store, scrollArrowsMountedCountRef]);\n  useOpenChangeComplete({\n    open: visible,\n    ref: scrollArrowRef,\n    onComplete() {\n      if (!visible) {\n        setMounted(false);\n      }\n    }\n  });\n  const state = React.useMemo(() => ({\n    direction,\n    visible,\n    side,\n    transitionStatus\n  }), [direction, visible, side, transitionStatus]);\n  const defaultProps = {\n    'aria-hidden': true,\n    children: direction === 'up' ? '' : '',\n    style: {\n      position: 'absolute'\n    },\n    onMouseMove(event) {\n      if (event.movementX === 0 && event.movementY === 0 || timeout.isStarted()) {\n        return;\n      }\n      store.set('activeIndex', null);\n      function scrollNextItem() {\n        const scroller = store.state.listElement ?? popupRef.current;\n        if (!scroller) {\n          return;\n        }\n        store.set('activeIndex', null);\n        handleScrollArrowVisibility();\n        const isScrolledToTop = scroller.scrollTop === 0;\n        const isScrolledToBottom = Math.round(scroller.scrollTop + scroller.clientHeight) >= scroller.scrollHeight;\n        const list = listRef.current;\n\n        // Fallback when there are no items registered yet.\n        if (list.length === 0) {\n          if (direction === 'up') {\n            store.set('scrollUpArrowVisible', !isScrolledToTop);\n          } else {\n            store.set('scrollDownArrowVisible', !isScrolledToBottom);\n          }\n        }\n        if (direction === 'up' && isScrolledToTop || direction === 'down' && isScrolledToBottom) {\n          timeout.clear();\n          return;\n        }\n        if ((store.state.listElement || popupRef.current) && listRef.current && listRef.current.length > 0) {\n          const items = listRef.current;\n          const scrollArrowHeight = scrollArrowRef.current?.offsetHeight || 0;\n          if (direction === 'up') {\n            let firstVisibleIndex = 0;\n            const scrollTop = scroller.scrollTop + scrollArrowHeight;\n            for (let i = 0; i < items.length; i += 1) {\n              const item = items[i];\n              if (item) {\n                const itemTop = item.offsetTop;\n                if (itemTop >= scrollTop) {\n                  firstVisibleIndex = i;\n                  break;\n                }\n              }\n            }\n            const targetIndex = Math.max(0, firstVisibleIndex - 1);\n            if (targetIndex < firstVisibleIndex) {\n              const targetItem = items[targetIndex];\n              if (targetItem) {\n                scroller.scrollTop = Math.max(0, targetItem.offsetTop - scrollArrowHeight);\n              }\n            } else {\n              // Already at the first item; ensure we reach the absolute top to account for group labels.\n              scroller.scrollTop = 0;\n            }\n          } else {\n            let lastVisibleIndex = items.length - 1;\n            const scrollBottom = scroller.scrollTop + scroller.clientHeight - scrollArrowHeight;\n            for (let i = 0; i < items.length; i += 1) {\n              const item = items[i];\n              if (item) {\n                const itemBottom = item.offsetTop + item.offsetHeight;\n                if (itemBottom > scrollBottom) {\n                  lastVisibleIndex = Math.max(0, i - 1);\n                  break;\n                }\n              }\n            }\n            const targetIndex = Math.min(items.length - 1, lastVisibleIndex + 1);\n            if (targetIndex > lastVisibleIndex) {\n              const targetItem = items[targetIndex];\n              if (targetItem) {\n                scroller.scrollTop = targetItem.offsetTop + targetItem.offsetHeight - scroller.clientHeight + scrollArrowHeight;\n              }\n            } else {\n              // Already at the last item; ensure we reach the true bottom.\n              scroller.scrollTop = scroller.scrollHeight - scroller.clientHeight;\n            }\n          }\n        }\n        timeout.start(40, scrollNextItem);\n      }\n      timeout.start(40, scrollNextItem);\n    },\n    onMouseLeave() {\n      timeout.clear();\n    }\n  };\n  const element = useRenderElement('div', componentProps, {\n    ref: [forwardedRef, scrollArrowRef],\n    state,\n    props: [defaultProps, elementProps]\n  });\n  const shouldRender = visible || keepMounted;\n  if (!shouldRender) {\n    return null;\n  }\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") SelectScrollArrow.displayName = \"SelectScrollArrow\";", "'use client';\n\nimport * as React from 'react';\nimport { SelectScrollArrow } from \"../scroll-arrow/SelectScrollArrow.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n/**\n * An element that scrolls the select popup up when hovered. Does not render when using touch input.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Select](https://base-ui.com/react/components/select)\n */\nexport const SelectScrollUpArrow = /*#__PURE__*/React.forwardRef(function SelectScrollUpArrow(props, forwardedRef) {\n  return /*#__PURE__*/_jsx(SelectScrollArrow, {\n    ...props,\n    ref: forwardedRef,\n    direction: \"up\"\n  });\n});\nif (process.env.NODE_ENV !== \"production\") SelectScrollUpArrow.displayName = \"SelectScrollUpArrow\";", "'use client';\n\nimport * as React from 'react';\nimport { SelectGroupContext } from \"./SelectGroupContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * Groups related select items with the corresponding label.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Select](https://base-ui.com/react/components/select)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const SelectGroup = /*#__PURE__*/React.forwardRef(function SelectGroup(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const [labelId, setLabelId] = React.useState();\n  const contextValue = React.useMemo(() => ({\n    labelId,\n    setLabelId\n  }), [labelId, setLabelId]);\n  const element = useRenderElement('div', componentProps, {\n    ref: forwardedRef,\n    props: [{\n      role: 'group',\n      'aria-labelledby': labelId\n    }, elementProps]\n  });\n  return /*#__PURE__*/_jsx(SelectGroupContext.Provider, {\n    value: contextValue,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") SelectGroup.displayName = \"SelectGroup\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const SelectGroupContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") SelectGroupContext.displayName = \"SelectGroupContext\";\nexport function useSelectGroupContext() {\n  const context = React.useContext(SelectGroupContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: SelectGroupContext is missing. SelectGroup parts must be placed within <Select.Group>.' : _formatErrorMessage(56));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { useSelectGroupContext } from \"../group/SelectGroupContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * An accessible label that is automatically associated with its parent group.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Select](https://base-ui.com/react/components/select)\n */\nexport const SelectGroupLabel = /*#__PURE__*/React.forwardRef(function SelectGroupLabel(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    id: idProp,\n    ...elementProps\n  } = componentProps;\n  const {\n    setLabelId\n  } = useSelectGroupContext();\n  const id = useBaseUiId(idProp);\n  useIsoLayoutEffect(() => {\n    setLabelId(id);\n  }, [id, setLabelId]);\n  const element = useRenderElement('div', componentProps, {\n    ref: forwardedRef,\n    props: [{\n      id\n    }, elementProps]\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") SelectGroupLabel.displayName = \"SelectGroupLabel\";", "export { SliderRoot as Root } from \"./root/SliderRoot.js\";\nexport { SliderValue as Value } from \"./value/SliderValue.js\";\nexport { SliderControl as Control } from \"./control/SliderControl.js\";\nexport { SliderTrack as Track } from \"./track/SliderTrack.js\";\nexport { SliderThumb as Thumb } from \"./thumb/SliderThumb.js\";\nexport { SliderIndicator as Indicator } from \"./indicator/SliderIndicator.js\";", "'use client';\n\nimport * as React from 'react';\nimport { ownerDocument } from '@base-ui/utils/owner';\nimport { useControlled } from '@base-ui/utils/useControlled';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useValueAsRef } from '@base-ui/utils/useValueAsRef';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { warn } from '@base-ui/utils/warn';\nimport { createChangeEventDetails, createGenericEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { useValueChanged } from \"../../utils/useValueChanged.js\";\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { clamp } from \"../../utils/clamp.js\";\nimport { areArraysEqual } from \"../../utils/areArraysEqual.js\";\nimport { activeElement } from \"../../floating-ui-react/utils.js\";\nimport { CompositeList } from \"../../composite/list/CompositeList.js\";\nimport { useField } from \"../../field/useField.js\";\nimport { useFieldRootContext } from \"../../field/root/FieldRootContext.js\";\nimport { useFormContext } from \"../../form/FormContext.js\";\nimport { useLabelableContext } from \"../../labelable-provider/LabelableContext.js\";\nimport { asc } from \"../utils/asc.js\";\nimport { getSliderValue } from \"../utils/getSliderValue.js\";\nimport { validateMinimumDistance } from \"../utils/validateMinimumDistance.js\";\nimport { sliderStateAttributesMapping } from \"./stateAttributesMapping.js\";\nimport { SliderRootContext } from \"./SliderRootContext.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nfunction getSliderChangeEventReason(event) {\n  return 'key' in event ? REASONS.keyboard : REASONS.inputChange;\n}\nfunction areValuesEqual(newValue, oldValue) {\n  if (typeof newValue === 'number' && typeof oldValue === 'number') {\n    return newValue === oldValue;\n  }\n  if (Array.isArray(newValue) && Array.isArray(oldValue)) {\n    return areArraysEqual(newValue, oldValue);\n  }\n  return false;\n}\n\n/**\n * Groups all parts of the slider.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Slider](https://base-ui.com/react/components/slider)\n */\nexport const SliderRoot = /*#__PURE__*/React.forwardRef(function SliderRoot(componentProps, forwardedRef) {\n  const {\n    'aria-labelledby': ariaLabelledByProp,\n    className,\n    defaultValue,\n    disabled: disabledProp = false,\n    id: idProp,\n    format,\n    largeStep = 10,\n    locale,\n    render,\n    max = 100,\n    min = 0,\n    minStepsBetweenValues = 0,\n    name: nameProp,\n    onValueChange: onValueChangeProp,\n    onValueCommitted: onValueCommittedProp,\n    orientation = 'horizontal',\n    step = 1,\n    thumbCollisionBehavior = 'push',\n    thumbAlignment = 'center',\n    value: valueProp,\n    ...elementProps\n  } = componentProps;\n  const id = useBaseUiId(idProp);\n  const onValueChange = useStableCallback(onValueChangeProp);\n  const onValueCommitted = useStableCallback(onValueCommittedProp);\n  const {\n    clearErrors\n  } = useFormContext();\n  const {\n    state: fieldState,\n    disabled: fieldDisabled,\n    name: fieldName,\n    setTouched,\n    setDirty,\n    validityData,\n    shouldValidateOnChange,\n    validation\n  } = useFieldRootContext();\n  const {\n    labelId\n  } = useLabelableContext();\n  const ariaLabelledby = ariaLabelledByProp ?? labelId;\n  const disabled = fieldDisabled || disabledProp;\n  const name = fieldName ?? nameProp;\n\n  // The internal value is potentially unsorted, e.g. to support frozen arrays\n  // https://github.com/mui/material-ui/pull/28472\n  const [valueUnwrapped, setValueUnwrapped] = useControlled({\n    controlled: valueProp,\n    default: defaultValue ?? min,\n    name: 'Slider'\n  });\n  const sliderRef = React.useRef(null);\n  const controlRef = React.useRef(null);\n  const thumbRefs = React.useRef([]);\n  // The input element nested in the pressed thumb.\n  const pressedInputRef = React.useRef(null);\n  // The px distance between the pointer and the center of a pressed thumb.\n  const pressedThumbCenterOffsetRef = React.useRef(null);\n  // The index of the pressed thumb, or the closest thumb if the `Control` was pressed.\n  // This is updated on pointerdown, which is sooner than the `active/activeIndex`\n  // state which is updated later when the nested `input` receives focus.\n  const pressedThumbIndexRef = React.useRef(-1);\n  // The values when the current drag interaction started.\n  const pressedValuesRef = React.useRef(null);\n  const lastChangedValueRef = React.useRef(null);\n  const lastChangeReasonRef = React.useRef('none');\n  const formatOptionsRef = useValueAsRef(format);\n\n  // We can't use the :active browser pseudo-classes.\n  // - The active state isn't triggered when clicking on the rail.\n  // - The active state isn't transferred when inversing a range slider.\n  const [active, setActiveState] = React.useState(-1);\n  const [lastUsedThumbIndex, setLastUsedThumbIndex] = React.useState(-1);\n  const [dragging, setDragging] = React.useState(false);\n  const [thumbMap, setThumbMap] = React.useState(() => new Map());\n  const [indicatorPosition, setIndicatorPosition] = React.useState([undefined, undefined]);\n  const setActive = useStableCallback(value => {\n    setActiveState(value);\n    if (value !== -1) {\n      setLastUsedThumbIndex(value);\n    }\n  });\n  useField({\n    id,\n    commit: validation.commit,\n    value: valueUnwrapped,\n    controlRef,\n    name,\n    getValue: () => valueUnwrapped\n  });\n  useValueChanged(valueUnwrapped, () => {\n    clearErrors(name);\n    if (shouldValidateOnChange()) {\n      validation.commit(valueUnwrapped);\n    } else {\n      validation.commit(valueUnwrapped, true);\n    }\n    const initialValue = validityData.initialValue;\n    let isDirty;\n    if (Array.isArray(valueUnwrapped) && Array.isArray(initialValue)) {\n      isDirty = !areArraysEqual(valueUnwrapped, initialValue);\n    } else {\n      isDirty = valueUnwrapped !== initialValue;\n    }\n    setDirty(isDirty);\n  });\n  const registerFieldControlRef = useStableCallback(element => {\n    if (element) {\n      controlRef.current = element;\n    }\n  });\n  const range = Array.isArray(valueUnwrapped);\n  const values = React.useMemo(() => {\n    if (!range) {\n      return [clamp(valueUnwrapped, min, max)];\n    }\n    return valueUnwrapped.slice().sort(asc);\n  }, [max, min, range, valueUnwrapped]);\n  const setValue = useStableCallback((newValue, details) => {\n    if (Number.isNaN(newValue) || areValuesEqual(newValue, valueUnwrapped)) {\n      return;\n    }\n    const changeDetails = details ?? createChangeEventDetails(REASONS.none, undefined, undefined, {\n      activeThumbIndex: -1\n    });\n    lastChangeReasonRef.current = changeDetails.reason;\n\n    // Redefine target to allow name and value to be read.\n    // This allows seamless integration with the most popular form libraries.\n    // https://github.com/mui/material-ui/issues/13485#issuecomment-676048492\n    // Clone the event to not override `target` of the original event.\n    // @ts-expect-error The nativeEvent is function, not object\n    const clonedEvent = new event.constructor(event.type, event);\n    Object.defineProperty(clonedEvent, 'target', {\n      writable: true,\n      value: {\n        value: newValue,\n        name\n      }\n    });\n    changeDetails.event = clonedEvent;\n    lastChangedValueRef.current = newValue;\n    onValueChange(newValue, changeDetails);\n    if (changeDetails.isCanceled) {\n      return;\n    }\n    setValueUnwrapped(newValue);\n  });\n  const handleInputChange = useStableCallback((valueInput, index, event) => {\n    const newValue = getSliderValue(valueInput, index, min, max, range, values);\n    if (validateMinimumDistance(newValue, step, minStepsBetweenValues)) {\n      const reason = getSliderChangeEventReason(event);\n      setValue(newValue, createChangeEventDetails(reason, event.nativeEvent, undefined, {\n        activeThumbIndex: index\n      }));\n      setTouched(true);\n      const nextValue = lastChangedValueRef.current ?? newValue;\n      onValueCommitted(nextValue, createGenericEventDetails(reason, event.nativeEvent));\n    }\n  });\n  if (process.env.NODE_ENV !== 'production') {\n    if (min >= max) {\n      warn('Slider `max` must be greater than `min`.');\n    }\n  }\n  useIsoLayoutEffect(() => {\n    const activeEl = activeElement(ownerDocument(sliderRef.current));\n    if (disabled && activeEl && sliderRef.current?.contains(activeEl)) {\n      // This is necessary because Firefox and Safari will keep focus\n      // on a disabled element:\n      // https://codesandbox.io/p/sandbox/mui-pr-22247-forked-h151h?file=/src/App.js\n      activeEl.blur();\n    }\n  }, [disabled]);\n  if (disabled && active !== -1) {\n    setActive(-1);\n  }\n  const state = React.useMemo(() => ({\n    ...fieldState,\n    activeThumbIndex: active,\n    disabled,\n    dragging,\n    orientation,\n    max,\n    min,\n    minStepsBetweenValues,\n    step,\n    values\n  }), [fieldState, active, disabled, dragging, max, min, minStepsBetweenValues, orientation, step, values]);\n  const contextValue = React.useMemo(() => ({\n    active,\n    controlRef,\n    disabled,\n    dragging,\n    validation,\n    formatOptionsRef,\n    handleInputChange,\n    indicatorPosition,\n    inset: thumbAlignment !== 'center',\n    labelId: ariaLabelledby,\n    largeStep,\n    lastUsedThumbIndex,\n    lastChangedValueRef,\n    lastChangeReasonRef,\n    locale,\n    max,\n    min,\n    minStepsBetweenValues,\n    name,\n    onValueCommitted,\n    orientation,\n    pressedInputRef,\n    pressedThumbCenterOffsetRef,\n    pressedThumbIndexRef,\n    pressedValuesRef,\n    registerFieldControlRef,\n    renderBeforeHydration: thumbAlignment === 'edge',\n    setActive,\n    setDragging,\n    setIndicatorPosition,\n    setValue,\n    state,\n    step,\n    thumbCollisionBehavior,\n    thumbMap,\n    thumbRefs,\n    values\n  }), [active, controlRef, ariaLabelledby, disabled, dragging, validation, formatOptionsRef, handleInputChange, indicatorPosition, largeStep, lastUsedThumbIndex, lastChangedValueRef, lastChangeReasonRef, locale, max, min, minStepsBetweenValues, name, onValueCommitted, orientation, pressedInputRef, pressedThumbCenterOffsetRef, pressedThumbIndexRef, pressedValuesRef, registerFieldControlRef, setActive, setDragging, setIndicatorPosition, setValue, state, step, thumbCollisionBehavior, thumbAlignment, thumbMap, thumbRefs, values]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: [forwardedRef, sliderRef],\n    props: [{\n      'aria-labelledby': ariaLabelledby,\n      id,\n      role: 'group'\n    }, validation.getValidationProps, elementProps],\n    stateAttributesMapping: sliderStateAttributesMapping\n  });\n  return /*#__PURE__*/_jsx(SliderRootContext.Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/_jsx(CompositeList, {\n      elementsRef: thumbRefs,\n      onMapChange: setThumbMap,\n      children: element\n    })\n  });\n});\nif (process.env.NODE_ENV !== \"production\") SliderRoot.displayName = \"SliderRoot\";", "export function asc(a, b) {\n  return a - b;\n}", "import { asc } from \"./asc.js\";\nexport function replaceArrayItemAtIndex(array, index, newValue) {\n  const output = array.slice();\n  output[index] = newValue;\n  return output.sort(asc);\n}", "import { clamp } from \"../../utils/clamp.js\";\nimport { replaceArrayItemAtIndex } from \"./replaceArrayItemAtIndex.js\";\nexport function getSliderValue(valueInput, index, min, max, range, values) {\n  let newValue = valueInput;\n  newValue = clamp(newValue, min, max);\n  if (range) {\n    newValue = replaceArrayItemAtIndex(values, index,\n    // Bound the new value to the thumb's neighbours.\n    clamp(newValue, values[index - 1] || -Infinity, values[index + 1] || Infinity));\n  }\n  return newValue;\n}", "export function validateMinimumDistance(values, step, minStepsBetweenValues) {\n  if (!Array.isArray(values)) {\n    return true;\n  }\n  const distances = values.reduce((acc, val, index, vals) => {\n    if (index === vals.length - 1) {\n      return acc;\n    }\n    acc.push(Math.abs(val - vals[index + 1]));\n    return acc;\n  }, []);\n  return Math.min(...distances) >= step * minStepsBetweenValues;\n}", "export const sliderStateAttributesMapping = {\n  activeThumbIndex: () => null,\n  max: () => null,\n  min: () => null,\n  minStepsBetweenValues: () => null,\n  step: () => null,\n  values: () => null\n};", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const SliderRootContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") SliderRootContext.displayName = \"SliderRootContext\";\nexport function useSliderRootContext() {\n  const context = React.useContext(SliderRootContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: SliderRootContext is missing. Slider parts must be placed within <Slider.Root>.' : _formatErrorMessage(62));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nimport { formatNumber } from \"../../utils/formatNumber.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useSliderRootContext } from \"../root/SliderRootContext.js\";\nimport { sliderStateAttributesMapping } from \"../root/stateAttributesMapping.js\";\n/**\n * Displays the current value of the slider as text.\n * Renders an `<output>` element.\n *\n * Documentation: [Base UI Slider](https://base-ui.com/react/components/slider)\n */\nexport const SliderValue = /*#__PURE__*/React.forwardRef(function SliderValue(componentProps, forwardedRef) {\n  const {\n    'aria-live': ariaLive = 'off',\n    render,\n    className,\n    children,\n    ...elementProps\n  } = componentProps;\n  const {\n    thumbMap,\n    state,\n    values,\n    formatOptionsRef,\n    locale\n  } = useSliderRootContext();\n  const outputFor = React.useMemo(() => {\n    let htmlFor = '';\n    for (const thumbMetadata of thumbMap.values()) {\n      if (thumbMetadata?.inputId) {\n        htmlFor += `${thumbMetadata.inputId} `;\n      }\n    }\n    return htmlFor.trim() === '' ? undefined : htmlFor.trim();\n  }, [thumbMap]);\n  const formattedValues = React.useMemo(() => {\n    const arr = [];\n    for (let i = 0; i < values.length; i += 1) {\n      arr.push(formatNumber(values[i], locale, formatOptionsRef.current ?? undefined));\n    }\n    return arr;\n  }, [formatOptionsRef, locale, values]);\n  const defaultDisplayValue = React.useMemo(() => {\n    const arr = [];\n    for (let i = 0; i < values.length; i += 1) {\n      arr.push(formattedValues[i] || values[i]);\n    }\n    return arr.join('  ');\n  }, [values, formattedValues]);\n  const element = useRenderElement('output', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: [{\n      // off by default because it will keep announcing when the slider is being dragged\n      // and also when the value is changing (but not yet committed)\n      'aria-live': ariaLive,\n      children: typeof children === 'function' ? children(formattedValues, values) : defaultDisplayValue,\n      htmlFor: outputFor\n    }, elementProps],\n    stateAttributesMapping: sliderStateAttributesMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") SliderValue.displayName = \"SliderValue\";", "'use client';\n\nimport * as React from 'react';\nimport { isElement } from '@floating-ui/utils/dom';\nimport { ownerDocument } from '@base-ui/utils/owner';\nimport { useAnimationFrame } from '@base-ui/utils/useAnimationFrame';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useValueAsRef } from '@base-ui/utils/useValueAsRef';\nimport { activeElement, contains } from \"../../floating-ui-react/utils.js\";\nimport { clamp } from \"../../utils/clamp.js\";\nimport { createChangeEventDetails, createGenericEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useDirection } from \"../../direction-provider/DirectionContext.js\";\nimport { useSliderRootContext } from \"../root/SliderRootContext.js\";\nimport { sliderStateAttributesMapping } from \"../root/stateAttributesMapping.js\";\nimport { getMidpoint } from \"../utils/getMidpoint.js\";\nimport { roundValueToStep } from \"../utils/roundValueToStep.js\";\nimport { validateMinimumDistance } from \"../utils/validateMinimumDistance.js\";\nimport { resolveThumbCollision } from \"../utils/resolveThumbCollision.js\";\nconst INTENTIONAL_DRAG_COUNT_THRESHOLD = 2;\nfunction getControlOffset(styles, vertical) {\n  if (!styles) {\n    return {\n      start: 0,\n      end: 0\n    };\n  }\n  function parseSize(value) {\n    const parsed = value != null ? parseFloat(value) : 0;\n    return Number.isNaN(parsed) ? 0 : parsed;\n  }\n  const start = !vertical ? 'InlineStart' : 'Top';\n  const end = !vertical ? 'InlineEnd' : 'Bottom';\n  return {\n    start: parseSize(styles[`border${start}Width`]) + parseSize(styles[`padding${start}`]),\n    end: parseSize(styles[`border${end}Width`]) + parseSize(styles[`padding${end}`])\n  };\n}\nfunction getFingerCoords(event, touchIdRef) {\n  // The event is TouchEvent\n  if (touchIdRef.current != null && event.changedTouches) {\n    const touchEvent = event;\n    for (let i = 0; i < touchEvent.changedTouches.length; i += 1) {\n      const touch = touchEvent.changedTouches[i];\n      if (touch.identifier === touchIdRef.current) {\n        return {\n          x: touch.clientX,\n          y: touch.clientY\n        };\n      }\n    }\n    return null;\n  }\n\n  // The event is PointerEvent\n  return {\n    x: event.clientX,\n    y: event.clientY\n  };\n}\n\n/**\n * The clickable, interactive part of the slider.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Slider](https://base-ui.com/react/components/slider)\n */\nexport const SliderControl = /*#__PURE__*/React.forwardRef(function SliderControl(componentProps, forwardedRef) {\n  const {\n    render: renderProp,\n    className,\n    ...elementProps\n  } = componentProps;\n  const {\n    disabled,\n    dragging,\n    validation,\n    inset,\n    lastChangedValueRef,\n    lastChangeReasonRef,\n    max,\n    min,\n    minStepsBetweenValues,\n    onValueCommitted,\n    orientation,\n    pressedInputRef,\n    pressedThumbCenterOffsetRef,\n    pressedThumbIndexRef,\n    pressedValuesRef,\n    registerFieldControlRef,\n    renderBeforeHydration,\n    setActive,\n    setDragging,\n    setValue,\n    state,\n    step,\n    thumbCollisionBehavior,\n    thumbRefs,\n    values\n  } = useSliderRootContext();\n  const direction = useDirection();\n  const range = values.length > 1;\n  const vertical = orientation === 'vertical';\n  const controlRef = React.useRef(null);\n  const stylesRef = React.useRef(null);\n  const setStylesRef = useStableCallback(element => {\n    if (element && stylesRef.current == null) {\n      if (stylesRef.current == null) {\n        stylesRef.current = getComputedStyle(element);\n      }\n    }\n  });\n\n  // A number that uniquely identifies the current finger in the touch session.\n  const touchIdRef = React.useRef(null);\n  // The number of touch/pointermove events that have fired.\n  const moveCountRef = React.useRef(0);\n  // The offset amount to each side of the control for inset sliders.\n  // This value should be equal to the radius or half the width/height of the thumb.\n  const insetThumbOffsetRef = React.useRef(0);\n  const latestValuesRef = useValueAsRef(values);\n  const updatePressedThumb = useStableCallback(nextIndex => {\n    if (pressedThumbIndexRef.current !== nextIndex) {\n      pressedThumbIndexRef.current = nextIndex;\n    }\n    const thumbElement = thumbRefs.current[nextIndex];\n    if (!thumbElement) {\n      pressedThumbCenterOffsetRef.current = null;\n      pressedInputRef.current = null;\n      return;\n    }\n    pressedInputRef.current = thumbElement.querySelector('input[type=\"range\"]');\n  });\n  const getFingerState = useStableCallback(fingerCoords => {\n    const control = controlRef.current;\n    if (!control) {\n      return null;\n    }\n    const {\n      width,\n      height,\n      bottom,\n      left,\n      right\n    } = control.getBoundingClientRect();\n    const controlOffset = getControlOffset(stylesRef.current, vertical);\n    const insetThumbOffset = insetThumbOffsetRef.current;\n    const controlSize = (vertical ? height : width) - controlOffset.start - controlOffset.end - insetThumbOffset * 2;\n    const thumbCenterOffset = pressedThumbCenterOffsetRef.current ?? 0;\n    const fingerX = fingerCoords.x - thumbCenterOffset;\n    const fingerY = fingerCoords.y - thumbCenterOffset;\n    const valueSize = vertical ? bottom - fingerY - controlOffset.end : (direction === 'rtl' ? right - fingerX : fingerX - left) - controlOffset.start;\n    // the value at the finger origin scaled down to fit the range [0, 1]\n    const valueRescaled = clamp((valueSize - insetThumbOffset) / controlSize, 0, 1);\n    let newValue = (max - min) * valueRescaled + min;\n    newValue = roundValueToStep(newValue, step, min);\n    newValue = clamp(newValue, min, max);\n    if (!range) {\n      return {\n        value: newValue,\n        thumbIndex: 0,\n        didSwap: false\n      };\n    }\n    const thumbIndex = pressedThumbIndexRef.current;\n    if (thumbIndex < 0) {\n      return null;\n    }\n    const collisionResult = resolveThumbCollision({\n      behavior: thumbCollisionBehavior,\n      values,\n      currentValues: latestValuesRef.current ?? values,\n      initialValues: pressedValuesRef.current,\n      pressedIndex: thumbIndex,\n      nextValue: newValue,\n      min,\n      max,\n      step,\n      minStepsBetweenValues\n    });\n    if (thumbCollisionBehavior === 'swap' && collisionResult.didSwap) {\n      updatePressedThumb(collisionResult.thumbIndex);\n    } else {\n      pressedThumbIndexRef.current = collisionResult.thumbIndex;\n    }\n    return collisionResult;\n  });\n  const startPressing = useStableCallback(fingerCoords => {\n    pressedValuesRef.current = range ? values.slice() : null;\n    latestValuesRef.current = values;\n    const pressedThumbIndex = pressedThumbIndexRef.current;\n    let closestThumbIndex = pressedThumbIndex;\n    if (pressedThumbIndex > -1 && pressedThumbIndex < values.length) {\n      if (values[pressedThumbIndex] === max) {\n        let candidateIndex = pressedThumbIndex;\n        while (candidateIndex > 0 && values[candidateIndex - 1] === max) {\n          candidateIndex -= 1;\n        }\n        closestThumbIndex = candidateIndex;\n      }\n    } else {\n      // pressed on control\n      const axis = !vertical ? 'x' : 'y';\n      let minDistance;\n      closestThumbIndex = -1;\n      for (let i = 0; i < thumbRefs.current.length; i += 1) {\n        const thumbEl = thumbRefs.current[i];\n        if (isElement(thumbEl)) {\n          const midpoint = getMidpoint(thumbEl);\n          const distance = Math.abs(fingerCoords[axis] - midpoint[axis]);\n          if (minDistance === undefined || distance <= minDistance) {\n            closestThumbIndex = i;\n            minDistance = distance;\n          }\n        }\n      }\n    }\n    if (closestThumbIndex > -1 && closestThumbIndex !== pressedThumbIndex) {\n      updatePressedThumb(closestThumbIndex);\n    }\n    if (inset) {\n      const thumbEl = thumbRefs.current[closestThumbIndex];\n      if (isElement(thumbEl)) {\n        const thumbRect = thumbEl.getBoundingClientRect();\n        const side = !vertical ? 'width' : 'height';\n        insetThumbOffsetRef.current = thumbRect[side] / 2;\n      }\n    }\n  });\n  const focusThumb = useStableCallback(thumbIndex => {\n    thumbRefs.current?.[thumbIndex]?.querySelector('input[type=\"range\"]')?.focus({\n      preventScroll: true\n    });\n  });\n  const handleTouchMove = useStableCallback(nativeEvent => {\n    const fingerCoords = getFingerCoords(nativeEvent, touchIdRef);\n    if (fingerCoords == null) {\n      return;\n    }\n    moveCountRef.current += 1;\n\n    // Cancel move in case some other element consumed a pointerup event and it was not fired.\n    if (nativeEvent.type === 'pointermove' && nativeEvent.buttons === 0) {\n      handleTouchEnd(nativeEvent);\n      return;\n    }\n    const finger = getFingerState(fingerCoords);\n    if (finger == null) {\n      return;\n    }\n    if (validateMinimumDistance(finger.value, step, minStepsBetweenValues)) {\n      if (!dragging && moveCountRef.current > INTENTIONAL_DRAG_COUNT_THRESHOLD) {\n        setDragging(true);\n      }\n      setValue(finger.value, createChangeEventDetails(REASONS.drag, nativeEvent, undefined, {\n        activeThumbIndex: finger.thumbIndex\n      }));\n      latestValuesRef.current = Array.isArray(finger.value) ? finger.value : [finger.value];\n      if (finger.didSwap) {\n        focusThumb(finger.thumbIndex);\n      }\n    }\n  });\n  function handleTouchEnd(nativeEvent) {\n    setActive(-1);\n    setDragging(false);\n    pressedInputRef.current = null;\n    pressedThumbCenterOffsetRef.current = null;\n    const fingerCoords = getFingerCoords(nativeEvent, touchIdRef);\n    const finger = fingerCoords != null ? getFingerState(fingerCoords) : null;\n    if (finger != null) {\n      const commitReason = lastChangeReasonRef.current;\n      validation.commit(lastChangedValueRef.current ?? finger.value);\n      onValueCommitted(lastChangedValueRef.current ?? finger.value, createGenericEventDetails(commitReason, nativeEvent));\n    }\n    if ('pointerType' in nativeEvent && controlRef.current?.hasPointerCapture(nativeEvent.pointerId)) {\n      controlRef.current?.releasePointerCapture(nativeEvent.pointerId);\n    }\n    pressedThumbIndexRef.current = -1;\n    touchIdRef.current = null;\n    pressedValuesRef.current = null;\n    // eslint-disable-next-line @typescript-eslint/no-use-before-define\n    stopListening();\n  }\n  const handleTouchStart = useStableCallback(nativeEvent => {\n    if (disabled) {\n      return;\n    }\n    const touch = nativeEvent.changedTouches[0];\n    if (touch != null) {\n      touchIdRef.current = touch.identifier;\n    }\n    const fingerCoords = getFingerCoords(nativeEvent, touchIdRef);\n    if (fingerCoords != null) {\n      startPressing(fingerCoords);\n      const finger = getFingerState(fingerCoords);\n      if (finger == null) {\n        return;\n      }\n      focusThumb(finger.thumbIndex);\n      setValue(finger.value, createChangeEventDetails(REASONS.trackPress, nativeEvent, undefined, {\n        activeThumbIndex: finger.thumbIndex\n      }));\n      latestValuesRef.current = Array.isArray(finger.value) ? finger.value : [finger.value];\n      if (finger.didSwap) {\n        focusThumb(finger.thumbIndex);\n      }\n    }\n    moveCountRef.current = 0;\n    const doc = ownerDocument(controlRef.current);\n    doc.addEventListener('touchmove', handleTouchMove, {\n      passive: true\n    });\n    doc.addEventListener('touchend', handleTouchEnd, {\n      passive: true\n    });\n  });\n  const stopListening = useStableCallback(() => {\n    const doc = ownerDocument(controlRef.current);\n    doc.removeEventListener('pointermove', handleTouchMove);\n    doc.removeEventListener('pointerup', handleTouchEnd);\n    doc.removeEventListener('touchmove', handleTouchMove);\n    doc.removeEventListener('touchend', handleTouchEnd);\n    pressedValuesRef.current = null;\n  });\n  const focusFrame = useAnimationFrame();\n  React.useEffect(() => {\n    const control = controlRef.current;\n    if (!control) {\n      return () => stopListening();\n    }\n    control.addEventListener('touchstart', handleTouchStart, {\n      passive: true\n    });\n    return () => {\n      control.removeEventListener('touchstart', handleTouchStart);\n      focusFrame.cancel();\n      stopListening();\n    };\n  }, [stopListening, handleTouchStart, controlRef, focusFrame]);\n  React.useEffect(() => {\n    if (disabled) {\n      stopListening();\n    }\n  }, [disabled, stopListening]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: [forwardedRef, registerFieldControlRef, controlRef, setStylesRef],\n    props: [{\n      ['data-base-ui-slider-control']: renderBeforeHydration ? '' : undefined,\n      onPointerDown(event) {\n        const control = controlRef.current;\n        if (!control || disabled || event.defaultPrevented || !isElement(event.target) ||\n        // Only handle left clicks\n        event.button !== 0) {\n          return;\n        }\n        const fingerCoords = getFingerCoords(event, touchIdRef);\n        if (fingerCoords != null) {\n          startPressing(fingerCoords);\n          const finger = getFingerState(fingerCoords);\n          if (finger == null) {\n            return;\n          }\n          const pressedOnFocusedThumb = contains(thumbRefs.current[finger.thumbIndex], activeElement(ownerDocument(control)));\n          if (pressedOnFocusedThumb) {\n            event.preventDefault();\n          } else {\n            focusFrame.request(() => {\n              focusThumb(finger.thumbIndex);\n            });\n          }\n          setDragging(true);\n          const pressedOnAnyThumb = pressedThumbCenterOffsetRef.current != null;\n          if (!pressedOnAnyThumb) {\n            setValue(finger.value, createChangeEventDetails(REASONS.trackPress, event.nativeEvent, undefined, {\n              activeThumbIndex: finger.thumbIndex\n            }));\n            latestValuesRef.current = Array.isArray(finger.value) ? finger.value : [finger.value];\n            if (finger.didSwap) {\n              focusThumb(finger.thumbIndex);\n            }\n          }\n        }\n        if (event.nativeEvent.pointerId) {\n          control.setPointerCapture(event.nativeEvent.pointerId);\n        }\n        moveCountRef.current = 0;\n        const doc = ownerDocument(controlRef.current);\n        doc.addEventListener('pointermove', handleTouchMove, {\n          passive: true\n        });\n        doc.addEventListener('pointerup', handleTouchEnd, {\n          once: true\n        });\n      },\n      tabIndex: -1\n    }, elementProps],\n    stateAttributesMapping: sliderStateAttributesMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") SliderControl.displayName = \"SliderControl\";", "export function getMidpoint(element) {\n  const rect = element.getBoundingClientRect();\n  return {\n    x: (rect.left + rect.right) / 2,\n    y: (rect.top + rect.bottom) / 2\n  };\n}", "function getDecimalPrecision(num) {\n  // This handles the case when num is very small (0.00000001), js will turn this into 1e-8.\n  // When num is bigger than 1 or less than -1 it won't get converted to this notation so it's fine.\n  if (Math.abs(num) < 1) {\n    const parts = num.toExponential().split('e-');\n    const matissaDecimalPart = parts[0].split('.')[1];\n    return (matissaDecimalPart ? matissaDecimalPart.length : 0) + parseInt(parts[1], 10);\n  }\n  const decimalPart = num.toString().split('.')[1];\n  return decimalPart ? decimalPart.length : 0;\n}\nexport function roundValueToStep(value, step, min) {\n  const nearest = Math.round((value - min) / step) * step + min;\n  return Number(nearest.toFixed(getDecimalPrecision(step)));\n}", "import { clamp } from \"../../utils/clamp.js\";\n/**\n * Returns a new array of slider values where attempting to move the thumb at `index`\n * beyond its neighbours \"pushes\" them while respecting `minStepsBetweenValues`.\n */\nexport function getPushedThumbValues({\n  values,\n  index,\n  nextValue,\n  min,\n  max,\n  step,\n  minStepsBetweenValues,\n  initialValues\n}) {\n  if (values.length === 0) {\n    return [];\n  }\n  const nextValues = values.slice();\n  const minValueDifference = step * minStepsBetweenValues;\n  const lastIndex = nextValues.length - 1;\n  const baseInitialValues = initialValues ?? values;\n  const indexMin = min + index * minValueDifference;\n  const indexMax = max - (lastIndex - index) * minValueDifference;\n  nextValues[index] = clamp(nextValue, indexMin, indexMax);\n  for (let i = index + 1; i <= lastIndex; i += 1) {\n    const minAllowed = nextValues[i - 1] + minValueDifference;\n    const maxAllowed = max - (lastIndex - i) * minValueDifference;\n    const initialValue = baseInitialValues[i] ?? nextValues[i];\n    let candidate = Math.max(nextValues[i], minAllowed);\n    if (initialValue < candidate) {\n      candidate = Math.max(initialValue, minAllowed);\n    }\n    nextValues[i] = clamp(candidate, minAllowed, maxAllowed);\n  }\n  for (let i = index - 1; i >= 0; i -= 1) {\n    const maxAllowed = nextValues[i + 1] - minValueDifference;\n    const minAllowed = min + i * minValueDifference;\n    const initialValue = baseInitialValues[i] ?? nextValues[i];\n    let candidate = Math.min(nextValues[i], maxAllowed);\n    if (initialValue > candidate) {\n      candidate = Math.min(initialValue, maxAllowed);\n    }\n    nextValues[i] = clamp(candidate, minAllowed, maxAllowed);\n  }\n  for (let i = 0; i <= lastIndex; i += 1) {\n    nextValues[i] = Number(nextValues[i].toFixed(12));\n  }\n  return nextValues;\n}", "import { clamp } from \"../../utils/clamp.js\";\nimport { getPushedThumbValues } from \"./getPushedThumbValues.js\";\nexport function resolveThumbCollision({\n  behavior,\n  values,\n  currentValues,\n  initialValues,\n  pressedIndex,\n  nextValue,\n  min,\n  max,\n  step,\n  minStepsBetweenValues\n}) {\n  const activeValues = currentValues ?? values;\n  const baselineValues = initialValues ?? values;\n  const range = activeValues.length > 1;\n  if (!range) {\n    return {\n      value: nextValue,\n      thumbIndex: 0,\n      didSwap: false\n    };\n  }\n  const minValueDifference = step * minStepsBetweenValues;\n  switch (behavior) {\n    case 'swap':\n      {\n        const pressedInitialValue = activeValues[pressedIndex];\n        const epsilon = 1e-7;\n        const candidateValues = activeValues.slice();\n        const previousNeighbor = candidateValues[pressedIndex - 1];\n        const nextNeighbor = candidateValues[pressedIndex + 1];\n        const lowerBound = previousNeighbor != null ? previousNeighbor + minValueDifference : min;\n        const upperBound = nextNeighbor != null ? nextNeighbor - minValueDifference : max;\n        const constrainedValue = clamp(nextValue, lowerBound, upperBound);\n        const pressedValueAfterClamp = Number(constrainedValue.toFixed(12));\n        candidateValues[pressedIndex] = pressedValueAfterClamp;\n        const movingForward = nextValue > pressedInitialValue;\n        const movingBackward = nextValue < pressedInitialValue;\n        const shouldSwapForward = movingForward && nextNeighbor != null && nextValue >= nextNeighbor - epsilon;\n        const shouldSwapBackward = movingBackward && previousNeighbor != null && nextValue <= previousNeighbor + epsilon;\n        if (!shouldSwapForward && !shouldSwapBackward) {\n          return {\n            value: candidateValues,\n            thumbIndex: pressedIndex,\n            didSwap: false\n          };\n        }\n        const targetIndex = shouldSwapForward ? pressedIndex + 1 : pressedIndex - 1;\n        const initialValuesForPush = candidateValues.map((_, index) => {\n          if (index === pressedIndex) {\n            return pressedValueAfterClamp;\n          }\n          const baseline = baselineValues[index];\n          if (baseline != null) {\n            return baseline;\n          }\n          return activeValues[index];\n        });\n        let nextValueForTarget = nextValue;\n        if (shouldSwapForward) {\n          nextValueForTarget = Math.max(nextValue, candidateValues[targetIndex]);\n        } else {\n          nextValueForTarget = Math.min(nextValue, candidateValues[targetIndex]);\n        }\n        const adjustedValues = getPushedThumbValues({\n          values: candidateValues,\n          index: targetIndex,\n          nextValue: nextValueForTarget,\n          min,\n          max,\n          step,\n          minStepsBetweenValues,\n          initialValues: initialValuesForPush\n        });\n        const neighborIndex = shouldSwapForward ? targetIndex - 1 : targetIndex + 1;\n        if (neighborIndex >= 0 && neighborIndex < adjustedValues.length) {\n          const previousValue = adjustedValues[neighborIndex - 1];\n          const nextValueAfter = adjustedValues[neighborIndex + 1];\n          let neighborLowerBound = previousValue != null ? previousValue + minValueDifference : min;\n          neighborLowerBound = Math.max(neighborLowerBound, min + neighborIndex * minValueDifference);\n          let neighborUpperBound = nextValueAfter != null ? nextValueAfter - minValueDifference : max;\n          neighborUpperBound = Math.min(neighborUpperBound, max - (adjustedValues.length - 1 - neighborIndex) * minValueDifference);\n          const restoredValue = clamp(pressedValueAfterClamp, neighborLowerBound, neighborUpperBound);\n          adjustedValues[neighborIndex] = Number(restoredValue.toFixed(12));\n        }\n        return {\n          value: adjustedValues,\n          thumbIndex: targetIndex,\n          didSwap: true\n        };\n      }\n    case 'push':\n      {\n        const nextValues = getPushedThumbValues({\n          values: activeValues,\n          index: pressedIndex,\n          nextValue,\n          min,\n          max,\n          step,\n          minStepsBetweenValues\n        });\n        return {\n          value: nextValues,\n          thumbIndex: pressedIndex,\n          didSwap: false\n        };\n      }\n    case 'none':\n    default:\n      {\n        const candidateValues = activeValues.slice();\n        const previousNeighbor = candidateValues[pressedIndex - 1];\n        const nextNeighbor = candidateValues[pressedIndex + 1];\n        const lowerBound = previousNeighbor != null ? previousNeighbor + minValueDifference : min;\n        const upperBound = nextNeighbor != null ? nextNeighbor - minValueDifference : max;\n        const constrainedValue = clamp(nextValue, lowerBound, upperBound);\n        candidateValues[pressedIndex] = Number(constrainedValue.toFixed(12));\n        return {\n          value: candidateValues,\n          thumbIndex: pressedIndex,\n          didSwap: false\n        };\n      }\n  }\n}", "'use client';\n\nimport * as React from 'react';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useSliderRootContext } from \"../root/SliderRootContext.js\";\nimport { sliderStateAttributesMapping } from \"../root/stateAttributesMapping.js\";\n\n/**\n * Contains the slider indicator and represents the entire range of the slider.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Slider](https://base-ui.com/react/components/slider)\n */\nexport const SliderTrack = /*#__PURE__*/React.forwardRef(function SliderTrack(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const {\n    state\n  } = useSliderRootContext();\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: [{\n      style: {\n        position: 'relative'\n      }\n    }, elementProps],\n    stateAttributesMapping: sliderStateAttributesMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") SliderTrack.displayName = \"SliderTrack\";", "'use client';\n\nimport * as React from 'react';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useOnMount } from '@base-ui/utils/useOnMount';\nimport { useMergedRefs } from '@base-ui/utils/useMergedRefs';\nimport { visuallyHidden } from '@base-ui/utils/visuallyHidden';\nimport { formatNumber } from \"../../utils/formatNumber.js\";\nimport { mergeProps } from \"../../merge-props/index.js\";\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { valueToPercent } from \"../../utils/valueToPercent.js\";\nimport { ARROW_DOWN, ARROW_UP, ARROW_RIGHT, ARROW_LEFT, HOME, END, COMPOSITE_KEYS } from \"../../composite/composite.js\";\nimport { useCompositeListItem } from \"../../composite/list/useCompositeListItem.js\";\nimport { useDirection } from \"../../direction-provider/DirectionContext.js\";\nimport { useCSPContext } from \"../../csp-provider/CSPContext.js\";\nimport { useFieldRootContext } from \"../../field/root/FieldRootContext.js\";\nimport { useLabelableId } from \"../../labelable-provider/useLabelableId.js\";\nimport { getMidpoint } from \"../utils/getMidpoint.js\";\nimport { getSliderValue } from \"../utils/getSliderValue.js\";\nimport { roundValueToStep } from \"../utils/roundValueToStep.js\";\nimport { useSliderRootContext } from \"../root/SliderRootContext.js\";\nimport { sliderStateAttributesMapping } from \"../root/stateAttributesMapping.js\";\nimport { SliderThumbDataAttributes } from \"./SliderThumbDataAttributes.js\";\nimport { script as prehydrationScript } from \"./prehydrationScript.min.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst PAGE_UP = 'PageUp';\nconst PAGE_DOWN = 'PageDown';\nconst ALL_KEYS = new Set([ARROW_UP, ARROW_DOWN, ARROW_LEFT, ARROW_RIGHT, HOME, END, PAGE_UP, PAGE_DOWN]);\nfunction getDefaultAriaValueText(values, index, format, locale) {\n  if (index < 0) {\n    return undefined;\n  }\n  if (values.length === 2) {\n    if (index === 0) {\n      return `${formatNumber(values[index], locale, format)} start range`;\n    }\n    return `${formatNumber(values[index], locale, format)} end range`;\n  }\n  return format ? formatNumber(values[index], locale, format) : undefined;\n}\nfunction getNewValue(thumbValue, step, direction, min, max) {\n  return direction === 1 ? Math.min(thumbValue + step, max) : Math.max(thumbValue - step, min);\n}\n\n/**\n * The draggable part of the slider at the tip of the indicator.\n * Renders a `<div>` element and a nested `<input type=\"range\">`.\n *\n * Documentation: [Base UI Slider](https://base-ui.com/react/components/slider)\n */\nexport const SliderThumb = /*#__PURE__*/React.forwardRef(function SliderThumb(componentProps, forwardedRef) {\n  const {\n    render,\n    children: childrenProp,\n    className,\n    'aria-describedby': ariaDescribedByProp,\n    'aria-label': ariaLabelProp,\n    'aria-labelledby': ariaLabelledByProp,\n    disabled: disabledProp = false,\n    getAriaLabel: getAriaLabelProp,\n    getAriaValueText: getAriaValueTextProp,\n    id: idProp,\n    index: indexProp,\n    inputRef: inputRefProp,\n    onBlur: onBlurProp,\n    onFocus: onFocusProp,\n    onKeyDown: onKeyDownProp,\n    tabIndex: tabIndexProp,\n    ...elementProps\n  } = componentProps;\n  const {\n    nonce\n  } = useCSPContext();\n  const id = useBaseUiId(idProp);\n  const {\n    active: activeIndex,\n    lastUsedThumbIndex,\n    controlRef,\n    disabled: contextDisabled,\n    validation,\n    formatOptionsRef,\n    handleInputChange,\n    inset,\n    labelId,\n    largeStep,\n    locale,\n    max,\n    min,\n    minStepsBetweenValues,\n    name,\n    orientation,\n    pressedInputRef,\n    pressedThumbCenterOffsetRef,\n    pressedThumbIndexRef,\n    renderBeforeHydration,\n    setActive,\n    setIndicatorPosition,\n    state,\n    step,\n    values: sliderValues\n  } = useSliderRootContext();\n  const direction = useDirection();\n  const disabled = disabledProp || contextDisabled;\n  const range = sliderValues.length > 1;\n  const vertical = orientation === 'vertical';\n  const rtl = direction === 'rtl';\n  const {\n    setTouched,\n    setFocused,\n    validationMode\n  } = useFieldRootContext();\n  const thumbRef = React.useRef(null);\n  const inputRef = React.useRef(null);\n  const defaultInputId = useBaseUiId();\n  const labelableId = useLabelableId();\n  const inputId = range ? defaultInputId : labelableId;\n  const thumbMetadata = React.useMemo(() => ({\n    inputId\n  }), [inputId]);\n  const {\n    ref: listItemRef,\n    index: compositeIndex\n  } = useCompositeListItem({\n    metadata: thumbMetadata\n  });\n  const index = !range ? 0 : indexProp ?? compositeIndex;\n  const last = index === sliderValues.length - 1;\n  const thumbValue = sliderValues[index];\n  const thumbValuePercent = valueToPercent(thumbValue, min, max);\n  const [isMounted, setIsMounted] = React.useState(false);\n  const [positionPercent, setPositionPercent] = React.useState();\n  useOnMount(() => setIsMounted(true));\n  const safeLastUsedThumbIndex = lastUsedThumbIndex >= 0 && lastUsedThumbIndex < sliderValues.length ? lastUsedThumbIndex : -1;\n  const getInsetPosition = useStableCallback(() => {\n    const control = controlRef.current;\n    const thumb = thumbRef.current;\n    if (!control || !thumb) {\n      return;\n    }\n    const thumbRect = thumb.getBoundingClientRect();\n    const controlRect = control.getBoundingClientRect();\n    const side = vertical ? 'height' : 'width';\n    // the total travel distance adjusted to account for the thumb size\n    const controlSize = controlRect[side] - thumbRect[side];\n    // px distance from the starting edge (inline-start or bottom) to the thumb center\n    const thumbOffsetFromControlEdge = thumbRect[side] / 2 + controlSize * thumbValuePercent / 100;\n    const nextPositionPercent = thumbOffsetFromControlEdge / controlRect[side] * 100;\n    setPositionPercent(nextPositionPercent);\n    if (index === 0) {\n      setIndicatorPosition(prevPosition => [nextPositionPercent, prevPosition[1]]);\n    } else if (last) {\n      setIndicatorPosition(prevPosition => [prevPosition[0], nextPositionPercent]);\n    }\n  });\n  useIsoLayoutEffect(() => {\n    if (inset) {\n      queueMicrotask(getInsetPosition);\n    }\n  }, [getInsetPosition, inset]);\n  useIsoLayoutEffect(() => {\n    if (inset) {\n      getInsetPosition();\n    }\n  }, [getInsetPosition, inset, thumbValuePercent]);\n  const getThumbStyle = React.useCallback(() => {\n    const startEdge = vertical ? 'bottom' : 'insetInlineStart';\n    const crossOffsetProperty = vertical ? 'left' : 'top';\n    let zIndex;\n    if (range) {\n      if (activeIndex === index) {\n        zIndex = 2;\n      } else if (safeLastUsedThumbIndex === index) {\n        zIndex = 1;\n      }\n    } else if (activeIndex === index) {\n      zIndex = 1;\n    }\n    if (!inset) {\n      if (!Number.isFinite(thumbValuePercent)) {\n        return visuallyHidden;\n      }\n      return {\n        position: 'absolute',\n        [startEdge]: `${thumbValuePercent}%`,\n        [crossOffsetProperty]: '50%',\n        translate: `${(vertical || !rtl ? -1 : 1) * 50}% ${(vertical ? 1 : -1) * 50}%`,\n        zIndex\n      };\n    }\n    return {\n      ['--position']: `${positionPercent}%`,\n      visibility: renderBeforeHydration && !isMounted || positionPercent === undefined ? 'hidden' : undefined,\n      position: 'absolute',\n      [startEdge]: 'var(--position)',\n      [crossOffsetProperty]: '50%',\n      translate: `${(vertical || !rtl ? -1 : 1) * 50}% ${(vertical ? 1 : -1) * 50}%`,\n      zIndex\n    };\n  }, [activeIndex, index, inset, isMounted, positionPercent, range, renderBeforeHydration, rtl, safeLastUsedThumbIndex, thumbValuePercent, vertical]);\n  let cssWritingMode;\n  if (orientation === 'vertical') {\n    cssWritingMode = rtl ? 'vertical-rl' : 'vertical-lr';\n  }\n  const inputProps = mergeProps({\n    'aria-label': typeof getAriaLabelProp === 'function' ? getAriaLabelProp(index) : ariaLabelProp,\n    'aria-labelledby': ariaLabelledByProp ?? labelId,\n    'aria-describedby': ariaDescribedByProp,\n    'aria-orientation': orientation,\n    'aria-valuenow': thumbValue,\n    'aria-valuetext': typeof getAriaValueTextProp === 'function' ? getAriaValueTextProp(formatNumber(thumbValue, locale, formatOptionsRef.current ?? undefined), thumbValue, index) : getDefaultAriaValueText(sliderValues, index, formatOptionsRef.current ?? undefined, locale),\n    disabled,\n    id: inputId,\n    max,\n    min,\n    name,\n    onChange(event) {\n      handleInputChange(event.target.valueAsNumber, index, event);\n    },\n    onFocus() {\n      setActive(index);\n      setFocused(true);\n    },\n    onBlur() {\n      if (!thumbRef.current) {\n        return;\n      }\n      setActive(-1);\n      setTouched(true);\n      setFocused(false);\n      if (validationMode === 'onBlur') {\n        validation.commit(getSliderValue(thumbValue, index, min, max, range, sliderValues));\n      }\n    },\n    onKeyDown(event) {\n      if (!ALL_KEYS.has(event.key)) {\n        return;\n      }\n      if (COMPOSITE_KEYS.has(event.key)) {\n        event.stopPropagation();\n      }\n      let newValue = null;\n      const roundedValue = roundValueToStep(thumbValue, step, min);\n      switch (event.key) {\n        case ARROW_UP:\n          newValue = getNewValue(roundedValue, event.shiftKey ? largeStep : step, 1, min, max);\n          break;\n        case ARROW_RIGHT:\n          newValue = getNewValue(roundedValue, event.shiftKey ? largeStep : step, rtl ? -1 : 1, min, max);\n          break;\n        case ARROW_DOWN:\n          newValue = getNewValue(roundedValue, event.shiftKey ? largeStep : step, -1, min, max);\n          break;\n        case ARROW_LEFT:\n          newValue = getNewValue(roundedValue, event.shiftKey ? largeStep : step, rtl ? 1 : -1, min, max);\n          break;\n        case PAGE_UP:\n          newValue = getNewValue(roundedValue, largeStep, 1, min, max);\n          break;\n        case PAGE_DOWN:\n          newValue = getNewValue(roundedValue, largeStep, -1, min, max);\n          break;\n        case END:\n          newValue = max;\n          if (range) {\n            newValue = Number.isFinite(sliderValues[index + 1]) ? sliderValues[index + 1] - step * minStepsBetweenValues : max;\n          }\n          break;\n        case HOME:\n          newValue = min;\n          if (range) {\n            newValue = Number.isFinite(sliderValues[index - 1]) ? sliderValues[index - 1] + step * minStepsBetweenValues : min;\n          }\n          break;\n        default:\n          break;\n      }\n      if (newValue !== null) {\n        handleInputChange(newValue, index, event);\n        event.preventDefault();\n      }\n    },\n    step,\n    style: {\n      ...visuallyHidden,\n      // So that VoiceOver's focus indicator matches the thumb's dimensions\n      width: '100%',\n      height: '100%',\n      writingMode: cssWritingMode\n    },\n    tabIndex: tabIndexProp ?? undefined,\n    type: 'range',\n    value: thumbValue ?? ''\n  }, validation.getInputValidationProps);\n  const mergedInputRef = useMergedRefs(inputRef, validation.inputRef, inputRefProp);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: [forwardedRef, listItemRef, thumbRef],\n    props: [{\n      [SliderThumbDataAttributes.index]: index,\n      children: /*#__PURE__*/_jsxs(React.Fragment, {\n        children: [childrenProp, /*#__PURE__*/_jsx(\"input\", {\n          ref: mergedInputRef,\n          ...inputProps\n        }), inset && !isMounted && renderBeforeHydration &&\n        // this must be rendered with the last thumb to ensure all\n        // preceding thumbs are already rendered in the DOM\n        last && /*#__PURE__*/_jsx(\"script\", {\n          nonce: nonce\n          // eslint-disable-next-line react/no-danger\n          ,\n          dangerouslySetInnerHTML: {\n            __html: prehydrationScript\n          },\n          suppressHydrationWarning: true\n        })]\n      }),\n      id,\n      onBlur: onBlurProp,\n      onFocus: onFocusProp,\n      onPointerDown(event) {\n        pressedThumbIndexRef.current = index;\n        if (thumbRef.current != null) {\n          const axis = orientation === 'horizontal' ? 'x' : 'y';\n          const midpoint = getMidpoint(thumbRef.current);\n          const offset = (orientation === 'horizontal' ? event.clientX : event.clientY) - midpoint[axis];\n          pressedThumbCenterOffsetRef.current = offset;\n        }\n        if (inputRef.current != null && pressedInputRef.current !== inputRef.current) {\n          pressedInputRef.current = inputRef.current;\n        }\n      },\n      style: getThumbStyle(),\n      suppressHydrationWarning: renderBeforeHydration || undefined,\n      tabIndex: -1\n    }, elementProps],\n    stateAttributesMapping: sliderStateAttributesMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") SliderThumb.displayName = \"SliderThumb\";", "export let SliderThumbDataAttributes = /*#__PURE__*/function (SliderThumbDataAttributes) {\n  /**\n   * Indicates the index of the thumb in range sliders.\n   */\n  SliderThumbDataAttributes[\"index\"] = \"data-index\";\n  /**\n   * Present while the user is dragging.\n   */\n  SliderThumbDataAttributes[\"dragging\"] = \"data-dragging\";\n  /**\n   * Indicates the orientation of the slider.\n   * @type {'horizontal' | 'vertical'}\n   */\n  SliderThumbDataAttributes[\"orientation\"] = \"data-orientation\";\n  /**\n   * Present when the slider is disabled.\n   */\n  SliderThumbDataAttributes[\"disabled\"] = \"data-disabled\";\n  /**\n   * Present when the slider is in valid state (when wrapped in Field.Root).\n   */\n  SliderThumbDataAttributes[\"valid\"] = \"data-valid\";\n  /**\n   * Present when the slider is in invalid state (when wrapped in Field.Root).\n   */\n  SliderThumbDataAttributes[\"invalid\"] = \"data-invalid\";\n  /**\n   * Present when the slider has been touched (when wrapped in Field.Root).\n   */\n  SliderThumbDataAttributes[\"touched\"] = \"data-touched\";\n  /**\n   * Present when the slider's value has changed (when wrapped in Field.Root).\n   */\n  SliderThumbDataAttributes[\"dirty\"] = \"data-dirty\";\n  /**\n   * Present when the slider is focused (when wrapped in Field.Root).\n   */\n  SliderThumbDataAttributes[\"focused\"] = \"data-focused\";\n  return SliderThumbDataAttributes;\n}({});", "// This file is autogenerated. Do not edit it directly.\n// To update it, modify the corresponding source file and run `pnpm inline-scripts`.\n\n// prettier-ignore\nexport const script = '!function(){const t=document.currentScript?.parentElement;if(!t)return;const e=t.closest(\"[data-base-ui-slider-control]\");if(!e)return;const r=e.querySelector(\"[data-base-ui-slider-indicator]\"),i=e.getBoundingClientRect(),n=\"vertical\"===e.getAttribute(\"data-orientation\")?\"height\":\"width\",o=e.querySelectorAll(\\'input[type=\"range\"]\\'),l=o.length>1,s=o.length-1;let a=null,u=null;for(let t=0;t<o.length;t+=1){const e=o[t],y=parseFloat(e.getAttribute(\"value\")??\"\");if(Number.isNaN(y))return;const c=e.parentElement;if(!c)return;const p=parseFloat(e.getAttribute(\"max\")??\"100\"),g=parseFloat(e.getAttribute(\"min\")??\"0\"),b=c?.getBoundingClientRect(),d=i[n]-b[n],m=100*(y-g)/(p-g),v=(b[n]/2+d*m/100)/i[n]*100;c.style.setProperty(\"--position\",`${v}%`),Number.isFinite(v)&&(c.style.removeProperty(\"visibility\"),r&&(0===t?(a=v,r.style.setProperty(\"--start-position\",`${v}%`),l||r.style.removeProperty(\"visibility\")):t===s&&(u=v-(a??0),r.style.setProperty(\"--end-position\",`${v}%`),r.style.setProperty(\"--relative-size\",`${u}%`),r.style.removeProperty(\"visibility\"))))}}();';", "'use client';\n\nimport * as React from 'react';\nimport { useOnMount } from '@base-ui/utils/useOnMount';\nimport { valueToPercent } from \"../../utils/valueToPercent.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useSliderRootContext } from \"../root/SliderRootContext.js\";\nimport { sliderStateAttributesMapping } from \"../root/stateAttributesMapping.js\";\nfunction getInsetStyles(vertical, range, start, end, renderBeforeHydration, mounted) {\n  const visibility = start === undefined || range && end === undefined ? 'hidden' : undefined;\n  const startEdge = vertical ? 'bottom' : 'insetInlineStart';\n  const mainSide = vertical ? 'height' : 'width';\n  const crossSide = vertical ? 'width' : 'height';\n  const styles = {\n    visibility: renderBeforeHydration && !mounted ? 'hidden' : visibility,\n    position: vertical ? 'absolute' : 'relative',\n    [crossSide]: 'inherit'\n  };\n  styles['--start-position'] = `${start ?? 0}%`;\n  if (!range) {\n    styles[startEdge] = 0;\n    styles[mainSide] = 'var(--start-position)';\n    return styles;\n  }\n  styles['--relative-size'] = `${(end ?? 0) - (start ?? 0)}%`;\n  styles[startEdge] = 'var(--start-position)';\n  styles[mainSide] = 'var(--relative-size)';\n  return styles;\n}\nfunction getCenteredStyles(vertical, range, start, end) {\n  const startEdge = vertical ? 'bottom' : 'insetInlineStart';\n  const mainSide = vertical ? 'height' : 'width';\n  const crossSide = vertical ? 'width' : 'height';\n  const styles = {\n    position: vertical ? 'absolute' : 'relative',\n    [crossSide]: 'inherit'\n  };\n  if (!range) {\n    styles[startEdge] = 0;\n    styles[mainSide] = `${start}%`;\n    return styles;\n  }\n  const size = end - start;\n  styles[startEdge] = `${start}%`;\n  styles[mainSide] = `${size}%`;\n  return styles;\n}\n\n/**\n * Visualizes the current value of the slider.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Slider](https://base-ui.com/react/components/slider)\n */\nexport const SliderIndicator = /*#__PURE__*/React.forwardRef(function SliderIndicator(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const {\n    indicatorPosition,\n    inset,\n    max,\n    min,\n    orientation,\n    renderBeforeHydration,\n    state,\n    values\n  } = useSliderRootContext();\n  const [isMounted, setIsMounted] = React.useState(false);\n  useOnMount(() => setIsMounted(true));\n  const vertical = orientation === 'vertical';\n  const range = values.length > 1;\n  const style = inset ? getInsetStyles(vertical, range, indicatorPosition[0], indicatorPosition[1], renderBeforeHydration, isMounted) : getCenteredStyles(vertical, range, valueToPercent(values[0], min, max), valueToPercent(values[values.length - 1], min, max));\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: [{\n      ['data-base-ui-slider-indicator']: renderBeforeHydration ? '' : undefined,\n      style,\n      suppressHydrationWarning: renderBeforeHydration || undefined\n    }, elementProps],\n    stateAttributesMapping: sliderStateAttributesMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") SliderIndicator.displayName = \"SliderIndicator\";", "export { SwitchRoot as Root } from \"./root/SwitchRoot.js\";\nexport { SwitchThumb as Thumb } from \"./thumb/SwitchThumb.js\";", "'use client';\n\nimport * as React from 'react';\nimport { useControlled } from '@base-ui/utils/useControlled';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useMergedRefs } from '@base-ui/utils/useMergedRefs';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { visuallyHidden, visuallyHiddenInput } from '@base-ui/utils/visuallyHidden';\nimport { EMPTY_OBJECT } from '@base-ui/utils/empty';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { mergeProps } from \"../../merge-props/index.js\";\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { useButton } from \"../../use-button/index.js\";\nimport { SwitchRootContext } from \"./SwitchRootContext.js\";\nimport { stateAttributesMapping } from \"../stateAttributesMapping.js\";\nimport { useField } from \"../../field/useField.js\";\nimport { useFieldRootContext } from \"../../field/root/FieldRootContext.js\";\nimport { useFormContext } from \"../../form/FormContext.js\";\nimport { useLabelableContext } from \"../../labelable-provider/LabelableContext.js\";\nimport { useLabelableId } from \"../../labelable-provider/useLabelableId.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { useValueChanged } from \"../../utils/useValueChanged.js\";\n\n/**\n * Represents the switch itself.\n * Renders a `<span>` element and a hidden `<input>` beside.\n *\n * Documentation: [Base UI Switch](https://base-ui.com/react/components/switch)\n */\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const SwitchRoot = /*#__PURE__*/React.forwardRef(function SwitchRoot(componentProps, forwardedRef) {\n  const {\n    checked: checkedProp,\n    className,\n    defaultChecked,\n    id: idProp,\n    inputRef: externalInputRef,\n    name: nameProp,\n    nativeButton = false,\n    onCheckedChange: onCheckedChangeProp,\n    readOnly = false,\n    required = false,\n    disabled: disabledProp = false,\n    render,\n    uncheckedValue,\n    value,\n    ...elementProps\n  } = componentProps;\n  const {\n    clearErrors\n  } = useFormContext();\n  const {\n    state: fieldState,\n    setTouched,\n    setDirty,\n    validityData,\n    setFilled,\n    setFocused,\n    shouldValidateOnChange,\n    validationMode,\n    disabled: fieldDisabled,\n    name: fieldName,\n    validation\n  } = useFieldRootContext();\n  const {\n    labelId\n  } = useLabelableContext();\n  const disabled = fieldDisabled || disabledProp;\n  const name = fieldName ?? nameProp;\n  const onCheckedChange = useStableCallback(onCheckedChangeProp);\n  const inputRef = React.useRef(null);\n  const handleInputRef = useMergedRefs(inputRef, externalInputRef, validation.inputRef);\n  const switchRef = React.useRef(null);\n  const id = useBaseUiId();\n  const controlId = useLabelableId({\n    id: idProp,\n    implicit: false,\n    controlRef: switchRef\n  });\n  const hiddenInputId = nativeButton ? undefined : controlId;\n  const [checked, setCheckedState] = useControlled({\n    controlled: checkedProp,\n    default: Boolean(defaultChecked),\n    name: 'Switch',\n    state: 'checked'\n  });\n  useField({\n    id,\n    commit: validation.commit,\n    value: checked,\n    controlRef: switchRef,\n    name,\n    getValue: () => checked\n  });\n  useIsoLayoutEffect(() => {\n    if (inputRef.current) {\n      setFilled(inputRef.current.checked);\n    }\n  }, [inputRef, setFilled]);\n  useValueChanged(checked, () => {\n    clearErrors(name);\n    setDirty(checked !== validityData.initialValue);\n    setFilled(checked);\n    if (shouldValidateOnChange()) {\n      validation.commit(checked);\n    } else {\n      validation.commit(checked, true);\n    }\n  });\n  const {\n    getButtonProps,\n    buttonRef\n  } = useButton({\n    disabled,\n    native: nativeButton\n  });\n  const rootProps = {\n    id: nativeButton ? controlId : id,\n    role: 'switch',\n    'aria-checked': checked,\n    'aria-readonly': readOnly || undefined,\n    'aria-required': required || undefined,\n    'aria-labelledby': labelId,\n    onFocus() {\n      if (!disabled) {\n        setFocused(true);\n      }\n    },\n    onBlur() {\n      const element = inputRef.current;\n      if (!element || disabled) {\n        return;\n      }\n      setTouched(true);\n      setFocused(false);\n      if (validationMode === 'onBlur') {\n        validation.commit(element.checked);\n      }\n    },\n    onClick(event) {\n      if (readOnly || disabled) {\n        return;\n      }\n      event.preventDefault();\n      inputRef?.current?.click();\n    }\n  };\n  const inputProps = React.useMemo(() => mergeProps({\n    checked,\n    disabled,\n    id: hiddenInputId,\n    name,\n    required,\n    style: name ? visuallyHiddenInput : visuallyHidden,\n    tabIndex: -1,\n    type: 'checkbox',\n    'aria-hidden': true,\n    ref: handleInputRef,\n    onChange(event) {\n      // Workaround for https://github.com/facebook/react/issues/9023\n      if (event.nativeEvent.defaultPrevented) {\n        return;\n      }\n      const nextChecked = event.target.checked;\n      const eventDetails = createChangeEventDetails(REASONS.none, event.nativeEvent);\n      onCheckedChange?.(nextChecked, eventDetails);\n      if (eventDetails.isCanceled) {\n        return;\n      }\n      setCheckedState(nextChecked);\n    },\n    onFocus() {\n      switchRef.current?.focus();\n    }\n  }, validation.getInputValidationProps,\n  // React <19 sets an empty value if `undefined` is passed explicitly\n  // To avoid this, we only set the value if it's defined\n  value !== undefined ? {\n    value\n  } : EMPTY_OBJECT), [checked, disabled, handleInputRef, hiddenInputId, name, onCheckedChange, required, setCheckedState, validation, value]);\n  const state = React.useMemo(() => ({\n    ...fieldState,\n    checked,\n    disabled,\n    readOnly,\n    required\n  }), [fieldState, checked, disabled, readOnly, required]);\n  const element = useRenderElement('span', componentProps, {\n    state,\n    ref: [forwardedRef, switchRef, buttonRef],\n    props: [rootProps, validation.getValidationProps, elementProps, getButtonProps],\n    stateAttributesMapping\n  });\n  return /*#__PURE__*/_jsxs(SwitchRootContext.Provider, {\n    value: state,\n    children: [element, !checked && name && uncheckedValue !== undefined && /*#__PURE__*/_jsx(\"input\", {\n      type: \"hidden\",\n      name: name,\n      value: uncheckedValue\n    }), /*#__PURE__*/_jsx(\"input\", {\n      ...inputProps\n    })]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") SwitchRoot.displayName = \"SwitchRoot\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const SwitchRootContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") SwitchRootContext.displayName = \"SwitchRootContext\";\nexport function useSwitchRootContext() {\n  const context = React.useContext(SwitchRootContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: SwitchRootContext is missing. Switch parts must be placed within <Switch.Root>.' : _formatErrorMessage(63));\n  }\n  return context;\n}", "export let SwitchRootDataAttributes = /*#__PURE__*/function (SwitchRootDataAttributes) {\n  /**\n   * Present when the switch is checked.\n   */\n  SwitchRootDataAttributes[\"checked\"] = \"data-checked\";\n  /**\n   * Present when the switch is not checked.\n   */\n  SwitchRootDataAttributes[\"unchecked\"] = \"data-unchecked\";\n  /**\n   * Present when the switch is disabled.\n   */\n  SwitchRootDataAttributes[\"disabled\"] = \"data-disabled\";\n  /**\n   * Present when the switch is readonly.\n   */\n  SwitchRootDataAttributes[\"readonly\"] = \"data-readonly\";\n  /**\n   * Present when the switch is required.\n   */\n  SwitchRootDataAttributes[\"required\"] = \"data-required\";\n  /**\n   * Present when the switch is in valid state (when wrapped in Field.Root).\n   */\n  SwitchRootDataAttributes[\"valid\"] = \"data-valid\";\n  /**\n   * Present when the switch is in invalid state (when wrapped in Field.Root).\n   */\n  SwitchRootDataAttributes[\"invalid\"] = \"data-invalid\";\n  /**\n   * Present when the switch has been touched (when wrapped in Field.Root).\n   */\n  SwitchRootDataAttributes[\"touched\"] = \"data-touched\";\n  /**\n   * Present when the switch's value has changed (when wrapped in Field.Root).\n   */\n  SwitchRootDataAttributes[\"dirty\"] = \"data-dirty\";\n  /**\n   * Present when the switch is active (when wrapped in Field.Root).\n   */\n  SwitchRootDataAttributes[\"filled\"] = \"data-filled\";\n  /**\n   * Present when the switch is focused (when wrapped in Field.Root).\n   */\n  SwitchRootDataAttributes[\"focused\"] = \"data-focused\";\n  return SwitchRootDataAttributes;\n}({});", "import { fieldValidityMapping } from \"../field/utils/constants.js\";\nimport { SwitchRootDataAttributes } from \"./root/SwitchRootDataAttributes.js\";\nexport const stateAttributesMapping = {\n  ...fieldValidityMapping,\n  checked(value) {\n    if (value) {\n      return {\n        [SwitchRootDataAttributes.checked]: ''\n      };\n    }\n    return {\n      [SwitchRootDataAttributes.unchecked]: ''\n    };\n  }\n};", "'use client';\n\nimport * as React from 'react';\nimport { useSwitchRootContext } from \"../root/SwitchRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useFieldRootContext } from \"../../field/root/FieldRootContext.js\";\nimport { stateAttributesMapping } from \"../stateAttributesMapping.js\";\n\n/**\n * The movable part of the switch that indicates whether the switch is on or off.\n * Renders a `<span>`.\n *\n * Documentation: [Base UI Switch](https://base-ui.com/react/components/switch)\n */\nexport const SwitchThumb = /*#__PURE__*/React.forwardRef(function SwitchThumb(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const {\n    state: fieldState\n  } = useFieldRootContext();\n  const state = useSwitchRootContext();\n  const extendedState = {\n    ...fieldState,\n    ...state\n  };\n  return useRenderElement('span', componentProps, {\n    state: extendedState,\n    ref: forwardedRef,\n    stateAttributesMapping,\n    props: elementProps\n  });\n});\nif (process.env.NODE_ENV !== \"production\") SwitchThumb.displayName = \"SwitchThumb\";", "export { TabsRoot as Root } from \"./root/TabsRoot.js\";\nexport { TabsTab as Tab } from \"./tab/TabsTab.js\";\nexport { TabsIndicator as Indicator } from \"./indicator/TabsIndicator.js\";\nexport { TabsPanel as Panel } from \"./panel/TabsPanel.js\";\nexport { TabsList as List } from \"./list/TabsList.js\";", "'use client';\n\nimport * as React from 'react';\nimport { useControlled } from '@base-ui/utils/useControlled';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { CompositeList } from \"../../composite/list/CompositeList.js\";\nimport { useDirection } from \"../../direction-provider/DirectionContext.js\";\nimport { TabsRootContext } from \"./TabsRootContext.js\";\nimport { tabsStateAttributesMapping } from \"./stateAttributesMapping.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n/**\n * Groups the tabs and the corresponding panels.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Tabs](https://base-ui.com/react/components/tabs)\n */\nexport const TabsRoot = /*#__PURE__*/React.forwardRef(function TabsRoot(componentProps, forwardedRef) {\n  const {\n    className,\n    defaultValue: defaultValueProp = 0,\n    onValueChange: onValueChangeProp,\n    orientation = 'horizontal',\n    render,\n    value: valueProp,\n    ...elementProps\n  } = componentProps;\n  const direction = useDirection();\n\n  // Track whether the user explicitly provided a `defaultValue` prop.\n  // Used to determine if we should honor a disabled tab selection.\n  const hasExplicitDefaultValueProp = Object.hasOwn(componentProps, 'defaultValue');\n  const tabPanelRefs = React.useRef([]);\n  const [mountedTabPanels, setMountedTabPanels] = React.useState(() => new Map());\n  const [value, setValue] = useControlled({\n    controlled: valueProp,\n    default: defaultValueProp,\n    name: 'Tabs',\n    state: 'value'\n  });\n  const isControlled = valueProp !== undefined;\n  const [tabMap, setTabMap] = React.useState(() => new Map());\n  const [tabActivationDirection, setTabActivationDirection] = React.useState('none');\n  const onValueChange = useStableCallback((newValue, eventDetails) => {\n    onValueChangeProp?.(newValue, eventDetails);\n    if (eventDetails.isCanceled) {\n      return;\n    }\n    setValue(newValue);\n    setTabActivationDirection(eventDetails.activationDirection);\n  });\n  const registerMountedTabPanel = useStableCallback((panelValue, panelId) => {\n    setMountedTabPanels(prev => {\n      if (prev.get(panelValue) === panelId) {\n        return prev;\n      }\n      const next = new Map(prev);\n      next.set(panelValue, panelId);\n      return next;\n    });\n  });\n  const unregisterMountedTabPanel = useStableCallback((panelValue, panelId) => {\n    setMountedTabPanels(prev => {\n      if (!prev.has(panelValue) || prev.get(panelValue) !== panelId) {\n        return prev;\n      }\n      const next = new Map(prev);\n      next.delete(panelValue);\n      return next;\n    });\n  });\n\n  // get the `id` attribute of <Tabs.Panel> to set as the value of `aria-controls` on <Tabs.Tab>\n  const getTabPanelIdByValue = React.useCallback(tabValue => {\n    return mountedTabPanels.get(tabValue);\n  }, [mountedTabPanels]);\n\n  // get the `id` attribute of <Tabs.Tab> to set as the value of `aria-labelledby` on <Tabs.Panel>\n  const getTabIdByPanelValue = React.useCallback(tabPanelValue => {\n    for (const tabMetadata of tabMap.values()) {\n      if (tabPanelValue === tabMetadata?.value) {\n        return tabMetadata?.id;\n      }\n    }\n    return undefined;\n  }, [tabMap]);\n\n  // used in `useActivationDirectionDetector` for setting data-activation-direction\n  const getTabElementBySelectedValue = React.useCallback(selectedValue => {\n    if (selectedValue === undefined) {\n      return null;\n    }\n    for (const [tabElement, tabMetadata] of tabMap.entries()) {\n      if (tabMetadata != null && selectedValue === (tabMetadata.value ?? tabMetadata.index)) {\n        return tabElement;\n      }\n    }\n    return null;\n  }, [tabMap]);\n  const tabsContextValue = React.useMemo(() => ({\n    direction,\n    getTabElementBySelectedValue,\n    getTabIdByPanelValue,\n    getTabPanelIdByValue,\n    onValueChange,\n    orientation,\n    registerMountedTabPanel,\n    setTabMap,\n    unregisterMountedTabPanel,\n    tabActivationDirection,\n    value\n  }), [direction, getTabElementBySelectedValue, getTabIdByPanelValue, getTabPanelIdByValue, onValueChange, orientation, registerMountedTabPanel, setTabMap, unregisterMountedTabPanel, tabActivationDirection, value]);\n  const selectedTabMetadata = React.useMemo(() => {\n    for (const tabMetadata of tabMap.values()) {\n      if (tabMetadata != null && tabMetadata.value === value) {\n        return tabMetadata;\n      }\n    }\n    return undefined;\n  }, [tabMap, value]);\n\n  // Find the first non-disabled tab value.\n  // Used as a fallback when the current selection is disabled or missing.\n  const firstEnabledTabValue = React.useMemo(() => {\n    for (const tabMetadata of tabMap.values()) {\n      if (tabMetadata != null && !tabMetadata.disabled) {\n        return tabMetadata.value;\n      }\n    }\n    return undefined;\n  }, [tabMap]);\n\n  // Automatically switch to the first enabled tab when:\n  // - The current selection is disabled (and wasn't explicitly set via defaultValue)\n  // - The current selection is missing (tab was removed from DOM)\n  // Falls back to null if all tabs are disabled.\n  useIsoLayoutEffect(() => {\n    if (isControlled || tabMap.size === 0) {\n      return;\n    }\n    const selectionIsDisabled = selectedTabMetadata?.disabled;\n    const selectionIsMissing = selectedTabMetadata == null && value !== null;\n    const shouldHonorExplicitDefaultSelection = hasExplicitDefaultValueProp && selectionIsDisabled && value === defaultValueProp;\n    if (shouldHonorExplicitDefaultSelection) {\n      return;\n    }\n    if (!selectionIsDisabled && !selectionIsMissing) {\n      return;\n    }\n    const fallbackValue = firstEnabledTabValue ?? null;\n    if (value === fallbackValue) {\n      return;\n    }\n    setValue(fallbackValue);\n    setTabActivationDirection('none');\n  }, [defaultValueProp, firstEnabledTabValue, hasExplicitDefaultValueProp, isControlled, selectedTabMetadata, setTabActivationDirection, setValue, tabMap, value]);\n  const state = {\n    orientation,\n    tabActivationDirection\n  };\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: elementProps,\n    stateAttributesMapping: tabsStateAttributesMapping\n  });\n  return /*#__PURE__*/_jsx(TabsRootContext.Provider, {\n    value: tabsContextValue,\n    children: /*#__PURE__*/_jsx(CompositeList, {\n      elementsRef: tabPanelRefs,\n      children: element\n    })\n  });\n});\nif (process.env.NODE_ENV !== \"production\") TabsRoot.displayName = \"TabsRoot\";", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\n/**\n * @internal\n */\nexport const TabsRootContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") TabsRootContext.displayName = \"TabsRootContext\";\nexport function useTabsRootContext() {\n  const context = React.useContext(TabsRootContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: TabsRootContext is missing. Tabs parts must be placed within <Tabs.Root>.' : _formatErrorMessage(64));\n  }\n  return context;\n}", "export let TabsRootDataAttributes = /*#__PURE__*/function (TabsRootDataAttributes) {\n  /**\n   * Indicates the direction of the activation (based on the previous active tab).\n   * @type {'left' | 'right' | 'up' | 'down' | 'none'}\n   */\n  TabsRootDataAttributes[\"activationDirection\"] = \"data-activation-direction\";\n  /**\n   * Indicates the orientation of the tabs.\n   * @type {'horizontal' | 'vertical'}\n   */\n  TabsRootDataAttributes[\"orientation\"] = \"data-orientation\";\n  return TabsRootDataAttributes;\n}({});", "import { TabsRootDataAttributes } from \"./TabsRootDataAttributes.js\";\nexport const tabsStateAttributesMapping = {\n  tabActivationDirection: dir => ({\n    [TabsRootDataAttributes.activationDirection]: dir\n  })\n};", "'use client';\n\nimport * as React from 'react';\nimport { ownerDocument } from '@base-ui/utils/owner';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useButton } from \"../../use-button/index.js\";\nimport { ACTIVE_COMPOSITE_ITEM } from \"../../composite/constants.js\";\nimport { useCompositeItem } from \"../../composite/item/useCompositeItem.js\";\nimport { useTabsRootContext } from \"../root/TabsRootContext.js\";\nimport { useTabsListContext } from \"../list/TabsListContext.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { activeElement, contains } from \"../../floating-ui-react/utils.js\";\n\n/**\n * An individual interactive tab button that toggles the corresponding panel.\n * Renders a `<button>` element.\n *\n * Documentation: [Base UI Tabs](https://base-ui.com/react/components/tabs)\n */\nexport const TabsTab = /*#__PURE__*/React.forwardRef(function TabsTab(componentProps, forwardedRef) {\n  const {\n    className,\n    disabled = false,\n    render,\n    value,\n    id: idProp,\n    nativeButton = true,\n    ...elementProps\n  } = componentProps;\n  const {\n    value: activeTabValue,\n    getTabPanelIdByValue,\n    orientation\n  } = useTabsRootContext();\n  const {\n    activateOnFocus,\n    highlightedTabIndex,\n    onTabActivation,\n    setHighlightedTabIndex,\n    tabsListElement\n  } = useTabsListContext();\n  const id = useBaseUiId(idProp);\n  const tabMetadata = React.useMemo(() => ({\n    disabled,\n    id,\n    value\n  }), [disabled, id, value]);\n  const {\n    compositeProps,\n    compositeRef,\n    index\n    // hook is used instead of the CompositeItem component\n    // because the index is needed for Tab internals\n  } = useCompositeItem({\n    metadata: tabMetadata\n  });\n  const active = value === activeTabValue;\n  const isNavigatingRef = React.useRef(false);\n\n  // Keep the highlighted item in sync with the currently active tab\n  // when the value prop changes externally (controlled mode)\n  useIsoLayoutEffect(() => {\n    if (isNavigatingRef.current) {\n      isNavigatingRef.current = false;\n      return;\n    }\n    if (!(active && index > -1 && highlightedTabIndex !== index)) {\n      return;\n    }\n\n    // If focus is currently within the tabs list, don't override the roving\n    // focus highlight. This keeps keyboard navigation relative to the focused\n    // item after an external/asynchronous selection change.\n    const listElement = tabsListElement;\n    if (listElement != null) {\n      const activeEl = activeElement(ownerDocument(listElement));\n      if (activeEl && contains(listElement, activeEl)) {\n        return;\n      }\n    }\n\n    // Don't highlight disabled tabs to prevent them from interfering with keyboard navigation.\n    // Keyboard focus (tabIndex) should remain on an enabled tab even when a disabled tab is selected.\n    if (!disabled) {\n      setHighlightedTabIndex(index);\n    }\n  }, [active, index, highlightedTabIndex, setHighlightedTabIndex, disabled, tabsListElement]);\n  const {\n    getButtonProps,\n    buttonRef\n  } = useButton({\n    disabled,\n    native: nativeButton,\n    focusableWhenDisabled: true\n  });\n  const tabPanelId = getTabPanelIdByValue(value);\n  const isPressingRef = React.useRef(false);\n  const isMainButtonRef = React.useRef(false);\n  function onClick(event) {\n    if (active || disabled) {\n      return;\n    }\n    onTabActivation(value, createChangeEventDetails(REASONS.none, event.nativeEvent, undefined, {\n      activationDirection: 'none'\n    }));\n  }\n  function onFocus(event) {\n    if (active) {\n      return;\n    }\n\n    // Only highlight enabled tabs when focused (disabled tabs remain focusable via focusableWhenDisabled).\n    if (index > -1 && !disabled) {\n      setHighlightedTabIndex(index);\n    }\n    if (disabled) {\n      return;\n    }\n    if (activateOnFocus && (!isPressingRef.current ||\n    // keyboard or touch focus\n    isPressingRef.current && isMainButtonRef.current) // mouse focus\n    ) {\n      onTabActivation(value, createChangeEventDetails(REASONS.none, event.nativeEvent, undefined, {\n        activationDirection: 'none'\n      }));\n    }\n  }\n  function onPointerDown(event) {\n    if (active || disabled) {\n      return;\n    }\n    isPressingRef.current = true;\n    function handlePointerUp() {\n      isPressingRef.current = false;\n      isMainButtonRef.current = false;\n    }\n    if (!event.button || event.button === 0) {\n      isMainButtonRef.current = true;\n      const doc = ownerDocument(event.currentTarget);\n      doc.addEventListener('pointerup', handlePointerUp, {\n        once: true\n      });\n    }\n  }\n  const state = React.useMemo(() => ({\n    disabled,\n    active,\n    orientation\n  }), [disabled, active, orientation]);\n  const element = useRenderElement('button', componentProps, {\n    state,\n    ref: [forwardedRef, buttonRef, compositeRef],\n    props: [compositeProps, {\n      role: 'tab',\n      'aria-controls': tabPanelId,\n      'aria-selected': active,\n      id,\n      onClick,\n      onFocus,\n      onPointerDown,\n      [ACTIVE_COMPOSITE_ITEM]: active ? '' : undefined,\n      onKeyDownCapture() {\n        isNavigatingRef.current = true;\n      }\n    }, elementProps, getButtonProps]\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") TabsTab.displayName = \"TabsTab\";", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const TabsListContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") TabsListContext.displayName = \"TabsListContext\";\nexport function useTabsListContext() {\n  const context = React.useContext(TabsListContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: TabsListContext is missing. TabsList parts must be placed within <Tabs.List>.' : _formatErrorMessage(65));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useForcedRerendering } from '@base-ui/utils/useForcedRerendering';\nimport { useOnMount } from '@base-ui/utils/useOnMount';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { getCssDimensions } from \"../../utils/getCssDimensions.js\";\nimport { useTabsRootContext } from \"../root/TabsRootContext.js\";\nimport { tabsStateAttributesMapping } from \"../root/stateAttributesMapping.js\";\nimport { useTabsListContext } from \"../list/TabsListContext.js\";\nimport { script as prehydrationScript } from \"./prehydrationScript.min.js\";\nimport { TabsIndicatorCssVars } from \"./TabsIndicatorCssVars.js\";\nimport { useCSPContext } from \"../../csp-provider/CSPContext.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst stateAttributesMapping = {\n  ...tabsStateAttributesMapping,\n  activeTabPosition: () => null,\n  activeTabSize: () => null\n};\n\n/**\n * A visual indicator that can be styled to match the position of the currently active tab.\n * Renders a `<span>` element.\n *\n * Documentation: [Base UI Tabs](https://base-ui.com/react/components/tabs)\n */\nexport const TabsIndicator = /*#__PURE__*/React.forwardRef(function TabIndicator(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    renderBeforeHydration = false,\n    ...elementProps\n  } = componentProps;\n  const {\n    nonce\n  } = useCSPContext();\n  const {\n    getTabElementBySelectedValue,\n    orientation,\n    tabActivationDirection,\n    value\n  } = useTabsRootContext();\n  const {\n    tabsListElement\n  } = useTabsListContext();\n  const [isMounted, setIsMounted] = React.useState(false);\n  const {\n    value: activeTabValue\n  } = useTabsRootContext();\n  useOnMount(() => setIsMounted(true));\n  const rerender = useForcedRerendering();\n  React.useEffect(() => {\n    if (value != null && tabsListElement != null && typeof ResizeObserver !== 'undefined') {\n      const resizeObserver = new ResizeObserver(rerender);\n      resizeObserver.observe(tabsListElement);\n      return () => {\n        resizeObserver.disconnect();\n      };\n    }\n    return undefined;\n  }, [value, tabsListElement, rerender]);\n  let left = 0;\n  let right = 0;\n  let top = 0;\n  let bottom = 0;\n  let width = 0;\n  let height = 0;\n  let isTabSelected = false;\n  if (value != null && tabsListElement != null) {\n    const activeTab = getTabElementBySelectedValue(value);\n    isTabSelected = true;\n    if (activeTab != null) {\n      const {\n        width: computedWidth,\n        height: computedHeight\n      } = getCssDimensions(activeTab);\n      const {\n        width: tabListWidth,\n        height: tabListHeight\n      } = getCssDimensions(tabsListElement);\n      const tabRect = activeTab.getBoundingClientRect();\n      const tabsListRect = tabsListElement.getBoundingClientRect();\n      const scaleX = tabListWidth > 0 ? tabsListRect.width / tabListWidth : 1;\n      const scaleY = tabListHeight > 0 ? tabsListRect.height / tabListHeight : 1;\n      const hasNonZeroScale = Math.abs(scaleX) > Number.EPSILON && Math.abs(scaleY) > Number.EPSILON;\n      if (hasNonZeroScale) {\n        const tabLeftDelta = tabRect.left - tabsListRect.left;\n        const tabTopDelta = tabRect.top - tabsListRect.top;\n        left = tabLeftDelta / scaleX + tabsListElement.scrollLeft - tabsListElement.clientLeft;\n        top = tabTopDelta / scaleY + tabsListElement.scrollTop - tabsListElement.clientTop;\n      } else {\n        left = activeTab.offsetLeft;\n        top = activeTab.offsetTop;\n      }\n      width = computedWidth;\n      height = computedHeight;\n      right = tabsListElement.scrollWidth - left - width;\n      bottom = tabsListElement.scrollHeight - top - height;\n    }\n  }\n  const activeTabPosition = React.useMemo(() => isTabSelected ? {\n    left,\n    right,\n    top,\n    bottom\n  } : null, [left, right, top, bottom, isTabSelected]);\n  const activeTabSize = React.useMemo(() => isTabSelected ? {\n    width,\n    height\n  } : null, [width, height, isTabSelected]);\n  const style = React.useMemo(() => {\n    if (!isTabSelected) {\n      return undefined;\n    }\n    return {\n      [TabsIndicatorCssVars.activeTabLeft]: `${left}px`,\n      [TabsIndicatorCssVars.activeTabRight]: `${right}px`,\n      [TabsIndicatorCssVars.activeTabTop]: `${top}px`,\n      [TabsIndicatorCssVars.activeTabBottom]: `${bottom}px`,\n      [TabsIndicatorCssVars.activeTabWidth]: `${width}px`,\n      [TabsIndicatorCssVars.activeTabHeight]: `${height}px`\n    };\n  }, [left, right, top, bottom, width, height, isTabSelected]);\n  const displayIndicator = isTabSelected && width > 0 && height > 0;\n  const state = React.useMemo(() => ({\n    orientation,\n    activeTabPosition,\n    activeTabSize,\n    tabActivationDirection\n  }), [orientation, activeTabPosition, activeTabSize, tabActivationDirection]);\n  const element = useRenderElement('span', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: [{\n      role: 'presentation',\n      style,\n      hidden: !displayIndicator // do not display the indicator before the layout is settled\n    }, elementProps, {\n      suppressHydrationWarning: true\n    }],\n    stateAttributesMapping\n  });\n  if (activeTabValue == null) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxs(React.Fragment, {\n    children: [element, !isMounted && renderBeforeHydration && /*#__PURE__*/_jsx(\"script\", {\n      nonce: nonce\n      // eslint-disable-next-line react/no-danger\n      ,\n      dangerouslySetInnerHTML: {\n        __html: prehydrationScript\n      },\n      suppressHydrationWarning: true\n    })]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") TabsIndicator.displayName = \"TabsIndicator\";", "// This file is autogenerated. Do not edit it directly.\n// To update it, modify the corresponding source file and run `pnpm inline-scripts`.\n\n// prettier-ignore\nexport const script = '!function(){const t=document.currentScript.previousElementSibling;if(!t)return;const e=t.closest(\\'[role=\"tablist\"]\\');if(!e)return;const i=e.querySelector(\"[data-active]\");if(!i)return;if(0===i.offsetWidth||0===e.offsetWidth)return;let o=0,n=0,h=0,l=0,r=0,f=0;function s(t){const e=getComputedStyle(t);let i=parseFloat(e.width)||0,o=parseFloat(e.height)||0;return(Math.round(i)!==t.offsetWidth||Math.round(o)!==t.offsetHeight)&&(i=t.offsetWidth,o=t.offsetHeight),{width:i,height:o}}if(null!=i&&null!=e){const{width:t,height:c}=s(i),{width:u,height:d}=s(e),a=i.getBoundingClientRect(),g=e.getBoundingClientRect(),p=u>0?g.width/u:1,b=d>0?g.height/d:1;if(Math.abs(p)>Number.EPSILON&&Math.abs(b)>Number.EPSILON){const t=a.left-g.left,i=a.top-g.top;o=t/p+e.scrollLeft-e.clientLeft,h=i/b+e.scrollTop-e.clientTop}else o=i.offsetLeft,h=i.offsetTop;r=t,f=c,n=e.scrollWidth-o-r,l=e.scrollHeight-h-f}function c(e,i){t.style.setProperty(`--active-tab-${e}`,`${i}px`)}c(\"left\",o),c(\"right\",n),c(\"top\",h),c(\"bottom\",l),c(\"width\",r),c(\"height\",f),r>0&&f>0&&t.removeAttribute(\"hidden\")}();';", "export let TabsIndicatorCssVars = /*#__PURE__*/function (TabsIndicatorCssVars) {\n  /**\n   * Indicates the distance on the left side from the parent's container if the tab is active.\n   * @type {number}\n   */\n  TabsIndicatorCssVars[\"activeTabLeft\"] = \"--active-tab-left\";\n  /**\n   * Indicates the distance on the right side from the parent's container if the tab is active.\n   * @type {number}\n   */\n  TabsIndicatorCssVars[\"activeTabRight\"] = \"--active-tab-right\";\n  /**\n   * Indicates the distance on the top side from the parent's container if the tab is active.\n   * @type {number}\n   */\n  TabsIndicatorCssVars[\"activeTabTop\"] = \"--active-tab-top\";\n  /**\n   * Indicates the distance on the bottom side from the parent's container if the tab is active.\n   * @type {number}\n   */\n  TabsIndicatorCssVars[\"activeTabBottom\"] = \"--active-tab-bottom\";\n  /**\n   * Indicates the width of the tab if it is active.\n   * @type {number}\n   */\n  TabsIndicatorCssVars[\"activeTabWidth\"] = \"--active-tab-width\";\n  /**\n   * Indicates the width of the tab if it is active.\n   * @type {number}\n   */\n  TabsIndicatorCssVars[\"activeTabHeight\"] = \"--active-tab-height\";\n  return TabsIndicatorCssVars;\n}({});", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useCompositeListItem } from \"../../composite/list/useCompositeListItem.js\";\nimport { tabsStateAttributesMapping } from \"../root/stateAttributesMapping.js\";\nimport { useTabsRootContext } from \"../root/TabsRootContext.js\";\nimport { TabsPanelDataAttributes } from \"./TabsPanelDataAttributes.js\";\n\n/**\n * A panel displayed when the corresponding tab is active.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Tabs](https://base-ui.com/react/components/tabs)\n */\nexport const TabsPanel = /*#__PURE__*/React.forwardRef(function TabPanel(componentProps, forwardedRef) {\n  const {\n    className,\n    value,\n    render,\n    keepMounted = false,\n    ...elementProps\n  } = componentProps;\n  const {\n    value: selectedValue,\n    getTabIdByPanelValue,\n    orientation,\n    tabActivationDirection,\n    registerMountedTabPanel,\n    unregisterMountedTabPanel\n  } = useTabsRootContext();\n  const id = useBaseUiId();\n  const metadata = React.useMemo(() => ({\n    id,\n    value\n  }), [id, value]);\n  const {\n    ref: listItemRef,\n    index\n  } = useCompositeListItem({\n    metadata\n  });\n  const hidden = value !== selectedValue;\n  const correspondingTabId = getTabIdByPanelValue(value);\n  const state = React.useMemo(() => ({\n    hidden,\n    orientation,\n    tabActivationDirection\n  }), [hidden, orientation, tabActivationDirection]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: [forwardedRef, listItemRef],\n    props: [{\n      'aria-labelledby': correspondingTabId,\n      hidden,\n      id: id ?? undefined,\n      role: 'tabpanel',\n      tabIndex: hidden ? -1 : 0,\n      [TabsPanelDataAttributes.index]: index\n    }, elementProps],\n    stateAttributesMapping: tabsStateAttributesMapping\n  });\n  useIsoLayoutEffect(() => {\n    if (hidden && !keepMounted) {\n      return undefined;\n    }\n    if (id == null) {\n      return undefined;\n    }\n    registerMountedTabPanel(value, id);\n    return () => {\n      unregisterMountedTabPanel(value, id);\n    };\n  }, [hidden, keepMounted, value, id, registerMountedTabPanel, unregisterMountedTabPanel]);\n  const shouldRender = !hidden || keepMounted;\n  if (!shouldRender) {\n    return null;\n  }\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") TabsPanel.displayName = \"TabsPanel\";", "export let TabsPanelDataAttributes = /*#__PURE__*/function (TabsPanelDataAttributes) {\n  /**\n   * Indicates the index of the tab panel.\n   */\n  TabsPanelDataAttributes[\"index\"] = \"data-index\";\n  /**\n   * Indicates the direction of the activation (based on the previous active tab).\n   * @type {'left' | 'right' | 'up' | 'down' | 'none'}\n   */\n  TabsPanelDataAttributes[\"activationDirection\"] = \"data-activation-direction\";\n  /**\n   * Indicates the orientation of the tabs.\n   * @type {'horizontal' | 'vertical'}\n   */\n  TabsPanelDataAttributes[\"orientation\"] = \"data-orientation\";\n  /**\n   * Present when the panel is hidden.\n   */\n  TabsPanelDataAttributes[\"hidden\"] = \"data-hidden\";\n  return TabsPanelDataAttributes;\n}({});", "'use client';\n\nimport * as React from 'react';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { CompositeRoot } from \"../../composite/root/CompositeRoot.js\";\nimport { tabsStateAttributesMapping } from \"../root/stateAttributesMapping.js\";\nimport { useTabsRootContext } from \"../root/TabsRootContext.js\";\nimport { TabsListContext } from \"./TabsListContext.js\";\nimport { EMPTY_ARRAY } from \"../../utils/constants.js\";\n\n/**\n * Groups the individual tab buttons.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Tabs](https://base-ui.com/react/components/tabs)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const TabsList = /*#__PURE__*/React.forwardRef(function TabsList(componentProps, forwardedRef) {\n  const {\n    activateOnFocus = false,\n    className,\n    loopFocus = true,\n    render,\n    ...elementProps\n  } = componentProps;\n  const {\n    getTabElementBySelectedValue,\n    onValueChange,\n    orientation,\n    value,\n    setTabMap,\n    tabActivationDirection\n  } = useTabsRootContext();\n  const [highlightedTabIndex, setHighlightedTabIndex] = React.useState(0);\n  const [tabsListElement, setTabsListElement] = React.useState(null);\n  const detectActivationDirection = useActivationDirectionDetector(value,\n  // the old value\n  orientation, tabsListElement, getTabElementBySelectedValue);\n  const onTabActivation = useStableCallback((newValue, eventDetails) => {\n    if (newValue !== value) {\n      const activationDirection = detectActivationDirection(newValue);\n      eventDetails.activationDirection = activationDirection;\n      onValueChange(newValue, eventDetails);\n    }\n  });\n  const state = React.useMemo(() => ({\n    orientation,\n    tabActivationDirection\n  }), [orientation, tabActivationDirection]);\n  const defaultProps = {\n    'aria-orientation': orientation === 'vertical' ? 'vertical' : undefined,\n    role: 'tablist'\n  };\n  const tabsListContextValue = React.useMemo(() => ({\n    activateOnFocus,\n    highlightedTabIndex,\n    onTabActivation,\n    setHighlightedTabIndex,\n    tabsListElement,\n    value\n  }), [activateOnFocus, highlightedTabIndex, onTabActivation, setHighlightedTabIndex, tabsListElement, value]);\n  return /*#__PURE__*/_jsx(TabsListContext.Provider, {\n    value: tabsListContextValue,\n    children: /*#__PURE__*/_jsx(CompositeRoot, {\n      render: render,\n      className: className,\n      state: state,\n      refs: [forwardedRef, setTabsListElement],\n      props: [defaultProps, elementProps],\n      stateAttributesMapping: tabsStateAttributesMapping,\n      highlightedIndex: highlightedTabIndex,\n      enableHomeAndEndKeys: true,\n      loopFocus: loopFocus,\n      orientation: orientation,\n      onHighlightedIndexChange: setHighlightedTabIndex,\n      onMapChange: setTabMap,\n      disabledIndices: EMPTY_ARRAY\n    })\n  });\n});\nif (process.env.NODE_ENV !== \"production\") TabsList.displayName = \"TabsList\";\nfunction getInset(tab, tabsList) {\n  const {\n    left: tabLeft,\n    top: tabTop\n  } = tab.getBoundingClientRect();\n  const {\n    left: listLeft,\n    top: listTop\n  } = tabsList.getBoundingClientRect();\n  const left = tabLeft - listLeft;\n  const top = tabTop - listTop;\n  return {\n    left,\n    top\n  };\n}\nfunction useActivationDirectionDetector(\n// the old value\nactiveTabValue, orientation, tabsListElement, getTabElement) {\n  const [previousTabEdge, setPreviousTabEdge] = React.useState(null);\n  useIsoLayoutEffect(() => {\n    // Whenever orientation changes, reset the state.\n    if (activeTabValue == null || tabsListElement == null) {\n      setPreviousTabEdge(null);\n      return;\n    }\n    const activeTab = getTabElement(activeTabValue);\n    if (activeTab == null) {\n      setPreviousTabEdge(null);\n      return;\n    }\n    const {\n      left,\n      top\n    } = getInset(activeTab, tabsListElement);\n    setPreviousTabEdge(orientation === 'horizontal' ? left : top);\n  }, [orientation, getTabElement, tabsListElement, activeTabValue]);\n  return React.useCallback(newValue => {\n    if (newValue === activeTabValue) {\n      return 'none';\n    }\n    if (newValue == null) {\n      setPreviousTabEdge(null);\n      return 'none';\n    }\n    if (newValue != null && tabsListElement != null) {\n      const activeTabElement = getTabElement(newValue);\n      if (activeTabElement != null) {\n        const {\n          left,\n          top\n        } = getInset(activeTabElement, tabsListElement);\n        if (previousTabEdge == null) {\n          setPreviousTabEdge(orientation === 'horizontal' ? left : top);\n          return 'none';\n        }\n        if (orientation === 'horizontal') {\n          if (left < previousTabEdge) {\n            setPreviousTabEdge(left);\n            return 'left';\n          }\n          if (left > previousTabEdge) {\n            setPreviousTabEdge(left);\n            return 'right';\n          }\n        } else if (top < previousTabEdge) {\n          setPreviousTabEdge(top);\n          return 'up';\n        } else if (top > previousTabEdge) {\n          setPreviousTabEdge(top);\n          return 'down';\n        }\n      }\n    }\n    return 'none';\n  }, [getTabElement, orientation, previousTabEdge, tabsListElement, activeTabValue]);\n}", "export { ToastProvider as Provider } from \"./provider/ToastProvider.js\";\nexport { ToastViewport as Viewport } from \"./viewport/ToastViewport.js\";\nexport { ToastRoot as Root } from \"./root/ToastRoot.js\";\nexport { ToastContent as Content } from \"./content/ToastContent.js\";\nexport { ToastDescription as Description } from \"./description/ToastDescription.js\";\nexport { ToastTitle as Title } from \"./title/ToastTitle.js\";\nexport { ToastClose as Close } from \"./close/ToastClose.js\";\nexport { ToastAction as Action } from \"./action/ToastAction.js\";\nexport { ToastPortal as Portal } from \"./portal/ToastPortal.js\";\nexport { ToastPositioner as Positioner } from \"./positioner/ToastPositioner.js\";\nexport { ToastArrow as Arrow } from \"./arrow/ToastArrow.js\";\nexport { useToastManager } from \"./useToastManager.js\";\nexport { createToastManager } from \"./createToastManager.js\";", "'use client';\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { ownerDocument } from '@base-ui/utils/owner';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { generateId } from '@base-ui/utils/generateId';\nimport { Timeout } from '@base-ui/utils/useTimeout';\nimport { activeElement, contains } from \"../../floating-ui-react/utils.js\";\nimport { ToastContext } from \"./ToastProviderContext.js\";\nimport { isFocusVisible } from \"../utils/focusVisible.js\";\nimport { resolvePromiseOptions } from \"../utils/resolvePromiseOptions.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n/**\n * Provides a context for creating and managing toasts.\n *\n * Documentation: [Base UI Toast](https://base-ui.com/react/components/toast)\n */\nexport const ToastProvider = function ToastProvider(props) {\n  const {\n    children,\n    timeout = 5000,\n    limit = 3,\n    toastManager\n  } = props;\n  const [toasts, setToasts] = React.useState([]);\n  const [hovering, setHovering] = React.useState(false);\n  const [focused, setFocused] = React.useState(false);\n  const [prevFocusElement, setPrevFocusElement] = React.useState(null);\n  if (toasts.length === 0) {\n    if (hovering) {\n      setHovering(false);\n    }\n    if (focused) {\n      setFocused(false);\n    }\n  }\n  const expanded = hovering || focused;\n  const timersRef = React.useRef(new Map());\n  const viewportRef = React.useRef(null);\n  const windowFocusedRef = React.useRef(true);\n  const isPausedRef = React.useRef(false);\n  function handleFocusManagement(toastId) {\n    const activeEl = activeElement(ownerDocument(viewportRef.current));\n    if (!viewportRef.current || !contains(viewportRef.current, activeEl) || !isFocusVisible(activeEl)) {\n      return;\n    }\n    const currentIndex = toasts.findIndex(toast => toast.id === toastId);\n    let nextToast = null;\n\n    // Try to find the next toast that isn't animating out\n    let index = currentIndex + 1;\n    while (index < toasts.length) {\n      if (toasts[index].transitionStatus !== 'ending') {\n        nextToast = toasts[index];\n        break;\n      }\n      index += 1;\n    }\n\n    // Go backwards if no next toast is found\n    if (!nextToast) {\n      index = currentIndex - 1;\n      while (index >= 0) {\n        if (toasts[index].transitionStatus !== 'ending') {\n          nextToast = toasts[index];\n          break;\n        }\n        index -= 1;\n      }\n    }\n    if (nextToast) {\n      nextToast.ref?.current?.focus();\n    } else {\n      prevFocusElement?.focus({\n        preventScroll: true\n      });\n    }\n  }\n  const pauseTimers = useStableCallback(() => {\n    if (isPausedRef.current) {\n      return;\n    }\n    isPausedRef.current = true;\n    timersRef.current.forEach(timer => {\n      if (timer.timeout) {\n        timer.timeout.clear();\n        const elapsed = Date.now() - timer.start;\n        const remaining = timer.delay - elapsed;\n        timer.remaining = remaining > 0 ? remaining : 0;\n      }\n    });\n  });\n  const resumeTimers = useStableCallback(() => {\n    if (!isPausedRef.current) {\n      return;\n    }\n    isPausedRef.current = false;\n    timersRef.current.forEach((timer, id) => {\n      timer.remaining = timer.remaining > 0 ? timer.remaining : timer.delay;\n      timer.timeout ??= Timeout.create();\n      timer.timeout.start(timer.remaining, () => {\n        timersRef.current.delete(id);\n        timer.callback();\n      });\n      timer.start = Date.now();\n    });\n  });\n  const close = useStableCallback(toastId => {\n    setToasts(prevToasts => {\n      const toastsWithEnding = prevToasts.map(toast => toast.id === toastId ? {\n        ...toast,\n        transitionStatus: 'ending',\n        height: 0\n      } : toast);\n      const activeToasts = toastsWithEnding.filter(t => t.transitionStatus !== 'ending');\n      return toastsWithEnding.map(toast => {\n        if (toast.transitionStatus === 'ending') {\n          return toast;\n        }\n        const isActiveToastLimited = activeToasts.indexOf(toast) >= limit;\n        return {\n          ...toast,\n          limited: isActiveToastLimited\n        };\n      });\n    });\n    const timer = timersRef.current.get(toastId);\n    if (timer && timer.timeout) {\n      timer.timeout.clear();\n      timersRef.current.delete(toastId);\n    }\n    const toast = toasts.find(t => t.id === toastId);\n    toast?.onClose?.();\n    handleFocusManagement(toastId);\n    if (toasts.length === 1) {\n      setHovering(false);\n      setFocused(false);\n    }\n  });\n  const remove = useStableCallback(toastId => {\n    setToasts(prev => prev.filter(toast => toast.id !== toastId));\n    const toast = toasts.find(t => t.id === toastId);\n    toast?.onRemove?.();\n  });\n  const scheduleTimer = useStableCallback((id, delay, callback) => {\n    const start = Date.now();\n    const shouldStartActive = windowFocusedRef.current && !hovering && !focused;\n    const currentTimeout = shouldStartActive ? Timeout.create() : undefined;\n    currentTimeout?.start(delay, () => {\n      timersRef.current.delete(id);\n      callback();\n    });\n    timersRef.current.set(id, {\n      timeout: currentTimeout,\n      start: shouldStartActive ? start : 0,\n      delay,\n      remaining: delay,\n      callback\n    });\n  });\n  const add = useStableCallback(toast => {\n    const id = toast.id || generateId('toast');\n    const toastToAdd = {\n      ...toast,\n      id,\n      transitionStatus: 'starting'\n    };\n    setToasts(prev => {\n      const updatedToasts = [toastToAdd, ...prev];\n      const activeToasts = updatedToasts.filter(t => t.transitionStatus !== 'ending');\n\n      // Mark oldest toasts for removal when over limit\n      if (activeToasts.length > limit) {\n        const excessCount = activeToasts.length - limit;\n        const oldestActiveToasts = activeToasts.slice(-excessCount);\n        return updatedToasts.map(t => oldestActiveToasts.some(old => old.id === t.id) ? {\n          ...t,\n          limited: true\n        } : {\n          ...t,\n          limited: false\n        });\n      }\n      return updatedToasts.map(t => ({\n        ...t,\n        limited: false\n      }));\n    });\n    const duration = toastToAdd.timeout ?? timeout;\n    if (toastToAdd.type !== 'loading' && duration > 0) {\n      scheduleTimer(id, duration, () => close(id));\n    }\n    if (hovering || focused || !windowFocusedRef.current) {\n      pauseTimers();\n    }\n    return id;\n  });\n  const update = useStableCallback((id, updates) => {\n    const prevToast = toasts.find(toast => toast.id === id) ?? null;\n    const nextToast = prevToast ? {\n      ...prevToast,\n      ...updates\n    } : null;\n\n    // Avoid race conditions if `update()` is called multiple times in a row\n    ReactDOM.flushSync(() => {\n      setToasts(prev => prev.map(toast => toast.id === id ? {\n        ...toast,\n        ...updates\n      } : toast));\n    });\n    if (!nextToast) {\n      return;\n    }\n    const nextTimeout = nextToast.timeout ?? timeout;\n    const prevTimeout = prevToast?.timeout ?? timeout;\n    const timeoutUpdated = Object.hasOwn(updates, 'timeout');\n    const shouldHaveTimer = nextToast.transitionStatus !== 'ending' && nextToast.type !== 'loading' && nextTimeout > 0;\n    const hasTimer = timersRef.current.has(id);\n    const timeoutChanged = prevTimeout !== nextTimeout;\n    const wasLoading = prevToast?.type === 'loading';\n    if (!shouldHaveTimer && hasTimer) {\n      const timer = timersRef.current.get(id);\n      timer?.timeout?.clear();\n      timersRef.current.delete(id);\n      return;\n    }\n\n    // Schedule or reschedule timer if needed\n    if (shouldHaveTimer && (!hasTimer || timeoutChanged || timeoutUpdated || wasLoading)) {\n      const timer = timersRef.current.get(id);\n      if (timer) {\n        timer.timeout?.clear();\n        timersRef.current.delete(id);\n      }\n      scheduleTimer(id, nextTimeout, () => close(id));\n      if (hovering || focused || !windowFocusedRef.current) {\n        pauseTimers();\n      }\n    }\n  });\n  const promise = useStableCallback((promiseValue, options) => {\n    // Create a loading toast (which does not auto-dismiss).\n    const loadingOptions = resolvePromiseOptions(options.loading);\n    const id = add({\n      ...loadingOptions,\n      type: 'loading'\n    });\n    const handledPromise = promiseValue.then(result => {\n      const successOptions = resolvePromiseOptions(options.success, result);\n      update(id, {\n        ...successOptions,\n        type: 'success',\n        timeout: successOptions.timeout\n      });\n      return result;\n    }).catch(error => {\n      const errorOptions = resolvePromiseOptions(options.error, error);\n      update(id, {\n        ...errorOptions,\n        type: 'error',\n        timeout: errorOptions.timeout\n      });\n      return Promise.reject(error);\n    });\n\n    // Private API used exclusively by `Manager` to handoff the promise\n    // back to the manager after it's handled here.\n    if ({}.hasOwnProperty.call(options, 'setPromise')) {\n      options.setPromise(handledPromise);\n    }\n    return handledPromise;\n  });\n  React.useEffect(function subscribeToToastManager() {\n    if (!toastManager) {\n      return undefined;\n    }\n    const unsubscribe = toastManager[' subscribe'](({\n      action,\n      options\n    }) => {\n      const id = options.id;\n      if (action === 'promise' && options.promise) {\n        promise(options.promise, options);\n      } else if (action === 'update' && id) {\n        update(id, options);\n      } else if (action === 'close' && id) {\n        close(id);\n      } else {\n        add(options);\n      }\n    });\n    return unsubscribe;\n  }, [add, update, scheduleTimer, timeout, toastManager, promise, close]);\n  const contextValue = React.useMemo(() => ({\n    toasts,\n    setToasts,\n    hovering,\n    setHovering,\n    focused,\n    setFocused,\n    expanded,\n    add,\n    close,\n    remove,\n    update,\n    promise,\n    pauseTimers,\n    resumeTimers,\n    prevFocusElement,\n    setPrevFocusElement,\n    viewportRef,\n    scheduleTimer,\n    windowFocusedRef\n  }), [add, close, focused, hovering, expanded, pauseTimers, prevFocusElement, promise, remove, resumeTimers, scheduleTimer, toasts, update]);\n  return /*#__PURE__*/_jsx(ToastContext.Provider, {\n    value: contextValue,\n    children: children\n  });\n};\nif (process.env.NODE_ENV !== \"production\") ToastProvider.displayName = \"ToastProvider\";", "let counter = 0;\nexport function generateId(prefix) {\n  counter += 1;\n  return `${prefix}-${Math.random().toString(36).slice(2, 6)}-${counter}`;\n}", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const ToastContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") ToastContext.displayName = \"ToastContext\";\nexport function useToastContext() {\n  const context = React.useContext(ToastContext);\n  if (!context) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: useToastManager must be used within <Toast.Provider>.' : _formatErrorMessage(73));\n  }\n  return context;\n}", "export function resolvePromiseOptions(options, result) {\n  if (typeof options === 'string') {\n    return {\n      description: options\n    };\n  }\n  if (typeof options === 'function') {\n    const resolvedOptions = options(result);\n    return typeof resolvedOptions === 'string' ? {\n      description: resolvedOptions\n    } : resolvedOptions;\n  }\n  return options;\n}", "'use client';\n\nimport * as React from 'react';\nimport { ownerDocument, ownerWindow } from '@base-ui/utils/owner';\nimport { visuallyHidden } from '@base-ui/utils/visuallyHidden';\nimport { activeElement, contains, getTarget } from \"../../floating-ui-react/utils.js\";\nimport { FocusGuard } from \"../../utils/FocusGuard.js\";\nimport { ToastViewportContext } from \"./ToastViewportContext.js\";\nimport { useToastContext } from \"../provider/ToastProviderContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { isFocusVisible } from \"../utils/focusVisible.js\";\nimport { ToastViewportCssVars } from \"./ToastViewportCssVars.js\";\n\n/**\n * A container viewport for toasts.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Toast](https://base-ui.com/react/components/toast)\n */\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport const ToastViewport = /*#__PURE__*/React.forwardRef(function ToastViewport(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    children,\n    ...elementProps\n  } = componentProps;\n  const {\n    toasts,\n    pauseTimers,\n    resumeTimers,\n    setHovering,\n    setFocused,\n    viewportRef,\n    windowFocusedRef,\n    prevFocusElement,\n    setPrevFocusElement,\n    expanded,\n    focused\n  } = useToastContext();\n  const handlingFocusGuardRef = React.useRef(false);\n  const markedReadyForMouseLeaveRef = React.useRef(false);\n  const numToasts = toasts.length;\n  const frontmostHeight = toasts[0]?.height ?? 0;\n  const hasTransitioningToasts = React.useMemo(() => toasts.some(toast => toast.transitionStatus === 'ending'), [toasts]);\n\n  // Listen globally for F6 so we can force-focus the viewport.\n  React.useEffect(() => {\n    if (!viewportRef.current) {\n      return undefined;\n    }\n    function handleGlobalKeyDown(event) {\n      if (numToasts === 0) {\n        return;\n      }\n      if (event.key === 'F6' && event.target !== viewportRef.current) {\n        event.preventDefault();\n        setPrevFocusElement(activeElement(ownerDocument(viewportRef.current)));\n        viewportRef.current?.focus({\n          preventScroll: true\n        });\n        pauseTimers();\n        setFocused(true);\n      }\n    }\n    const win = ownerWindow(viewportRef.current);\n    win.addEventListener('keydown', handleGlobalKeyDown);\n    return () => {\n      win.removeEventListener('keydown', handleGlobalKeyDown);\n    };\n  }, [pauseTimers, setFocused, setPrevFocusElement, numToasts, viewportRef]);\n  React.useEffect(() => {\n    if (!viewportRef.current || !numToasts) {\n      return undefined;\n    }\n    const win = ownerWindow(viewportRef.current);\n    function handleWindowBlur(event) {\n      if (event.target !== win) {\n        return;\n      }\n      windowFocusedRef.current = false;\n      pauseTimers();\n    }\n    function handleWindowFocus(event) {\n      if (event.relatedTarget || event.target === win) {\n        return;\n      }\n      const target = getTarget(event);\n      const activeEl = activeElement(ownerDocument(viewportRef.current));\n      if (!contains(viewportRef.current, target) || !isFocusVisible(activeEl)) {\n        resumeTimers();\n      }\n\n      // Wait for the `handleFocus` event to fire.\n      setTimeout(() => {\n        windowFocusedRef.current = true;\n      });\n    }\n    win.addEventListener('blur', handleWindowBlur, true);\n    win.addEventListener('focus', handleWindowFocus, true);\n    return () => {\n      win.removeEventListener('blur', handleWindowBlur, true);\n      win.removeEventListener('focus', handleWindowFocus, true);\n    };\n  }, [pauseTimers, resumeTimers, viewportRef, windowFocusedRef, setFocused,\n  // `viewportRef.current` isn't available on the first render,\n  // since the portal node hasn't yet been created.\n  // By adding this dependency, we ensure the window listeners\n  // are added when toasts have been created, once the ref is available.\n  numToasts]);\n  React.useEffect(() => {\n    const viewportNode = viewportRef.current;\n    if (!viewportNode || numToasts === 0) {\n      return undefined;\n    }\n    const doc = ownerDocument(viewportNode);\n    function handlePointerDown(event) {\n      if (event.pointerType !== 'touch') {\n        return;\n      }\n      const target = getTarget(event);\n      if (contains(viewportNode, target)) {\n        return;\n      }\n      resumeTimers();\n      setHovering(false);\n      setFocused(false);\n    }\n    doc.addEventListener('pointerdown', handlePointerDown, true);\n    return () => {\n      doc.removeEventListener('pointerdown', handlePointerDown, true);\n    };\n  }, [numToasts, resumeTimers, setFocused, setHovering, viewportRef]);\n  function handleFocusGuard(event) {\n    if (!viewportRef.current) {\n      return;\n    }\n    handlingFocusGuardRef.current = true;\n\n    // If we're coming off the container, move to the first toast\n    if (event.relatedTarget === viewportRef.current) {\n      toasts[0]?.ref?.current?.focus();\n    } else {\n      prevFocusElement?.focus({\n        preventScroll: true\n      });\n    }\n  }\n  function handleKeyDown(event) {\n    if (event.key === 'Tab' && event.shiftKey && event.target === viewportRef.current) {\n      event.preventDefault();\n      prevFocusElement?.focus({\n        preventScroll: true\n      });\n      resumeTimers();\n    }\n  }\n  React.useEffect(() => {\n    if (!windowFocusedRef.current || hasTransitioningToasts || !markedReadyForMouseLeaveRef.current) {\n      return;\n    }\n\n    // Once transitions have finished, see if a mouseleave was already triggered\n    // but blocked from taking effect. If so, we can now safely resume timers and\n    // collapse the viewport.\n    resumeTimers();\n    setHovering(false);\n    markedReadyForMouseLeaveRef.current = false;\n  }, [hasTransitioningToasts, resumeTimers, setHovering, windowFocusedRef]);\n  function handleMouseEnter() {\n    pauseTimers();\n    setHovering(true);\n    markedReadyForMouseLeaveRef.current = false;\n  }\n  function handleMouseLeave() {\n    if (toasts.some(toast => toast.transitionStatus === 'ending')) {\n      // When swiping to dismiss, wait until the transitions have settled\n      // to avoid the viewport collapsing while the user is interacting.\n      markedReadyForMouseLeaveRef.current = true;\n    } else {\n      resumeTimers();\n      setHovering(false);\n    }\n  }\n  function handleFocus() {\n    if (handlingFocusGuardRef.current) {\n      handlingFocusGuardRef.current = false;\n      return;\n    }\n    if (focused) {\n      return;\n    }\n\n    // Only set focused when the active element is focus-visible.\n    // This prevents the viewport from staying expanded when clicking inside without\n    // keyboard navigation.\n    if (isFocusVisible(ownerDocument(viewportRef.current).activeElement)) {\n      setFocused(true);\n      pauseTimers();\n    }\n  }\n  function handleBlur(event) {\n    if (!focused || contains(viewportRef.current, event.relatedTarget)) {\n      return;\n    }\n    setFocused(false);\n    resumeTimers();\n  }\n  const defaultProps = {\n    tabIndex: -1,\n    role: 'region',\n    'aria-live': 'polite',\n    'aria-atomic': false,\n    'aria-relevant': 'additions text',\n    'aria-label': 'Notifications',\n    onMouseEnter: handleMouseEnter,\n    onMouseMove: handleMouseEnter,\n    onMouseLeave: handleMouseLeave,\n    onFocus: handleFocus,\n    onBlur: handleBlur,\n    onKeyDown: handleKeyDown,\n    onClick: handleFocus\n  };\n  const state = React.useMemo(() => ({\n    expanded\n  }), [expanded]);\n  const element = useRenderElement('div', componentProps, {\n    ref: [forwardedRef, viewportRef],\n    state,\n    props: [defaultProps, {\n      style: {\n        [ToastViewportCssVars.frontmostHeight]: frontmostHeight ? `${frontmostHeight}px` : undefined\n      }\n    }, elementProps, {\n      children: /*#__PURE__*/_jsxs(React.Fragment, {\n        children: [numToasts > 0 && prevFocusElement && /*#__PURE__*/_jsx(FocusGuard, {\n          onFocus: handleFocusGuard\n        }), children, numToasts > 0 && prevFocusElement && /*#__PURE__*/_jsx(FocusGuard, {\n          onFocus: handleFocusGuard\n        })]\n      })\n    }]\n  });\n  const contextValue = React.useMemo(() => ({\n    viewportRef\n  }), [viewportRef]);\n  const highPriorityToasts = React.useMemo(() => toasts.filter(toast => toast.priority === 'high'), [toasts]);\n  return /*#__PURE__*/_jsxs(ToastViewportContext.Provider, {\n    value: contextValue,\n    children: [numToasts > 0 && prevFocusElement && /*#__PURE__*/_jsx(FocusGuard, {\n      onFocus: handleFocusGuard\n    }), element, !focused && highPriorityToasts.length > 0 && /*#__PURE__*/_jsx(\"div\", {\n      style: visuallyHidden,\n      children: highPriorityToasts.map(toast => /*#__PURE__*/_jsxs(\"div\", {\n        role: \"alert\",\n        \"aria-atomic\": true,\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          children: toast.title\n        }), /*#__PURE__*/_jsx(\"div\", {\n          children: toast.description\n        })]\n      }, toast.id))\n    })]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") ToastViewport.displayName = \"ToastViewport\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const ToastViewportContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") ToastViewportContext.displayName = \"ToastViewportContext\";\nexport function useToastViewportContext() {\n  const context = React.useContext(ToastViewportContext);\n  if (!context) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: ToastViewportContext is missing. Toast parts must be placed within <Toast.Viewport>.' : _formatErrorMessage(67));\n  }\n  return context;\n}", "export let ToastViewportCssVars = /*#__PURE__*/function (ToastViewportCssVars) {\n  /**\n   * Indicates the height of the frontmost toast.\n   * @type {number}\n   */\n  ToastViewportCssVars[\"frontmostHeight\"] = \"--toast-frontmost-height\";\n  return ToastViewportCssVars;\n}({});", "'use client';\n\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { ownerDocument } from '@base-ui/utils/owner';\nimport { inertValue } from '@base-ui/utils/inertValue';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { activeElement, contains, getTarget } from \"../../floating-ui-react/utils.js\";\nimport { ToastRootContext } from \"./ToastRootContext.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { useToastContext } from \"../provider/ToastProviderContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useOpenChangeComplete } from \"../../utils/useOpenChangeComplete.js\";\nimport { ToastRootCssVars } from \"./ToastRootCssVars.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst stateAttributesMapping = {\n  ...transitionStatusMapping,\n  swipeDirection(value) {\n    return value ? {\n      'data-swipe-direction': value\n    } : null;\n  }\n};\nconst SWIPE_THRESHOLD = 40;\nconst REVERSE_CANCEL_THRESHOLD = 10;\nconst OPPOSITE_DIRECTION_DAMPING_FACTOR = 0.5;\nconst MIN_DRAG_THRESHOLD = 1;\nfunction getDisplacement(direction, deltaX, deltaY) {\n  switch (direction) {\n    case 'up':\n      return -deltaY;\n    case 'down':\n      return deltaY;\n    case 'left':\n      return -deltaX;\n    case 'right':\n      return deltaX;\n    default:\n      return 0;\n  }\n}\nfunction getElementTransform(element) {\n  const computedStyle = window.getComputedStyle(element);\n  const transform = computedStyle.transform;\n  let translateX = 0;\n  let translateY = 0;\n  let scale = 1;\n  if (transform && transform !== 'none') {\n    const matrix = transform.match(/matrix(?:3d)?\\(([^)]+)\\)/);\n    if (matrix) {\n      const values = matrix[1].split(', ').map(parseFloat);\n      if (values.length === 6) {\n        translateX = values[4];\n        translateY = values[5];\n        scale = Math.sqrt(values[0] * values[0] + values[1] * values[1]);\n      } else if (values.length === 16) {\n        translateX = values[12];\n        translateY = values[13];\n        scale = values[0];\n      }\n    }\n  }\n  return {\n    x: translateX,\n    y: translateY,\n    scale\n  };\n}\n\n/**\n * Groups all parts of an individual toast.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Toast](https://base-ui.com/react/components/toast)\n */\nexport const ToastRoot = /*#__PURE__*/React.forwardRef(function ToastRoot(componentProps, forwardedRef) {\n  const {\n    toast,\n    render,\n    className,\n    swipeDirection = ['down', 'right'],\n    ...elementProps\n  } = componentProps;\n  const isAnchored = toast.positionerProps?.anchor !== undefined;\n  let swipeDirections = [];\n  if (!isAnchored) {\n    swipeDirections = Array.isArray(swipeDirection) ? swipeDirection : [swipeDirection];\n  }\n  const swipeEnabled = swipeDirections.length > 0;\n  const {\n    toasts,\n    focused,\n    close,\n    remove,\n    setToasts,\n    pauseTimers,\n    expanded,\n    setHovering\n  } = useToastContext();\n  const [currentSwipeDirection, setCurrentSwipeDirection] = React.useState(undefined);\n  const [isSwiping, setIsSwiping] = React.useState(false);\n  const [isRealSwipe, setIsRealSwipe] = React.useState(false);\n  const [dragDismissed, setDragDismissed] = React.useState(false);\n  const [dragOffset, setDragOffset] = React.useState({\n    x: 0,\n    y: 0\n  });\n  const [initialTransform, setInitialTransform] = React.useState({\n    x: 0,\n    y: 0,\n    scale: 1\n  });\n  const [titleId, setTitleId] = React.useState();\n  const [descriptionId, setDescriptionId] = React.useState();\n  const [lockedDirection, setLockedDirection] = React.useState(null);\n  const rootRef = React.useRef(null);\n  const dragStartPosRef = React.useRef({\n    x: 0,\n    y: 0\n  });\n  const initialTransformRef = React.useRef({\n    x: 0,\n    y: 0,\n    scale: 1\n  });\n  const intendedSwipeDirectionRef = React.useRef(undefined);\n  const maxSwipeDisplacementRef = React.useRef(0);\n  const cancelledSwipeRef = React.useRef(false);\n  const swipeCancelBaselineRef = React.useRef({\n    x: 0,\n    y: 0\n  });\n  const isFirstPointerMoveRef = React.useRef(false);\n  const domIndex = React.useMemo(() => toasts.indexOf(toast), [toast, toasts]);\n  const visibleIndex = React.useMemo(() => toasts.filter(t => t.transitionStatus !== 'ending').indexOf(toast), [toast, toasts]);\n  const offsetY = React.useMemo(() => {\n    return toasts.slice(0, toasts.indexOf(toast)).reduce((acc, t) => acc + (t.height || 0), 0);\n  }, [toasts, toast]);\n  useOpenChangeComplete({\n    open: toast.transitionStatus !== 'ending',\n    ref: rootRef,\n    onComplete() {\n      if (toast.transitionStatus === 'ending') {\n        remove(toast.id);\n      }\n    }\n  });\n\n  /**\n   * Recalculates the natural height of the toast and updates it in the toast manager.\n   * @param flushSync Whether to flush the update synchronously. Use in observer\n   * callbacks to avoid visual flickers.\n   */\n  const recalculateHeight = useStableCallback((flushSync = false) => {\n    const element = rootRef.current;\n    if (!element) {\n      return;\n    }\n    const previousHeight = element.style.height;\n    element.style.height = 'auto';\n    const height = element.offsetHeight;\n    element.style.height = previousHeight;\n    function update() {\n      setToasts(prev => prev.map(t => t.id === toast.id ? {\n        ...t,\n        ref: rootRef,\n        height,\n        transitionStatus: undefined\n      } : t));\n    }\n    if (flushSync) {\n      ReactDOM.flushSync(update);\n    } else {\n      update();\n    }\n  });\n  useIsoLayoutEffect(recalculateHeight, [recalculateHeight]);\n  function applyDirectionalDamping(deltaX, deltaY) {\n    let newDeltaX = deltaX;\n    let newDeltaY = deltaY;\n    if (!swipeDirections.includes('left') && !swipeDirections.includes('right')) {\n      newDeltaX = deltaX > 0 ? deltaX ** OPPOSITE_DIRECTION_DAMPING_FACTOR : -(Math.abs(deltaX) ** OPPOSITE_DIRECTION_DAMPING_FACTOR);\n    } else {\n      if (!swipeDirections.includes('right') && deltaX > 0) {\n        newDeltaX = deltaX ** OPPOSITE_DIRECTION_DAMPING_FACTOR;\n      }\n      if (!swipeDirections.includes('left') && deltaX < 0) {\n        newDeltaX = -(Math.abs(deltaX) ** OPPOSITE_DIRECTION_DAMPING_FACTOR);\n      }\n    }\n    if (!swipeDirections.includes('up') && !swipeDirections.includes('down')) {\n      newDeltaY = deltaY > 0 ? deltaY ** OPPOSITE_DIRECTION_DAMPING_FACTOR : -(Math.abs(deltaY) ** OPPOSITE_DIRECTION_DAMPING_FACTOR);\n    } else {\n      if (!swipeDirections.includes('down') && deltaY > 0) {\n        newDeltaY = deltaY ** OPPOSITE_DIRECTION_DAMPING_FACTOR;\n      }\n      if (!swipeDirections.includes('up') && deltaY < 0) {\n        newDeltaY = -(Math.abs(deltaY) ** OPPOSITE_DIRECTION_DAMPING_FACTOR);\n      }\n    }\n    return {\n      x: newDeltaX,\n      y: newDeltaY\n    };\n  }\n  function handlePointerDown(event) {\n    if (event.button !== 0) {\n      return;\n    }\n    if (event.pointerType === 'touch') {\n      pauseTimers();\n    }\n    const target = getTarget(event.nativeEvent);\n    const isInteractiveElement = target ? target.closest('button,a,input,textarea,[role=\"button\"],[data-swipe-ignore]') : false;\n    if (isInteractiveElement) {\n      return;\n    }\n    cancelledSwipeRef.current = false;\n    intendedSwipeDirectionRef.current = undefined;\n    maxSwipeDisplacementRef.current = 0;\n    dragStartPosRef.current = {\n      x: event.clientX,\n      y: event.clientY\n    };\n    swipeCancelBaselineRef.current = dragStartPosRef.current;\n    if (rootRef.current) {\n      const transform = getElementTransform(rootRef.current);\n      initialTransformRef.current = transform;\n      setInitialTransform(transform);\n      setDragOffset({\n        x: transform.x,\n        y: transform.y\n      });\n    }\n    setHovering(true);\n    setIsSwiping(true);\n    setIsRealSwipe(false);\n    setLockedDirection(null);\n    isFirstPointerMoveRef.current = true;\n    rootRef.current?.setPointerCapture(event.pointerId);\n  }\n  function handlePointerMove(event) {\n    if (!isSwiping) {\n      return;\n    }\n\n    // Prevent text selection on Safari\n    event.preventDefault();\n    if (isFirstPointerMoveRef.current) {\n      // Adjust the starting position to the current position on the first move\n      // to account for the delay between pointerdown and the first pointermove on iOS.\n      dragStartPosRef.current = {\n        x: event.clientX,\n        y: event.clientY\n      };\n      isFirstPointerMoveRef.current = false;\n    }\n    const {\n      clientY,\n      clientX,\n      movementX,\n      movementY\n    } = event;\n    if (movementY < 0 && clientY > swipeCancelBaselineRef.current.y || movementY > 0 && clientY < swipeCancelBaselineRef.current.y) {\n      swipeCancelBaselineRef.current = {\n        x: swipeCancelBaselineRef.current.x,\n        y: clientY\n      };\n    }\n    if (movementX < 0 && clientX > swipeCancelBaselineRef.current.x || movementX > 0 && clientX < swipeCancelBaselineRef.current.x) {\n      swipeCancelBaselineRef.current = {\n        x: clientX,\n        y: swipeCancelBaselineRef.current.y\n      };\n    }\n    const deltaX = clientX - dragStartPosRef.current.x;\n    const deltaY = clientY - dragStartPosRef.current.y;\n    const cancelDeltaY = clientY - swipeCancelBaselineRef.current.y;\n    const cancelDeltaX = clientX - swipeCancelBaselineRef.current.x;\n    if (!isRealSwipe) {\n      const movementDistance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);\n      if (movementDistance >= MIN_DRAG_THRESHOLD) {\n        setIsRealSwipe(true);\n        if (lockedDirection === null) {\n          const hasHorizontal = swipeDirections.includes('left') || swipeDirections.includes('right');\n          const hasVertical = swipeDirections.includes('up') || swipeDirections.includes('down');\n          if (hasHorizontal && hasVertical) {\n            const absX = Math.abs(deltaX);\n            const absY = Math.abs(deltaY);\n            setLockedDirection(absX > absY ? 'horizontal' : 'vertical');\n          }\n        }\n      }\n    }\n    let candidate;\n    if (!intendedSwipeDirectionRef.current) {\n      if (lockedDirection === 'vertical') {\n        if (deltaY > 0) {\n          candidate = 'down';\n        } else if (deltaY < 0) {\n          candidate = 'up';\n        }\n      } else if (lockedDirection === 'horizontal') {\n        if (deltaX > 0) {\n          candidate = 'right';\n        } else if (deltaX < 0) {\n          candidate = 'left';\n        }\n      } else if (Math.abs(deltaX) >= Math.abs(deltaY)) {\n        candidate = deltaX > 0 ? 'right' : 'left';\n      } else {\n        candidate = deltaY > 0 ? 'down' : 'up';\n      }\n      if (candidate && swipeDirections.includes(candidate)) {\n        intendedSwipeDirectionRef.current = candidate;\n        maxSwipeDisplacementRef.current = getDisplacement(candidate, deltaX, deltaY);\n        setCurrentSwipeDirection(candidate);\n      }\n    } else {\n      const direction = intendedSwipeDirectionRef.current;\n      const currentDisplacement = getDisplacement(direction, cancelDeltaX, cancelDeltaY);\n      if (currentDisplacement > SWIPE_THRESHOLD) {\n        cancelledSwipeRef.current = false;\n        setCurrentSwipeDirection(direction);\n      } else if (!(swipeDirections.includes('left') && swipeDirections.includes('right')) && !(swipeDirections.includes('up') && swipeDirections.includes('down')) && maxSwipeDisplacementRef.current - currentDisplacement >= REVERSE_CANCEL_THRESHOLD) {\n        // Mark that a change-of-mind has occurred\n        cancelledSwipeRef.current = true;\n      }\n    }\n    const dampedDelta = applyDirectionalDamping(deltaX, deltaY);\n    let newOffsetX = initialTransformRef.current.x;\n    let newOffsetY = initialTransformRef.current.y;\n    if (lockedDirection === 'horizontal') {\n      if (swipeDirections.includes('left') || swipeDirections.includes('right')) {\n        newOffsetX += dampedDelta.x;\n      }\n    } else if (lockedDirection === 'vertical') {\n      if (swipeDirections.includes('up') || swipeDirections.includes('down')) {\n        newOffsetY += dampedDelta.y;\n      }\n    } else {\n      if (swipeDirections.includes('left') || swipeDirections.includes('right')) {\n        newOffsetX += dampedDelta.x;\n      }\n      if (swipeDirections.includes('up') || swipeDirections.includes('down')) {\n        newOffsetY += dampedDelta.y;\n      }\n    }\n    setDragOffset({\n      x: newOffsetX,\n      y: newOffsetY\n    });\n  }\n  function handlePointerUp(event) {\n    if (!isSwiping) {\n      return;\n    }\n    setIsSwiping(false);\n    setIsRealSwipe(false);\n    setLockedDirection(null);\n    rootRef.current?.releasePointerCapture(event.pointerId);\n    if (cancelledSwipeRef.current) {\n      setDragOffset({\n        x: initialTransform.x,\n        y: initialTransform.y\n      });\n      setCurrentSwipeDirection(undefined);\n      return;\n    }\n    let shouldClose = false;\n    const deltaX = dragOffset.x - initialTransform.x;\n    const deltaY = dragOffset.y - initialTransform.y;\n    let dismissDirection;\n    for (const direction of swipeDirections) {\n      switch (direction) {\n        case 'right':\n          if (deltaX > SWIPE_THRESHOLD) {\n            shouldClose = true;\n            dismissDirection = 'right';\n          }\n          break;\n        case 'left':\n          if (deltaX < -SWIPE_THRESHOLD) {\n            shouldClose = true;\n            dismissDirection = 'left';\n          }\n          break;\n        case 'down':\n          if (deltaY > SWIPE_THRESHOLD) {\n            shouldClose = true;\n            dismissDirection = 'down';\n          }\n          break;\n        case 'up':\n          if (deltaY < -SWIPE_THRESHOLD) {\n            shouldClose = true;\n            dismissDirection = 'up';\n          }\n          break;\n        default:\n          break;\n      }\n      if (shouldClose) {\n        break;\n      }\n    }\n    if (shouldClose) {\n      setCurrentSwipeDirection(dismissDirection);\n      setDragDismissed(true);\n      close(toast.id);\n    } else {\n      setDragOffset({\n        x: initialTransform.x,\n        y: initialTransform.y\n      });\n      setCurrentSwipeDirection(undefined);\n    }\n  }\n  function handleKeyDown(event) {\n    if (event.key === 'Escape') {\n      if (!rootRef.current || !contains(rootRef.current, activeElement(ownerDocument(rootRef.current)))) {\n        return;\n      }\n      close(toast.id);\n    }\n  }\n  React.useEffect(() => {\n    if (!swipeEnabled) {\n      return undefined;\n    }\n    const element = rootRef.current;\n    if (!element) {\n      return undefined;\n    }\n    function preventDefaultTouchStart(event) {\n      if (contains(element, event.target)) {\n        event.preventDefault();\n      }\n    }\n    element.addEventListener('touchmove', preventDefaultTouchStart, {\n      passive: false\n    });\n    return () => {\n      element.removeEventListener('touchmove', preventDefaultTouchStart);\n    };\n  }, [swipeEnabled]);\n  function getDragStyles() {\n    if (!isSwiping && dragOffset.x === initialTransform.x && dragOffset.y === initialTransform.y && !dragDismissed) {\n      return {\n        [ToastRootCssVars.swipeMovementX]: '0px',\n        [ToastRootCssVars.swipeMovementY]: '0px'\n      };\n    }\n    const deltaX = dragOffset.x - initialTransform.x;\n    const deltaY = dragOffset.y - initialTransform.y;\n    return {\n      transition: isSwiping ? 'none' : undefined,\n      // While swiping, freeze the element at its current visual transform so it doesn't snap to the\n      // end position.\n      transform: isSwiping ? `translateX(${dragOffset.x}px) translateY(${dragOffset.y}px) scale(${initialTransform.scale})` : undefined,\n      [ToastRootCssVars.swipeMovementX]: `${deltaX}px`,\n      [ToastRootCssVars.swipeMovementY]: `${deltaY}px`\n    };\n  }\n  const isHighPriority = toast.priority === 'high';\n  const defaultProps = {\n    role: isHighPriority ? 'alertdialog' : 'dialog',\n    tabIndex: 0,\n    'aria-modal': false,\n    'aria-labelledby': titleId,\n    'aria-describedby': descriptionId,\n    'aria-hidden': isHighPriority && !focused ? true : undefined,\n    onPointerDown: swipeEnabled ? handlePointerDown : undefined,\n    onPointerMove: swipeEnabled ? handlePointerMove : undefined,\n    onPointerUp: swipeEnabled ? handlePointerUp : undefined,\n    onKeyDown: handleKeyDown,\n    inert: inertValue(toast.limited),\n    style: {\n      ...getDragStyles(),\n      [ToastRootCssVars.index]: toast.transitionStatus === 'ending' ? domIndex : visibleIndex,\n      [ToastRootCssVars.offsetY]: `${offsetY}px`,\n      [ToastRootCssVars.height]: toast.height ? `${toast.height}px` : undefined\n    }\n  };\n  const toastRoot = React.useMemo(() => ({\n    rootRef,\n    toast,\n    titleId,\n    setTitleId,\n    descriptionId,\n    setDescriptionId,\n    swiping: isSwiping,\n    swipeDirection: currentSwipeDirection,\n    recalculateHeight,\n    index: domIndex,\n    visibleIndex,\n    expanded\n  }), [toast, titleId, descriptionId, isSwiping, currentSwipeDirection, recalculateHeight, domIndex, visibleIndex, expanded]);\n  const state = React.useMemo(() => ({\n    transitionStatus: toast.transitionStatus,\n    expanded,\n    limited: toast.limited || false,\n    type: toast.type,\n    swiping: toastRoot.swiping,\n    swipeDirection: toastRoot.swipeDirection\n  }), [expanded, toast.transitionStatus, toast.limited, toast.type, toastRoot.swiping, toastRoot.swipeDirection]);\n  const element = useRenderElement('div', componentProps, {\n    ref: [forwardedRef, toastRoot.rootRef],\n    state,\n    stateAttributesMapping,\n    props: [defaultProps, elementProps]\n  });\n  return /*#__PURE__*/_jsx(ToastRootContext.Provider, {\n    value: toastRoot,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") ToastRoot.displayName = \"ToastRoot\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const ToastRootContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") ToastRootContext.displayName = \"ToastRootContext\";\nexport function useToastRootContext() {\n  const context = React.useContext(ToastRootContext);\n  if (!context) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: ToastRootContext is missing. Toast parts must be used within <Toast.Root>.' : _formatErrorMessage(66));\n  }\n  return context;\n}", "export let ToastRootCssVars = /*#__PURE__*/function (ToastRootCssVars) {\n  /**\n   * Indicates the index of the toast in the list.\n   * @type {number}\n   */\n  ToastRootCssVars[\"index\"] = \"--toast-index\";\n  /**\n   * Indicates the vertical pixels offset of the toast in the list when expanded.\n   * @type {number}\n   */\n  ToastRootCssVars[\"offsetY\"] = \"--toast-offset-y\";\n  /**\n   * Indicates the measured natural height of the toast in pixels.\n   * @type {number}\n   */\n  ToastRootCssVars[\"height\"] = \"--toast-height\";\n  /**\n   * Indicates the horizontal swipe movement of the toast.\n   * @type {number}\n   */\n  ToastRootCssVars[\"swipeMovementX\"] = \"--toast-swipe-movement-x\";\n  /**\n   * Indicates the vertical swipe movement of the toast.\n   * @type {number}\n   */\n  ToastRootCssVars[\"swipeMovementY\"] = \"--toast-swipe-movement-y\";\n  return ToastRootCssVars;\n}({});", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useToastRootContext } from \"../root/ToastRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * A container for the contents of a toast.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Toast](https://base-ui.com/react/components/toast)\n */\nexport const ToastContent = /*#__PURE__*/React.forwardRef(function ToastContent(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    ...elementProps\n  } = componentProps;\n  const {\n    visibleIndex,\n    expanded,\n    recalculateHeight\n  } = useToastRootContext();\n  const contentRef = React.useRef(null);\n  useIsoLayoutEffect(() => {\n    const node = contentRef.current;\n    if (!node) {\n      return undefined;\n    }\n    recalculateHeight();\n    if (typeof ResizeObserver !== 'function' || typeof MutationObserver !== 'function') {\n      return undefined;\n    }\n    const resizeObserver = new ResizeObserver(() => recalculateHeight(true));\n    const mutationObserver = new MutationObserver(() => recalculateHeight(true));\n    resizeObserver.observe(node);\n    mutationObserver.observe(node, {\n      childList: true,\n      subtree: true,\n      characterData: true\n    });\n    return () => {\n      resizeObserver.disconnect();\n      mutationObserver.disconnect();\n    };\n  }, [recalculateHeight]);\n  const behind = visibleIndex > 0;\n  const state = React.useMemo(() => ({\n    expanded,\n    behind\n  }), [expanded, behind]);\n  const element = useRenderElement('div', componentProps, {\n    ref: [forwardedRef, contentRef],\n    state,\n    props: elementProps\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") ToastContent.displayName = \"ToastContent\";", "'use client';\n\nimport * as React from 'react';\nimport { useId } from '@base-ui/utils/useId';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useToastRootContext } from \"../root/ToastRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * A description that describes the toast.\n * Can be used as the default message for the toast when no title is provided.\n * Renders a `<p>` element.\n *\n * Documentation: [Base UI Toast](https://base-ui.com/react/components/toast)\n */\nexport const ToastDescription = /*#__PURE__*/React.forwardRef(function ToastDescription(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    id: idProp,\n    children: childrenProp,\n    ...elementProps\n  } = componentProps;\n  const {\n    toast\n  } = useToastRootContext();\n  const children = childrenProp ?? toast.description;\n  const shouldRender = Boolean(children);\n  const id = useId(idProp);\n  const {\n    setDescriptionId\n  } = useToastRootContext();\n  useIsoLayoutEffect(() => {\n    if (!shouldRender) {\n      return undefined;\n    }\n    setDescriptionId(id);\n    return () => {\n      setDescriptionId(undefined);\n    };\n  }, [shouldRender, id, setDescriptionId]);\n  const state = React.useMemo(() => ({\n    type: toast.type\n  }), [toast.type]);\n  const element = useRenderElement('p', componentProps, {\n    ref: forwardedRef,\n    state,\n    props: {\n      ...elementProps,\n      id,\n      children\n    }\n  });\n  if (!shouldRender) {\n    return null;\n  }\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") ToastDescription.displayName = \"ToastDescription\";", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useId } from '@base-ui/utils/useId';\nimport { useToastRootContext } from \"../root/ToastRootContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * A title that labels the toast.\n * Renders an `<h2>` element.\n *\n * Documentation: [Base UI Toast](https://base-ui.com/react/components/toast)\n */\nexport const ToastTitle = /*#__PURE__*/React.forwardRef(function ToastTitle(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    id: idProp,\n    children: childrenProp,\n    ...elementProps\n  } = componentProps;\n  const {\n    toast\n  } = useToastRootContext();\n  const children = childrenProp ?? toast.title;\n  const shouldRender = Boolean(children);\n  const id = useId(idProp);\n  const {\n    setTitleId\n  } = useToastRootContext();\n  useIsoLayoutEffect(() => {\n    if (!shouldRender) {\n      return undefined;\n    }\n    setTitleId(id);\n    return () => {\n      setTitleId(undefined);\n    };\n  }, [shouldRender, id, setTitleId]);\n  const state = React.useMemo(() => ({\n    type: toast.type\n  }), [toast.type]);\n  const element = useRenderElement('h2', componentProps, {\n    ref: forwardedRef,\n    state,\n    props: {\n      ...elementProps,\n      id,\n      children\n    }\n  });\n  if (!shouldRender) {\n    return null;\n  }\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") ToastTitle.displayName = \"ToastTitle\";", "'use client';\n\nimport * as React from 'react';\nimport { useToastRootContext } from \"../root/ToastRootContext.js\";\nimport { useToastContext } from \"../provider/ToastProviderContext.js\";\nimport { useButton } from \"../../use-button/useButton.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * Closes the toast when clicked.\n * Renders a `<button>` element.\n *\n * Documentation: [Base UI Toast](https://base-ui.com/react/components/toast)\n */\nexport const ToastClose = /*#__PURE__*/React.forwardRef(function ToastClose(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    disabled,\n    nativeButton = true,\n    ...elementProps\n  } = componentProps;\n  const {\n    close,\n    expanded\n  } = useToastContext();\n  const {\n    toast\n  } = useToastRootContext();\n  const [hasFocus, setHasFocus] = React.useState(false);\n  const {\n    getButtonProps,\n    buttonRef\n  } = useButton({\n    disabled,\n    native: nativeButton\n  });\n  const state = React.useMemo(() => ({\n    type: toast.type\n  }), [toast.type]);\n  const element = useRenderElement('button', componentProps, {\n    ref: [forwardedRef, buttonRef],\n    state,\n    props: [{\n      'aria-hidden': !expanded && !hasFocus,\n      onClick() {\n        close(toast.id);\n      },\n      onFocus() {\n        setHasFocus(true);\n      },\n      onBlur() {\n        setHasFocus(false);\n      }\n    }, elementProps, getButtonProps]\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") ToastClose.displayName = \"ToastClose\";", "'use client';\n\nimport * as React from 'react';\nimport { useToastRootContext } from \"../root/ToastRootContext.js\";\nimport { useButton } from \"../../use-button/useButton.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * Performs an action when clicked.\n * Renders a `<button>` element.\n *\n * Documentation: [Base UI Toast](https://base-ui.com/react/components/toast)\n */\nexport const ToastAction = /*#__PURE__*/React.forwardRef(function ToastAction(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    disabled,\n    nativeButton = true,\n    ...elementProps\n  } = componentProps;\n  const {\n    toast\n  } = useToastRootContext();\n  const computedChildren = toast.actionProps?.children ?? elementProps.children;\n  const shouldRender = Boolean(computedChildren);\n  const {\n    getButtonProps,\n    buttonRef\n  } = useButton({\n    disabled,\n    native: nativeButton\n  });\n  const state = React.useMemo(() => ({\n    type: toast.type\n  }), [toast.type]);\n  const element = useRenderElement('button', componentProps, {\n    ref: [forwardedRef, buttonRef],\n    state,\n    props: [elementProps, toast.actionProps, getButtonProps, {\n      children: computedChildren\n    }]\n  });\n  if (!shouldRender) {\n    return null;\n  }\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") ToastAction.displayName = \"ToastAction\";", "'use client';\n\nimport { FloatingPortalLite } from \"../../utils/FloatingPortalLite.js\";\n\n/**\n * A portal element that moves the viewport to a different part of the DOM.\n * By default, the portal element is appended to `<body>`.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Toast](https://base-ui.com/react/components/toast)\n */\nexport const ToastPortal = FloatingPortalLite;", "'use client';\n\nimport * as React from 'react';\nimport { isElement } from '@floating-ui/utils/dom';\nimport { useAnchorPositioning } from \"../../utils/useAnchorPositioning.js\";\nimport { popupStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { EMPTY_OBJECT, POPUP_COLLISION_AVOIDANCE } from \"../../utils/constants.js\";\nimport { ToastPositionerContext } from \"./ToastPositionerContext.js\";\nimport { useFloatingRootContext } from \"../../floating-ui-react/index.js\";\nimport { NOOP } from \"../../utils/noop.js\";\nimport { ToastRootCssVars } from \"../root/ToastRootCssVars.js\";\nimport { useToastContext } from \"../provider/ToastProviderContext.js\";\n\n/**\n * Positions the toast against the anchor.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Toast](https://base-ui.com/react/components/toast)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const ToastPositioner = /*#__PURE__*/React.forwardRef(function ToastPositioner(componentProps, forwardedRef) {\n  const {\n    toast,\n    ...props\n  } = componentProps;\n  const {\n    toasts\n  } = useToastContext();\n  const positionerProps = toast.positionerProps ?? EMPTY_OBJECT;\n  const {\n    render,\n    className,\n    anchor: anchorProp = positionerProps.anchor,\n    positionMethod = positionerProps.positionMethod ?? 'absolute',\n    side = positionerProps.side ?? 'top',\n    align = positionerProps.align ?? 'center',\n    sideOffset = positionerProps.sideOffset ?? 0,\n    alignOffset = positionerProps.alignOffset ?? 0,\n    collisionBoundary = positionerProps.collisionBoundary ?? 'clipping-ancestors',\n    collisionPadding = positionerProps.collisionPadding ?? 5,\n    arrowPadding = positionerProps.arrowPadding ?? 5,\n    sticky = positionerProps.sticky ?? false,\n    disableAnchorTracking = positionerProps.disableAnchorTracking ?? false,\n    collisionAvoidance = positionerProps.collisionAvoidance ?? POPUP_COLLISION_AVOIDANCE,\n    ...elementProps\n  } = props;\n  const [positionerElement, setPositionerElement] = React.useState(null);\n  const domIndex = React.useMemo(() => toasts.indexOf(toast), [toast, toasts]);\n  const visibleIndex = React.useMemo(() => toasts.filter(t => t.transitionStatus !== 'ending').indexOf(toast), [toast, toasts]);\n  const anchor = isElement(anchorProp) ? anchorProp : null;\n  const floatingRootContext = useFloatingRootContext({\n    open: true,\n    onOpenChange: NOOP,\n    elements: {\n      floating: positionerElement,\n      reference: anchor\n    }\n  });\n  const positioning = useAnchorPositioning({\n    anchor,\n    positionMethod,\n    floatingRootContext,\n    mounted: true,\n    side,\n    sideOffset,\n    align,\n    alignOffset,\n    collisionBoundary,\n    collisionPadding,\n    sticky,\n    arrowPadding,\n    disableAnchorTracking,\n    keepMounted: true,\n    collisionAvoidance\n  });\n  const defaultProps = React.useMemo(() => {\n    const hiddenStyles = {};\n    return {\n      role: 'presentation',\n      style: {\n        ...positioning.positionerStyles,\n        ...hiddenStyles,\n        [ToastRootCssVars.index]: toast.transitionStatus === 'ending' ? domIndex : visibleIndex\n      }\n    };\n  }, [positioning.positionerStyles, toast.transitionStatus, domIndex, visibleIndex]);\n  const state = React.useMemo(() => ({\n    side: positioning.side,\n    align: positioning.align,\n    anchorHidden: positioning.anchorHidden\n  }), [positioning.side, positioning.align, positioning.anchorHidden]);\n  const contextValue = React.useMemo(() => ({\n    ...state,\n    arrowRef: positioning.arrowRef,\n    arrowStyles: positioning.arrowStyles,\n    arrowUncentered: positioning.arrowUncentered\n  }), [state, positioning.arrowRef, positioning.arrowStyles, positioning.arrowUncentered]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    props: [defaultProps, elementProps],\n    ref: [forwardedRef, setPositionerElement],\n    stateAttributesMapping: popupStateMapping\n  });\n  return /*#__PURE__*/_jsx(ToastPositionerContext.Provider, {\n    value: contextValue,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") ToastPositioner.displayName = \"ToastPositioner\";", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const ToastPositionerContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") ToastPositionerContext.displayName = \"ToastPositionerContext\";\nexport function useToastPositionerContext() {\n  const context = React.useContext(ToastPositionerContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: ToastPositionerContext is missing. ToastPositioner parts must be placed within <Toast.Positioner>.' : _formatErrorMessage(84));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useToastPositionerContext } from \"../positioner/ToastPositionerContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\n\n/**\n * Displays an element positioned against the toast anchor.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Toast](https://base-ui.com/react/components/toast)\n */\nexport const ToastArrow = /*#__PURE__*/React.forwardRef(function ToastArrow(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const {\n    arrowRef,\n    side,\n    align,\n    arrowUncentered,\n    arrowStyles\n  } = useToastPositionerContext();\n  const state = React.useMemo(() => ({\n    side,\n    align,\n    uncentered: arrowUncentered\n  }), [side, align, arrowUncentered]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: [forwardedRef, arrowRef],\n    props: [{\n      style: arrowStyles,\n      'aria-hidden': true\n    }, elementProps]\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") ToastArrow.displayName = \"ToastArrow\";", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nimport { ToastContext } from \"./provider/ToastProviderContext.js\";\n/**\n * Returns the array of toasts and methods to manage them.\n */\nexport function useToastManager() {\n  const context = React.useContext(ToastContext);\n  if (!context) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: useToastManager must be used within <Toast.Provider>.' : _formatErrorMessage(73));\n  }\n  const {\n    toasts,\n    add,\n    close,\n    update,\n    promise\n  } = context;\n  return React.useMemo(() => ({\n    toasts,\n    add,\n    close,\n    update,\n    promise\n  }), [toasts, add, close, update, promise]);\n}", "import { generateId } from '@base-ui/utils/generateId';\n/**\n * Creates a new toast manager.\n */\nexport function createToastManager() {\n  const listeners = [];\n  function emit(data) {\n    listeners.forEach(listener => listener(data));\n  }\n  return {\n    // This should be private aside from ToastProvider needing to access it.\n    // https://x.com/drosenwasser/status/1816947740032872664\n    ' subscribe': function subscribe(listener) {\n      listeners.push(listener);\n      return () => {\n        const index = listeners.indexOf(listener);\n        if (index !== -1) {\n          listeners.splice(index, 1);\n        }\n      };\n    },\n    add(options) {\n      const id = options.id || generateId('toast');\n      const toastToAdd = {\n        ...options,\n        id,\n        transitionStatus: 'starting'\n      };\n      emit({\n        action: 'add',\n        options: toastToAdd\n      });\n      return id;\n    },\n    close(id) {\n      emit({\n        action: 'close',\n        options: {\n          id\n        }\n      });\n    },\n    update(id, updates) {\n      emit({\n        action: 'update',\n        options: {\n          ...updates,\n          id\n        }\n      });\n    },\n    promise(promiseValue, options) {\n      let handledPromise = promiseValue;\n      emit({\n        action: 'promise',\n        options: {\n          ...options,\n          promise: promiseValue,\n          setPromise(promise) {\n            handledPromise = promise;\n          }\n        }\n      });\n      return handledPromise;\n    }\n  };\n}", "'use client';\n\nimport * as React from 'react';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useControlled } from '@base-ui/utils/useControlled';\nimport { useBaseUiId } from \"../utils/useBaseUiId.js\";\nimport { useRenderElement } from \"../utils/useRenderElement.js\";\nimport { useToggleGroupContext } from \"../toggle-group/ToggleGroupContext.js\";\nimport { useButton } from \"../use-button/useButton.js\";\nimport { CompositeItem } from \"../composite/item/CompositeItem.js\";\nimport { createChangeEventDetails } from \"../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../utils/reasons.js\";\n\n/**\n * A two-state button that can be on or off.\n * Renders a `<button>` element.\n *\n * Documentation: [Base UI Toggle](https://base-ui.com/react/components/toggle)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const Toggle = /*#__PURE__*/React.forwardRef(function Toggle(componentProps, forwardedRef) {\n  const {\n    className,\n    defaultPressed: defaultPressedProp = false,\n    disabled: disabledProp = false,\n    form,\n    // never participates in form validation\n    onPressedChange: onPressedChangeProp,\n    pressed: pressedProp,\n    render,\n    type,\n    // cannot change button type\n    value: valueProp,\n    nativeButton = true,\n    ...elementProps\n  } = componentProps;\n\n  // `|| undefined` handles cases, where value is falsy (i.e. \"\")\n  const value = useBaseUiId(valueProp || undefined);\n  const groupContext = useToggleGroupContext();\n  const groupValue = groupContext?.value ?? [];\n  const defaultPressed = groupContext ? undefined : defaultPressedProp;\n  const disabled = (disabledProp || groupContext?.disabled) ?? false;\n  const [pressed, setPressedState] = useControlled({\n    controlled: groupContext ? groupValue?.indexOf(value) > -1 : pressedProp,\n    default: defaultPressed,\n    name: 'Toggle',\n    state: 'pressed'\n  });\n  const onPressedChange = useStableCallback((nextPressed, eventDetails) => {\n    if (value) {\n      groupContext?.setGroupValue?.(value, nextPressed, eventDetails);\n    }\n    onPressedChangeProp?.(nextPressed, eventDetails);\n  });\n  const {\n    getButtonProps,\n    buttonRef\n  } = useButton({\n    disabled,\n    native: nativeButton\n  });\n  const state = React.useMemo(() => ({\n    disabled,\n    pressed\n  }), [disabled, pressed]);\n  const refs = [buttonRef, forwardedRef];\n  const props = [{\n    'aria-pressed': pressed,\n    onClick(event) {\n      const nextPressed = !pressed;\n      const details = createChangeEventDetails(REASONS.none, event.nativeEvent);\n      onPressedChange(nextPressed, details);\n      if (details.isCanceled) {\n        return;\n      }\n      setPressedState(nextPressed);\n    }\n  }, elementProps, getButtonProps];\n  const element = useRenderElement('button', componentProps, {\n    enabled: !groupContext,\n    state,\n    ref: refs,\n    props\n  });\n  if (groupContext) {\n    return /*#__PURE__*/_jsx(CompositeItem, {\n      tag: \"button\",\n      render: render,\n      className: className,\n      state: state,\n      refs: refs,\n      props: props\n    });\n  }\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") Toggle.displayName = \"Toggle\";", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const ToggleGroupContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") ToggleGroupContext.displayName = \"ToggleGroupContext\";\nexport function useToggleGroupContext(optional = true) {\n  const context = React.useContext(ToggleGroupContext);\n  if (context === undefined && !optional) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: ToggleGroupContext is missing. ToggleGroup parts must be placed within <ToggleGroup>.' : _formatErrorMessage(7));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useControlled } from '@base-ui/utils/useControlled';\nimport { useRenderElement } from \"../utils/useRenderElement.js\";\nimport { CompositeRoot } from \"../composite/root/CompositeRoot.js\";\nimport { useToolbarRootContext } from \"../toolbar/root/ToolbarRootContext.js\";\nimport { ToggleGroupContext } from \"./ToggleGroupContext.js\";\nimport { ToggleGroupDataAttributes } from \"./ToggleGroupDataAttributes.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst stateAttributesMapping = {\n  multiple(value) {\n    if (value) {\n      return {\n        [ToggleGroupDataAttributes.multiple]: ''\n      };\n    }\n    return null;\n  }\n};\n\n/**\n * Provides a shared state to a series of toggle buttons.\n *\n * Documentation: [Base UI Toggle Group](https://base-ui.com/react/components/toggle-group)\n */\nexport const ToggleGroup = /*#__PURE__*/React.forwardRef(function ToggleGroup(componentProps, forwardedRef) {\n  const {\n    defaultValue: defaultValueProp,\n    disabled: disabledProp = false,\n    loopFocus = true,\n    onValueChange,\n    orientation = 'horizontal',\n    multiple = false,\n    value: valueProp,\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const toolbarContext = useToolbarRootContext(true);\n  const defaultValue = React.useMemo(() => {\n    if (valueProp === undefined) {\n      return defaultValueProp ?? [];\n    }\n    return undefined;\n  }, [valueProp, defaultValueProp]);\n  const disabled = (toolbarContext?.disabled ?? false) || disabledProp;\n  const [groupValue, setValueState] = useControlled({\n    controlled: valueProp,\n    default: defaultValue,\n    name: 'ToggleGroup',\n    state: 'value'\n  });\n  const setGroupValue = useStableCallback((newValue, nextPressed, eventDetails) => {\n    let newGroupValue;\n    if (multiple) {\n      newGroupValue = groupValue.slice();\n      if (nextPressed) {\n        newGroupValue.push(newValue);\n      } else {\n        newGroupValue.splice(groupValue.indexOf(newValue), 1);\n      }\n    } else {\n      newGroupValue = nextPressed ? [newValue] : [];\n    }\n    if (Array.isArray(newGroupValue)) {\n      onValueChange?.(newGroupValue, eventDetails);\n      if (eventDetails.isCanceled) {\n        return;\n      }\n      setValueState(newGroupValue);\n    }\n  });\n  const state = React.useMemo(() => ({\n    disabled,\n    multiple,\n    orientation\n  }), [disabled, orientation, multiple]);\n  const contextValue = React.useMemo(() => ({\n    disabled,\n    orientation,\n    setGroupValue,\n    value: groupValue\n  }), [disabled, orientation, setGroupValue, groupValue]);\n  const defaultProps = {\n    role: 'group'\n  };\n  const element = useRenderElement('div', componentProps, {\n    enabled: Boolean(toolbarContext),\n    state,\n    ref: forwardedRef,\n    props: [defaultProps, elementProps],\n    stateAttributesMapping\n  });\n  return /*#__PURE__*/_jsx(ToggleGroupContext.Provider, {\n    value: contextValue,\n    children: toolbarContext ? element : /*#__PURE__*/_jsx(CompositeRoot, {\n      render: render,\n      className: className,\n      state: state,\n      refs: [forwardedRef],\n      props: [defaultProps, elementProps],\n      stateAttributesMapping: stateAttributesMapping,\n      loopFocus: loopFocus\n    })\n  });\n});\nif (process.env.NODE_ENV !== \"production\") ToggleGroup.displayName = \"ToggleGroup\";", "export let ToggleGroupDataAttributes = /*#__PURE__*/function (ToggleGroupDataAttributes) {\n  /**\n   * Present when the toggle group is disabled.\n   */\n  ToggleGroupDataAttributes[\"disabled\"] = \"data-disabled\";\n  /**\n   * Indicates the orientation of the toggle group.\n   * @type {'horizontal' | 'vertical'}\n   */\n  ToggleGroupDataAttributes[\"orientation\"] = \"data-orientation\";\n  /**\n   * Present when the toggle group allows multiple buttons to be in the pressed state at the same time.\n   */\n  ToggleGroupDataAttributes[\"multiple\"] = \"data-multiple\";\n  return ToggleGroupDataAttributes;\n}({});", "export { ToolbarSeparator as Separator } from \"./separator/ToolbarSeparator.js\";\nexport { ToolbarRoot as Root } from \"./root/ToolbarRoot.js\";\nexport { ToolbarGroup as Group } from \"./group/ToolbarGroup.js\";\nexport { ToolbarButton as Button } from \"./button/ToolbarButton.js\";\nexport { ToolbarLink as Link } from \"./link/ToolbarLink.js\";\nexport { ToolbarInput as Input } from \"./input/ToolbarInput.js\";", "'use client';\n\nimport * as React from 'react';\nimport { Separator } from \"../../separator/index.js\";\nimport { useToolbarRootContext } from \"../root/ToolbarRootContext.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n/**\n * A separator element accessible to screen readers.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Toolbar](https://base-ui.com/react/components/toolbar)\n */\nexport const ToolbarSeparator = /*#__PURE__*/React.forwardRef(function ToolbarSeparator(props, forwardedRef) {\n  const context = useToolbarRootContext();\n  const orientation = {\n    vertical: 'horizontal',\n    horizontal: 'vertical'\n  }[context.orientation];\n  return /*#__PURE__*/_jsx(Separator, {\n    orientation: orientation,\n    ...props,\n    ref: forwardedRef\n  });\n});\nif (process.env.NODE_ENV !== \"production\") ToolbarSeparator.displayName = \"ToolbarSeparator\";", "'use client';\n\nimport * as React from 'react';\nimport { CompositeRoot } from \"../../composite/root/CompositeRoot.js\";\nimport { ToolbarRootContext } from \"./ToolbarRootContext.js\";\n\n/**\n * A container for grouping a set of controls, such as buttons, toggle groups, or menus.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Toolbar](https://base-ui.com/react/components/toolbar)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const ToolbarRoot = /*#__PURE__*/React.forwardRef(function ToolbarRoot(componentProps, forwardedRef) {\n  const {\n    disabled = false,\n    loopFocus = true,\n    orientation = 'horizontal',\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const [itemMap, setItemMap] = React.useState(() => new Map());\n  const disabledIndices = React.useMemo(() => {\n    const output = [];\n    for (const itemMetadata of itemMap.values()) {\n      if (itemMetadata?.index && !itemMetadata.focusableWhenDisabled) {\n        output.push(itemMetadata.index);\n      }\n    }\n    return output;\n  }, [itemMap]);\n  const toolbarRootContext = React.useMemo(() => ({\n    disabled,\n    orientation,\n    setItemMap\n  }), [disabled, orientation, setItemMap]);\n  const state = React.useMemo(() => ({\n    disabled,\n    orientation\n  }), [disabled, orientation]);\n  const defaultProps = {\n    'aria-orientation': orientation,\n    role: 'toolbar'\n  };\n  return /*#__PURE__*/_jsx(ToolbarRootContext.Provider, {\n    value: toolbarRootContext,\n    children: /*#__PURE__*/_jsx(CompositeRoot, {\n      render: render,\n      className: className,\n      state: state,\n      refs: [forwardedRef],\n      props: [defaultProps, elementProps],\n      disabledIndices: disabledIndices,\n      loopFocus: loopFocus,\n      onMapChange: setItemMap,\n      orientation: orientation\n    })\n  });\n});\nif (process.env.NODE_ENV !== \"production\") ToolbarRoot.displayName = \"ToolbarRoot\";", "'use client';\n\nimport * as React from 'react';\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useToolbarRootContext } from \"../root/ToolbarRootContext.js\";\nimport { ToolbarGroupContext } from \"./ToolbarGroupContext.js\";\n\n/**\n * Groups several toolbar items or toggles.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Toolbar](https://base-ui.com/react/components/toolbar)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const ToolbarGroup = /*#__PURE__*/React.forwardRef(function ToolbarGroup(componentProps, forwardedRef) {\n  const {\n    className,\n    disabled: disabledProp = false,\n    render,\n    ...elementProps\n  } = componentProps;\n  const {\n    orientation,\n    disabled: toolbarDisabled\n  } = useToolbarRootContext();\n  const disabled = toolbarDisabled || disabledProp;\n  const contextValue = React.useMemo(() => ({\n    disabled\n  }), [disabled]);\n  const state = React.useMemo(() => ({\n    disabled,\n    orientation\n  }), [disabled, orientation]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: [{\n      role: 'group'\n    }, elementProps]\n  });\n  return /*#__PURE__*/_jsx(ToolbarGroupContext.Provider, {\n    value: contextValue,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") ToolbarGroup.displayName = \"ToolbarGroup\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const ToolbarGroupContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") ToolbarGroupContext.displayName = \"ToolbarGroupContext\";\nexport function useToolbarGroupContext(optional) {\n  const context = React.useContext(ToolbarGroupContext);\n  if (context === undefined && !optional) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: ToolbarGroupContext is missing. ToolbarGroup parts must be placed within <Toolbar.Group>.' : _formatErrorMessage(68));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useButton } from \"../../use-button/index.js\";\nimport { useToolbarRootContext } from \"../root/ToolbarRootContext.js\";\nimport { useToolbarGroupContext } from \"../group/ToolbarGroupContext.js\";\nimport { CompositeItem } from \"../../composite/item/CompositeItem.js\";\n\n/**\n * A button that can be used as-is or as a trigger for other components.\n * Renders a `<button>` element.\n *\n * Documentation: [Base UI Toolbar](https://base-ui.com/react/components/toolbar)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const ToolbarButton = /*#__PURE__*/React.forwardRef(function ToolbarButton(componentProps, forwardedRef) {\n  const {\n    className,\n    disabled: disabledProp = false,\n    focusableWhenDisabled = true,\n    render,\n    nativeButton = true,\n    ...elementProps\n  } = componentProps;\n  const itemMetadata = React.useMemo(() => ({\n    focusableWhenDisabled\n  }), [focusableWhenDisabled]);\n  const {\n    disabled: toolbarDisabled,\n    orientation\n  } = useToolbarRootContext();\n  const groupContext = useToolbarGroupContext(true);\n  const disabled = toolbarDisabled || (groupContext?.disabled ?? false) || disabledProp;\n  const {\n    getButtonProps,\n    buttonRef\n  } = useButton({\n    disabled,\n    focusableWhenDisabled,\n    native: nativeButton\n  });\n  const state = React.useMemo(() => ({\n    disabled,\n    orientation,\n    focusable: focusableWhenDisabled\n  }), [disabled, focusableWhenDisabled, orientation]);\n  return /*#__PURE__*/_jsx(CompositeItem, {\n    tag: \"button\",\n    render: render,\n    className: className,\n    metadata: itemMetadata,\n    state: state,\n    refs: [forwardedRef, buttonRef],\n    props: [elementProps,\n    // for integrating with Menu and Select disabled states, `disabled` is\n    // intentionally duplicated even though getButtonProps includes it already\n    // TODO: follow up after https://github.com/mui/base-ui/issues/1976#issuecomment-2916905663\n    {\n      disabled\n    }, getButtonProps]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") ToolbarButton.displayName = \"ToolbarButton\";", "'use client';\n\nimport * as React from 'react';\nimport { useToolbarRootContext } from \"../root/ToolbarRootContext.js\";\nimport { CompositeItem } from \"../../composite/item/CompositeItem.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst TOOLBAR_LINK_METADATA = {\n  // links cannot be disabled, this metadata is only used for deriving `disabledIndices``\n  // TODO: better name\n  focusableWhenDisabled: true\n};\n\n/**\n * A link component.\n * Renders an `<a>` element.\n *\n * Documentation: [Base UI Toolbar](https://base-ui.com/react/components/toolbar)\n */\nexport const ToolbarLink = /*#__PURE__*/React.forwardRef(function ToolbarLink(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const {\n    orientation\n  } = useToolbarRootContext();\n  const state = React.useMemo(() => ({\n    orientation\n  }), [orientation]);\n  return /*#__PURE__*/_jsx(CompositeItem, {\n    tag: \"a\",\n    render: render,\n    className: className,\n    metadata: TOOLBAR_LINK_METADATA,\n    state: state,\n    refs: [forwardedRef],\n    props: [elementProps]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") ToolbarLink.displayName = \"ToolbarLink\";", "'use client';\n\nimport * as React from 'react';\nimport { useFocusableWhenDisabled } from \"../../utils/useFocusableWhenDisabled.js\";\nimport { ARROW_LEFT, ARROW_RIGHT, stopEvent } from \"../../composite/composite.js\";\nimport { useToolbarRootContext } from \"../root/ToolbarRootContext.js\";\nimport { useToolbarGroupContext } from \"../group/ToolbarGroupContext.js\";\nimport { CompositeItem } from \"../../composite/item/CompositeItem.js\";\n\n/**\n * A native input element that integrates with Toolbar keyboard navigation.\n * Renders an `<input>` element.\n *\n * Documentation: [Base UI Toolbar](https://base-ui.com/react/components/toolbar)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const ToolbarInput = /*#__PURE__*/React.forwardRef(function ToolbarInput(componentProps, forwardedRef) {\n  const {\n    className,\n    focusableWhenDisabled = true,\n    render,\n    disabled: disabledProp = false,\n    ...elementProps\n  } = componentProps;\n  const itemMetadata = React.useMemo(() => ({\n    focusableWhenDisabled\n  }), [focusableWhenDisabled]);\n  const {\n    disabled: toolbarDisabled,\n    orientation\n  } = useToolbarRootContext();\n  const groupContext = useToolbarGroupContext(true);\n  const disabled = toolbarDisabled || (groupContext?.disabled ?? false) || disabledProp;\n  const {\n    props: focusableWhenDisabledProps\n  } = useFocusableWhenDisabled({\n    composite: true,\n    disabled,\n    focusableWhenDisabled,\n    isNativeButton: false\n  });\n  const state = React.useMemo(() => ({\n    disabled,\n    orientation,\n    focusable: focusableWhenDisabled\n  }), [disabled, focusableWhenDisabled, orientation]);\n  const defaultProps = {\n    onClick(event) {\n      if (disabled) {\n        event.preventDefault();\n      }\n    },\n    onKeyDown(event) {\n      if (event.key !== ARROW_LEFT && event.key !== ARROW_RIGHT && disabled) {\n        stopEvent(event);\n      }\n    },\n    onPointerDown(event) {\n      if (disabled) {\n        event.preventDefault();\n      }\n    }\n  };\n  return /*#__PURE__*/_jsx(CompositeItem, {\n    tag: \"input\",\n    render: render,\n    className: className,\n    metadata: itemMetadata,\n    state: state,\n    refs: [forwardedRef],\n    props: [defaultProps, elementProps, focusableWhenDisabledProps]\n  });\n});\nif (process.env.NODE_ENV !== \"production\") ToolbarInput.displayName = \"ToolbarInput\";", "export { TooltipRoot as Root } from \"./root/TooltipRoot.js\";\nexport { TooltipTrigger as Trigger } from \"./trigger/TooltipTrigger.js\";\nexport { TooltipPortal as Portal } from \"./portal/TooltipPortal.js\";\nexport { TooltipPositioner as Positioner } from \"./positioner/TooltipPositioner.js\";\nexport { TooltipPopup as Popup } from \"./popup/TooltipPopup.js\";\nexport { TooltipArrow as Arrow } from \"./arrow/TooltipArrow.js\";\nexport { TooltipProvider as Provider } from \"./provider/TooltipProvider.js\";\nexport { TooltipViewport as Viewport } from \"./viewport/TooltipViewport.js\";\nexport { createTooltipHandle as createHandle, TooltipHandle as Handle } from \"./store/TooltipHandle.js\";", "'use client';\n\nimport * as React from 'react';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { TooltipRootContext } from \"./TooltipRootContext.js\";\nimport { useClientPoint, useDismiss, useFocus, useInteractions } from \"../../floating-ui-react/index.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { useImplicitActiveTrigger, useOpenStateTransitions } from \"../../utils/popups/index.js\";\nimport { TooltipStore } from \"../store/TooltipStore.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\n\n/**\n * Groups all parts of the tooltip.\n * Doesnt render its own HTML element.\n *\n * Documentation: [Base UI Tooltip](https://base-ui.com/react/components/tooltip)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport function TooltipRoot(props) {\n  const {\n    disabled = false,\n    defaultOpen = false,\n    open: openProp,\n    disableHoverablePopup = false,\n    trackCursorAxis = 'none',\n    actionsRef,\n    onOpenChange,\n    onOpenChangeComplete,\n    handle,\n    triggerId: triggerIdProp,\n    defaultTriggerId: defaultTriggerIdProp = null,\n    children\n  } = props;\n  const store = TooltipStore.useStore(handle?.store, {\n    open: openProp ?? defaultOpen,\n    activeTriggerId: triggerIdProp !== undefined ? triggerIdProp : defaultTriggerIdProp\n  });\n  store.useControlledProp('open', openProp, defaultOpen);\n  store.useControlledProp('activeTriggerId', triggerIdProp, defaultTriggerIdProp);\n  store.useContextCallback('onOpenChange', onOpenChange);\n  store.useContextCallback('onOpenChangeComplete', onOpenChangeComplete);\n  const openState = store.useState('open');\n  const open = !disabled && openState;\n  const activeTriggerId = store.useState('activeTriggerId');\n  const payload = store.useState('payload');\n  store.useSyncedValues({\n    trackCursorAxis,\n    disableHoverablePopup\n  });\n  useIsoLayoutEffect(() => {\n    if (openState && disabled) {\n      store.setOpen(false, createChangeEventDetails(REASONS.disabled));\n    }\n  }, [openState, disabled, store]);\n  store.useSyncedValue('disabled', disabled);\n  useImplicitActiveTrigger(store);\n  const {\n    forceUnmount,\n    transitionStatus\n  } = useOpenStateTransitions(open, store);\n  const isInstantPhase = store.useState('isInstantPhase');\n  const instantType = store.useState('instantType');\n  const lastOpenChangeReason = store.useState('lastOpenChangeReason');\n\n  // Animations should be instant in two cases:\n  // 1) Opening during the provider's instant phase (adjacent tooltip opens instantly)\n  // 2) Closing because another tooltip opened (reason === 'none')\n  // Otherwise, allow the animation to play. In particular, do not disable animations\n  // during the 'ending' phase unless it's due to a sibling opening.\n  const previousInstantTypeRef = React.useRef(null);\n  useIsoLayoutEffect(() => {\n    if (transitionStatus === 'ending' && lastOpenChangeReason === REASONS.none || transitionStatus !== 'ending' && isInstantPhase) {\n      // Capture the current instant type so we can restore it later\n      // and set to 'delay' to disable animations while moving from one trigger to another\n      // within a delay group.\n      if (instantType !== 'delay') {\n        previousInstantTypeRef.current = instantType;\n      }\n      store.set('instantType', 'delay');\n    } else if (previousInstantTypeRef.current !== null) {\n      store.set('instantType', previousInstantTypeRef.current);\n      previousInstantTypeRef.current = null;\n    }\n  }, [transitionStatus, isInstantPhase, lastOpenChangeReason, instantType, store]);\n  useIsoLayoutEffect(() => {\n    if (open) {\n      if (activeTriggerId == null) {\n        store.set('payload', undefined);\n      }\n    }\n  }, [store, activeTriggerId, open]);\n  const handleImperativeClose = React.useCallback(() => {\n    store.setOpen(false, createTooltipEventDetails(store, REASONS.imperativeAction));\n  }, [store]);\n  React.useImperativeHandle(actionsRef, () => ({\n    unmount: forceUnmount,\n    close: handleImperativeClose\n  }), [forceUnmount, handleImperativeClose]);\n  const floatingRootContext = store.useState('floatingRootContext');\n  const focus = useFocus(floatingRootContext, {\n    enabled: !disabled\n  });\n  const dismiss = useDismiss(floatingRootContext, {\n    enabled: !disabled,\n    referencePress: true\n  });\n  const clientPoint = useClientPoint(floatingRootContext, {\n    enabled: !disabled && trackCursorAxis !== 'none',\n    axis: trackCursorAxis === 'none' ? undefined : trackCursorAxis\n  });\n  const {\n    getReferenceProps,\n    getFloatingProps,\n    getTriggerProps\n  } = useInteractions([focus, dismiss, clientPoint]);\n  const activeTriggerProps = React.useMemo(() => getReferenceProps(), [getReferenceProps]);\n  const inactiveTriggerProps = React.useMemo(() => getTriggerProps(), [getTriggerProps]);\n  const popupProps = React.useMemo(() => getFloatingProps(), [getFloatingProps]);\n  store.useSyncedValues({\n    activeTriggerProps,\n    inactiveTriggerProps,\n    popupProps\n  });\n  return /*#__PURE__*/_jsx(TooltipRootContext.Provider, {\n    value: store,\n    children: typeof children === 'function' ? children({\n      payload\n    }) : children\n  });\n}\nfunction createTooltipEventDetails(store, reason) {\n  const details = createChangeEventDetails(reason);\n  details.preventUnmountOnClose = () => {\n    store.set('preventUnmountingOnClose', true);\n  };\n  return details;\n}", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const TooltipRootContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") TooltipRootContext.displayName = \"TooltipRootContext\";\nexport function useTooltipRootContext(optional) {\n  const context = React.useContext(TooltipRootContext);\n  if (context === undefined && !optional) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: TooltipRootContext is missing. Tooltip parts must be placed within <Tooltip.Root>.' : _formatErrorMessage(72));\n  }\n  return context;\n}", "import * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport { createSelector, ReactStore } from '@base-ui/utils/store';\nimport { useRefWithInit } from '@base-ui/utils/useRefWithInit';\nimport { useSyncedFloatingRootContext } from \"../../floating-ui-react/index.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\nimport { createInitialPopupStoreState, popupStoreSelectors, PopupTriggerMap } from \"../../utils/popups/index.js\";\nconst selectors = {\n  ...popupStoreSelectors,\n  disabled: createSelector(state => state.disabled),\n  instantType: createSelector(state => state.instantType),\n  isInstantPhase: createSelector(state => state.isInstantPhase),\n  trackCursorAxis: createSelector(state => state.trackCursorAxis),\n  disableHoverablePopup: createSelector(state => state.disableHoverablePopup),\n  lastOpenChangeReason: createSelector(state => state.openChangeReason),\n  closeDelay: createSelector(state => state.closeDelay),\n  hasViewport: createSelector(state => state.hasViewport)\n};\nexport class TooltipStore extends ReactStore {\n  constructor(initialState) {\n    super({\n      ...createInitialState(),\n      ...initialState\n    }, {\n      popupRef: /*#__PURE__*/React.createRef(),\n      onOpenChange: undefined,\n      onOpenChangeComplete: undefined,\n      triggerElements: new PopupTriggerMap()\n    }, selectors);\n  }\n  setOpen = (nextOpen, eventDetails) => {\n    const reason = eventDetails.reason;\n    const isHover = reason === REASONS.triggerHover;\n    const isFocusOpen = nextOpen && reason === REASONS.triggerFocus;\n    const isDismissClose = !nextOpen && (reason === REASONS.triggerPress || reason === REASONS.escapeKey);\n    eventDetails.preventUnmountOnClose = () => {\n      this.set('preventUnmountingOnClose', true);\n    };\n    this.context.onOpenChange?.(nextOpen, eventDetails);\n    if (eventDetails.isCanceled) {\n      return;\n    }\n    const changeState = () => {\n      const updatedState = {\n        open: nextOpen,\n        openChangeReason: reason\n      };\n      if (isFocusOpen) {\n        updatedState.instantType = 'focus';\n      } else if (isDismissClose) {\n        updatedState.instantType = 'dismiss';\n      } else if (reason === REASONS.triggerHover) {\n        updatedState.instantType = undefined;\n      }\n\n      // If a popup is closing, the `trigger` may be null.\n      // We want to keep the previous value so that exit animations are played and focus is returned correctly.\n      const newTriggerId = eventDetails.trigger?.id ?? null;\n      if (newTriggerId || nextOpen) {\n        updatedState.activeTriggerId = newTriggerId;\n        updatedState.activeTriggerElement = eventDetails.trigger ?? null;\n      }\n      this.update(updatedState);\n    };\n    if (isHover) {\n      // If a hover reason is provided, we need to flush the state synchronously. This ensures\n      // `node.getAnimations()` knows about the new state.\n      ReactDOM.flushSync(changeState);\n    } else {\n      changeState();\n    }\n  };\n  static useStore(externalStore, initialState) {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const internalStore = useRefWithInit(() => {\n      return new TooltipStore(initialState);\n    }).current;\n    const store = externalStore ?? internalStore;\n\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const floatingRootContext = useSyncedFloatingRootContext({\n      popupStore: store,\n      onOpenChange: store.setOpen\n    });\n\n    // It's safe to set this here because when this code runs for the first time,\n    // nothing has had a chance to subscribe to the `store` yet.\n    // For subsequent renders, the `floatingRootContext` reference remains the same,\n    // so it's basically a no-op.\n    store.state.floatingRootContext = floatingRootContext;\n    return store;\n  }\n}\nfunction createInitialState() {\n  return {\n    ...createInitialPopupStoreState(),\n    disabled: false,\n    instantType: undefined,\n    isInstantPhase: false,\n    trackCursorAxis: 'none',\n    disableHoverablePopup: false,\n    openChangeReason: null,\n    closeDelay: 0,\n    hasViewport: false\n  };\n}", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nimport { useTooltipRootContext } from \"../root/TooltipRootContext.js\";\nimport { triggerOpenStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useTriggerDataForwarding } from \"../../utils/popups/index.js\";\nimport { useBaseUiId } from \"../../utils/useBaseUiId.js\";\nimport { useTooltipProviderContext } from \"../provider/TooltipProviderContext.js\";\nimport { safePolygon, useDelayGroup, useHoverReferenceInteraction } from \"../../floating-ui-react/index.js\";\nimport { OPEN_DELAY } from \"../utils/constants.js\";\n\n/**\n * An element to attach the tooltip to.\n * Renders a `<button>` element.\n *\n * Documentation: [Base UI Tooltip](https://base-ui.com/react/components/tooltip)\n */\nexport const TooltipTrigger = /*#__PURE__*/React.forwardRef(function TooltipTrigger(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    handle,\n    payload,\n    disabled: disabledProp,\n    delay,\n    closeDelay,\n    id: idProp,\n    ...elementProps\n  } = componentProps;\n  const rootContext = useTooltipRootContext(true);\n  const store = handle?.store ?? rootContext;\n  if (!store) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: <Tooltip.Trigger> must be either used within a <Tooltip.Root> component or provided with a handle.' : _formatErrorMessage(82));\n  }\n  const thisTriggerId = useBaseUiId(idProp);\n  const isTriggerActive = store.useState('isTriggerActive', thisTriggerId);\n  const isOpenedByThisTrigger = store.useState('isOpenedByTrigger', thisTriggerId);\n  const floatingRootContext = store.useState('floatingRootContext');\n  const triggerElementRef = React.useRef(null);\n  const delayWithDefault = delay ?? OPEN_DELAY;\n  const closeDelayWithDefault = closeDelay ?? 0;\n  const {\n    registerTrigger,\n    isMountedByThisTrigger\n  } = useTriggerDataForwarding(thisTriggerId, triggerElementRef, store, {\n    payload,\n    closeDelay: closeDelayWithDefault\n  });\n  const providerContext = useTooltipProviderContext();\n  const {\n    delayRef,\n    isInstantPhase,\n    hasProvider\n  } = useDelayGroup(floatingRootContext, {\n    open: isOpenedByThisTrigger\n  });\n  store.useSyncedValue('isInstantPhase', isInstantPhase);\n  const rootDisabled = store.useState('disabled');\n  const disabled = disabledProp ?? rootDisabled;\n  const trackCursorAxis = store.useState('trackCursorAxis');\n  const disableHoverablePopup = store.useState('disableHoverablePopup');\n  const hoverProps = useHoverReferenceInteraction(floatingRootContext, {\n    enabled: !disabled,\n    mouseOnly: true,\n    move: false,\n    handleClose: !disableHoverablePopup && trackCursorAxis !== 'both' ? safePolygon() : null,\n    restMs() {\n      const providerDelay = providerContext?.delay;\n      const groupOpenValue = typeof delayRef.current === 'object' ? delayRef.current.open : undefined;\n      let computedRestMs = delayWithDefault;\n      if (hasProvider) {\n        if (groupOpenValue !== 0) {\n          computedRestMs = delay ?? providerDelay ?? delayWithDefault;\n        } else {\n          computedRestMs = 0;\n        }\n      }\n      return computedRestMs;\n    },\n    delay() {\n      const closeValue = typeof delayRef.current === 'object' ? delayRef.current.close : undefined;\n      let computedCloseDelay = closeDelayWithDefault;\n      if (closeDelay == null && hasProvider) {\n        computedCloseDelay = closeValue;\n      }\n      return {\n        close: computedCloseDelay\n      };\n    },\n    triggerElementRef,\n    isActiveTrigger: isTriggerActive\n  });\n  const state = React.useMemo(() => ({\n    open: isOpenedByThisTrigger\n  }), [isOpenedByThisTrigger]);\n  const rootTriggerProps = store.useState('triggerProps', isMountedByThisTrigger);\n  const element = useRenderElement('button', componentProps, {\n    state,\n    ref: [forwardedRef, registerTrigger, triggerElementRef],\n    props: [hoverProps, rootTriggerProps, {\n      id: thisTriggerId\n    }, elementProps],\n    stateAttributesMapping: triggerOpenStateMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") TooltipTrigger.displayName = \"TooltipTrigger\";", "import * as React from 'react';\nexport const TooltipProviderContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") TooltipProviderContext.displayName = \"TooltipProviderContext\";\nexport function useTooltipProviderContext() {\n  return React.useContext(TooltipProviderContext);\n}", "export const OPEN_DELAY = 600;", "'use client';\n\nimport * as React from 'react';\nimport { useTooltipRootContext } from \"../root/TooltipRootContext.js\";\nimport { TooltipPortalContext } from \"./TooltipPortalContext.js\";\nimport { FloatingPortalLite } from \"../../utils/FloatingPortalLite.js\";\n\n/**\n * A portal element that moves the popup to a different part of the DOM.\n * By default, the portal element is appended to `<body>`.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Tooltip](https://base-ui.com/react/components/tooltip)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const TooltipPortal = /*#__PURE__*/React.forwardRef(function TooltipPortal(props, forwardedRef) {\n  const {\n    keepMounted = false,\n    ...portalProps\n  } = props;\n  const store = useTooltipRootContext();\n  const mounted = store.useState('mounted');\n  const shouldRender = mounted || keepMounted;\n  if (!shouldRender) {\n    return null;\n  }\n  return /*#__PURE__*/_jsx(TooltipPortalContext.Provider, {\n    value: keepMounted,\n    children: /*#__PURE__*/_jsx(FloatingPortalLite, {\n      ref: forwardedRef,\n      ...portalProps\n    })\n  });\n});\nif (process.env.NODE_ENV !== \"production\") TooltipPortal.displayName = \"TooltipPortal\";", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const TooltipPortalContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") TooltipPortalContext.displayName = \"TooltipPortalContext\";\nexport function useTooltipPortalContext() {\n  const value = React.useContext(TooltipPortalContext);\n  if (value === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: <Tooltip.Portal> is missing.' : _formatErrorMessage(70));\n  }\n  return value;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useTooltipRootContext } from \"../root/TooltipRootContext.js\";\nimport { TooltipPositionerContext } from \"./TooltipPositionerContext.js\";\nimport { useAnchorPositioning } from \"../../utils/useAnchorPositioning.js\";\nimport { popupStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { useTooltipPortalContext } from \"../portal/TooltipPortalContext.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { POPUP_COLLISION_AVOIDANCE } from \"../../utils/constants.js\";\nimport { adaptiveOrigin } from \"../../utils/adaptiveOriginMiddleware.js\";\nimport { getDisabledMountTransitionStyles } from \"../../utils/getDisabledMountTransitionStyles.js\";\n\n/**\n * Positions the tooltip against the trigger.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Tooltip](https://base-ui.com/react/components/tooltip)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const TooltipPositioner = /*#__PURE__*/React.forwardRef(function TooltipPositioner(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    anchor,\n    positionMethod = 'absolute',\n    side = 'top',\n    align = 'center',\n    sideOffset = 0,\n    alignOffset = 0,\n    collisionBoundary = 'clipping-ancestors',\n    collisionPadding = 5,\n    arrowPadding = 5,\n    sticky = false,\n    disableAnchorTracking = false,\n    collisionAvoidance = POPUP_COLLISION_AVOIDANCE,\n    ...elementProps\n  } = componentProps;\n  const store = useTooltipRootContext();\n  const keepMounted = useTooltipPortalContext();\n  const open = store.useState('open');\n  const mounted = store.useState('mounted');\n  const trackCursorAxis = store.useState('trackCursorAxis');\n  const disableHoverablePopup = store.useState('disableHoverablePopup');\n  const floatingRootContext = store.useState('floatingRootContext');\n  const instantType = store.useState('instantType');\n  const transitionStatus = store.useState('transitionStatus');\n  const hasViewport = store.useState('hasViewport');\n  const positioning = useAnchorPositioning({\n    anchor,\n    positionMethod,\n    floatingRootContext,\n    mounted,\n    side,\n    sideOffset,\n    align,\n    alignOffset,\n    collisionBoundary,\n    collisionPadding,\n    sticky,\n    arrowPadding,\n    disableAnchorTracking,\n    keepMounted,\n    collisionAvoidance,\n    adaptiveOrigin: hasViewport ? adaptiveOrigin : undefined\n  });\n  const defaultProps = React.useMemo(() => {\n    const hiddenStyles = {};\n    if (!open || trackCursorAxis === 'both' || disableHoverablePopup) {\n      hiddenStyles.pointerEvents = 'none';\n    }\n    return {\n      role: 'presentation',\n      hidden: !mounted,\n      style: {\n        ...positioning.positionerStyles,\n        ...hiddenStyles\n      }\n    };\n  }, [open, trackCursorAxis, disableHoverablePopup, mounted, positioning.positionerStyles]);\n  const state = React.useMemo(() => ({\n    open,\n    side: positioning.side,\n    align: positioning.align,\n    anchorHidden: positioning.anchorHidden,\n    instant: trackCursorAxis !== 'none' ? 'tracking-cursor' : instantType\n  }), [open, positioning.side, positioning.align, positioning.anchorHidden, trackCursorAxis, instantType]);\n  const contextValue = React.useMemo(() => ({\n    ...state,\n    arrowRef: positioning.arrowRef,\n    arrowStyles: positioning.arrowStyles,\n    arrowUncentered: positioning.arrowUncentered\n  }), [state, positioning.arrowRef, positioning.arrowStyles, positioning.arrowUncentered]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    props: [defaultProps, getDisabledMountTransitionStyles(transitionStatus), elementProps],\n    ref: [forwardedRef, store.useStateSetter('positionerElement')],\n    stateAttributesMapping: popupStateMapping\n  });\n  return /*#__PURE__*/_jsx(TooltipPositionerContext.Provider, {\n    value: contextValue,\n    children: element\n  });\n});\nif (process.env.NODE_ENV !== \"production\") TooltipPositioner.displayName = \"TooltipPositioner\";", "'use client';\n\nimport _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport * as React from 'react';\nexport const TooltipPositionerContext = /*#__PURE__*/React.createContext(undefined);\nif (process.env.NODE_ENV !== \"production\") TooltipPositionerContext.displayName = \"TooltipPositionerContext\";\nexport function useTooltipPositionerContext() {\n  const context = React.useContext(TooltipPositionerContext);\n  if (context === undefined) {\n    throw new Error(process.env.NODE_ENV !== \"production\" ? 'Base UI: TooltipPositionerContext is missing. TooltipPositioner parts must be placed within <Tooltip.Positioner>.' : _formatErrorMessage(71));\n  }\n  return context;\n}", "'use client';\n\nimport * as React from 'react';\nimport { useTooltipRootContext } from \"../root/TooltipRootContext.js\";\nimport { useTooltipPositionerContext } from \"../positioner/TooltipPositionerContext.js\";\nimport { popupStateMapping as baseMapping } from \"../../utils/popupStateMapping.js\";\nimport { transitionStatusMapping } from \"../../utils/stateAttributesMapping.js\";\nimport { useOpenChangeComplete } from \"../../utils/useOpenChangeComplete.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { getDisabledMountTransitionStyles } from \"../../utils/getDisabledMountTransitionStyles.js\";\nimport { useHoverFloatingInteraction } from \"../../floating-ui-react/index.js\";\nconst stateAttributesMapping = {\n  ...baseMapping,\n  ...transitionStatusMapping\n};\n\n/**\n * A container for the tooltip contents.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Tooltip](https://base-ui.com/react/components/tooltip)\n */\nexport const TooltipPopup = /*#__PURE__*/React.forwardRef(function TooltipPopup(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const store = useTooltipRootContext();\n  const {\n    side,\n    align\n  } = useTooltipPositionerContext();\n  const open = store.useState('open');\n  const instantType = store.useState('instantType');\n  const transitionStatus = store.useState('transitionStatus');\n  const popupProps = store.useState('popupProps');\n  const floatingContext = store.useState('floatingRootContext');\n  useOpenChangeComplete({\n    open,\n    ref: store.context.popupRef,\n    onComplete() {\n      if (open) {\n        store.context.onOpenChangeComplete?.(true);\n      }\n    }\n  });\n  const disabled = store.useState('disabled');\n  const closeDelay = store.useState('closeDelay');\n  useHoverFloatingInteraction(floatingContext, {\n    enabled: !disabled,\n    closeDelay\n  });\n  const state = React.useMemo(() => ({\n    open,\n    side,\n    align,\n    instant: instantType,\n    transitionStatus\n  }), [open, side, align, instantType, transitionStatus]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: [forwardedRef, store.context.popupRef, store.useStateSetter('popupElement')],\n    props: [popupProps, getDisabledMountTransitionStyles(transitionStatus), elementProps],\n    stateAttributesMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") TooltipPopup.displayName = \"TooltipPopup\";", "'use client';\n\nimport * as React from 'react';\nimport { useTooltipPositionerContext } from \"../positioner/TooltipPositionerContext.js\";\nimport { popupStateMapping } from \"../../utils/popupStateMapping.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { useTooltipRootContext } from \"../root/TooltipRootContext.js\";\n\n/**\n * Displays an element positioned against the tooltip anchor.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Tooltip](https://base-ui.com/react/components/tooltip)\n */\nexport const TooltipArrow = /*#__PURE__*/React.forwardRef(function TooltipArrow(componentProps, forwardedRef) {\n  const {\n    className,\n    render,\n    ...elementProps\n  } = componentProps;\n  const store = useTooltipRootContext();\n  const instantType = store.useState('instantType');\n  const {\n    open,\n    arrowRef,\n    side,\n    align,\n    arrowUncentered,\n    arrowStyles\n  } = useTooltipPositionerContext();\n  const state = React.useMemo(() => ({\n    open,\n    side,\n    align,\n    uncentered: arrowUncentered,\n    instant: instantType\n  }), [open, side, align, arrowUncentered, instantType]);\n  const element = useRenderElement('div', componentProps, {\n    state,\n    ref: [forwardedRef, arrowRef],\n    props: [{\n      style: arrowStyles,\n      'aria-hidden': true\n    }, elementProps],\n    stateAttributesMapping: popupStateMapping\n  });\n  return element;\n});\nif (process.env.NODE_ENV !== \"production\") TooltipArrow.displayName = \"TooltipArrow\";", "'use client';\n\nimport * as React from 'react';\nimport { FloatingDelayGroup } from \"../../floating-ui-react/index.js\";\nimport { TooltipProviderContext } from \"./TooltipProviderContext.js\";\n\n/**\n * Provides a shared delay for multiple tooltips. The grouping logic ensures that\n * once a tooltip becomes visible, the adjacent tooltips will be shown instantly.\n *\n * Documentation: [Base UI Tooltip](https://base-ui.com/react/components/tooltip)\n */\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport const TooltipProvider = function TooltipProvider(props) {\n  const {\n    delay,\n    closeDelay,\n    timeout = 400\n  } = props;\n  const contextValue = React.useMemo(() => ({\n    delay,\n    closeDelay\n  }), [delay, closeDelay]);\n  const delayValue = React.useMemo(() => ({\n    open: delay,\n    close: closeDelay\n  }), [delay, closeDelay]);\n  return /*#__PURE__*/_jsx(TooltipProviderContext.Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/_jsx(FloatingDelayGroup, {\n      delay: delayValue,\n      timeoutMs: timeout,\n      children: props.children\n    })\n  });\n};\nif (process.env.NODE_ENV !== \"production\") TooltipProvider.displayName = \"TooltipProvider\";", "'use client';\n\nimport * as React from 'react';\nimport { inertValue } from '@base-ui/utils/inertValue';\nimport { useAnimationFrame } from '@base-ui/utils/useAnimationFrame';\nimport { usePreviousValue } from '@base-ui/utils/usePreviousValue';\nimport { useIsoLayoutEffect } from '@base-ui/utils/useIsoLayoutEffect';\nimport { useStableCallback } from '@base-ui/utils/useStableCallback';\nimport { useTooltipRootContext } from \"../root/TooltipRootContext.js\";\nimport { useTooltipPositionerContext } from \"../positioner/TooltipPositionerContext.js\";\nimport { useAnimationsFinished } from \"../../utils/useAnimationsFinished.js\";\nimport { usePopupAutoResize } from \"../../utils/usePopupAutoResize.js\";\nimport { useRenderElement } from \"../../utils/useRenderElement.js\";\nimport { TooltipViewportCssVars } from \"./TooltipViewportCssVars.js\";\nimport { useDirection } from \"../../direction-provider/index.js\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nconst stateAttributesMapping = {\n  activationDirection: value => value ? {\n    'data-activation-direction': value\n  } : null\n};\n\n/**\n * A viewport for displaying content transitions.\n * This component is only required if one popup can be opened by multiple triggers, its content change based on the trigger\n * and switching between them is animated.\n * Renders a `<div>` element.\n *\n * Documentation: [Base UI Tooltip](https://base-ui.com/react/components/tooltip)\n */\nexport const TooltipViewport = /*#__PURE__*/React.forwardRef(function TooltipViewport(componentProps, forwardedRef) {\n  const {\n    render,\n    className,\n    children,\n    ...elementProps\n  } = componentProps;\n  const store = useTooltipRootContext();\n  const positioner = useTooltipPositionerContext();\n  const direction = useDirection();\n  const activeTrigger = store.useState('activeTriggerElement');\n  const open = store.useState('open');\n  const instantType = store.useState('instantType');\n  const mounted = store.useState('mounted');\n  const payload = store.useState('payload');\n  const popupElement = store.useState('popupElement');\n  const positionerElement = store.useState('positionerElement');\n  const previousActiveTrigger = usePreviousValue(open ? activeTrigger : null);\n  const capturedNodeRef = React.useRef(null);\n  const [previousContentNode, setPreviousContentNode] = React.useState(null);\n  const [newTriggerOffset, setNewTriggerOffset] = React.useState(null);\n  const currentContainerRef = React.useRef(null);\n  const previousContainerRef = React.useRef(null);\n  const onAnimationsFinished = useAnimationsFinished(currentContainerRef, true, false);\n  const cleanupFrame = useAnimationFrame();\n  const [previousContentDimensions, setPreviousContentDimensions] = React.useState(null);\n  const [showStartingStyleAttribute, setShowStartingStyleAttribute] = React.useState(false);\n  useIsoLayoutEffect(() => {\n    store.set('hasViewport', true);\n    return () => {\n      store.set('hasViewport', false);\n    };\n  }, [store]);\n  const handleMeasureLayout = useStableCallback(() => {\n    currentContainerRef.current?.style.setProperty('animation', 'none');\n    currentContainerRef.current?.style.setProperty('transition', 'none');\n    previousContainerRef.current?.style.setProperty('display', 'none');\n  });\n  const handleMeasureLayoutComplete = useStableCallback(previousDimensions => {\n    currentContainerRef.current?.style.removeProperty('animation');\n    currentContainerRef.current?.style.removeProperty('transition');\n    previousContainerRef.current?.style.removeProperty('display');\n    if (previousDimensions) {\n      setPreviousContentDimensions(previousDimensions);\n    }\n  });\n  const lastHandledTriggerRef = React.useRef(null);\n  useIsoLayoutEffect(() => {\n    // When a trigger changes, set the captured children HTML to state,\n    // so we can render both new and old content.\n    if (activeTrigger && previousActiveTrigger && activeTrigger !== previousActiveTrigger && lastHandledTriggerRef.current !== activeTrigger && capturedNodeRef.current) {\n      setPreviousContentNode(capturedNodeRef.current);\n      setShowStartingStyleAttribute(true);\n\n      // Calculate the relative position between the previous and new trigger,\n      // so we can pass it to the style hook for animation purposes.\n      const offset = calculateRelativePosition(previousActiveTrigger, activeTrigger);\n      setNewTriggerOffset(offset);\n      cleanupFrame.request(() => {\n        cleanupFrame.request(() => {\n          setShowStartingStyleAttribute(false);\n          onAnimationsFinished(() => {\n            setPreviousContentNode(null);\n            setPreviousContentDimensions(null);\n            capturedNodeRef.current = null;\n          });\n        });\n      });\n      lastHandledTriggerRef.current = activeTrigger;\n    }\n  }, [activeTrigger, previousActiveTrigger, previousContentNode, onAnimationsFinished, cleanupFrame]);\n\n  // Capture a clone of the current content DOM subtree when not transitioning.\n  // We can't store previous React nodes as they may be stateful; instead we capture DOM clones for visual continuity.\n  useIsoLayoutEffect(() => {\n    // When a transition is in progress, we store the next content in capturedNodeRef.\n    // This handles the case where the trigger changes multiple times before the transition finishes.\n    // We want to always capture the latest content for the previous snapshot.\n    // So clicking quickly on T1, T2, T3 will result in the following sequence:\n    // 1. T1 -> T2: previousContent = T1, currentContent = T2\n    // 2. T2 -> T3: previousContent = T2, currentContent = T3\n    const source = currentContainerRef.current;\n    if (!source) {\n      return;\n    }\n    const wrapper = document.createElement('div');\n    for (const child of Array.from(source.childNodes)) {\n      wrapper.appendChild(child.cloneNode(true));\n    }\n    capturedNodeRef.current = wrapper;\n  });\n  const isTransitioning = previousContentNode != null;\n  let childrenToRender;\n  if (!isTransitioning) {\n    childrenToRender = /*#__PURE__*/_jsx(\"div\", {\n      \"data-current\": true,\n      ref: currentContainerRef,\n      children: children\n    }, 'current');\n  } else {\n    childrenToRender = /*#__PURE__*/_jsxs(React.Fragment, {\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        \"data-previous\": true,\n        inert: inertValue(true),\n        ref: previousContainerRef,\n        style: {\n          [TooltipViewportCssVars.popupWidth]: `${previousContentDimensions?.width}px`,\n          [TooltipViewportCssVars.popupHeight]: `${previousContentDimensions?.height}px`,\n          position: 'absolute'\n        },\n        \"data-ending-style\": showStartingStyleAttribute ? undefined : ''\n      }, 'previous'), /*#__PURE__*/_jsx(\"div\", {\n        \"data-current\": true,\n        ref: currentContainerRef,\n        \"data-starting-style\": showStartingStyleAttribute ? '' : undefined,\n        children: children\n      }, 'current')]\n    });\n  }\n\n  // When previousContentNode is present, imperatively populate the previous container with the cloned children.\n  useIsoLayoutEffect(() => {\n    const container = previousContainerRef.current;\n    if (!container || !previousContentNode) {\n      return;\n    }\n    container.replaceChildren(...Array.from(previousContentNode.childNodes));\n  }, [previousContentNode]);\n  usePopupAutoResize({\n    popupElement,\n    positionerElement,\n    mounted,\n    content: payload,\n    onMeasureLayout: handleMeasureLayout,\n    onMeasureLayoutComplete: handleMeasureLayoutComplete,\n    side: positioner.side,\n    direction\n  });\n  const state = React.useMemo(() => {\n    return {\n      activationDirection: getActivationDirection(newTriggerOffset),\n      transitioning: isTransitioning,\n      instant: instantType\n    };\n  }, [newTriggerOffset, isTransitioning, instantType]);\n  return useRenderElement('div', componentProps, {\n    state,\n    ref: forwardedRef,\n    props: [elementProps, {\n      children: childrenToRender\n    }],\n    stateAttributesMapping\n  });\n});\nif (process.env.NODE_ENV !== \"production\") TooltipViewport.displayName = \"TooltipViewport\";\n/**\n * Returns a string describing the provided offset.\n * It describes both the horizontal and vertical offset, separated by a space.\n *\n * @param offset\n */\nfunction getActivationDirection(offset) {\n  if (!offset) {\n    return undefined;\n  }\n  return `${getValueWithTolerance(offset.horizontal, 5, 'right', 'left')} ${getValueWithTolerance(offset.vertical, 5, 'down', 'up')}`;\n}\n\n/**\n * Returns a label describing the value (positive/negative) trating values\n * within tolarance as zero.\n *\n * @param value Value to check\n * @param tolerance Tolerance to treat the value as zero.\n * @param positiveLabel\n * @param negativeLabel\n * @returns If 0 < abs(value) < tolerance, returns an empty string. Otherwise returns positiveLabel or negativeLabel.\n */\nfunction getValueWithTolerance(value, tolerance, positiveLabel, negativeLabel) {\n  if (value > tolerance) {\n    return positiveLabel;\n  }\n  if (value < -tolerance) {\n    return negativeLabel;\n  }\n  return '';\n}\n\n/**\n * Calculates the relative position between centers of two elements.\n */\nfunction calculateRelativePosition(from, to) {\n  const fromRect = from.getBoundingClientRect();\n  const toRect = to.getBoundingClientRect();\n  const fromCenter = {\n    x: fromRect.left + fromRect.width / 2,\n    y: fromRect.top + fromRect.height / 2\n  };\n  const toCenter = {\n    x: toRect.left + toRect.width / 2,\n    y: toRect.top + toRect.height / 2\n  };\n  return {\n    horizontal: toCenter.x - fromCenter.x,\n    vertical: toCenter.y - fromCenter.y\n  };\n}", "export let TooltipViewportCssVars = /*#__PURE__*/function (TooltipViewportCssVars) {\n  /**\n   * The width of the parent popup.\n   * This variable is placed on the 'previous' container and stores the width of the popup when the previous content was rendered.\n   * It can be used to freeze the dimensions of the popup when animating between different content.\n   */\n  TooltipViewportCssVars[\"popupWidth\"] = \"--popup-width\";\n  /**\n   * The height of the parent popup.\n   * This variable is placed on the 'previous' container and stores the height of the popup when the previous content was rendered.\n   * It can be used to freeze the dimensions of the popup when animating between different content.\n   */\n  TooltipViewportCssVars[\"popupHeight\"] = \"--popup-height\";\n  return TooltipViewportCssVars;\n}({});", "import _formatErrorMessage from \"@base-ui/utils/formatErrorMessage\";\nimport { TooltipStore } from \"./TooltipStore.js\";\nimport { createChangeEventDetails } from \"../../utils/createBaseUIEventDetails.js\";\nimport { REASONS } from \"../../utils/reasons.js\";\n\n/**\n * A handle to control a tooltip imperatively and to associate detached triggers with it.\n */\nexport class TooltipHandle {\n  /**\n   * Internal store holding the tooltip state.\n   * @internal\n   */\n\n  constructor() {\n    this.store = new TooltipStore();\n  }\n\n  /**\n   * Opens the tooltip and associates it with the trigger with the given ID.\n   * The trigger must be a Tooltip.Trigger component with this handle passed as a prop.\n   *\n   * This method should only be called in an event handler or an effect (not during rendering).\n   *\n   * @param triggerId ID of the trigger to associate with the tooltip.\n   */\n  open(triggerId) {\n    const triggerElement = triggerId ? this.store.context.triggerElements.getById(triggerId) : undefined;\n    if (triggerId && !triggerElement) {\n      throw new Error(process.env.NODE_ENV !== \"production\" ? `Base UI: TooltipHandle.open: No trigger found with id \"${triggerId}\".` : _formatErrorMessage(81, triggerId));\n    }\n    this.store.setOpen(true, createChangeEventDetails(REASONS.imperativeAction, undefined, triggerElement));\n  }\n\n  /**\n   * Closes the tooltip.\n   */\n  close() {\n    this.store.setOpen(false, createChangeEventDetails(REASONS.imperativeAction, undefined, undefined));\n  }\n\n  /**\n   * Indicates whether the tooltip is currently open.\n   */\n  get isOpen() {\n    return this.store.state.open;\n  }\n}\n\n/**\n * Creates a new handle to connect a Tooltip.Root with detached Tooltip.Trigger components.\n */\nexport function createTooltipHandle() {\n  return new TooltipHandle();\n}", "import { useRenderElement } from \"../utils/useRenderElement.js\";\n/**\n * Renders a Base UI element.\n *\n * @public\n */\nexport function useRender(params) {\n  return useRenderElement(params.defaultTagName ?? 'div', params, params);\n}"],
  "mappings": "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",
  "names": ["React", "useSyncExternalStore", "useRef", "useEffect", "useMemo", "useDebugValue", "React", "React", "React", "React", "React", "React", "React", "_jsx", "React", "React", "React", "React", "React", "event", "result", "stateAttributesMapping", "_createElement", "event", "import_jsx_runtime", "AccordionRoot", "disabled", "_jsx", "React", "React", "React", "React", "React", "EMPTY", "TransitionStatusDataAttributes", "React", "disabled", "event", "React", "React", "IndexGuessBehavior", "React", "CollapsiblePanelDataAttributes", "CollapsibleTriggerDataAttributes", "AccordionItemDataAttributes", "import_jsx_runtime", "AccordionItem", "disabled", "_jsx", "React", "AccordionHeader", "React", "React", "set", "React", "React", "disabled", "event", "disabled", "event", "isWebKit", "version", "event", "event", "event", "offset", "candidateSelectors", "candidateSelector", "join", "NoElement", "Element", "matches", "prototype", "msMatchesSelector", "webkitMatchesSelector", "getRootNode", "element", "_element$getRootNode", "call", "ownerDocument", "isInert", "node", "lookUp", "_node$getAttribute", "inertAtt", "getAttribute", "inert", "result", "closest", "parentNode", "isContentEditable", "_node$getAttribute2", "attValue", "getCandidates", "el", "includeContainer", "filter", "candidates", "Array", "slice", "apply", "querySelectorAll", "unshift", "getCandidatesIteratively", "elements", "options", "elementsToCheck", "from", "length", "shift", "tagName", "assigned", "assignedElements", "content", "children", "nestedCandidates", "flatten", "push", "scopeParent", "validCandidate", "includes", "shadowRoot", "getShadowRoot", "validShadowRoot", "shadowRootFilter", "hasTabIndex", "isNaN", "parseInt", "getTabIndex", "Error", "tabIndex", "test", "getSortOrderTabIndex", "isScope", "sortOrderedTabbables", "a", "b", "documentOrder", "isInput", "isHiddenInput", "type", "isDetailsWithSummary", "r", "some", "child", "getCheckedRadio", "nodes", "form", "i", "checked", "isTabbableRadio", "name", "radioScope", "queryRadios", "radioSet", "window", "CSS", "escape", "err", "console", "error", "message", "isRadio", "isNonTabbableRadio", "isNodeAttached", "_nodeRoot", "nodeRoot", "nodeRootHost", "host", "attached", "_nodeRootHost", "_nodeRootHost$ownerDo", "_node$ownerDocument", "contains", "_nodeRoot2", "_nodeRootHost2", "_nodeRootHost2$ownerD", "isZeroArea", "_node$getBoundingClie", "getBoundingClientRect", "width", "height", "isHidden", "_ref", "displayCheck", "visible", "checkVisibility", "checkOpacity", "opacityProperty", "contentVisibilityAuto", "visibilityProperty", "checkVisibilityCSS", "getComputedStyle", "visibility", "isDirectSummary", "nodeUnderDetails", "parentElement", "originalNode", "rootNode", "assignedSlot", "getClientRects", "isDisabledFromFieldset", "disabled", "item", "isNodeMatchingSelectorFocusable", "isNodeMatchingSelectorTabbable", "isShadowRootTabbable", "shadowHostNode", "sortByOrder", "regularTabbables", "orderedTabbables", "forEach", "candidateTabindex", "sort", "reduce", "acc", "sortable", "concat", "tabbable", "container", "bind", "focusable", "isTabbable", "focusableCandidateSelector", "event", "ARROW_UP", "ARROW_DOWN", "ARROW_LEFT", "ARROW_RIGHT", "ARROW_DOWN", "ARROW_UP", "ARROW_RIGHT", "ARROW_LEFT", "AccordionTrigger", "disabled", "event", "React", "React", "AccordionRootDataAttributes", "event", "AccordionPanelCssVars", "React", "AccordionPanel", "index_parts_exports", "React", "React", "EMPTY", "isWebKit", "React", "React", "React", "event", "import_jsx_runtime", "_jsx", "event", "trigger", "import_jsx_runtime", "_jsx", "React", "React", "import_jsx_runtime", "FocusGuard", "_jsx", "attr", "React", "ReactDOM", "import_jsx_runtime", "FloatingPortal", "event", "_jsxs", "_jsx", "import_jsx_runtime", "event", "getComputedStyle", "disabled", "_jsxs", "_jsx", "React", "event", "React", "event", "React", "escapeKey", "outsidePress", "event", "getComputedStyle", "React", "cache", "createSelector", "createSelector", "React", "React", "selectors", "React", "ReactDOM", "React", "import_jsx_runtime", "createSelector", "React", "createSelector", "useFloating", "React", "event", "React", "React", "safePolygonIdentifier", "interactiveSelector", "isInteractiveElement", "event", "getDelay", "safePolygonIdentifier", "isInteractiveElement", "React", "ReactDOM", "getRestMs", "event", "safePolygonIdentifier", "React", "mergeProps", "React", "event", "item", "scheduler", "index", "React", "React", "event", "event", "React", "React", "event", "event", "React", "React", "selectors", "createSelector", "import_jsx_runtime", "_jsx", "React", "CommonPopupDataAttributes", "CommonTriggerDataAttributes", "triggerOpenStateMapping", "DialogBackdrop", "React", "DialogClose", "disabled", "event", "React", "DialogDescription", "React", "DialogPopupCssVars", "DialogPopupDataAttributes", "React", "import_jsx_runtime", "stateAttributesMapping", "DialogPopup", "event", "_jsx", "React", "React", "import_jsx_runtime", "InternalBackdrop", "_jsx", "import_jsx_runtime", "DialogPortal", "_jsx", "_jsxs", "React", "DialogTitle", "React", "DialogTrigger", "disabled", "triggerOpenStateMapping", "React", "DialogViewportDataAttributes", "stateAttributesMapping", "DialogViewport", "index_parts_exports", "React", "React", "React", "React", "React", "import_jsx_runtime", "_jsx", "selectors", "createSelector", "React", "FieldControlDataAttributes", "ReactDOM", "React", "flushSync", "React", "React", "contains", "React", "import_jsx_runtime", "disabled", "selectors", "inline", "event", "listNavigation", "_jsx", "_jsxs", "import_jsx_runtime", "_jsx", "React", "import_jsx_runtime", "_jsx", "React", "ComboboxTrigger", "selectors", "disabled", "event", "element", "React", "React", "React", "ComboboxInput", "selectors", "inline", "disabled", "element", "event", "trimmed", "React", "ComboboxIcon", "React", "stateAttributesMapping", "triggerOpenStateMapping", "ComboboxClear", "selectors", "disabled", "event", "React", "React", "React", "import_jsx_runtime", "_jsx", "import_jsx_runtime", "_jsx", "import_jsx_runtime", "ComboboxList", "selectors", "disabled", "element", "_jsx", "event", "React", "ComboboxStatus", "React", "React", "import_jsx_runtime", "ComboboxPortal", "selectors", "_jsx", "React", "stateAttributesMapping", "ComboboxBackdrop", "selectors", "React", "React", "platform", "offset", "arrow", "hide", "platform", "adaptiveOrigin", "arrow", "elements", "middlewareData", "renderedPlacement", "y", "hide", "update", "useFloating", "import_jsx_runtime", "ComboboxPositioner", "selectors", "element", "_jsxs", "_jsx", "React", "import_jsx_runtime", "stateAttributesMapping", "ComboboxPopup", "selectors", "event", "_jsx", "React", "ComboboxArrow", "selectors", "React", "React", "import_jsx_runtime", "ComboboxGroup", "_jsx", "React", "ComboboxGroupLabel", "React", "ReactDOM", "React", "React", "import_jsx_runtime", "ComboboxItem", "disabled", "selectors", "event", "_jsx", "React", "import_jsx_runtime", "ComboboxRow", "_jsx", "React", "ComboboxEmpty", "React", "index_parts_exports", "React", "React", "import_jsx_runtime", "AvatarRoot", "_jsx", "React", "React", "AvatarImage", "React", "AvatarFallback", "React", "Button", "disabled", "index_parts_exports", "React", "React", "CheckboxRootDataAttributes", "React", "React", "React", "import_jsx_runtime", "CheckboxRoot", "disabled", "event", "stateAttributesMapping", "_jsxs", "_jsx", "React", "CheckboxIndicator", "stateAttributesMapping", "React", "React", "EMPTY", "none", "import_jsx_runtime", "CheckboxGroup", "disabled", "element", "_jsx", "index_parts_exports", "React", "import_jsx_runtime", "CollapsibleRoot", "disabled", "_jsx", "React", "stateAttributesMapping", "CollapsibleTrigger", "disabled", "React", "CollapsiblePanelCssVars", "CollapsiblePanel", "index_parts_exports", "React", "import_jsx_runtime", "_jsx", "React", "import_jsx_runtime", "selectors", "_jsx", "React", "import_jsx_runtime", "ComboboxItemIndicator", "_jsx", "React", "import_jsx_runtime", "ComboboxChips", "selectors", "_jsx", "React", "ReactDOM", "React", "import_jsx_runtime", "ComboboxChip", "disabled", "selectors", "event", "_jsx", "React", "ComboboxChipRemove", "selectors", "disabled", "event", "index_parts_exports", "React", "React", "index_parts_exports", "React", "React", "React", "MenuArrow", "React", "stateAttributesMapping", "MenuBackdrop", "React", "React", "React", "disabled", "event", "MenuCheckboxItemDataAttributes", "import_jsx_runtime", "MenuCheckboxItem", "disabled", "event", "_jsx", "React", "MenuCheckboxItemIndicator", "React", "React", "import_jsx_runtime", "MenuGroup", "_jsx", "React", "React", "MenuItem", "disabled", "React", "React", "import_jsx_runtime", "stateAttributesMapping", "MenuPopup", "event", "disabled", "_jsx", "React", "React", "import_jsx_runtime", "MenuPortal", "_jsx", "React", "import_jsx_runtime", "MenuPositioner", "event", "_jsxs", "_jsx", "React", "React", "import_jsx_runtime", "MenuRadioGroup", "disabled", "_jsx", "React", "React", "import_jsx_runtime", "MenuRadioItem", "disabled", "event", "_jsx", "React", "MenuRadioItemIndicator", "React", "ReactDOM", "React", "React", "selectors", "createSelector", "createInitialState", "React", "import_jsx_runtime", "disabled", "listNavigation", "event", "_jsx", "React", "import_jsx_runtime", "_jsx", "React", "ReactDOM", "React", "disabled", "stateAttributesMapping", "React", "event", "import_jsx_runtime", "BOUNDARY_OFFSET", "MenuTrigger", "disabled", "event", "_jsx", "_jsxs", "React", "element", "disabled", "triggerOpenStateMapping", "import_jsx_runtime", "_jsx", "index_parts_exports", "React", "ContextMenuTrigger", "event", "React", "React", "import_jsx_runtime", "_jsx", "index_parts_exports", "React", "import_jsx_runtime", "_jsx", "React", "import_jsx_runtime", "DirectionProvider", "_jsx", "index_parts_exports", "React", "React", "React", "import_jsx_runtime", "LabelableProvider", "_jsx", "React", "nextValidityData", "event", "import_jsx_runtime", "FieldRootInner", "disabled", "_jsx", "FieldRoot", "React", "FieldLabel", "event", "React", "FieldError", "React", "FieldDescription", "React", "FieldControl", "disabled", "event", "React", "import_jsx_runtime", "FieldValidity", "_jsx", "React", "import_jsx_runtime", "FieldItem", "disabled", "_jsx", "index_parts_exports", "React", "import_jsx_runtime", "FieldsetRoot", "disabled", "_jsx", "React", "FieldsetLegend", "disabled", "React", "import_jsx_runtime", "Form", "event", "_jsx", "React", "import_jsx_runtime", "Input", "_jsx", "index_parts_exports", "React", "React", "React", "EMPTY_ARRAY", "event", "ARROW_LEFT", "ARROW_RIGHT", "ARROW_DOWN", "ARROW_UP", "import_jsx_runtime", "stateAttributesMapping", "_jsx", "import_jsx_runtime", "Menubar", "disabled", "_jsx", "index_parts_exports", "React", "React", "import_jsx_runtime", "MeterRoot", "_jsx", "React", "MeterTrack", "React", "MeterIndicator", "React", "MeterValue", "React", "MeterLabel", "index_parts_exports", "React", "React", "getComputedStyle", "NavigationMenuPopupCssVars", "NavigationMenuPositionerCssVars", "import_jsx_runtime", "NavigationMenuRoot", "_jsx", "React", "React", "import_jsx_runtime", "NavigationMenuList", "event", "_jsx", "React", "React", "import_jsx_runtime", "NavigationMenuItem", "_jsx", "React", "ReactDOM", "import_jsx_runtime", "stateAttributesMapping", "NavigationMenuContent", "event", "_jsx", "React", "ReactDOM", "import_jsx_runtime", "NavigationMenuTrigger", "disabled", "event", "_jsxs", "_jsx", "React", "React", "import_jsx_runtime", "NavigationMenuPortal", "_jsx", "React", "ReactDOM", "React", "import_jsx_runtime", "NavigationMenuPositioner", "event", "_jsx", "React", "import_jsx_runtime", "EMPTY_ROOT_CONTEXT", "_jsxs", "_jsx", "event", "NavigationMenuViewport", "React", "stateAttributesMapping", "NavigationMenuBackdrop", "React", "stateAttributesMapping", "NavigationMenuPopup", "React", "NavigationMenuArrow", "React", "import_jsx_runtime", "NavigationMenuLink", "event", "_jsx", "React", "NavigationMenuIcon", "triggerOpenStateMapping", "index_parts_exports", "React", "EMPTY", "React", "stateAttributesMapping", "clamp", "clamp", "import_jsx_runtime", "NumberFieldRoot", "disabled", "event", "element", "stateAttributesMapping", "_jsxs", "_jsx", "React", "NumberFieldGroup", "stateAttributesMapping", "React", "React", "disabled", "event", "NumberFieldIncrement", "disabled", "stateAttributesMapping", "React", "NumberFieldDecrement", "disabled", "stateAttributesMapping", "React", "stateAttributesMapping", "NumberFieldInput", "disabled", "event", "parsedValue", "React", "ReactDOM", "React", "import_jsx_runtime", "NumberFieldScrubArea", "disabled", "event", "element", "isWebKit", "error", "stateAttributesMapping", "_jsx", "React", "ReactDOM", "NumberFieldScrubAreaCursor", "isWebKit", "stateAttributesMapping", "index_parts_exports", "React", "React", "React", "ReactDOM", "createInitialState", "selectors", "createSelector", "import_jsx_runtime", "_jsx", "React", "ReactDOM", "import_jsx_runtime", "PopoverTrigger", "disabled", "stateAttributesMapping", "triggerOpenStateMapping", "event", "_jsxs", "_jsx", "React", "React", "import_jsx_runtime", "PopoverPortal", "_jsx", "React", "React", "import_jsx_runtime", "PopoverPositioner", "element", "_jsxs", "_jsx", "React", "import_jsx_runtime", "stateAttributesMapping", "PopoverPopup", "disabled", "element", "event", "_jsx", "React", "PopoverArrow", "React", "stateAttributesMapping", "PopoverBackdrop", "React", "PopoverTitle", "React", "PopoverDescription", "React", "PopoverClose", "disabled", "event", "React", "React", "React", "size", "PopoverViewportCssVars", "import_jsx_runtime", "stateAttributesMapping", "PopoverViewport", "offset", "_jsx", "_jsxs", "index_parts_exports", "React", "React", "React", "ReactDOM", "OPEN_DELAY", "selectors", "createSelector", "createInitialState", "import_jsx_runtime", "_jsx", "React", "React", "React", "ReactDOM", "import_jsx_runtime", "FloatingPortalLite", "_jsxs", "import_jsx_runtime", "PreviewCardPortal", "_jsx", "React", "PreviewCardTrigger", "OPEN_DELAY", "triggerOpenStateMapping", "React", "React", "import_jsx_runtime", "PreviewCardPositioner", "_jsx", "React", "stateAttributesMapping", "PreviewCardPopup", "React", "PreviewCardArrow", "React", "stateAttributesMapping", "PreviewCardBackdrop", "React", "PreviewCardViewportCssVars", "import_jsx_runtime", "stateAttributesMapping", "PreviewCardViewport", "offset", "calculateRelativePosition", "_jsx", "_jsxs", "getActivationDirection", "getValueWithTolerance", "index_parts_exports", "React", "React", "ProgressRootDataAttributes", "import_jsx_runtime", "formatValue", "ProgressRoot", "_jsx", "React", "ProgressTrack", "React", "ProgressIndicator", "getStyles", "React", "ProgressValue", "React", "ProgressLabel", "index_parts_exports", "React", "RadioRootDataAttributes", "stateAttributesMapping", "React", "React", "import_jsx_runtime", "RadioRoot", "disabled", "event", "stateAttributesMapping", "_jsxs", "_jsx", "React", "RadioIndicator", "stateAttributesMapping", "React", "import_jsx_runtime", "MODIFIER_KEYS", "RadioGroup", "disabled", "event", "_jsxs", "_jsx", "index_parts_exports", "React", "React", "ScrollAreaRootCssVars", "getOffset", "ScrollAreaScrollbarDataAttributes", "import_jsx_runtime", "_jsx", "ScrollAreaRootDataAttributes", "import_jsx_runtime", "DEFAULT_SIZE", "ScrollAreaRoot", "event", "getOffset", "_jsxs", "React", "React", "ScrollAreaViewportCssVars", "import_jsx_runtime", "isWebKit", "ScrollAreaViewport", "clamp", "getOffset", "_jsx", "React", "React", "ScrollAreaScrollbarCssVars", "import_jsx_runtime", "ScrollAreaScrollbar", "event", "getOffset", "isHidden", "_jsx", "React", "ScrollAreaContent", "React", "ScrollAreaThumb", "event", "React", "ScrollAreaCorner", "index_parts_exports", "React", "React", "selectors", "createSelector", "import_jsx_runtime", "disabled", "selectors", "listNavigation", "_jsx", "_jsxs", "event", "React", "BOUNDARY_OFFSET", "stateAttributesMapping", "SelectTrigger", "disabled", "selectors", "hasNullItemLabel", "event", "React", "stateAttributesMapping", "SelectValue", "selectors", "React", "SelectIcon", "selectors", "triggerOpenStateMapping", "React", "React", "import_jsx_runtime", "SelectPortal", "selectors", "_jsx", "React", "stateAttributesMapping", "SelectBackdrop", "selectors", "React", "React", "import_jsx_runtime", "SelectPositioner", "selectors", "element", "_jsx", "_jsxs", "React", "ReactDOM", "event", "import_jsx_runtime", "stateAttributesMapping", "SelectPopup", "selectors", "isWebKit", "clamp", "event", "_jsxs", "_jsx", "React", "SelectList", "selectors", "event", "React", "React", "import_jsx_runtime", "SelectItem", "disabled", "selectors", "event", "_jsx", "React", "import_jsx_runtime", "SelectItemIndicator", "_jsx", "Inner", "React", "SelectItemText", "React", "stateAttributesMapping", "SelectArrow", "selectors", "React", "React", "SelectScrollArrow", "selectors", "event", "import_jsx_runtime", "SelectScrollDownArrow", "_jsx", "React", "import_jsx_runtime", "SelectScrollUpArrow", "_jsx", "React", "React", "import_jsx_runtime", "SelectGroup", "_jsx", "React", "SelectGroupLabel", "index_parts_exports", "React", "clamp", "React", "import_jsx_runtime", "event", "SliderRoot", "disabled", "element", "clamp", "_jsx", "React", "SliderValue", "React", "clamp", "clamp", "event", "SliderControl", "disabled", "element", "clamp", "React", "SliderTrack", "React", "SliderThumbDataAttributes", "import_jsx_runtime", "ALL_KEYS", "ARROW_UP", "ARROW_DOWN", "ARROW_LEFT", "ARROW_RIGHT", "getDefaultAriaValueText", "SliderThumb", "disabled", "event", "_jsxs", "_jsx", "offset", "React", "size", "SliderIndicator", "index_parts_exports", "React", "React", "SwitchRootDataAttributes", "stateAttributesMapping", "import_jsx_runtime", "SwitchRoot", "disabled", "element", "event", "stateAttributesMapping", "_jsxs", "_jsx", "React", "SwitchThumb", "stateAttributesMapping", "index_parts_exports", "React", "React", "TabsRootDataAttributes", "import_jsx_runtime", "TabsRoot", "_jsx", "React", "React", "TabsTab", "disabled", "event", "React", "script", "TabsIndicatorCssVars", "import_jsx_runtime", "stateAttributesMapping", "_jsxs", "_jsx", "script", "React", "TabsPanelDataAttributes", "React", "import_jsx_runtime", "TabsList", "_jsx", "index_parts_exports", "React", "ReactDOM", "React", "import_jsx_runtime", "ToastProvider", "toast", "update", "error", "_jsx", "React", "React", "ToastViewportCssVars", "import_jsx_runtime", "ToastViewport", "event", "_jsxs", "_jsx", "React", "ReactDOM", "React", "ToastRootCssVars", "import_jsx_runtime", "stateAttributesMapping", "ToastRoot", "flushSync", "element", "update", "event", "isInteractiveElement", "_jsx", "React", "ToastContent", "React", "ToastDescription", "React", "ToastTitle", "React", "ToastClose", "disabled", "React", "ToastAction", "disabled", "React", "React", "import_jsx_runtime", "ToastPositioner", "_jsx", "React", "ToastArrow", "React", "update", "React", "React", "import_jsx_runtime", "Toggle", "disabled", "event", "_jsx", "React", "ToggleGroupDataAttributes", "import_jsx_runtime", "stateAttributesMapping", "ToggleGroup", "disabled", "_jsx", "index_parts_exports", "React", "import_jsx_runtime", "ToolbarSeparator", "_jsx", "React", "import_jsx_runtime", "ToolbarRoot", "disabled", "_jsx", "React", "React", "import_jsx_runtime", "ToolbarGroup", "disabled", "_jsx", "React", "import_jsx_runtime", "ToolbarButton", "disabled", "_jsx", "React", "import_jsx_runtime", "ToolbarLink", "_jsx", "React", "import_jsx_runtime", "ToolbarInput", "disabled", "event", "ARROW_LEFT", "ARROW_RIGHT", "_jsx", "index_parts_exports", "React", "React", "React", "ReactDOM", "selectors", "createSelector", "createInitialState", "import_jsx_runtime", "disabled", "_jsx", "React", "React", "OPEN_DELAY", "TooltipTrigger", "OPEN_DELAY", "disabled", "triggerOpenStateMapping", "React", "React", "import_jsx_runtime", "TooltipPortal", "_jsx", "React", "React", "import_jsx_runtime", "TooltipPositioner", "_jsx", "React", "stateAttributesMapping", "TooltipPopup", "disabled", "React", "TooltipArrow", "React", "import_jsx_runtime", "TooltipProvider", "_jsx", "React", "TooltipViewportCssVars", "import_jsx_runtime", "stateAttributesMapping", "TooltipViewport", "offset", "calculateRelativePosition", "_jsx", "_jsxs", "getActivationDirection", "getValueWithTolerance"]
}
